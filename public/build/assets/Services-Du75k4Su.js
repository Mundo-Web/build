var He=Object.defineProperty;var qe=(g,m,f)=>m in g?He(g,m,{enumerable:!0,configurable:!0,writable:!0,value:f}):g[m]=f;var U=(g,m,f)=>qe(g,typeof m!="symbol"?m+"":m,f);import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{B as Je}from"./Base-B7OhQLEN.js";import{S as le}from"./SwitchFormGroup-DXN0cwVk.js";import{T as Ue}from"./TextareaFormGroup-CliirJM1.js";import{Q as Qe}from"./QuillFormGroup-BXX8qnUc.js";import{r as c}from"./index-BOnQTV8N.js";import{c as Ke}from"./ReactAppend-QR5TrZfj.js";import{s as ne}from"./server.browser-Bf4gQIc7.js";import{S as Xe}from"./CartKuchara-D9l7c7at.js";import{B as Ye}from"./BasicRest-BML1C-ua.js";import{I as ce}from"./ImageFormGroup-40MuGzez.js";import{M as Ze}from"./Modal-xDw9ufjg.js";import{T as es}from"./Table-hR1LHIgy.js";import{D as oe}from"./DxButton-DV0H-ZcL.js";import{C as ss,F as i}from"./CreateReactScript-d60iGIqA.js";import{R as z}from"./ReactAppend-Vm5G2nof.js";import{I as de}from"./InputFormGroup-iZIO11ZN.js";import{S as me}from"./SelectFormGroup-X8WqJHHl.js";import"./index-yBjzXJbu.js";import"./Global-Bz6gVLc5.js";import"./tippy-react.esm-DmkRJDEW.js";import"./index-pSueRYGM.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-B6ujFmsw.js";/* empty css              */import"./Logout-BpuTJ_83.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuItemContainer-DcxtOi47.js";import"./index.esm-C48oHfFw.js";import"./index-ngrFHoWO.js";import"./CanAccess-D2C6GWbm.js";import"./CardProductKatya-ncpmQ0JU.js";import"./BooleanLimit-D-OsQsek.js";/* empty css               */import"./General-CE1RDd44.js";import"./LaravelSession-Dz9cpV3l.js";class as extends Ye{constructor(){super(...arguments);U(this,"path","admin/services");U(this,"hasFiles",!0)}}const G=new as,rs=({service_categories:g=[],service_sub_categories:m=[]})=>{const f=c.useRef(),L=c.useRef(),O=c.useRef(),R=c.useRef(),k=c.useRef(),C=c.useRef(),S=c.useRef(),y=c.useRef(),_=c.useRef(),o=c.useRef(),d=c.useRef(),V=c.useRef(),[ue,Q]=c.useState(!1),[K,X]=c.useState(null),[u,N]=c.useState([]),Y=c.useRef(),[h,F]=c.useState([]),Z=c.useRef(),[x,E]=c.useState([]),M=c.useRef(),[w,T]=c.useState([]),[D,I]=c.useState([]),pe=s=>{const r=Array.from(s.target.files).map((t,n)=>({file:t,preview:URL.createObjectURL(t),order:u.length+n,id:null}));N([...u,...r])},fe=s=>{s.preventDefault();const t=Array.from(s.dataTransfer.files).filter(n=>n.type.startsWith("image/")).map((n,p)=>({file:n,preview:URL.createObjectURL(n),order:u.length+p,id:null}));N([...u,...t])},ge=s=>{s.preventDefault()},he=(s,a)=>{s.preventDefault();const r=u[a];if(r.id){const t=document.createElement("input");t.type="hidden",t.name="deleted_images[]",t.value=r.id,t.className="deleted-image-input",s.target.closest("form").appendChild(t)}N(u.filter((t,n)=>n!==a))},[j,W]=c.useState(null),xe=(s,a)=>{W(a)},be=()=>{W(null)},ve=s=>{s.preventDefault()},je=(s,a)=>{if(s.preventDefault(),j===null||j===a)return;const r=[...u],[t]=r.splice(j,1);r.splice(a,0,t),N(r.map((n,p)=>({...n,order:p}))),W(null)},ye=s=>{const r=Array.from(s.target.files).map((t,n)=>({file:t,name:t.name,order:h.length+n}));F([...h,...r])},Ne=(s,a)=>{s.preventDefault();const r=h[a];if(r.path){const t=document.createElement("input");t.type="hidden",t.name="deleted_pdfs[]",t.value=r.path,t.className="deleted-pdf-input",s.target.closest("form").appendChild(t)}F(h.filter((t,n)=>n!==a))},[A,H]=c.useState(null),we=(s,a)=>{H(a)},De=()=>{H(null)},Re=s=>{s.preventDefault()},ke=(s,a)=>{if(s.preventDefault(),A===null||A===a)return;const r=[...h],[t]=r.splice(A,1);r.splice(a,0,t),F(r.map((n,p)=>({...n,order:p}))),H(null)},Ce=s=>{var r;s.preventDefault();const a=(r=M.current)==null?void 0:r.value;a&&a.trim()&&(E([...x,{url:a.trim(),order:x.length}]),M.current&&(M.current.value=""))},Se=(s,a)=>{if(s.preventDefault(),x[a].id){const t=document.createElement("input");t.type="hidden",t.name="deleted_videos[]",t.value=a,t.className="deleted-video-input",s.target.closest("form").appendChild(t)}E(x.filter((t,n)=>n!==a))},[P,q]=c.useState(null),ee=i.has("services","service_category_id")||i.has("services","service_subcategory_id"),_e=i.has("services","name")||i.has("services","path"),Fe=i.has("services","summary"),se=i.has("services","is_gallery")||i.has("services","pdf")||i.has("services","linkvideo"),ae=i.has("services","image")||i.has("services","background_image"),Ee=(s,a)=>{q(a)},Te=()=>{q(null)},Ie=s=>{s.preventDefault()},Ae=(s,a)=>{if(s.preventDefault(),P===null||P===a)return;const r=[...x],[t]=r.splice(P,1);r.splice(a,0,t),E(r.map((n,p)=>({...n,order:p}))),q(null)},Pe=()=>{T([...w,{id:null,feature:""}])},$e=(s,a)=>{const r=[...w];r[s].feature=a,T(r)},Ge=s=>{T(w.filter((a,r)=>r!==s))},Oe=()=>{I([...D,{id:null,type:"general",title:"",description:""}])},J=(s,a,r)=>{const t=[...D];t[s][a]=r,I(t)},Ve=s=>{I(D.filter((a,r)=>r!==s))},re=s=>{if(s!=null&&s.id?Q(!0):Q(!1),O.current.value=(s==null?void 0:s.id)??"",C.current&&(C.current.value=(s==null?void 0:s.name)??""),S.current&&(S.current.value=(s==null?void 0:s.summary)??""),_.current&&(_.current.value=(s==null?void 0:s.path)??""),V.current&&(V.current.value=(s==null?void 0:s.slug)??""),y.current&&y.editor&&(y.editor.root.innerHTML=(s==null?void 0:s.description)??""),o.current&&(o.image.src=s!=null&&s.image?`/storage/images/service/${s.image}`:"",o.current.value=null,o.resetDeleteFlag&&o.resetDeleteFlag()),d.current&&(d.image.src=s!=null&&s.background_image?`/storage/images/service/${s.background_image}`:"",d.current.value=null,d.resetDeleteFlag&&d.resetDeleteFlag()),R.current&&$(R.current).val((s==null?void 0:s.service_category_id)||null).trigger("change"),s!=null&&s.service_category_id&&X(Number(s.service_category_id)),k.current&&$(k.current).val((s==null?void 0:s.service_subcategory_id)||null).trigger("change"),s!=null&&s.images&&Array.isArray(s.images)){const r=s.images.map(t=>({id:t.id,preview:`/storage/images/service/${t.image}`,order:t.order,file:null}));N(r)}else N([]);s!=null&&s.pdf&&Array.isArray(s.pdf)?F(s.pdf.map(r=>({name:r.name,path:r.path,order:r.order}))):F([]),s!=null&&s.linkvideo&&Array.isArray(s.linkvideo)?E(s.linkvideo.map(r=>({url:r.url,order:r.order}))):E([]),s!=null&&s.features&&Array.isArray(s.features)?T(s.features.map(r=>({id:r.id,feature:r.feature||""}))):T([]),s!=null&&s.specifications&&Array.isArray(s.specifications)?I(s.specifications.map(r=>({id:r.id,type:r.type||"general",title:r.title,description:r.description}))):I([]),document.querySelectorAll(".deleted-image-input, .deleted-pdf-input, .deleted-video-input").forEach(r=>r.remove()),$(L.current).modal("show")},Me=async s=>{var ie;s.preventDefault();const a=new FormData;if(O.current.value&&a.append("id",O.current.value),C.current&&a.append("name",C.current.value),S.current&&a.append("summary",S.current.value),y.current&&a.append("description",y.current.value),R.current){const l=R.current.value;l&&l!==""&&l!=="null"&&a.append("service_category_id",l)}if(k.current){const l=k.current.value;l&&l!==""&&l!=="null"&&a.append("service_subcategory_id",l)}if(_.current){const l=_.current.value;l&&l.trim()!==""&&a.append("path",l)}const r=(ie=V.current)==null?void 0:ie.value;if(r&&r.trim()!==""&&a.append("slug",r),o.current){const l=o.current.files[0];l&&a.append("image",l)}if(d.current){const l=d.current.files[0];l&&a.append("background_image",l)}o.current&&o.getDeleteFlag&&o.getDeleteFlag()&&a.append("image_delete","DELETE"),d.current&&d.getDeleteFlag&&d.getDeleteFlag()&&a.append("background_image_delete","DELETE"),u.forEach((l,We)=>{l.file&&a.append("gallery[]",l.file)});const t=document.querySelectorAll(".deleted-image-input"),n=Array.from(t).map(l=>l.value);n.length>0&&a.append("deleted_images",JSON.stringify(n)),h.forEach((l,We)=>{l.file&&a.append("pdf[]",l.file)});const p=document.querySelectorAll(".deleted-pdf-input"),b=Array.from(p).map(l=>l.value);b.length>0&&a.append("deleted_pdfs",JSON.stringify(b));const v=x.map(l=>l.url);a.append("linkvideo",JSON.stringify(v));const B=document.querySelectorAll(".deleted-video-input"),te=Array.from(B).map(l=>l.value);te.length>0&&a.append("deleted_videos",JSON.stringify(te)),a.append("features",JSON.stringify(w)),a.append("specifications",JSON.stringify(D)),await G.save(a)&&(o.current&&o.resetDeleteFlag&&o.resetDeleteFlag(),d.current&&d.resetDeleteFlag&&d.resetDeleteFlag(),$(f.current).dxDataGrid("instance").refresh(),$(L.current).modal("hide"))},Be=async({id:s,value:a})=>{await G.boolean({id:s,field:"visible",value:a})&&$(f.current).dxDataGrid("instance").refresh()},ze=async({id:s,value:a})=>{await G.boolean({id:s,field:"featured",value:a})&&$(f.current).dxDataGrid("instance").refresh()},Le=async s=>{const{isConfirmed:a}=await Xe.fire({title:"Eliminar registro",text:"¿Estas seguro de eliminar este registro?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!a||!await G.delete(s.id)||$(f.current).dxDataGrid("instance").refresh()};return e.jsxs(e.Fragment,{children:[e.jsx(es,{gridRef:f,title:"Servicios",rest:G,toolBar:s=>{s.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(f.current).dxDataGrid("instance").refresh()}}),s.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Agregar",hint:"Agregar",onClick:()=>re()}})},exportable:!0,exportableName:"Servicios",columns:[{dataField:"id",caption:"ID",visible:!1},(i.has("services","service_category_id")||i.has("services","service_subcategory_id"))&&{dataField:"category.name",caption:"Categoría",width:"150px",cellTemplate:(s,{data:a})=>{var r,t;s.html(ne.renderToString(e.jsxs(e.Fragment,{children:[e.jsx("b",{className:"d-block",children:((r=a.category)==null?void 0:r.name)||"Sin categoría"}),e.jsx("small",{className:"text-muted",children:((t=a.subcategory)==null?void 0:t.name)||""})]})))}},i.has("services","name")&&{dataField:"name",caption:"Servicio",minWidth:"300px",cellTemplate:(s,{data:a})=>{const r=(b,v)=>{if(!b)return"";const B=b.split(" ");return B.length>v?B.slice(0,v).join(" ")+"...":b},t=b=>{if(!b)return"";const v=document.createElement("div");return v.innerHTML=b,v.textContent||v.innerText||""},n=a.summary?a.summary:t(a.description),p=r(n,15);s.html(ne.renderToString(e.jsxs(e.Fragment,{children:[e.jsx("b",{children:a.name}),(a.summary||a.description)&&p&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("span",{className:"text-muted",children:p})]})]})))}},i.has("services","image")&&{dataField:"image",caption:"Imagen",width:"90px",allowFiltering:!1,cellTemplate:(s,{data:a})=>{z(s,e.jsx("img",{src:`/storage/images/service/${a.image}`,style:{width:"80px",height:"48px",objectFit:"cover",objectPosition:"center",borderRadius:"4px"},onError:r=>r.target.src="/api/cover/thumbnail/null"}))}},i.has("services","background_image")&&{dataField:"background_image",caption:"Banner",width:"90px",allowFiltering:!1,cellTemplate:(s,{data:a})=>{z(s,e.jsx("img",{src:`/storage/images/service/${a.background_image}`,style:{width:"80px",height:"48px",objectFit:"cover",objectPosition:"center",borderRadius:"4px"},onError:r=>r.target.src="/api/cover/thumbnail/null"}))}},i.has("services","visible")&&{dataField:"visible",caption:"Visible",dataType:"boolean",width:"90px",cellTemplate:(s,{data:a})=>{$(s).empty(),z(s,e.jsx(le,{checked:a.visible==1,onChange:()=>Be({id:a.id,value:!a.visible})}))}},i.has("services","featured")&&{dataField:"featured",caption:"Destacado",dataType:"boolean",width:"110px",cellTemplate:(s,{data:a})=>{$(s).empty(),z(s,e.jsx(le,{checked:a.featured==1,onChange:()=>ze({id:a.id,value:!a.featured})}))}},{caption:"Acciones",width:"120px",cellTemplate:(s,{data:a})=>{s.css("text-overflow","unset"),s.append(oe({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>re(a)})),s.append(oe({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>Le(a)}))},allowFiltering:!1,allowExporting:!1}]}),e.jsxs(Ze,{modalRef:L,title:ue?"Editar servicio":"Agregar servicio",onSubmit:Me,size:"xl",children:[e.jsx("input",{ref:O,type:"hidden"}),e.jsx("input",{ref:V,type:"hidden"}),e.jsxs("div",{id:"principal-container",children:[e.jsxs("ul",{className:"nav nav-pills nav-justified mb-4",role:"tablist",style:{backgroundColor:"#f8f9fa",borderRadius:"8px",padding:"4px",border:"1px solid #e9ecef"},children:[e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link active",id:"basic-info-tab","data-bs-toggle":"pill","data-bs-target":"#basic-info",type:"button",role:"tab","aria-controls":"basic-info","aria-selected":"true",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"Información Básica"]})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link",id:"multimedia-tab","data-bs-toggle":"pill","data-bs-target":"#multimedia",type:"button",role:"tab","aria-controls":"multimedia","aria-selected":"false",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-images me-2"}),"Multimedia"]})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link",id:"features-tab","data-bs-toggle":"pill","data-bs-target":"#features",type:"button",role:"tab","aria-controls":"features","aria-selected":"false",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-list-ul me-2"}),"Características"]})})]}),e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"tab-pane fade show active",id:"basic-info",role:"tabpanel","aria-labelledby":"basic-info-tab",children:e.jsxs("div",{className:"row g-3",children:[_e&&e.jsx("div",{className:ee?"col-md-6":"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-tag me-2"}),"Identificación"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(de,{eRef:C,label:"Nombre del Servicio",required:!0,hidden:!i.has("services","name")}),e.jsx(de,{eRef:_,label:"Ruta (Path)",placeholder:"/mi-servicio",hidden:!i.has("services","path")})]})]})}),ee&&e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-sitemap me-2"}),"Categorización"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(me,{eRef:R,label:"Categoría",dropdownParent:"#principal-container",onChange:s=>X(s.target.value?Number(s.target.value):null),hidden:!i.has("services","service_category_id"),children:g.map((s,a)=>e.jsx("option",{value:s.id,children:s.name},a))}),e.jsx(me,{eRef:k,label:"Subcategoría",dropdownParent:"#principal-container",hidden:!i.has("services","service_subcategory_id"),children:m.filter(s=>!K||s.service_category_id===K).map((s,a)=>e.jsx("option",{value:s.id,children:s.name},a))})]})]})}),Fe&&e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-align-left me-2"}),"Descripción"]})}),e.jsx("div",{className:"card-body",children:e.jsx(Ue,{eRef:S,label:"Resumen Corto",rows:3,placeholder:"Breve descripción del servicio (1-2 líneas)",hidden:!i.has("services","summary")})})]})})]})}),e.jsx("div",{className:"tab-pane fade",id:"multimedia",role:"tabpanel","aria-labelledby":"multimedia-tab",children:e.jsxs("div",{className:"row g-3",children:[ae&&e.jsx("div",{className:se?"col-md-6":"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-image me-2"}),"Imágenes Principales"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[i.has("services","background_image")&&e.jsx(ce,{eRef:d,name:"background_image",label:"Banner",aspect:2/1,col:"col-12"}),i.has("services","image")&&e.jsx(ce,{eRef:o,name:"image",label:"Imagen Principal",aspect:1,col:"col-md-6"})]})})]})}),se&&e.jsx("div",{className:ae?"col-md-6":"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-photo-video me-2"}),"Galería y Multimedia"]})}),e.jsxs("div",{className:"card-body",children:[i.has("services","is_gallery")&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"form-label fw-semibold text-dark mb-3",children:[e.jsx("i",{className:"fas fa-images me-2 text-primary"}),"Galería de Imágenes",u.length>0&&e.jsx("span",{className:"badge bg-primary ms-2",children:u.length})]}),e.jsx("input",{id:"input-service-gallery",ref:Y,type:"file",multiple:!0,accept:"image/*",hidden:!0,onChange:pe}),e.jsxs("div",{className:"gallery-container",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"16px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"12px",border:"2px dashed #dee2e6",minHeight:"160px"},children:[u.map((s,a)=>{const r=a+1;return e.jsxs("div",{className:"gallery-item position-relative",draggable:!0,onDragStart:t=>xe(t,a),onDragEnd:be,onDragOver:ve,onDrop:t=>je(t,a),style:{aspectRatio:"1",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease",cursor:"grab",transform:j===a?"scale(1.05)":"scale(1)",opacity:j===a?.8:1,border:"3px solid transparent",background:"white"},onMouseEnter:t=>{j===null&&(t.currentTarget.style.transform="scale(1.02)",t.currentTarget.style.boxShadow="0 6px 20px rgba(0,0,0,0.15)")},onMouseLeave:t=>{j===null&&(t.currentTarget.style.transform="scale(1)",t.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)")},children:[e.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:e.jsx("span",{className:"badge bg-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"24px",height:"24px",fontSize:"11px",fontWeight:"bold"},children:r})}),e.jsx("img",{src:s.preview,alt:`Imagen ${r}`,className:"w-100 h-100",style:{objectFit:"cover",pointerEvents:"none"}}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,0.7)",opacity:0,transition:"opacity 0.3s ease"},onMouseEnter:t=>t.currentTarget.style.opacity=1,onMouseLeave:t=>t.currentTarget.style.opacity=0,children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{type:"button",className:"btn btn-light btn-sm rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},title:"Mover imagen",children:e.jsx("i",{className:"fas fa-arrows-alt text-dark"})}),e.jsx("button",{type:"button",className:"btn btn-danger btn-sm rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},onClick:t=>he(t,a),title:"Eliminar imagen",children:e.jsx("i",{className:"fas fa-trash text-white"})})]})})]},a)}),e.jsx("div",{className:"gallery-add-button d-flex flex-column align-items-center justify-content-center",style:{aspectRatio:"1",border:"3px dashed #71b6f9",borderRadius:"12px",backgroundColor:"rgba(13, 110, 253, 0.05)",cursor:"pointer",transition:"all 0.3s ease",minHeight:"120px"},onClick:()=>Y.current.click(),onDrop:fe,onDragOver:ge,onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(13, 110, 253, 0.1)",s.currentTarget.style.borderColor="#0056b3",s.currentTarget.style.transform="scale(1.02)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="rgba(13, 110, 253, 0.05)",s.currentTarget.style.borderColor="#71b6f9",s.currentTarget.style.transform="scale(1)"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-2 bg-primary",style:{width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto"},children:e.jsx("i",{className:"fas fa-plus text-white fa-lg"})}),e.jsx("p",{className:"mb-0 text-primary fw-semibold",style:{fontSize:"12px"},children:"Agregar Imagen"}),e.jsx("small",{className:"text-muted",style:{fontSize:"10px"},children:"Arrastra o haz clic"})]})})]}),u.length===0&&e.jsxs("div",{className:"text-center py-4 text-muted",children:[e.jsx("i",{className:"fas fa-images fa-3x mb-3 opacity-50"}),e.jsx("p",{className:"mb-1",children:"No hay imágenes en la galería"}),e.jsx("small",{children:'Arrastra archivos aquí o haz clic en "Agregar Imagen"'})]})]}),i.has("services","pdf")&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"form-label fw-semibold text-dark mb-3",children:[e.jsx("i",{className:"fas fa-file-pdf me-2 text-danger"}),"Archivos PDF (Manuales / Catálogos)",h.length>0&&e.jsx("span",{className:"badge bg-danger ms-2",children:h.length})]}),e.jsx("input",{ref:Z,type:"file",multiple:!0,accept:".pdf",hidden:!0,onChange:ye}),e.jsx("div",{className:"list-group mb-3",children:h.map((s,a)=>e.jsxs("div",{draggable:!0,onDragStart:r=>we(r,a),onDragEnd:De,onDragOver:Re,onDrop:r=>ke(r,a),className:"list-group-item d-flex align-items-center justify-content-between",style:{cursor:"grab",opacity:A===a?.5:1,backgroundColor:A===a?"#f8f9fa":"white",transition:"all 0.2s ease"},children:[e.jsxs("div",{className:"d-flex align-items-center flex-grow-1",style:{minWidth:0},children:[e.jsx("span",{className:"badge bg-danger me-3",style:{minWidth:"28px"},children:a+1}),e.jsx("i",{className:"fas fa-grip-vertical text-muted me-3"}),e.jsx("i",{className:"fas fa-file-pdf text-danger me-2"}),e.jsx("span",{className:"text-truncate",style:{maxWidth:"250px"},children:s.name})]}),e.jsxs("div",{className:"d-flex gap-2 flex-shrink-0",children:[!s.file&&s.path&&e.jsx("a",{href:`/storage/pdfs/service/${s.path}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:r=>Ne(r,a),children:e.jsx("i",{className:"fas fa-trash"})})]})]},a))}),e.jsxs("button",{type:"button",className:"btn btn-outline-danger w-100",onClick:()=>Z.current.click(),children:[e.jsx("i",{className:"fas fa-plus me-2"}),"Agregar PDFs"]})]}),i.has("services","linkvideo")&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label fw-semibold text-dark mb-3",children:[e.jsx("i",{className:"fas fa-video me-2 text-success"}),"Links de Videos",x.length>0&&e.jsx("span",{className:"badge bg-success ms-2",children:x.length})]}),e.jsx("div",{className:"list-group mb-3",children:x.map((s,a)=>e.jsxs("div",{draggable:!0,onDragStart:r=>Ee(r,a),onDragEnd:Te,onDragOver:Ie,onDrop:r=>Ae(r,a),className:"list-group-item d-flex align-items-center justify-content-between",style:{cursor:"grab",opacity:P===a?.5:1,backgroundColor:P===a?"#f8f9fa":"white",transition:"all 0.2s ease"},children:[e.jsxs("div",{className:"d-flex align-items-center flex-grow-1",style:{minWidth:0,overflow:"hidden"},children:[e.jsx("span",{className:"badge bg-success me-3 flex-shrink-0",style:{minWidth:"28px"},children:a+1}),e.jsx("i",{className:"fas fa-grip-vertical text-muted me-3 flex-shrink-0"}),e.jsx("i",{className:"fas fa-video text-success me-2 flex-shrink-0"}),e.jsx("span",{className:"small",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},title:s.url,children:s.url})]}),e.jsxs("div",{className:"d-flex gap-2 flex-shrink-0 ms-2",children:[e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:e.jsx("i",{className:"fas fa-external-link-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:r=>Se(r,a),children:e.jsx("i",{className:"fas fa-trash"})})]})]},a))}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{ref:M,type:"url",className:"form-control",placeholder:"https://youtube.com/watch?v=..."}),e.jsxs("button",{type:"button",className:"btn btn-success",onClick:Ce,children:[e.jsx("i",{className:"fas fa-plus me-2"}),"Agregar"]})]})]})]})]})})]})}),e.jsx("div",{className:"tab-pane fade",id:"features",role:"tabpanel","aria-labelledby":"features-tab",children:e.jsxs("div",{className:"row g-3",children:[i.has("services","is_features")&&e.jsx("div",{className:`${i.has("services","is_features")&&i.has("services","is_specifications")?"col-md-6":"col-12"}`,children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-list-ul me-2"}),"Características"]})}),e.jsxs("div",{className:"card-body",children:[w.length===0?e.jsxs("div",{className:"alert alert-info mb-0",children:[e.jsx("i",{className:"mdi mdi-information me-2"}),'No hay características agregadas. Haz clic en "Agregar" para comenzar.']}):w.map((s,a)=>e.jsx("div",{className:"card mb-3 border",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsxs("label",{className:"form-label mb-0",children:["Característica #",a+1]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Ge(a),children:e.jsx("i",{className:"mdi mdi-delete"})})]}),e.jsx("textarea",{className:"form-control",rows:"2",value:s.feature,onChange:r=>$e(a,r.target.value),placeholder:"Ej: Atención personalizada 24/7"})]})},a)),e.jsxs("button",{type:"button",className:"btn btn-primary w-100",onClick:Pe,children:[e.jsx("i",{className:"mdi mdi-plus me-1"})," Agregar Característica"]})]})]})}),i.has("services","is_specifications")&&e.jsx("div",{className:`${i.has("services","is_features")&&i.has("services","is_specifications")?"col-md-6":"col-12"}`,children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-cogs me-2"}),"Especificaciones"]})}),e.jsxs("div",{className:"card-body",children:[D.length===0?e.jsxs("div",{className:"alert alert-info mb-0",children:[e.jsx("i",{className:"mdi mdi-information me-2"}),'No hay especificaciones agregadas. Haz clic en "Agregar" para comenzar.']}):D.map((s,a)=>e.jsx("div",{className:"card mb-3 border",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[e.jsxs("label",{className:"form-label mb-0",children:["Especificación #",a+1]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Ve(a),children:e.jsx("i",{className:"mdi mdi-delete"})})]}),e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{className:"form-label",children:"Tipo"}),e.jsxs("select",{className:"form-select",value:s.type,onChange:r=>J(a,"type",r.target.value),children:[e.jsx("option",{value:"principal",children:"Principal"}),e.jsx("option",{value:"general",children:"General"})]})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Título"}),e.jsx("input",{type:"text",className:"form-control",value:s.title,onChange:r=>J(a,"title",r.target.value),placeholder:"Ej: Certificaciones ISO"})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Descripción"}),e.jsx("textarea",{className:"form-control",rows:"2",value:s.description,onChange:r=>J(a,"description",r.target.value),placeholder:"Descripción detallada..."})]})]})]})},a)),e.jsxs("button",{type:"button",className:"btn btn-primary w-100",onClick:Oe,children:[e.jsx("i",{className:"mdi mdi-plus me-1"})," Agregar Especificación"]})]})]})}),i.has("services","description")&&e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-edit me-2"}),"Descripción Detallada"]})}),e.jsx("div",{className:"card-body",children:e.jsx(Qe,{eRef:y,label:"Descripción Completa"})})]})})]})})]})]})]})]})};ss((g,m)=>{Ke.createRoot(g).render(e.jsx(Je,{...m,title:"Servicios",children:e.jsx(rs,{...m})}))});

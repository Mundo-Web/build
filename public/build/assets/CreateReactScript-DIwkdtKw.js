import{W as C}from"./index.esm-CveLAcri.js";import{m as y}from"./main-BvVILmTO.js";import{G as p}from"./Global-ErywZRdd.js";/* empty css               *//* empty css              */import{G as $}from"./General-BmbBKdsB.js";import{L as k}from"./LaravelSession-Dz9cpV3l.js";let c=[];const E=(...l)=>{const a=[];return Array.isArray(l)?a.push(...l):a.push(l),console.log(c),!!c.find(i=>a.includes(i.name))},T=l=>{C({resolve:a=>`/${a}.jsx`,setup:({el:a,props:i})=>{var f;const o=i.initialPage.props;if(o!=null&&o.global)for(const s in o.global)p.set(s,o.global[s]);if(o!=null&&o.generals)for(const s in o.generals){const{correlative:e,description:t}=o.generals[s];$.set(e,t)}const m={...o==null?void 0:o.session};for(const s in m)k.set(`${s}`,m[s]);const A=(s,...e)=>{var d,u,g,h;const t=[];if(Array.isArray(s))for(const n of s)t.push(...e.map(r=>`${n}.${r}`));else t.push(...e.map(n=>`${s}.${n}`));if((u=(d=o==null?void 0:o.session)==null?void 0:d.permissions)!=null&&u.find(n=>t.includes(n.name)||n.name=="general.root"))return!0;const v=((g=o==null?void 0:o.session)==null?void 0:g.roles)??[];for(const n of v)if((h=n==null?void 0:n.permissions)!=null&&h.find(r=>t.includes(r.name)||r.name=="general.root"))return!0;return!1};c=((f=o==null?void 0:o.session)==null?void 0:f.roles)??[],y.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(y.Cookies.get("XSRF-TOKEN"))},l(a,{...o,can:A,hasRole:E}),p.APP_ENV==="local"&&document.querySelectorAll(".modal-backdrop").forEach(e=>{console.log(e),e.textContent||e.remove()})}})};export{T as C,E as h};

import{r as e,j as t,av as s}from"./vendor-react-CZUvQwNQ.js";import"./OpenPayCardModal-BHkRoVZ6.js";import"./CartKuchara-C7vqSevl.js";import"./vendor-swiper-Cr_RrIb_.js";import{C as a}from"./CartModal-De4f04Sr.js";import{I as i}from"./ItemsRest-4ysXRR2v.js";import"./Footer-DAm0kDL9.js";import{C as r}from"./Number2Currency-SEeETbGC.js";import{m as n}from"./vendor-motion-mZjvfsLz.js";import"./CartItemRow-BqxYsjqg.js";import"./BasicRest-K-34csnH.js";import"./BooleanLimit-q2Ad9fGY.js";import"./General-ClVW7qxN.js";new i;const l=({data:i,product:l,widthClass:o="lg:w-1/5",setCart:c,cart:d,isFirstCard:m})=>{const[p,u]=e.useState(""),[x,h]=e.useState(!1),f=e=>{const t=structuredClone(d),s=t.findIndex(t=>t.id==e.id);-1==s?t.push({...e,quantity:1}):t[s].quantity++,c(t),h(!x),setTimeout(()=>h(!1),3e3)};return d?.find(e=>e.id==l?.id),t.jsxs(t.Fragment,{children:[t.jsx(n.a,{href:`/product/${l.slug}`,className:"group px-1 md:px-2 w-full flex-shrink-0 font-font-secondary cursor-pointer relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5},children:t.jsxs(n.div,{className:"bg-white rounded-xl shadow-md p-2 md:p-4 ",style:{boxShadow:"0px 0px 6px 0px #00000040"},whileHover:{boxShadow:"0px 10px 25px 0px #00000020",scale:1.02},transition:{duration:.3},children:[t.jsxs("div",{className:"relative ",children:[null!=l.discount&&!isNaN(l.discount)&&t.jsxs("span",{className:"absolute top-2 right-2 bg-[#F93232] text-white text-base font-medium px-2 py-1 rounded-full",children:["-",Number(100-Number(100*l?.discount/l?.price)).toFixed(0),"%"]}),t.jsx(n.div,{className:"aspect-square rounded-lg overflow-hidden flex items-center justify-center p-0",transition:{type:"spring",stiffness:300,damping:20},children:t.jsx(n.img,{src:`/storage/images/item/${l.image}`,onError:e=>e.target.src="/api/cover/thumbnail/null",alt:l.name,className:`w-full h-full   ${i?.class_card_image||"object-cover bg-slate-100"}`,loading:"lazy",transition:{duration:.3}})})]}),t.jsx(n.div,{className:"hidden lg:flex overflow-hidden pb-4 gap-2 my-2 h-0 opacity-0 group-hover:opacity-100 group-hover:h-12 transition-[height] duration-500 ease-in-out relative",initial:!1,children:t.jsxs(n.div,{className:"absolute inset-0 flex gap-2 w-full",initial:{y:60,opacity:0},animate:{y:0,opacity:1,transition:{delay:.1,duration:.4,ease:"easeOut"}},exit:{y:60,opacity:0,transition:{duration:.3,ease:"easeIn"}},children:[t.jsx(n.a,{href:`/product/${l.slug}`,className:`flex-1 inline-flex items-center justify-center font-bold text-sm bg-primary  py-0 rounded-xl shadow-lg transition-all duration-300 hover:opacity-90 ${i?.class_button||"text-white"}`,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:10},children:t.jsx("span",{children:"Ver detalle"})}),t.jsx(n.button,{"aria-label":"Agregar al carrito",className:"py-0 px-3 border border-primary rounded-xl customtext-primary transition-all duration-300 hover:opacity-90 min-w-[48px] flex items-center justify-center",onClick:e=>{e.preventDefault(),e.stopPropagation(),f(l)},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:10},children:t.jsx(n.svg,{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",whileHover:{rotate:10},transition:{duration:.2},children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})]})}),t.jsxs(n.div,{className:"pb-4 flex lg:hidden gap-2 my-2 h-16 relative",children:[t.jsx(n.a,{href:`/product/${l.slug}`,className:"flex-1 inline-flex items-center justify-center font-bold text-sm bg-primary text-white py-3 rounded-xl shadow-lg transition-all duration-300 hover:opacity-90 min-h-[44px] touch-manipulation",whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:10},children:t.jsxs("span",{className:"flex gap-2 text-sm items-center font-semibold",children:[" Ver ",t.jsx(s,{width:"1.2rem"})]})}),t.jsx(n.button,{"aria-label":"Agregar al carrito",className:"py-3 px-3 border-2 border-primary rounded-xl customtext-primary transition-all duration-300 hover:opacity-90 min-h-[44px] min-w-[44px] flex items-center justify-center touch-manipulation",onClick:e=>{e.preventDefault(),e.stopPropagation(),f(l)},whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:10},children:t.jsx(n.svg,{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",whileHover:{rotate:10},transition:{duration:.2},children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),t.jsxs("div",{children:[t.jsx("p",{className:`text-xs  font-semibold mb-1 ${i?.class_card_subtitle||"customtext-neutral-light"}`,children:l?.brand?.name||l?.category?.name}),t.jsx("h3",{className:`customtext-neutral-dark text-lg font-semibold mb-2 line-clamp-3 h-20 ${i?.class_card_title}`,children:l.name}),i?.is_short_description&&t.jsx("p",{className:`text-sm customtext-neutral-light mb-2 ${null==l.discount||isNaN(l.discount)?"!line-clamp-2":"!line-clamp-1 !h-4"} ${i?.class_card_description}`,dangerouslySetInnerHTML:{__html:l.description}})]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx("div",{className:"flex flex-col items-baseline gap-2 md:mb-4",children:l.static_price?t.jsxs("div",{className:"flex flex-col items-start gap-1",children:[t.jsx("span",{className:"customtext-neutral-dark text-[20px] md:text-2xl font-bold",children:l.static_price}),null!=l.discount&&!isNaN(l.discount)&&t.jsxs("span",{className:"text-xs customtext-neutral-light font-semibold1 line-through",children:[r()," ",l.price]})]}):t.jsxs(t.Fragment,{children:[null!=l.discount&&!isNaN(l.discount)&&t.jsxs("span",{className:"text-xs customtext-neutral-light font-semibold1 line-through",children:[r()," ",l.price]}),t.jsxs("span",{className:"customtext-neutral-dark text-[20px] md:text-2xl font-bold",children:[r()," ",l.final_price]})]})})})]})},l.id),t.jsx(a,{data:i,cart:d,setCart:c,modalOpen:x,setModalOpen:h})]})};export{l as C};

import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as m}from"./index-BOnQTV8N.js";import{P as D}from"./plus-CTIomuuF.js";import{L as B}from"./Loading-B-FwDSWi.js";import{N as M}from"./NoResult-DlL_OOrq.js";import{u as F}from"./use-in-view-DtBxy-1R.js";import{m as r}from"./proxy-B0QLMKEh.js";import{C as K}from"./chevron-down-uIVDLcM-.js";import{A as q}from"./index-BZvh78jk.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./createLucideIcon-DfjclApS.js";function p({data:s,flex:o=!1,post:a,featured:x=!1}){var u,b;const y=(d,h=150)=>{if(!d)return"";const n=document.createElement("div");n.innerHTML=d;const f=n.textContent||n.innerText||"";return f.length>h?f.substring(0,h)+"...":f};return o?e.jsx("article",{className:"group relative font-title h-full",children:e.jsx("a",{href:`/post/${a==null?void 0:a.slug}`,className:"block h-full",children:e.jsxs("div",{className:"  overflow-hidden transition-all duration-500 transform hover:-translate-y-1 group cursor-pointer h-full flex border border-gray-100",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-xl w-2/5",children:[e.jsx("img",{src:a!=null&&a.image?`/storage/images/post/${a==null?void 0:a.image}`:"/assets/img/noimage/no_img.jpg",alt:(a==null?void 0:a.title)||(a==null?void 0:a.name),className:"w-full h-full aspect-[3/2] object-cover group-hover:scale-110 transition-transform duration-500",onError:d=>{d.target.src="/assets/img/noimage/no_img.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-5 w-3/5 flex flex-col justify-between",children:[e.jsxs("div",{children:[(a==null?void 0:a.category)&&e.jsx("div",{className:"",children:e.jsx("span",{className:"customtext-secondary text-sm  font-semibold  ",children:(u=a.category)==null?void 0:u.name})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 customtext-neutral-dark group-hover:text-primary transition-colors line-clamp-2 ",children:(a==null?void 0:a.title)||(a==null?void 0:a.name)}),e.jsx("p",{className:"text-base customtext-neutral-dark line-clamp-3 ",children:y((a==null?void 0:a.extract)||(a==null?void 0:a.description))})]}),e.jsx("div",{className:"flex text-sm font-medium items-center customtext-neutral-dark justify-between mt-3 pt-3  ",children:e.jsxs("span",{className:"flex gap-2 items-center",children:[" Leer más",e.jsx(D,{className:"w-4 h-4  group-hover:translate-x-1 transition-transform duration-300"})]})})]})]})})}):e.jsx("article",{className:`group relative font-title ${x?"h-full":""}`,children:e.jsx("a",{href:`/post/${a==null?void 0:a.slug}`,className:"block h-full",children:e.jsxs("div",{className:" rounded-xl overflow-hidden transition-all duration-500 transform hover:-translate-y-2 group cursor-pointer h-full border border-gray-100",children:[e.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[e.jsx("img",{src:a!=null&&a.image?`/storage/images/post/${a==null?void 0:a.image}`:"/assets/img/noimage/no_img.jpg",alt:(a==null?void 0:a.title)||(a==null?void 0:a.name),className:`w-full object-cover group-hover:scale-105 transition-transform duration-500 ${x?"h-80 aspect-[4/3]":"aspect-square lg:h-80"}`,onError:d=>{d.target.src="/assets/img/noimage/no_img.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"py-6",children:[(a==null?void 0:a.category)&&e.jsx("div",{className:"",children:e.jsx("span",{className:"customtext-secondary text-sm  font-bold  ",children:(b=a.category)==null?void 0:b.name})}),e.jsx("h3",{className:"font-bold mb-3 group-hover:text-primary transition-colors line-clamp-3 lg:line-clamp-2 leading-tight text-lg lg:text-2xl",children:(a==null?void 0:a.title)||(a==null?void 0:a.name)}),e.jsx("p",{className:"text-sm lg:text-base customtext-neutral-dark mb-4 line-clamp-4 lg:line-clamp-2 ",children:y((a==null?void 0:a.extract)||(a==null?void 0:a.description))}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2 customtext-neutral-dark font-medium text-sm group-hover:translate-x-1 transition-transform duration-300",children:[e.jsx("span",{children:"Leer más"}),e.jsx(D,{className:"w-4 h-4"})]})}),(s==null?void 0:s["bool:show_reading_progress"])&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-2",children:[e.jsx("span",{children:"Progreso de lectura"}),e.jsx("span",{children:"0%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-primary h-1 rounded-full w-0 transition-all duration-300"})})]})]})]})})})}const X=({data:s,headerPosts:o,filteredData:a})=>e.jsx("main",{className:"bg-white font-title",children:e.jsxs("section",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto py-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:`font-title text-4xl md:text-5xl 2xl:text-6xl font-semibold tracking-tight ${(s==null?void 0:s.class_title)||"customtext-neutral-dark"}`,children:"Noticias destacas"}),e.jsx("p",{className:"customtext-neutral-dark opacity-80 text-sm 2xl:text-lg font-title",children:"Mantente informado con las últimas novedades, tendencias y actualizaciones más relevantes. Aquí encontrarás la información más importante de manera clara y actualizada."})]}),e.jsxs("div",{className:"mt-4 lg:mt-0 flex gap-8 py-[2.5%] rounded-2xl",children:[e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx(p,{data:s,featured:!0,post:o[0]})}),e.jsx("div",{className:"hidden md:flex space-y-4 flex-col w-1/2",children:o.slice(1,3).map(x=>e.jsx(p,{data:s,flex:!0,post:x},x.id))})]})]})}),Z=({data:s,postsLatest:o,posts:a,loading:x,setLoading:y,isFilter:u,setIsFilter:b,filteredData:d})=>{var V;const{categories:h}=d,[n,f]=m.useState("all"),[j,O]=m.useState("newest"),[c,w]=m.useState(1),[k,T]=m.useState(!1),[$,z]=m.useState([]),C=9,P=m.useRef(null),I=F(P,{once:!0}),S=[{value:"newest",label:"Más Recientes"},{value:"oldest",label:"Más Antiguos"},{value:"title-asc",label:"Título A-Z"},{value:"title-desc",label:"Título Z-A"}];m.useEffect(()=>{let t=u&&a.length>0?a:o||[];n!=="all"&&(t=t.filter(l=>l.category&&l.category.name===n)),t=[...t].sort((l,i)=>{switch(j){case"newest":return new Date(i.created_at)-new Date(l.created_at);case"oldest":return new Date(l.created_at)-new Date(i.created_at);case"title-asc":return l.title.localeCompare(i.title);case"title-desc":return i.title.localeCompare(l.title);default:return 0}}),z(t),w(1)},[n,j,a,o,u]);const g=Math.ceil($.length/C),A=$.slice((c-1)*C,c*C),v={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},_={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.8,ease:[.22,1,.36,1]}}},L={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,delay:.2,ease:"easeOut"}}},H={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,delay:.3,staggerChildren:.15}}},E={hidden:{opacity:0,y:60,scale:.9,rotateX:15},visible:{opacity:1,y:0,scale:1,rotateX:0,transition:{duration:.8,ease:[.22,1,.36,1],type:"spring",damping:25,stiffness:120}}},N={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.6,ease:"easeOut"}}};return e.jsx(r.section,{ref:P,className:`font-title bg-[#F2F2F2] ${u?"py-8 mt-4":"py-8"}`,variants:v,initial:"hidden",animate:I?"visible":"hidden",children:e.jsx(r.div,{className:"px-4 2xl:px-0 2xl:max-w-7xl mx-auto",variants:v,children:u?e.jsxs(r.div,{variants:v,children:[e.jsx(r.div,{className:"text-center mb-12",variants:_,children:e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold customtext-secondary font-title",children:["Artículos ",e.jsx("span",{className:"customtext-secondary font-title",children:"Encontrados"})]})}),e.jsx(r.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10",variants:H,children:x?e.jsx(r.div,{className:"col-span-full my-16",variants:N,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-gray-100",children:e.jsx(B,{})})})}):Array.isArray(a)&&a.length>0?a.map((t,l)=>e.jsx(r.div,{variants:E,transition:{delay:l*.1},whileHover:{scale:1.03,y:-15,transition:{duration:.4,ease:[.22,1,.36,1]}},whileTap:{scale:.97,transition:{duration:.1}},className:"h-full",style:{transformStyle:"preserve-3d"},children:e.jsx(p,{data:s,post:t})},l)):e.jsx(r.div,{className:"col-span-full my-16",variants:N,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-gray-100",children:e.jsx(M,{})})})})})]}):e.jsxs(r.div,{variants:v,children:[e.jsxs(r.div,{className:"text-start mb-16",variants:v,children:[e.jsx(r.h2,{className:"font-title text-4xl md:text-5xl 2xl:text-6xl font-semibold tracking-tight customtext-neutral-dark",variants:_,children:"Todas nuestas noticias"}),e.jsx(r.p,{className:"text-sm lg:text-lg customtext-neutral-dark  leading-relaxed",variants:L,children:"Explora el archivo completo de publicaciones y mantente al día con cada actualización. Encuentra todas las noticias en un solo lugar, organizadas para que no te pierdas de nada."})]}),e.jsxs(r.div,{className:"flex flex-col lg:flex-row gap-6 items-start lg:items-center justify-between mb-12",variants:v,children:[e.jsx("div",{className:"flex-1",children:e.jsxs(r.div,{className:"flex flex-wrap gap-3",variants:v,children:[e.jsx(r.button,{className:`px-6 py-2 border-b font-semibold transition-all duration-300  text-base ${n==="all"?"bg-transparent customtext-secondary border-secondary border-b-2":"bg-gray-100 customtext-neutral-light hover:bg-gray-200"}`,onClick:()=>f("all"),whileHover:{scale:1.05},whileTap:{scale:.95},children:"Todas"}),h==null?void 0:h.map((t,l)=>((u&&a.length>0?a:o||[]).filter(i=>i.category&&i.category.name===t.name).length,e.jsx(r.button,{className:`px-6 py-2 border-b font-semibold transition-all duration-300  text-base ${n===t.name?"bg-transparent customtext-secondary border-secondary border-b-2":" customtext-neutral-light hover:bg-gray-200"}`,onClick:()=>f(t.name),whileHover:{scale:1.05},whileTap:{scale:.95},children:t.name},t.id)))]})}),e.jsxs(r.div,{className:"relative",children:[e.jsxs(r.button,{className:"flex items-center gap-3 px-6 py-3 bg-white border border-secondary rounded-full hover:border-primary transition-colors duration-300 min-w-[200px] justify-between",onClick:()=>T(!k),whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm font-bold customtext-secondary",children:(V=S.find(t=>t.value===j))==null?void 0:V.label})}),e.jsx(K,{className:`w-4 h-4 customtext-secondary transition-transform duration-200 ${k?"rotate-180":""}`})]}),e.jsx(q,{children:k&&e.jsx(r.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:S.map(t=>e.jsx(r.button,{className:`w-full px-4 py-3 text-left text-sm hover:bg-gray-50 transition-colors duration-200 first:rounded-t-lg last:rounded-b-lg ${j===t.value?"bg-secondary text-white":"customtext-neutral-light"}`,onClick:()=>{O(t.value),T(!1)},whileHover:{x:5},children:t.label},t.value))})})]})]}),e.jsx(r.div,{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-10",variants:H,children:Array.isArray(A)&&A.length>0?A.map((t,l)=>e.jsx(r.div,{variants:E,whileHover:{scale:1.03,y:-15,transition:{duration:.4,ease:[.22,1,.36,1]}},whileTap:{scale:.97,transition:{duration:.1}},className:"h-full",style:{transformStyle:"preserve-3d"},children:e.jsx(p,{data:s,post:t})},l)):e.jsx(r.div,{className:"col-span-full my-16",variants:N,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-gray-100",children:e.jsx(M,{})})})})}),g>1&&e.jsxs(r.div,{className:"flex items-center justify-center mt-16 gap-2",variants:N,children:[e.jsx(r.button,{className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${c===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-200 customtext-neutral-light hover:border-primary hover:text-primary shadow-sm hover:shadow-md"}`,onClick:()=>w(t=>Math.max(t-1,1)),disabled:c===1,whileHover:c!==1?{scale:1.05}:{},whileTap:c!==1?{scale:.95}:{},children:"Anterior"}),Array.from({length:g},(t,l)=>{const i=l+1,R=c===i;return e.jsx(r.button,{className:`w-12 h-12 rounded-lg font-medium transition-all duration-300 ${R?"bg-primary text-white shadow-lg":"bg-white border border-gray-200 customtext-neutral-light hover:border-primary hover:text-primary shadow-sm hover:shadow-md"}`,onClick:()=>w(i),whileHover:{scale:1.1},whileTap:{scale:.9},children:i},i)}),e.jsx(r.button,{className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${c===g?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-200 customtext-neutral-light hover:border-primary hover:text-primary shadow-sm hover:shadow-md"}`,onClick:()=>w(t=>Math.min(t+1,g)),disabled:c===g,whileHover:c!==g?{scale:1.05}:{},whileTap:c!==g?{scale:.95}:{},children:"Siguiente"})]})]})})})},ie=({data:s,headerPosts:o,filteredData:a,postsLatest:x})=>{const[y,u]=m.useState([]),[b,d]=m.useState(!1),[h,n]=m.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(X,{data:s,headerPosts:o,filteredData:a}),e.jsx(Z,{data:s,postsLatest:x,posts:y,loading:b,setLoading:d,isFilter:h,setIsFilter:n,filteredData:a})]})};export{ie as default};

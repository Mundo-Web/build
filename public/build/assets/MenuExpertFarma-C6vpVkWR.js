import{r as e,j as t,K as a,N as r,C as s}from"./vendor-react-CZUvQwNQ.js";import"./Footer-DAm0kDL9.js";import{t as l}from"./MobileMenu-DviT89cW.js";import"./vendor-swiper-Cr_RrIb_.js";import"./OpenPayCardModal-BHkRoVZ6.js";import"./BasicRest-K-34csnH.js";import"./BooleanLimit-q2Ad9fGY.js";const o=({pages:o=[],items:n,data:i,visible:c=!1})=>{const[d,m]=e.useState(!1),[u,h]=e.useState(null),[x,g]=e.useState([]),[f,p]=e.useState(0),b=e.useRef(null);e.useEffect(()=>{function e(e){b.current&&!b.current.contains(e.target)&&(m(!1),h(null))}return document.addEventListener("pointerdown",e),()=>document.removeEventListener("pointerdown",e)},[]),e.useEffect(()=>{if(d&&n.length>0&&!u){const e=[...n].sort((e,t)=>e.name.localeCompare(t.name));h(e[0])}},[d,n,u]),e.useEffect(()=>{(async()=>{try{const e=await l.getTags();if(e?.data){const t=e.data.filter(e=>"permanent"===e.promotional_status||"active"===e.promotional_status).sort((e,t)=>"active"===e.promotional_status&&"active"!==t.promotional_status?-1:"active"===t.promotional_status&&"active"!==e.promotional_status?1:e.name.localeCompare(t.name));g(t);const a=t.filter(e=>"active"===e.promotional_status).length;t.filter(e=>"permanent"===e.promotional_status).length;if(a>0){t.filter(e=>"active"===e.promotional_status)}}}catch(e){}})()},[]),e.useEffect(()=>{if(x.length>2&&window.innerWidth<1024){const e=setInterval(()=>{p(e=>{const t=e+2;return t>=x.length?0:t})},3e3);return()=>clearInterval(e)}},[x.length]);const v=window.innerWidth<1024,j=!v||c&&x.length>0,N=x.length>0&&v&&c;return j?t.jsx("nav",{id:i?.element_id||null,className:""+(N?` block w-full relative md:block ${i?.backgroundColor?i?.backgroundColor:"bg-secondary"} font-paragraph text-sm`:` relative w-full md:block ${i?.backgroundColor?i?.backgroundColor:"bg-secondary"} font-paragraph text-sm`),ref:b,children:t.jsx("div",{className:"px-primary  2xl:px-0 2xl:max-w-7xl mx-auto",children:t.jsx("ul",{className:"flex items-center gap-4 lg:gap-6 text-sm justify-between",children:N?t.jsx("div",{className:"w-full py-3 px-4",children:t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-3 h-10",children:[x.slice(f,f+2).map((e,r)=>{const s=f+r;return t.jsxs("a",{href:`/catalogo?tag=${e.id}`,className:"group relative border-white border-2 overflow-hidden rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",style:{background:`linear-gradient(135deg, ${e.background_color||"#3b82f6"}, ${e.background_color||"#3b82f6"}dd)`},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),t.jsx("div",{className:"relative h-full flex items-center justify-center p-3",children:t.jsxs("div",{className:"flex items-center gap-2 text-center",children:[e.icon?t.jsx("img",{src:`/storage/images/tag/${e.icon}`,alt:e.name,className:"w-6 h-6 object-contain filter brightness-0 invert",onError:e=>e.target.src="/api/cover/thumbnail/null"}):t.jsx(a,{size:20,style:{color:e.text_color||"#ffffff"}}),t.jsx("span",{className:"text-xs font-semibold leading-tight",style:{color:e.text_color||"#ffffff"},children:e.name})]})}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"})]},`${e.id}-${s}`)}),x.slice(f,f+2).length<2&&t.jsx("div",{className:"rounded-2xl bg-white/10 flex items-center justify-center",children:t.jsx("div",{className:"text-white/50 text-xs",children:"Más próximamente"})})]}),x.length>2&&t.jsx("div",{className:"flex justify-center mt-2 gap-1",children:Array.from({length:Math.ceil(x.length/2)}).map((e,a)=>t.jsx("button",{onClick:()=>p(2*a),className:"w-2 h-2 rounded-full transition-all duration-300 "+(Math.floor(f/2)===a?`${i?.backgroundColor?i?.backgroundColor:"bg-primary"} shadow-lg`:"bg-neutral-light hover:bg-white/60")},a))})]})}):t.jsxs(t.Fragment,{children:[t.jsxs("ul",{className:"flex items-center gap-4 lg:gap-6 text-sm",children:[i?.showCategories&&t.jsxs("li",{className:" py-3",children:[t.jsxs("button",{className:"font-medium customtext-neutral-dark flex items-center gap-2  pr-6 transition-colors duration-300 relative before:absolute before:right-0 before:top-1/2 before:-translate-y-1/2 before:h-3 before:w-[1px] before:bg-black",onClick:()=>m(!d),children:["Categorías",d?t.jsx(r,{size:20}):t.jsx(s,{size:20})]}),d&&t.jsx("div",{className:"absolute z-50 top-11 left-0 bg-white shadow-2xl border rounded-lg transition-all duration-300 ease-in-out w-full max-w-[100vw] max-h-[50vh] overflow-hidden",children:t.jsxs("div",{className:"w-full max-w-7xl mx-auto flex h-full",children:[t.jsx("div",{className:"w-1/4 min-w-[200px] py-10 bg-gray-50 border-r border-gray-200",children:t.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:t.jsx("ul",{className:"py-2",children:[...n].sort((e,t)=>e.name.localeCompare(t.name)).map((e,a)=>t.jsx("li",{children:t.jsx("button",{className:"w-full text-left rounded-sm overflow-hidden px-4 py-3 hover:bg-secondary transition-colors duration-200 border-l-4 "+(u?.id===e.id?`${i?.backgroundColor?i?.backgroundColor:"bg-primary"} border-neutral-dark customtext-neutral-dark font-semibold`:"border-transparent text-gray-700 hover:border-nuetral-dark"),onClick:()=>h(e),children:t.jsx("span",{className:"block text-sm font-medium",children:e.name})})},a))})})}),t.jsx("div",{className:"w-3/4",children:u?t.jsxs("div",{className:"p-6",children:[t.jsx("div",{className:"mb-6",children:t.jsx("h3",{className:"text-2xl font-bold customtext-neutral-dark mb-2",children:u.name})}),t.jsx("div",{className:"overflow-y-auto max-h-[50vh]",children:t.jsx("div",{className:"grid grid-cols-2 gap-3",children:u.subcategories?.map((e,a)=>t.jsx("a",{href:`/catalogo?subcategory=${e.slug}`,className:"block p-3 rounded-lg   hover:bg-secondary transition-all duration-200 group",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium customtext-neutral-light hover:cusomtext-neutral-dark group-hover:text-gray-900 text-sm",children:e.name}),e.description&&t.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:e.description})]})})},a))||t.jsx("div",{className:"col-span-2 text-center py-8 text-gray-500",children:t.jsx("p",{children:"No hay subcategorías disponibles"})})})})]}):t.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:t.jsx("p",{children:"Selecciona una categoría para ver sus subcategorías"})})})]})})]}),o.filter(e=>e.menuable).map((e,a,r)=>t.jsx("li",{className:"py-3",children:t.jsx("a",{href:e.path,className:" customtext-neutral-dark  cursor-pointer transition-all duration-300"+(a!==r.length-1?" pr-6 relative before:absolute before:right-0 before:top-1/2 before:-translate-y-1/2 before:h-3 before:w-[1px] before:bg-black":" pr-6"),children:e.name})},a))]}),x.length>0&&t.jsx("div",{className:"flex items-center gap-4 lg:gap-4 text-sm",children:x.map((e,a)=>t.jsx("li",{className:"",children:t.jsxs("a",{href:`/catalogo?tag=${e.id}`,className:"font-medium rounded-full p-2 hover:brightness-105 cursor-pointer transition-all duration-300 relative flex items-center gap-2",style:{backgroundColor:e.background_color||"#3b82f6",color:e.text_color||"#ffffff"},title:e.description||e.name,children:[e.icon&&t.jsx("img",{src:`/storage/images/tag/${e.icon}`,alt:e.name,className:"w-4 h-4",onError:e=>e.target.src="/api/cover/thumbnail/null"}),e.name]})},e.id))})]})})})}):null};export{o as default};

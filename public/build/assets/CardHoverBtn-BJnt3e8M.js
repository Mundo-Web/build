import{r as e,j as t,I as s}from"./System-Bybt2Brn.js";import"./sweetalert2.esm.all-DbJpIAEg.js";import{C as l}from"./CartModal-Db_dBOJN.js";import{E as a}from"./eye-DJ5vw54Z.js";new s;const r=({data:s,product:r,widthClass:i="lg:w-1/5",setCart:n,cart:o})=>{var d;const[c,m]=e.useState(""),[u,x]=e.useState(!1);return null==o||o.find((e=>e.id==(null==r?void 0:r.id))),(null==r?void 0:r.discount)>0?null==r||r.discount:null==r||r.price,t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"group px-1 md:px-2 w-full flex-shrink-0 font-font-secondary cursor-pointer relative",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-md p-2 md:p-4 ",style:{boxShadow:"0px 0px 6px 0px #00000040"},children:[t.jsxs("div",{className:"relative ",children:[null!=r.discount&&!isNaN(r.discount)&&t.jsxs("span",{className:"absolute top-2 right-2 bg-[#F93232] text-white text-base font-medium px-2 py-1 rounded-full",children:["-",Number(100-Number(100*(null==r?void 0:r.discount)/(null==r?void 0:r.price))).toFixed(0),"%"]}),t.jsx("div",{className:"aspect-square rounded-lg overflow-hidden flex items-center justify-center p-0",children:t.jsx("img",{src:`/storage/images/item/${r.image}`,onError:e=>e.target.src="/api/cover/thumbnail/null",alt:r.name,className:"w-full h-full object-cover bg-slate-100",loading:"lazy"})})]}),t.jsxs("div",{className:"overflow-hidden max-h-20  lg:max-h-0 pb-4 lg:opacity-0 group-hover:max-h-20 group-hover:opacity-100 transition-[max-height,opacity] duration-1000 ease-in-out flex gap-2 my-2 transform ",children:[t.jsxs("a",{href:`/product/${r.slug}`,className:"flex-1 inline-flex items-center justify-center font-bold  text-sm bg-primary text-white py-2 md:py-3 rounded-xl shadow-lg transition-all duration-300 hover:opacity-90",children:[t.jsx("span",{className:"hidden md:block",children:"Ver detalle"}),t.jsxs("span",{className:"md:hidden flex gap-2 text-sm items-center",children:[" Ver ",t.jsx(a,{width:"1.1rem"})]})]}),t.jsx("button",{"aria-label":"Agregar al carrito",className:"py-2 px-2.5 border border-primary rounded-lg customtext-primary transition-all duration-300  hover:opacity-90",onClick:()=>(e=>{const t=structuredClone(o),s=t.findIndex((t=>t.id==e.id));-1==s?t.push({...e,quantity:1}):t[s].quantity++,n(t),x(!u),setTimeout((()=>x(!1)),3e3)})(r),children:t.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs customtext-neutral-light font-semibold mb-1",children:null==(d=null==r?void 0:r.brand)?void 0:d.name}),t.jsx("h3",{className:"customtext-neutral-dark text-lg font-semibold mb-2 line-clamp-3 h-20",children:r.name}),t.jsxs("div",{className:"flex flex-col items-baseline gap-2 md:mb-4",children:[null!=r.discount&&!isNaN(r.discount)&&t.jsxs("span",{className:"text-xs customtext-neutral-light font-semibold1 line-through",children:["S/ ",r.price]}),t.jsxs("span",{className:"customtext-neutral-dark text-[20px] md:text-2xl font-bold",children:["S/ ",r.final_price]})]})]})]})},r.id),t.jsx(l,{data:s,cart:o,setCart:n,modalOpen:u,setModalOpen:x})]})};export{r as C};

import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BOnQTV8N.js";import{G as Pe}from"./Global-Bz6gVLc5.js";import{C as Ie}from"./HeaderSearch-EXzrx7_V.js";import{L as oe}from"./Logout-DK3gcKZh.js";import"./MobileMenu-Cn5ND-xm.js";import{P as Se}from"./ProfileImage-BUTf_N98.js";import{N as Me,C as $e}from"./Number2Currency-jIsa99f9.js";import He from"./MenuSimple-BsS5AqLo.js";import{X as ce}from"./x-fof_H3Vv.js";import{C as Fe}from"./chevron-left-JcR9Fe4w.js";import{C as Re}from"./chevron-right-Cug7tVUE.js";import{C as ie}from"./circle-user-C5EdAREK.js";import{A as D}from"./index-BZvh78jk.js";import{m as _}from"./proxy-B0QLMKEh.js";import{H as Le}from"./house-DDB4Ooi5.js";import{D as le}from"./door-closed-DkeGYjpO.js";import{S as J}from"./search-BQ59Robe.js";import{U as _e}from"./user-BZB1h7Cv.js";import{S as Ae}from"./shopping-cart-DLRnxGTD.js";import{S as Oe}from"./settings-jey665c1.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./PolicyModal-B0WwLYks.js";import"./index-BLHw34Di.js";import"./index-Chjiymov.js";import"./CartItemRow-Coip4t37.js";import"./tippy-react.esm-BGU1pa2o.js";import"./index-B8-haksW.js";import"./CartKuchara-CVImXKD8.js";import"./createLucideIcon-DfjclApS.js";import"./trash-2-DU7LB6-f.js";import"./calendar-BSC6xbA7.js";import"./moon-BU5XInRR.js";import"./users-w-WaEtvX.js";import"./package-DBFPPBi1.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./main-iQpBVKTZ.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./CardProductKatya-BPLqIfPk.js";import"./BasicRest-tjV1jpAY.js";import"./BooleanLimit-D-OsQsek.js";import"./General-apRuNwp7.js";import"./tag-Dgi-uTqk.js";import"./chevron-up-Mt3xll-e.js";import"./chevron-down-uIVDLcM-.js";function Ke({search:p,setSearch:h,pages:I,items:A,onClose:m}){const[g,v]=a.useState("main"),[S,$]=a.useState(null),[G,O]=a.useState(null),[M,R]=a.useState([]),[L,K]=a.useState("right");a.useRef(null),a.useRef(null);const b=(c,d="right",u=null)=>{K(d),u&&$(u),setTimeout(()=>{v(c)},50)},w=c=>{O(c.name),R([...M,{level:g,name:g==="main"?"Menú principal":"Categorías"}]),b("subcategories","right",c.name)},o=()=>{if(M.length>0){const c=M[M.length-1];b(c.level,"left"),R(d=>d.slice(0,-1))}else g==="subcategories"?b("categories","left"):g==="categories"&&b("main","left")},B=c=>{R([...M,{level:g,name:"Menú principal"}]),b("categories","right")},z=()=>"Menú principal",f=()=>{if(g==="main")return e.jsxs("div",{className:"animate-fade-in animate-duration-300",children:[e.jsxs("button",{className:"px-4 py-3 mb-4 w-full flex justify-between items-center  hover:from-gray-100 hover:to-gray-200 active:from-gray-200 active:to-gray-300 transition-all duration-200 ",onClick:()=>B(),children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"font-semibold cusomtext-neutral-dark",children:"Categorías"})}),e.jsx(Re,{className:"h-5 w-5 cusomtext-neutral-dark"})]}),e.jsx("div",{className:"space-y-3",children:I.map((c,d)=>c.menuable&&e.jsx("a",{href:c.path,className:"flex items-center px-4 py-3 bg-white  active:bg-gray-100 transition-all duration-200 ",children:e.jsx("span",{className:"font-medium cusomtext-neutral-dark",children:c.name})},d))})]});if(g==="categories"){const c=[...A].sort((d,u)=>d.name.localeCompare(u.name,"es",{sensitivity:"base"}));return e.jsx("div",{className:L==="right"?"animate-slide-in-right animate-duration-300":"animate-slide-in-left animate-duration-300",children:e.jsx("div",{className:"space-y-3",children:c.map(d=>e.jsxs("button",{className:"w-full px-4 py-3 bg-white hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 rounded-2xl  flex justify-between items-center",onClick:()=>w(d),children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center mr-3",children:d.image&&e.jsx("img",{src:`/storage/images/category/${d.image}`,alt:d.name,className:"w-4 h-4 ",onError:u=>u.target.style.display="none"})}),e.jsx("span",{className:"font-medium cusomtext-neutral-dark",children:d.name})]}),e.jsx(Re,{className:"h-5 w-5 cusomtext-neutral-dark"})]},d.id))})})}else if(g==="subcategories"&&S){const c=A.find(u=>u.name===S),d=c.subcategories?[...c.subcategories].sort((u,k)=>u.name.localeCompare(k.name,"es",{sensitivity:"base"})):[];return e.jsx("div",{className:L==="right"?"animate-slide-in-right animate-duration-300":"animate-slide-in-left animate-duration-300",children:e.jsx("div",{className:"space-y-3",children:d.map((u,k)=>e.jsx("a",{href:`/catalogo?subcategory=${u.slug}`,className:"flex items-center w-full px-4 py-3 bg-white hover:bg-gray-50 active:bg-gray-100 transition-all",children:e.jsx("span",{className:"font-medium cusomtext-neutral-dark",children:u.name})},k))})})}};return a.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),a.useEffect(()=>{const c=d=>{d.key==="Escape"&&(p.trim()?h(""):m())};return document.addEventListener("keydown",c),()=>{document.removeEventListener("keydown",c)}},[p,m,h]),e.jsxs("div",{className:"fixed inset-0 z-[99999] flex flex-col touch-none overscroll-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:m}),e.jsx("div",{className:"relative w-full md:w-[400px] md:mx-auto flex flex-col h-[100dvh]",children:e.jsxs("div",{className:"mt-auto bg-white shadow-2xl flex flex-col max-h-[85vh] rounded-t-3xl overflow-hidden border-t border-gray-200",children:[e.jsxs("div",{className:"p-5 bg-gradient-to-r from-white to-gray-50 flex justify-between items-center border-b border-gray-100",children:[e.jsx("h1",{className:"text-xl font-bold cusomtext-neutral-dark",children:z()}),e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 active:bg-gray-200 transition-all duration-200",onClick:m,"aria-label":"Cerrar menú",children:e.jsx(ce,{className:"h-6 w-6 cusomtext-neutral-dark"})})]}),e.jsxs("div",{className:"overflow-y-auto flex-1 overscroll-contain",children:[g!=="main"&&e.jsx("div",{className:"px-5 pb-3",children:e.jsxs("button",{onClick:o,className:"flex items-center cusomtext-neutral-dark font-semibold hover:text-primary/80 active:text-primary/60 transition-all duration-200",children:[e.jsx(Fe,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:g==="categories"?"Categorías":S})]})}),e.jsx("div",{className:"px-5 pb-20",children:f()})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-4",children:e.jsx(He,{visible:!0})})]})})]})}const $t=({items:p,data:h,cart:I,setCart:A,isUser:m,pages:g,generals:v=[]})=>{var we,ke;const S=v.find(t=>t.correlative==="phone_whatsapp"),$=v.find(t=>t.correlative==="message_whatsapp"),G=(S==null?void 0:S.description)??null,O=($==null?void 0:$.description)??null,[M,R]=a.useState(!1),[L,K]=a.useState(!1),[b,w]=a.useState(!1),[o,B]=a.useState(""),[z,f]=a.useState(!1),[c,d]=a.useState(!1),[u,k]=a.useState([]),[E,P]=a.useState(!1),[Y,de]=a.useState(!1),[y,V]=a.useState(-1),ue=a.useRef([]),[q,W]=a.useState(!1),[x,me]=a.useState({slug:"",name:"Categorías"}),X=a.useRef(null),Q=a.useRef(null),U=a.useRef(null),ee=a.useRef(null),Ee=a.useRef(null),te=a.useRef(null),N=a.useRef(null),he=a.useRef([]),xe=I.reduce((t,r)=>Number(t)+Number(r.quantity),0),pe=I.reduce((t,r)=>t+r.final_price*r.quantity,0),[fe,Te]=a.useState(!1),De=()=>{try{const t=window.location.pathname||"";return["/cart","/checkout"].some(s=>t.includes(s))}catch(t){return console.warn("Error checking path:",t),!1}},T=async t=>{if(!t.trim()||t.length<2){k([]),P(!1);return}de(!0);try{let r=[["name","contains",t],"or",["summary","contains",t],"or",["description","contains",t]],s=[];if(x.slug){const l=p==null?void 0:p.find(n=>n.slug===x.slug);if(l){const n=[...r,"and",["category_id","=",l.id]],j=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:n,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(j.ok){const F=await j.json();F.status===200&&Array.isArray(F.data)&&(s=F.data)}}if(s.length===0){const n=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:r,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(n.ok){const j=await n.json();j.status===200&&Array.isArray(j.data)&&(s=j.data)}}}else{const l=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:r,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(l.ok){const n=await l.json();n.status===200&&Array.isArray(n.data)&&(s=n.data)}}k(s),P(s.length>0)}catch(r){console.error("Error fetching search suggestions:",r),k([]),P(!1)}finally{de(!1)}},re=t=>{B(t),V(-1),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{T(t)},300)},H=()=>{P(!1),k([]),V(-1)},Z=t=>{if(!t)return;P(!1),w(!1);const r=t.slug?`/product/${t.slug}`:`/catalogo?search=${encodeURIComponent(t.name)}`;window.location.href=r};a.useEffect(()=>{const t=r=>{X.current&&!X.current.contains(r.target)&&f(!1),Q.current&&!Q.current.contains(r.target)&&W(!1),U.current&&!U.current.contains(r.target)&&(r.target.closest("[data-suggestion-button]")||H())};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[o]),a.useEffect(()=>{const t=()=>{window.scrollY>0?d(!0):d(!1)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),a.useEffect(()=>{const t=r=>{r.key==="Escape"&&(E?H():b&&(w(!1),B("")))};return(b||E)&&document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[b,E]),a.useEffect(()=>()=>{N.current&&clearTimeout(N.current)},[]),a.useEffect(()=>{y>=0&&he.current[y]&&te.current&&he.current[y].scrollIntoView({block:"nearest",behavior:"smooth"})},[y]),a.useEffect(()=>{o.trim().length>=2&&E&&(N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{T(o)},100))},[x.slug]);const ge={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},je=[{icon:e.jsx(_e,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:e.jsx(Ae,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:e.jsx(Oe,{size:16}),label:"Configuración",href:"/account"},{icon:e.jsx(le,{size:16}),label:"Cerrar Sesión",onClick:oe}],be=t=>{var n;t.preventDefault(),H();const s=((n=new FormData(t.target).get("search"))==null?void 0:n.trim())||o.trim(),l=x.slug;if(s||l){const j=new URLSearchParams;s&&j.append("search",s),l&&j.append("category",l),window.location.href=`/catalogo?${j.toString()}`}return!1},ye=t=>{if(t.preventDefault(),H(),o.trim()){const r=o.trim();w(!1),window.location.href=`/catalogo?search=${encodeURIComponent(r)}`}return!1};function ve(t){const r=te.current,s=ue.current[t];if(!r||!s)return;const l=r.getBoundingClientRect(),n=s.getBoundingClientRect();n.top<l.top?r.scrollTop-=l.top-n.top:n.bottom>l.bottom&&(r.scrollTop+=n.bottom-l.bottom)}const se=t=>{if(!(!E||u.length===0))switch(t.key){case"ArrowDown":t.preventDefault(),V(r=>{const s=r<u.length-1?r+1:r;return setTimeout(()=>ve(s),0),s});break;case"ArrowUp":t.preventDefault(),V(r=>{const s=r>0?r-1:0;return setTimeout(()=>ve(s),0),s});break;case"Enter":t.preventDefault(),y>=0&&y<u.length?Z(u[y]):o.trim()&&be(t);break;case"Escape":P(!1);break}},ae=({suggestions:t,isLoading:r,onSelect:s,selectedIndex:l})=>{var Ne;if(!E)return null;const n=x.slug?(Ne=p==null?void 0:p.find(i=>i.slug===x.slug))==null?void 0:Ne.id:null,j=t.some(i=>i.category_id===n),F=t.some(i=>i.category_id!==n);return e.jsx(_.div,{ref:te,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-[60] max-h-80 overflow-y-auto mt-1",children:r?e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Buscando..."]})}):t.length>0?e.jsxs("div",{children:[x.slug&&F&&!j&&e.jsx("div",{className:"px-4 py-3 bg-primary border-b customtext-neutral-light",children:e.jsxs("p",{className:"text-xs customtext-neutral-dark",children:[e.jsxs("span",{className:"font-medium",children:['No se encontraron productos en "',x.name,'"']}),e.jsx("br",{}),"Mostrando resultados de otras categorías"]})}),e.jsx("ul",{className:"py-2",children:t.map((i,Ce)=>{const ze=n&&i.category_id===n;return e.jsx("li",{ref:C=>ue.current[Ce]=C,children:e.jsxs("button",{"data-suggestion-button":!0,onMouseDown:C=>{C.preventDefault(),C.stopPropagation(),setTimeout(()=>s(i),0)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 ${Ce===l?"bg-primary/10 border-l-4 border-primary":""} ${ze?"bg-green-50":""}`,type:"button",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 rounded-lg overflow-hidden",children:i.image?e.jsx("img",{src:`/api/items/media/${i.image}`,alt:i.name,className:"w-full h-full object-cover",onError:C=>{C.target.style.display="none"}}):e.jsx("img",{src:i!=null&&i.image?`/api/items/media/${i.image}`:"/assets/img/noimage/no_img.jpg",alt:(i==null?void 0:i.name)||"Producto",className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-500",onError:C=>{C.target.src="/assets/img/noimage/no_img.jpg"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium customtext-neutral-dark truncate flex items-center gap-2",children:i.name}),i.category&&e.jsx("div",{className:"text-sm customtext-neutral-dark truncate",children:i.category.name}),i.final_price&&e.jsxs("div",{className:"text-sm font-semibold customtext-primary",children:[$e()," ",parseFloat(i.final_price).toFixed(2)]})]})]})},i.id)})})]}):e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:x.slug?e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:['No se encontraron productos en "',x.name,'"']}),e.jsx("p",{className:"text-sm customtext-neutral-dark mt-1",children:'Intenta buscar en "Todas las categorías"'})]}):"No se encontraron productos"})})},Be=()=>{const t=p&&p.length>0?[...p].sort((r,s)=>r.name.localeCompare(s.name)):[];return e.jsxs("div",{ref:Q,className:"absolute right-0 flex-shrink-0",children:[e.jsxs("button",{type:"button",onClick:()=>W(!q),className:"flex items-center justify-between min-w-[150px] max-w-[150px] text-sm py-3.5 px-4 font-semibold focus:ring-0 customtext-neutral-dark bg-secondary focus:outline-none border-0  text-white rounded-full hover:bg-primary hover:customtext-neutral-dark transition-colors duration-500","aria-label":"Seleccionar categoría","aria-expanded":q,children:[e.jsx("span",{className:"truncate",children:x.name}),e.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-200 ${q?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx(D,{children:q&&e.jsx(_.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute top-full right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-[70] min-w-[220px] max-h-80 overflow-y-auto",children:e.jsxs("div",{className:"py-2",children:[e.jsxs("button",{type:"button",onClick:()=>{me({slug:"",name:"Categorías"}),W(!1),o.trim().length>=2&&setTimeout(()=>{T(o)},150)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 ${x.slug===""?"bg-primary/10 text-primary font-medium":"customtext-neutral-dark"}`,children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsx("span",{className:"truncate",children:"Categorías"}),x.slug===""&&e.jsx("div",{className:"ml-auto",children:e.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),t.map(r=>e.jsxs("button",{type:"button",onClick:()=>{me({slug:r.slug,name:r.name}),W(!1),o.trim().length>=2&&setTimeout(()=>{T(o)},150)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 ${x.slug===r.slug?"bg-primary/10 text-primary font-medium":"customtext-neutral-dark"}`,children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-secondary p-2 rounded-full overflow-hidden",children:r.image?e.jsx("img",{src:`/api/categories/media/${r.image}`,alt:r.name,className:"w-full h-full object-cover",onError:s=>{s.target.style.display="none",s.target.parentNode.innerHTML=`
                                                            <div class="w-full h-full flex items-center justify-center customtext-neutral-dark">
                                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                                                                </svg>
                                                            </div>
                                                        `}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center customtext-neutral-dark",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})})}),e.jsx("span",{className:"truncate",children:r.name}),x.slug===r.slug&&e.jsx("div",{className:"ml-auto",children:e.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},r.id))]})})})]})};let ne=!1;if(m&&Array.isArray(m.roles)){const t=m.roles.map(r=>{var s;return(s=r.name)==null?void 0:s.toLowerCase()});ne=!t.includes("admin")&&!t.includes("root")}return e.jsxs("header",{className:`w-full top-0 left-0 z-50 transition-all duration-300 ${c?"fixed bg-primary shadow-lg":"relative bg-primary"}`,children:[e.jsxs("div",{className:"px-primary  bg-primary 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51]",children:e.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:Pe.APP_NAME,className:`min-h-10 max-h-10 lg:max-h-max lg:h-14 object-contain object-center ${(h==null?void 0:h.class_logo)||""}`,onError:t=>{t.target.onerror=null,t.target.src="/assets/img/logo-bk.svg"}})}),(h==null?void 0:h.showLoginCart)&&e.jsxs("div",{className:"flex gap-3 justify-end lg:hidden",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:()=>Te(!fe),children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M17 17L21 21",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19C15.4183 19 19 15.4183 19 11Z",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})})}),e.jsx("div",{className:`${b?"hidden":"flex"} items-center gap-4`,children:m?e.jsxs("div",{ref:X,className:"relative",children:[e.jsx("button",{"aria-label":"user",className:"flex items-center customtext-neutral-dark gap-2 hover:customtext-primary transition-all duration-300 relative group",onClick:()=>f(!z),children:e.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:m.uuid?e.jsxs("div",{className:"relative",children:[e.jsx(Se,{uuid:m.uuid,name:m.name,lastname:m.lastname,classCircleUser:"customtext-neutral-dark stroke-[1.5] border-neutral-dark ",className:"w-6 h-6 rounded-full object-cover   border-2 border-secondary ring-secondary transition-all duration-300"}),e.jsx("div",{className:"relative",style:{display:"none"},children:e.jsx(ie,{className:"customtext-neutral-dark  border-neutral-dark rounded-full   ring-neutral-dark transition-all duration-300",width:"1.5rem"})}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"customtext-neutral-dark border-2 border-neutral-dark rounded-full  ring-neutral-dark  transition-all duration-300",width:"1.5rem"}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})})}),e.jsx(D,{children:z&&e.jsx(_.div,{initial:"hidden",animate:"visible",exit:"exit",variants:ge,className:"absolute z-50 top-full -left-20 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-3",children:ne?je.map((t,r)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:s=>{s.preventDefault(),s.stopPropagation(),f(!1),setTimeout(()=>{t.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,onClick:s=>{s.stopPropagation(),f(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]})},r)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",onClick:t=>{t.stopPropagation(),f(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(Le,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),f(!1),setTimeout(()=>{oe()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(le,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}):e.jsx("a",{href:"/iniciar-sesion",className:"flex items-center customtext-neutral-dark hover:customtext-primary transition-all duration-300",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M17 8.5C17 5.73858 14.7614 3.5 12 3.5C9.23858 3.5 7 5.73858 7 8.5C7 11.2614 9.23858 13.5 12 13.5C14.7614 13.5 17 11.2614 17 8.5Z",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M19 20.5C19 16.634 15.866 13.5 12 13.5C8.13401 13.5 5 16.634 5 20.5",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})})}),e.jsxs("button",{"aria-label":"cart",onClick:()=>R(!0),className:"flex min-w-max items-center gap-2 font-medium text-sm relative hover:customtext-secondary transition-colors duration-300",children:[e.jsxs("div",{className:" text-sm leading-4 text-end inline",children:[e.jsx("span",{className:"block",children:"Carrito"}),e.jsx("strong",{children:`S/ ${Me(pe)}`})]}),e.jsx("div",{children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M8 16L16.7201 15.2733C19.4486 15.046 20.0611 14.45 20.3635 11.7289L21 6",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M6 6H22",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M6 22C7.10457 22 8 21.1046 8 20C8 18.8954 7.10457 18 6 18C4.89543 18 4 18.8954 4 20C4 21.1046 4.89543 22 6 22Z",stroke:"currentColor","stroke-width":"1.5"}),e.jsx("path",{d:"M17 22C18.1046 22 19 21.1046 19 20C19 18.8954 18.1046 18 17 18C15.8954 18 15 18.8954 15 20C15 21.1046 15.8954 22 17 22Z",stroke:"currentColor","stroke-width":"1.5"}),e.jsx("path",{d:"M8 20H15",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M2 2H2.966C3.91068 2 4.73414 2.62459 4.96326 3.51493L7.93852 15.0765C8.08887 15.6608 7.9602 16.2797 7.58824 16.7616L6.63213 18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})]})}),e.jsx("span",{className:"absolute bg-secondary -right-2 -top-3 inline-flex items-center justify-center w-5 h-5 text-xs  text-white rounded-md",children:xe})]}),e.jsx("button",{"aria-label":"Menú",onClick:()=>K(!L),className:"flex md:hidden items-center justify-center bg-primary rounded-lg w-auto h-auto  customtext-neutral-dark fill-neutral-dark transition-all duration-300 ",children:L?e.jsx(ce,{}):e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M4 5H20",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M4 12H20",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M4 19H20",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})})]}),e.jsxs("div",{className:"hidden md:block relative w-full max-w-sm ",ref:U,children:[e.jsxs("form",{onSubmit:be,role:"search",className:"flex items-center gap-0 bg-white rounded-full border ",children:[e.jsx("button",{type:"submit",className:"pl-3  customtext-neutral-dark rounded-full  hover:scale-105 transition-all duration-300 flex-shrink-0","aria-label":"Buscar",children:e.jsx(J,{size:20})}),e.jsx("input",{ref:Ee,type:"search",name:"search",placeholder:"Buscar",value:o,onChange:t=>re(t.target.value),onKeyDown:se,onFocus:()=>{o.trim().length>=2&&T(o)},className:"flex-1 py-3 pl-2 pr-4 font-medium text-sm focus:ring-0 customtext-neutral-dark placeholder:text-gray-500 focus:outline-none bg-transparent border-0",enterKeyHint:"search",inputMode:"search",autoComplete:"on",role:"searchbox","aria-label":"Estoy buscando..."}),e.jsx(Be,{})]}),e.jsx(D,{children:e.jsx(ae,{suggestions:u,isLoading:Y,onSelect:Z})})]}),h!=null&&h.showLoginCart?e.jsxs("div",{className:"hidden md:flex items-center  gap-8 relative text-sm",children:[e.jsx("p",{className:"cursor-pointer leading-4 text-sm customtext-neutral-dark whitespace-pre-line hover:customtext-secondary font-medium  transition-all duration-500 ",children:(()=>{var l;const t=((l=v.find(n=>n.correlative==="opening_hours"))==null?void 0:l.description)||"",[r,...s]=t.split(`
`);return e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:r}),s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),s.join(`
`)]}):null]})})()}),e.jsxs("p",{className:"cursor-pointer leading-4  text-end text-sm customtext-neutral-dark font-medium whitespace-pre-line hover:customtext-secondary transition-all duration-500",children:[e.jsx("span",{children:"Soporte 24/7"}),e.jsx("br",{}),e.jsxs("strong",{children:["  ",((we=v.find(t=>t.correlative==="support_phone"))==null?void 0:we.description)||""]})]}),e.jsxs("div",{ref:X,children:[m?e.jsxs("button",{"aria-label":"user",className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-secondary pr-6 transition-all duration-300 relative group",onClick:()=>f(!z),children:[e.jsx("span",{className:"hidden md:inline",children:m.name}),e.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:m.uuid?e.jsxs("div",{className:"relative",children:[e.jsx(Se,{uuid:m.uuid,name:m.name,lastname:m.lastname,classCircleUser:"customtext-neutral-dark stroke-[1.5] border-neutral-dark ",className:"w-8 h-8 rounded-full object-cover   border-2 border-secondary ring-secondary transition-all duration-300"}),e.jsxs("div",{className:"absolute -bottom-[-0.115rem] -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx(ie,{className:"customtext-primary border-2 border-primary rounded-full  ring-secondary group-hover:ring-green-300 transition-all duration-300"}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})})]}):e.jsxs("a",{href:"/iniciar-sesion",className:"flex customtext-neutral-dark font-medium leading-4 items-center gap-2 text-sm hover:customtext-secondary transition-colors duration-300",children:[e.jsxs("span",{className:"hidden md:inline",children:["Iniciar ",e.jsx("br",{})," ",e.jsx("strong",{children:"Sesión"})]}),e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M17 8.5C17 5.73858 14.7614 3.5 12 3.5C9.23858 3.5 7 5.73858 7 8.5C7 11.2614 9.23858 13.5 12 13.5C14.7614 13.5 17 11.2614 17 8.5Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M19 20.5C19 16.634 15.866 13.5 12 13.5C8.13401 13.5 5 16.634 5 20.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})]}),e.jsx(D,{children:z&&e.jsx(_.div,{initial:"hidden",animate:"visible",exit:"exit",variants:ge,className:"absolute z-50 top-full right-10 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-4",children:ne?je.map((t,r)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:s=>{s.preventDefault(),s.stopPropagation(),f(!1),setTimeout(()=>{t.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-secondary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,onClick:s=>{s.stopPropagation(),f(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-secondary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]})},r)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",onClick:t=>{t.stopPropagation(),f(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-secondary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(Le,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),f(!1),setTimeout(()=>{oe()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-secondary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(le,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}),e.jsxs("button",{"aria-label":"cart",onClick:()=>R(!0),className:"flex items-center gap-2 font-medium text-sm relative hover:customtext-secondary transition-colors duration-300",children:[e.jsxs("div",{className:"hidden text-sm leading-4 text-end md:inline",children:[e.jsx("span",{className:"block",children:"Mi Carrito"}),e.jsx("strong",{children:`S/ ${Me(pe)}`})]}),e.jsx("div",{children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M8 16L16.7201 15.2733C19.4486 15.046 20.0611 14.45 20.3635 11.7289L21 6",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M6 6H22",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M6 22C7.10457 22 8 21.1046 8 20C8 18.8954 7.10457 18 6 18C4.89543 18 4 18.8954 4 20C4 21.1046 4.89543 22 6 22Z",stroke:"currentColor","stroke-width":"1.5"}),e.jsx("path",{d:"M17 22C18.1046 22 19 21.1046 19 20C19 18.8954 18.1046 18 17 18C15.8954 18 15 18.8954 15 20C15 21.1046 15.8954 22 17 22Z",stroke:"currentColor","stroke-width":"1.5"}),e.jsx("path",{d:"M8 20H15",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M2 2H2.966C3.91068 2 4.73414 2.62459 4.96326 3.51493L7.93852 15.0765C8.08887 15.6608 7.9602 16.2797 7.58824 16.7616L6.63213 18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})]})}),e.jsx("span",{className:"absolute bg-secondary -right-5 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs  text-white rounded-lg",children:xe})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"cursor-pointer text-sm customtext-neutral-dark whitespace-pre-line hover:customtext-secondary font-normal  transition-all duration-500 ",children:(()=>{var l;const t=((l=v.find(n=>n.correlative==="opening_hours"))==null?void 0:l.description)||"",[r,...s]=t.split(`
`);return e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:r}),s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),s.join(`
`)]}):null]})})()}),e.jsxs("p",{className:"cursor-pointer text-sm customtext-neutral-dark font-normal whitespace-pre-line hover:customtext-secondary transition-all duration-500",children:[e.jsx("span",{children:"Soporte 24/7"}),e.jsx("br",{}),e.jsxs("strong",{children:["  ",((ke=v.find(t=>t.correlative==="support_phone"))==null?void 0:ke.description)||""]})]}),e.jsx("a",{"aria-label":"primary-button",className:`${h.class?h.class:"bg-secondary"} hidden lg:block px-6 py-2.5 text-white font-medium rounded-3xl hover:brightness-125 transition-colors duration-300`,target:"_blank",rel:"noopener noreferrer",href:G&&O?`https://api.whatsapp.com/send?phone=${encodeURIComponent(G)}&text=${encodeURIComponent(O)}`:"#",children:"Haz tu pedido"}),e.jsx("div",{className:"md:hidden relative w-full max-w-xl mx-auto",children:b?e.jsxs("div",{className:"relative w-full",children:[e.jsxs("form",{onSubmit:ye,role:"search",children:[e.jsx("input",{ref:ee,type:"search",name:"search",placeholder:"Buscar productos",value:o,onChange:t=>re(t.target.value),onKeyDown:se,onFocus:()=>{o.trim().length>=2&&T(o)},className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none",autoFocus:!0,enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos",onBlur:()=>{setTimeout(()=>{!o.trim()&&!E&&w(!1)},200)}}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{B(""),H(),w(!1)},className:"p-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-colors","aria-label":"Cerrar búsqueda",children:e.jsx(ce,{size:16})}),e.jsx("button",{type:"submit",className:`p-2 ${(h==null?void 0:h.backgroundColor)||"bg-primary"} text-white rounded-lg hover:bg-primary transition-colors`,"aria-label":"Buscar",children:e.jsx(J,{size:16})})]})]}),e.jsx(D,{children:e.jsx(ae,{suggestions:u,isLoading:Y,onSelect:Z,selectedIndex:y})})]}):e.jsx("button",{"aria-label":"Buscar productos",onClick:()=>{w(!0),setTimeout(()=>{ee.current&&ee.current.focus()},100)},className:"flex items-center justify-end w-full px-0 py-3",children:e.jsx(J,{className:"customtext-primary",size:28})})})]})]}),fe&&!De()&&e.jsx("div",{className:"block md:hidden mt-6 space-y-4",children:e.jsxs("div",{className:"w-full relative",children:[e.jsxs("form",{onSubmit:ye,role:"search",className:"relative w-full",children:[e.jsx("input",{type:"search",name:"search",placeholder:"Buscar",value:o,onChange:t=>re(t.target.value),onKeyDown:se,onFocus:()=>{o.trim().length>=2&&T(o)},className:"w-full pr-14 py-3 font-medium text-sm pl-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent focus:outline-none bg-gray-50",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-secondary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(J,{size:18})})]}),e.jsx(D,{children:e.jsx(ae,{suggestions:u,isLoading:Y,onSelect:Z,selectedIndex:y})})]})})]}),e.jsx(D,{children:L&&e.jsx(_.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"lg:hidden bg-transparent text-textWhite shadow-lg w-full min-h-screen absolute z-10 top-20",children:e.jsx(Ke,{search:o,setSearch:B,pages:g,items:p,onClose:()=>K(!L)})})}),e.jsx(Ie,{data:h,cart:I,setCart:A,modalOpen:M,setModalOpen:R})]})};export{$t as default};

import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BH53Isel.js";import{m as v}from"./main-BvVILmTO.js";import{S as w}from"./SalesRest-CemQ1aK4.js";import{S as k}from"./search-TwiiKGP5.js";import{c as n}from"./createLucideIcon-Cy5Ya80P.js";import{C as g}from"./circle-check-big-D6DM3vPb.js";import{C}from"./clock-BTrEpQej.js";import"./index-yBjzXJbu.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./BasicRest-B3rfI5GY.js";import"./index-CMHsc23u.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=n("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=n("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=n("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),E=new w,I=r=>{switch(String(r).toLowerCase()){case"recibido":return e.jsx(C,{className:"w-4 h-4"});case"procesando":return e.jsx(M,{className:"w-4 h-4"});case"en tránsito":return e.jsx(A,{className:"w-4 h-4"});case"entregado":return e.jsx(g,{className:"w-4 h-4"});default:return e.jsx(g,{className:"w-4 h-4"})}},j=(r="#111111",l=.1)=>`rgba(${parseInt(r.slice(1,3),16)}, ${parseInt(r.slice(3,5),16)}, ${parseInt(r.slice(5,7),16)}, ${l})`,V=()=>{var u;const[r,l]=a.useState(((u=v.GET)==null?void 0:u.code)??""),[t,c]=a.useState(null),[m,o]=a.useState(null),[d,x]=a.useState(!1),[y,h]=a.useState(!1),p=async s=>{if(s==null||s.preventDefault(),!!r.trim()){x(!0),h(!1),c(null),o(null);try{const{status:i,tracking:b}=await E.track(r);if(!i)throw new Error("Pedido no encontrado");c(i),o(b.sort((f,N)=>new Date(N.created_at)-new Date(f.created_at)))}catch{h(!0),c(null),o(null)}finally{x(!1)}}};return a.useEffect(()=>{r&&p()},[null]),e.jsx("div",{className:"min-h-screen bg-gray-50 p-[5%]",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-[5%]",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rastreo de Pedidos"}),e.jsx("p",{className:"text-gray-600",children:"Ingresa el código de tu pedido para ver su estado actual"})]}),e.jsx("div",{className:"mb-[5%]",children:e.jsx("div",{className:"py-6",children:e.jsxs("form",{className:"flex gap-3",onSubmit:p,children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"text",placeholder:"Ingresa el código del pedido (ej: 20250624142749044420)",value:r,onChange:s=>l(s.target.value),className:"w-full px-4 py-2 text-lg border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsxs("button",{type:"submit",disabled:d||!r.trim(),className:"px-6 py-2 bg-primary text-white rounded-lg  hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[d?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(k,{className:"w-4 h-4"}),!d&&"Buscar"]})]})})}),t&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border mb-8 border-l-4 border-l-green-500",style:{borderLeftColor:t.color},children:e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Estado Actual"}),e.jsx("p",{className:"text-2xl font-bold",style:{color:t.color},children:t.name}),e.jsx("p",{className:"text-gray-600 mt-1",children:t.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Última actualización"}),e.jsx("p",{className:"font-semibold",children:moment(t.created_at).format("YYYY-MM-DD")}),e.jsx("p",{className:"text-sm text-gray-600",children:moment(t.time).format("hh:mm a")})]})]})})}),y&&e.jsx("div",{className:"bg-white rounded-lg shadow-sm border mb-8 border-l-4 border-l-red-500",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsx(S,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Pedido no encontrado"}),e.jsxs("p",{className:"text-gray-600",children:["No se encontró información para el código: ",e.jsx("strong",{children:r})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Códigos de ejemplo: 20250624142749044420, 20250624142749044421"})]})}),m&&e.jsx("div",{children:e.jsxs("div",{className:"py-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Tracking de estados"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"}),e.jsx("div",{className:"space-y-6",children:m.map(s=>(console.log(s.created_at),e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{className:`relative z-10 flex items-center justify-center w-12 h-12 rounded-full border-4 border-white shadow-lg ${s.id==t.id?"ring-4 ring-opacity-20":""} `,style:{backgroundColor:s.color,"--tw-ring-color":j(s.color,.5)},children:e.jsx("div",{className:"text-white",children:I(s.name)})}),e.jsx("div",{className:"ml-6 flex-1",children:e.jsxs("div",{className:"bg-white rounded-lg border shadow-sm p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-bold",style:{backgroundColor:j(s.color),color:s.color,borderColor:s.color},children:s.name}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:moment(s.created_at).format("YYYY-MM-DD")}),e.jsx("p",{className:"text-xs text-gray-500",children:moment(s.created_at).format("hh:mm a")})]})]}),e.jsx("p",{className:"text-gray-700",children:s.description}),s.isActive&&e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 border border-green-200",children:"Estado Actual"})})]})})]},s.id)))})]})]})})]})})};export{V as default};

import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BOnQTV8N.js";import{I as Z}from"./ItemsRest-DvgvOR-1.js";import{S as V}from"./ProductCard-D_AgkLlk.js";import"./main-B6F2O9-U.js";import"./BlogCarousel-DCQ9UYu0.js";/* empty css               */import"./BlogCarrusel-klwTVD05.js";import"./ProductMakita-CuTJk-0k.js";import"./ProductNavigation-Cc2sVw8o.js";import"./CardProductKatya-ncpmQ0JU.js";import{C as z}from"./Number2Currency-D9Rjvh76.js";import{C as ss}from"./HeaderSearch-CLQ4L3XU.js";import{i as es}from"./tippy-react.esm-DmkRJDEW.js";/* empty css              */import rs from"./ProductNavigationSwiper-BGSuiSfv.js";import{C as as}from"./circle-check-DW_TmQ0Z.js";import{C as os}from"./chevron-up-Mt3xll-e.js";import{C as ts}from"./chevron-down-uIVDLcM-.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-BqhZrBN0.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./proxy-B0QLMKEh.js";import"./eye-ScgfreHn.js";import"./createLucideIcon-DfjclApS.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./General-BmbBKdsB.js";import"./PolicyModal-C80IvD61.js";import"./index-Chjiymov.js";import"./CartItemRow-Lh5OenLf.js";import"./package-DBFPPBi1.js";import"./trash-2-DU7LB6-f.js";import"./plus-CTIomuuF.js";import"./index-BZvh78jk.js";import"./adjustTextColor-DJKJvkxA.js";import"./ProductCardColors-CBPwFRtL.js";import"./navigation-BIDIUzpb.js";import"./create-element-if-not-defined-DUWlnlug.js";import"./arrow-left-n6ltb6Cc.js";import"./arrow-right-MB8dWH_Y.js";function Js({item:s,data:n,setCart:m,cart:i,textstatic:M,contacts:T}){var S,$,I,_,E,F;const x=new Z,[b,j]=l.useState(!1),[p,y]=l.useState({url:s==null?void 0:s.image,type:"main"}),[c,f]=l.useState(1),[w,v]=l.useState(s==null?void 0:s.slug),[o,B]=l.useState(s),q=r=>{let a=parseInt(r.target.value,10);(isNaN(a)||a<1)&&(a=1),a>10&&(a=10),f(a)},N=r=>{var a;return((a=T.find(t=>t.correlative===r))==null?void 0:a.description)||""};(S=M.find(r=>r.correlative=="detailproduct-relation-title"))==null||S.title;const[A,ls]=l.useState(!1),P=r=>{const a=h.find(u=>u.slug===w)||o||r,t=structuredClone(i),d=t.findIndex(u=>u.id==a.id);d==-1?t.push({...a,quantity:c}):t[d].quantity++,m(t),V.fire({title:"Producto agregado",text:`Se agregÃ³ ${o.name||r.name} al carrito`,icon:"success",showCancelButton:!0,confirmButtonText:"Abrir mini carrito",cancelButtonText:"Seguir comprando",reverseButtons:!0,timer:5e3}).then(u=>{u.isConfirmed&&j(!b)})},[R,H]=l.useState([]),[k,U]=l.useState([]),[C,L]=l.useState([]),[h,D]=l.useState([]);i==null||i.find(r=>r.id==(s==null?void 0:s.id)),l.useEffect(()=>{s!=null&&s.id&&(G(s),Q(s),K(s),J(s),X(s),v(s.slug))},[s]);const O=r=>{const a=h.find(t=>t.slug===r)||s;B(a),v(r),window.history.pushState({},"",`/item/${r}`)},W=(r,a)=>!r||r<=a?0:Math.round((r-a)/r*100),K=async r=>{try{const a={id:r==null?void 0:r.id};if(console.log(a),!await x.updateViews(a))return}catch{return}},Q=async r=>{try{const a={id:r==null?void 0:r.id},t=await x.verifyCombo(a);if(!t)return;const d=t[0].associated_items;H(Object.values(d))}catch{return}},G=async r=>{try{const a={id:r==null?void 0:r.id},t=await x.productsRelations(a);if(!t)return;U(Object.values(t))}catch{return}},J=async r=>{try{const a={slug:r==null?void 0:r.slug},t=await x.getColors(a);if(!t)return;L(t.variants)}catch{return}},X=async r=>{try{const a={slug:r==null?void 0:r.slug},t=await x.getSizes(a);if(!t)return;D(t)}catch{return}};R.reduce((r,a)=>r+parseFloat(a.final_price),0);const[g,Y]=l.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-primary 2xl:max-w-7xl 2xl:px-0 mx-auto pb-4 md:pb-6 xl:pb-8 bg-white",children:[e.jsx("div",{className:"bg-white rounded-xl py-4 md:py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 xl:gap-20 2xl:gap-16",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 order-2 lg:order-1 lg:w-20",children:[e.jsx("button",{onClick:()=>y({url:s==null?void 0:s.image,type:"main"}),className:`rounded-xl p-1 border-2 flex-shrink-0 ${p.url===(s==null?void 0:s.image)?"border-primary ":"border-gray-200"}`,children:e.jsx("img",{src:`/storage/images/item/${s==null?void 0:s.image}`,alt:"Main Thumbnail",className:"w-16 lg:w-20  aspect-[3/4] rounded-lg object-cover",onError:r=>r.target.src="/api/cover/thumbnail/null"})}),s==null?void 0:s.images.map((r,a)=>e.jsx("button",{onClick:()=>y({url:r.url,type:"gallery"}),className:`w-16 h-16 lg:w-20 lg:h-20 border-2 rounded-lg p-1 flex-shrink-0 ${p.url===r.url?"border-primary":"border-gray-200"}`,children:e.jsx("img",{src:`/storage/images/item/${r.url}`||"/api/cover/thumbnail/null",alt:`Thumbnail ${a+1}`,className:"w-full h-full object-cover",onError:t=>t.target.src="/api/cover/thumbnail/null"})},a))]}),e.jsx("div",{className:"flex-1 order-1 lg:order-2",children:e.jsx("img",{src:p.type==="main"?`/storage/images/item/${p.url}`:`/storage/images/item/${p.url}`,onError:r=>r.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full h-auto rounded-xl object-contain"})})]})}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"font-paragraph",children:[(s==null?void 0:s.brand)&&e.jsxs("p",{className:"customtext-neutral-light text-sm 2xl:text-lg",children:["Marca:"," ",e.jsx("span",{className:"customtext-neutral-dark",children:s==null?void 0:s.brand.name})]}),e.jsx("h1",{className:"customtext-neutral-dark text-3xl lg:text-4xl 2xl:text-5xl font-bold mt-2",children:s==null?void 0:s.name})]}),e.jsxs("div",{className:"flex flex-wrap customtext-neutral-light items-center gap-y-2 gap-x-8 text-sm font-paragraph",children:[e.jsxs("span",{className:"customtext-neutral-dark text-base 2xl:text-lg",children:["SKU:"," ",e.jsx("span",{className:"customtext-neutral-dark font-bold",children:s==null?void 0:s.sku})]}),e.jsxs("span",{className:"customtext-neutral-dark text-base 2xl:text-lg",children:["Disponibilidad:"," ",e.jsx("span",{className:"customtext-neutral-dark font-bold",children:(o==null?void 0:o.stock)>0?"En stock":"Agotado"})]})]}),((o==null?void 0:o.price)>0||(o==null?void 0:o.final_price)>0)&&e.jsxs("div",{className:"flex flex-col w-full xl:w-1/2 font-paragraph max-w-xl mt-5",children:[e.jsxs("p",{className:"text-base 2xl:text-lg customtext-neutral-dark opacity-70 font-medium",children:["Precio:"," ",e.jsxs("span",{className:"line-through",children:[z()," ",o==null?void 0:o.price]})]}),e.jsxs("div",{className:"flex flex-row items-center gap-4 relative",children:[e.jsxs("span",{className:"text-[40px] font-bold customtext-neutral-dark",children:[z()," ",o==null?void 0:o.final_price]}),e.jsxs("span",{className:"bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl text-base",children:["-",W(o==null?void 0:o.price,o==null?void 0:o.final_price),"%"]})]})]}),(s==null?void 0:s.summary)&&e.jsx("div",{className:"flex flex-col customtext-neutral-dark font-paragraph text-base 2xl:text-lg my-3",children:e.jsx("p",{children:s==null?void 0:s.summary})}),C.length>1&&e.jsxs("div",{className:"variants-color flex flex-col gap-4",children:[e.jsx("h3",{className:"w-full block font-medium customtext-neutral-dark text-base 2xl:text-lg",children:"Colores"}),e.jsx("div",{className:"flex gap-3 items-center justify-start w-full flex-wrap",children:C.map(r=>e.jsx(es,{content:r.color,children:e.jsx("a",{href:`/item/${r.slug}`,className:`variant-option rounded-full object-fit-cover transition-all duration-200 hover:scale-105 ${r.color===s.color?"active p-[2px] border-[2px] border-primary shadow-lg":"p-[2px] border-[2px] border-gray-200 hover:border-gray-400"}`,children:e.jsx("img",{className:"color-box rounded-full h-10 w-10 lg:h-12 lg:w-12 object-cover",src:`/storage/images/item/${r.texture||r.image}`,onError:a=>a.target.src="/api/cover/thumbnail/null",alt:`Color ${r.color}`})})},r.slug))})]}),h.length>0&&e.jsxs("div",{className:"variants-color flex flex-col gap-4",children:[e.jsx("h3",{className:"w-full block font-medium customtext-neutral-dark text-base 2xl:text-lg",children:"Tallas"}),e.jsx("div",{className:"flex gap-3 items-center justify-start w-full flex-wrap",children:h.map(r=>e.jsx("button",{onClick:()=>O(r.slug),className:`relative min-w-12 h-12 px-3 flex items-center justify-center text-center font-medium rounded-xl border-2 transition-all duration-200 hover:shadow-md ${w===r.slug?"border-primary bg-primary text-white shadow-lg transform scale-105":"border-gray-200 bg-white customtext-neutral-dark hover:border-gray-300 hover:bg-gray-50"}`,children:r.size},r.slug))})]}),e.jsxs("div",{className:"flex items-center mt-8 gap-4",children:[e.jsx("h3",{className:"font-medium customtext-neutral-dark text-base 2xl:text-lg",children:"Cantidad"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center border-2 border-gray-200 rounded-xl overflow-hidden bg-white",children:[e.jsx("button",{type:"button",onClick:()=>f(Math.max(1,c-1)),disabled:c<=1,className:"w-12 h-12 flex items-center justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:e.jsx("svg",{className:"w-4 h-4 customtext-neutral-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("input",{type:"number",value:c,onChange:q,min:"1",max:"10",className:"w-16 h-12 customtext-neutral-dark text-center bg-white outline-none appearance-none font-medium text-lg border-none"}),e.jsx("button",{type:"button",onClick:()=>f(Math.min(10,c+1)),disabled:c>=10,className:"w-12 h-12 flex items-center justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:e.jsx("svg",{className:"w-4 h-4 customtext-neutral-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),e.jsx("span",{className:"text-sm customtext-neutral-light",children:"MÃ¡ximo 10 unidades"})]})]}),(n==null?void 0:n.button_buy)&&e.jsx("button",{onClick:()=>{P(s)},disabled:(o==null?void 0:o.stock)<=0,className:`w-full font-paragraph text-base 2xl:text-lg py-3 font-semibold rounded-3xl transition-all duration-300 mt-3 ${(o==null?void 0:o.stock)>0?"bg-accent text-white hover:opacity-90 hover:shadow-lg transform hover:scale-[1.02]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:(o==null?void 0:o.stock)>0?"Agregar al carrito":"Producto agotado"}),(n==null?void 0:n.button_consultation)&&e.jsx("a",{href:`https://api.whatsapp.com/send?phone=${N("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo cotizar el siguiente producto:

ð¦ Producto: ${s==null?void 0:s.name}
ð¢ SKU: ${s==null?void 0:s.sku}
${s!=null&&s.color?`ð¨ Color: ${s==null?void 0:s.color}
`:""}${o!=null&&o.size?`ð Talla: ${o==null?void 0:o.size}
`:""}ð Cantidad: ${c}

Â¿PodrÃ­an enviarme mÃ¡s informaciÃ³n y el precio?`)}`,target:"_blank",className:"w-full font-paragraph py-3 text-base 2xl:text-lg font-semibold rounded-3xl transition-all duration-300 mt-3 bg-primary text-white hover:bg-primary hover:shadow-lg transform hover:scale-[1.02] flex items-center justify-center gap-2",children:"Cotizar este producto"}),(($=s==null?void 0:s.specifications)==null?void 0:$.length)>0&&e.jsx("div",{className:"flex-1 w-full mt-5 2xl:mt-8",children:e.jsxs("div",{className:"bg-[#F7F9FB] rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold text-lg xl:text-xl 2xl:text-2xl mb-4 customtext-neutral-dark font-paragraph",children:"Especificaciones principales"}),e.jsx("ul",{className:`space-y-1  customtext-neutral-light  mb-4 list-disc transition-all duration-300 ${g?"max-h-full":"max-h-20 overflow-hidden"}`,style:{listStyleType:"disc"},children:s==null?void 0:s.specifications.map((r,a)=>r.type==="principal"&&e.jsxs("li",{className:"gap-2 customtext-primary opacity-85 flex flex-row items-start",children:[e.jsx(as,{className:"customtext-primary mt-1 min-w-4 min-h-4 max-w-4 max-h-4"}),r.description]},a))}),e.jsxs("button",{className:"font-semibold flex flex-row gap-2 items-center text-base xl:text-[17px] 2xl:text-xl mb-4 customtext-neutral-dark font-paragraph pb-2 border-b border-neutral-dark",onClick:()=>Y(!g),children:[g?"Ver menos":"Ver mÃ¡s especificaciones",g?e.jsx(os,{className:"w-4 h-4"}):e.jsx(ts,{className:"w-4 h-4"})]})]})}),e.jsx("div",{className:"w-full mt-5",children:e.jsx("a",{href:`https://api.whatsapp.com/send?phone=${N("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo mayor informaciÃ³n acerca del producto: ${s==null?void 0:s.name}`)}`,target:"_blank",children:e.jsxs("div",{className:"bg-[#F7F9FB] flex flex-row rounded-xl p-5 gap-3",children:[e.jsx("img",{src:"/assets/img/salafabulosa/whatsapp.png",onError:r=>r.target.src="assets/img/noimage/no_imagen_circular.png",className:"w-12 h-12 object-contain",loading:"lazy"}),e.jsx("div",{className:"customtext-neutral-dark font-paragraph text-base  2xl:text-xl font-semibold",children:e.jsxs("p",{children:["Â¿Tienes dudas sobre este producto? Haz",e.jsx("span",{className:"underline"}),"clic aquÃ­ y chatea con nosotros por WhatsApp"]})})]})})})]})]})}),e.jsxs("div",{className:"grid gap-10 lg:gap-20 md:grid-cols-2 bg-white rounded-xl p-4 sm:p-8 font-paragraph",children:[((I=s==null?void 0:s.specifications)==null?void 0:I.length)>0&&s.specifications.some(r=>r.type==="general")&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Especificaciones"}),e.jsx("div",{className:"space-y-1",children:s.specifications.map((r,a)=>r.type==="general"&&e.jsxs("div",{className:`grid grid-cols-2 gap-4 p-3 ${a%2===0?"bg-[#F7F9FB]":"bg-white"}`,children:[e.jsx("div",{className:"customtext-neutral-dark ",children:r.title}),e.jsx("div",{className:"customtext-neutral-dark opacity-75",children:r.description})]},a))})]}),(n==null?void 0:n.show_additional_info)&&e.jsxs("div",{className:"font-paragraph",children:[((_=s==null?void 0:s.description)==null?void 0:_.replace(/<[^>]+>/g,""))&&e.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"InformaciÃ³n adicional"}),e.jsxs("div",{className:`space-y-2 ${A?"":"max-h-none overflow-hidden"}`,children:[((E=s==null?void 0:s.description)==null?void 0:E.replace(/<[^>]+>/g,""))&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este artÃ­culo"}),e.jsx("div",{className:"customtext-neutral-dark",dangerouslySetInnerHTML:{__html:s==null?void 0:s.description}})]}),((F=s==null?void 0:s.features)==null?void 0:F.length)>0&&e.jsx("div",{className:"pl-10",children:e.jsx("ul",{className:"list-disc pl-5 space-y-2",children:s==null?void 0:s.features.map((r,a)=>e.jsx("li",{className:"customtext-neutral-dark",children:r.feature},a))})})]})]})]})]}),k.length>0&&e.jsx("div",{className:"-mt-10 mb-10 p-4",children:e.jsx(rs,{data:{title:"Productos relacionados",link_catalog:"/catalogo"},items:k,cart:i,setCart:m})}),e.jsx(ss,{cart:i,data:n,setCart:m,modalOpen:b,setModalOpen:j})]})}export{Js as default};

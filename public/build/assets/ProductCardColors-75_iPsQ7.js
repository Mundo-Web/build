import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r as m}from"./index-BH53Isel.js";import"./ProductCard-C2H10lUi.js";import{I as h}from"./ItemsRest-DBSKIEqF.js";import{i as a}from"./tippy-react.esm-BWiGTO87.js";/* empty css              */import{P as o}from"./plus-Bot15Khs.js";const F=({product:e,setCart:g,cart:n})=>{const x=new h,[t,c]=m.useState([]),f=async l=>{try{const i={slug:l==null?void 0:l.slug,limit:4},r=await x.getVariations(i);if(!r)return;c(r.variants)}catch{return}};return m.useEffect(()=>{e!=null&&e.id&&f(e)},[e]),n==null||n.find(l=>l.id==(e==null?void 0:e.id)),(e==null?void 0:e.discount)>0?e==null||e.discount:e==null||e.price,s.jsx("div",{className:"group w-full transition-transform duration-300 hover:scale-105 flex-shrink-0 font-font-general customtext-primary cursor-pointer",children:s.jsxs("div",{className:"bg-white p-0 sm:p-4",children:[s.jsx("a",{href:`/item/${e.slug}`,children:s.jsxs("div",{className:"relative",children:[e.discount!=null&&!isNaN(e.discount)&&s.jsxs("span",{className:"absolute top-8 right-0 bg-[#F93232] text-white text-base font-bold px-2 py-1 rounded-l-full",children:["-",Math.abs(Number(100-Number((e==null?void 0:e.discount)*100/(e==null?void 0:e.price)))).toFixed(0),"%"]}),s.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden flex items-center justify-center  bg-secondary",children:s.jsx("img",{src:`/storage/images/item/${e.image}`,onError:l=>l.target.src="/assets/img/noimage/no_img.jpg",alt:e.name,className:"w-full h-full object-cover",loading:"lazy"})})]})}),s.jsxs("div",{className:"py-4",children:[s.jsx("p",{className:"text-sm sm:text-base font-normal mb-1",children:e.category.name}),s.jsxs("div",{className:"hidden md:flex gap-2 sm:gap-3 items-center justify-start w-full flex-wrap py-2",children:[t.slice(0,4).map(l=>s.jsx(a,{content:l.color,children:s.jsx("a",{href:`/item/${l.slug}`,className:"variant-option rounded-full border-2 border-[#e1e0e0] object-fit-cover bg-[#F5F5F5]",children:s.jsx("img",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 object-fit-cover",src:`/storage/images/item/${l.texture||l.image}`,alt:l.color,onError:i=>i.target.src="/api/cover/thumbnail/null"})})},l.slug)),s.jsx(a,{content:e.color,children:s.jsx("a",{href:`/item/${e.slug}`,className:"variant-option  rounded-full border-2 border-[#e1e0e0] object-fit-cover bg-[#F5F5F5]",children:s.jsx("div",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 flex flex-col justify-center items-center",children:s.jsx(o,{})})},e.slug)})]}),s.jsxs("div",{className:"flex md:hidden gap-2 sm:gap-3 items-center justify-start w-full flex-wrap py-2",children:[t.slice(0,3).map(l=>s.jsx(a,{content:l.color,children:s.jsx("a",{href:`/item/${l.slug}`,className:"variant-option rounded-full border-2 border-[#e1e0e0]  object-fit-cover bg-[#F5F5F5]",children:s.jsx("img",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 object-fit-cover",src:`/storage/images/item/${l.texture||l.image}`,alt:l.color,onError:i=>i.target.src="/api/cover/thumbnail/null"})})},l.slug)),s.jsx(a,{content:e.color,children:s.jsx("a",{href:`/item/${e.slug}`,className:"variant-option  rounded-full border-2 border-[#e1e0e0] object-fit-cover bg-[#F5F5F5]",children:s.jsx("div",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 flex flex-col justify-center items-center",children:s.jsx(o,{})})},e.slug)})]}),s.jsxs("a",{href:`/item/${e.slug}`,children:[s.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold mb-2 line-clamp-2 leading-tight",children:e.name}),s.jsxs("div",{className:"flex items-baseline gap-4 mt-4",children:[s.jsxs("span",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:["S/ ",e.final_price]}),e.discount!=null&&!isNaN(e.discount)&&s.jsxs("span",{className:"text-xs sm:text-base font-bold line-through opacity-60",children:["S/ ",e.price]})]})]})]})]})},e.id)};export{F as P};

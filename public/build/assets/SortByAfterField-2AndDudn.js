const u=s=>{const c=Object.fromEntries(s.map(e=>[e.id,e])),d=new Set,t=[],a=new Set;function i(e,r=new Set){if(!d.has(e.id)){if(r.has(e.id)){console.warn("ğŸ”„ Circular reference detected in component chain:",Array.from(r),"â†’",e.id),t.push(e),d.add(e.id);return}if(e.after_component){const n=c[e.after_component];if(n){const f=new Set(r);f.add(e.id),i(n,f)}else{a.add(e);return}}t.push(e),d.add(e.id)}}s.forEach(e=>{i(e)});const o=Array.from(a).sort((e,r)=>new Date(e.created_at)-new Date(r.created_at)).filter(e=>!d.has(e.id));return[...t,...o]};export{u as S};

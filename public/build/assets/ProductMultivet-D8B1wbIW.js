import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r}from"./index-BOnQTV8N.js";import{C as M}from"./CardProductMultivet-DEJJ6aW6.js";import"./CardProductKatya-ncpmQ0JU.js";import{u as N}from"./use-in-view-DtBxy-1R.js";import{m as o}from"./proxy-B0QLMKEh.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./circle-chevron-right-Cragr8lM.js";import"./createLucideIcon-DfjclApS.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";const R=({product:e,data:i,favorites:f=[],setFavorites:b})=>{var g;const[m,v]=r.useState(!1);console.log("CardProductKatya product:",e),f.some(a=>a.id===(e==null?void 0:e.id));const x=()=>{const a=(e==null?void 0:e.slug)||(e==null?void 0:e.id);window.location.href=`/item/${a}`},l=parseFloat((e==null?void 0:e.price)||0),t=parseFloat((e==null?void 0:e.final_price)||0);parseFloat((e==null?void 0:e.discount)||0);const y=parseFloat((e==null?void 0:e.discount_percent)||0),h=l>0&&t>0&&l>t||y>0,u=(h&&l>0?Math.round((l-t)/l*100):y)>=20||(e==null?void 0:e.offering)===!0&&h;return s.jsxs("div",{className:"bg-white group rounded-3xl shadow-lg border-2 overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer flex flex-col h-full relative max-w-sm mx-auto",onClick:x,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[u&&s.jsx("div",{className:"absolute top-0 right-0 z-20",children:s.jsx("div",{className:"customtext-secondary bg-primary text-base font-bold px-6 py-2 rounded-bl-3xl rounded-tr-3xl",children:"SuperAhorro"})}),s.jsxs("div",{className:"relative bg-gray-50 flex items-center justify-center p-8 h-80 ",children:[s.jsx("img",{src:e!=null&&e.image?`/api/items/media/${e.image}`:"/assets/img/noimage/no_img.jpg",alt:(e==null?void 0:e.name)||"Producto",className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-500",onError:a=>{a.target.src="/assets/img/noimage/no_img.jpg"}}),s.jsx("div",{className:"absolute inset-0  transition-all duration-300 flex items-end justify-center",children:s.jsx("button",{onClick:a=>{a.stopPropagation(),x()},className:"opacity-0 w-10/12 group-hover:opacity-100 bg-neutral-dark text-white px-6 py-3.5 rounded-full font-bold shadow-lg transition-all duration-300 transform scale-100 group-hover:scale-100 hover:bg-secondary",children:"VER PRODUCTO"})})]}),s.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[s.jsx("div",{className:"mb-3",children:s.jsx("span",{className:"text-sm font-bold customtext-neutral-light uppercase line-clamp-1 tracking-wide",children:((g=e==null?void 0:e.brand)==null?void 0:g.name)||(e==null?void 0:e.brand)||"ARO"})}),s.jsx("h3",{className:"text-2xl font-bold line-clamp-2 customtext-neutral-dark mb-2 leading-tight",children:(e==null?void 0:e.name)||"Filete de tilapia 5-7 Aro"}),s.jsx("div",{className:"customtext-neutral-dark line-clamp-2 text-lg mb-6",children:e!=null&&e.description?s.jsx("div",{dangerouslySetInnerHTML:{__html:e.description.substring(0,100)+"..."}}):s.jsx("p",{children:(e==null?void 0:e.extract)||(e==null?void 0:e.presentation)||"Bolsa x 1kg."})}),s.jsx("div",{className:"space-y-4",children:s.jsx(s.Fragment,{children:s.jsx("div",{className:"text-left",children:s.jsxs("div",{className:"text-3xl font-bold customtext-secondary",children:["S/ ",t>0?t.toFixed(2):l.toFixed(2)]})})})})]})]})},K=({items:e,data:i,favorites:f=[],setFavorites:b})=>{const[m,v]=r.useState("Todos"),x=r.useRef(null),l=r.useRef(null),t=r.useRef(null),y=N(x,{once:!0}),h=N(l,{once:!0}),w=N(t,{once:!0});console.log("ProductMultivet items:",e),console.log("ProductMultivet data:",i);const u=(i==null?void 0:i.cardType)||"multivet",g=r.useMemo(()=>{if(!e||e.length===0)return["Todos"];const n=["Todos"],d=new Set;return e.forEach(c=>{if(c.category){const j=c.category.name||c.category;d.has(j)||(d.add(j),n.push(j))}}),n},[e]),a=r.useMemo(()=>!e||e.length===0?[]:m==="Todos"?e:e.filter(n=>{var c;return(((c=n.category)==null?void 0:c.name)||n.category)===m}),[e,m]),C={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.2}}},P={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.7,ease:"easeOut"}}},k={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,delay:.2,ease:"easeOut",staggerChildren:.1}}},_={hidden:{opacity:0,y:40,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:"easeOut"}}};return!e||e.length===0?s.jsx("div",{className:"hidden w-full px-primary p-4 mx-auto"}):s.jsx(o.section,{ref:x,variants:C,initial:"hidden",animate:y?"visible":"hidden",className:`py-16 bg-gray-50 ${(i==null?void 0:i.class_section)||""}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs(o.div,{ref:l,className:"text-center mb-12",children:[s.jsx(o.h2,{variants:P,initial:"hidden",animate:h?"visible":"hidden",className:"text-3xl md:text-5xl font-bold customtext-secondary mb-4 font-title",children:(i==null?void 0:i.title)||"Productos Destacados"}),s.jsx(o.p,{variants:P,initial:"hidden",animate:h?"visible":"hidden",className:"customtext-neutral-light text-lg max-w-2xl mx-auto",children:(i==null?void 0:i.description)||"Descubre nuestra selecciÃ³n de productos veterinarios de las mejores marcas nacionales e internacionales"})]}),g.length>1&&s.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:g.map(n=>s.jsx("button",{onClick:()=>v(n),className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${m===n?"bg-secondary text-white shadow-lg":"bg-white customtext-neutral-light hover:bg-primary hover:text-white border border-gray-300"}`,children:n},n))}),s.jsx(o.div,{ref:t,variants:k,initial:"hidden",animate:w?"visible":"hidden",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:a.map((n,d)=>s.jsx(o.div,{variants:_,className:"flex",children:u==="katya"?s.jsx(R,{product:n,data:i,favorites:f,setFavorites:b}):s.jsx(M,{product:n,data:i,favorites:f,setFavorites:b})},n.id||d))}),(i==null?void 0:i.link_catalog)&&s.jsx("div",{className:"text-center mt-12",children:s.jsx(o.a,{href:i.link_catalog,className:`inline-flex items-center gap-3 px-8 py-4 bg-primary font-bold customtext-primary  rounded-lg hover:bg-secondary hover:text-white transform hover:scale-105 transition-all duration-300 ${(i==null?void 0:i.class_button)||""}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:(i==null?void 0:i.text_button)||"Ver todos los productos"})})]})})};export{K as default};

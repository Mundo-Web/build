import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as m,R as Vt}from"./index-BOnQTV8N.js";import"./ProductNavigation-DE-FbdSa.js";import{I as Xt}from"./ItemsRest-aXRCH7e7.js";import{A as P}from"./ArrayJoin-2k6ba35P.js";import{S as nt}from"./SelectForm-DbFcgKj2.js";import{m as f}from"./main-B6F2O9-U.js";import{P as Kt}from"./ProductCardSelector-Bnxl-8br.js";import"./CartKuchara-D9l7c7at.js";import"./HeaderSearch-BKNHzMkQ.js";import"./CardProductKatya-ncpmQ0JU.js";import"./HeaderBananaLab-Dn7K5qxL.js";import{C as v}from"./Number2Currency-ld0bFawA.js";/* empty css              */import{m as r}from"./proxy-8H4LMZAz.js";import{L as Ut}from"./list-filter-B_9H95Vt.js";import{S as Wt}from"./sliders-vertical-BKVsqP9q.js";import{F as Jt}from"./filter-BEzH_gaL.js";import{P as de}from"./package-DBFPPBi1.js";import{C as H}from"./chevron-down-uIVDLcM-.js";import{A as j}from"./index-DBRilyZQ.js";import{S as z}from"./search-BQ59Robe.js";import{C as B}from"./circle-check-DW_TmQ0Z.js";import{T as ot}from"./tag-Dgi-uTqk.js";import{S as ct}from"./store-DCbpAdsr.js";import{L as dt}from"./layers-DAZbsfi5.js";import{G as me}from"./grid-3x3-BmM0xOzs.js";import{T as mt}from"./trending-up-BKS7zL0o.js";import{C as ue}from"./coffee-Cm2VcPtV.js";import{S as Yt}from"./star-DU-S9B50.js";import{X as $}from"./x-fof_H3Vv.js";import{H as Zt}from"./hash-B-gZU8HC.js";import{T as ut}from"./trash-2SBNsdcL.js";import{S as xt}from"./shopping-bag-C59bLmNC.js";import{S as ht}from"./sparkles-DvmvZ6mJ.js";import{C as Qt}from"./chevron-left-JcR9Fe4w.js";import{C as Dt}from"./chevron-right-Cug7tVUE.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./eye-ScgfreHn.js";import"./createLucideIcon-DfjclApS.js";import"./BasicRest-BML1C-ua.js";import"./BooleanLimit-D-OsQsek.js";import"./check-D5vaIe6v.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./preload-helper-BfFHrpNk.js";import"./PolicyModal-C80IvD61.js";import"./index-B6ujFmsw.js";import"./index-Chjiymov.js";import"./CartItemRow-CpDVeE23.js";import"./tippy-react.esm-DmkRJDEW.js";import"./index-pSueRYGM.js";import"./bed-D_dyLoh5.js";import"./trash-2-DU7LB6-f.js";import"./calendar-BSC6xbA7.js";import"./moon-BU5XInRR.js";import"./users-w-WaEtvX.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./shopping-cart-DLRnxGTD.js";import"./arrow-right-MB8dWH_Y.js";import"./General-CE1RDd44.js";import"./resolve-elements-WL2ErOKm.js";const te=new Xt,x={container:{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"}},section:{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"}},item:{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.2,ease:"easeOut"}},hover:{scale:1.02,y:-2,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}},d={filterContainer:"backdrop-blur-xl bg-gradient-to-br from-white/95 via-white/90 to-white/85 border border-gray-200/60 rounded-2xl shadow-2xl shadow-gray-900/10",filterHeader:"bg-white border-b border-gray-200/60 rounded-t-2xl",filterSection:"group transition-all duration-300 hover:bg-gradient-to-r hover:from-gray-50/60 hover:to-blue-50/40 rounded-xl",filterButton:"w-full flex items-center justify-between p-4 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 group",filterContent:"bg-gradient-to-b from-white/90 to-gray-50/50 rounded-xl border border-gray-200/40 backdrop-blur-sm",searchInput:"w-full pl-12 pr-4 py-3 bg-white/90 backdrop-blur-sm border border-gray-200/60 rounded-xl focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all duration-300 placeholder:customtext-neutral-dark",checkbox:"min-h-5 min-w-5 rounded-lg border-2 border-gray-300 text-blue-600 focus:ring-blue-500/30 focus:ring-2 transition-all duration-200 hover:border-blue-400",label:"flex items-center gap-3 py-0 px-3 rounded-lg transition-all duration-200 hover:bg-gradient-to-r hover:from-blue-50/60 hover:to-indigo-50/40 cursor-pointer group"},qt=({delay:T=0})=>e.jsx(r.div,{className:"group w-full h-full",initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:T,duration:.6,ease:"easeOut"},children:e.jsx("div",{className:"px-2 h-full",children:e.jsx("div",{className:"bg-white rounded-3xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden h-full",children:e.jsxs("div",{className:"flex flex-col h-[400px] lg:h-[460px] xl:h-[400px] 2xl:h-[430px]",children:[e.jsxs("div",{className:"relative flex-1 bg-gray-100 rounded-t-3xl overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 via-gray-100 to-gray-200",children:[e.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2.5s_infinite] bg-gradient-to-r from-transparent via-white/70 to-transparent transform skew-x-12"}),e.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_3s_infinite] bg-gradient-to-r from-transparent via-blue-100/30 to-transparent transform skew-x-12",style:{animationDelay:"0.5s"}})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(r.div,{animate:{scale:[1,1.1,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx(xt,{className:"w-12 h-12 text-gray-300"})})}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("div",{className:"h-6 w-16 bg-gray-300 rounded-full animate-pulse"})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full animate-pulse"})})]}),e.jsxs("div",{className:"p-4 space-y-3 bg-white flex-shrink-0",children:[e.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded-full animate-pulse"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 w-full bg-gray-300 rounded animate-pulse"}),e.jsx("div",{className:"h-4 w-3/4 bg-gray-300 rounded animate-pulse"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-5 w-24 bg-gray-400 rounded animate-pulse"})]}),e.jsx("div",{className:"h-10 w-10 bg-gray-300 rounded-xl animate-pulse"})]}),e.jsxs("div",{className:"flex items-center space-x-1 pt-1",children:[[1,2,3,4,5].map(o=>e.jsx("div",{className:"h-3 w-3 bg-gray-200 rounded-full animate-pulse"},o)),e.jsx("div",{className:"h-3 w-8 bg-gray-200 rounded animate-pulse ml-2"})]})]})]})})})}),fa=({items:T,data:o,filteredData:N,cart:V,setCart:M,setFavorites:se,favorites:pt,onClickTracking:gt})=>{var Me,Ge,Oe,Re,ze,Ve,Xe,Ke,Ue,We,Je,Ye,Ze,Qe,De,qe,et,tt,st,at,it,rt,lt;const W=[{value:"created_at:desc",label:"Más reciente"},{value:"created_at:asc",label:"Mas antiguo"},{value:"final_price:asc",label:"Precio: Menor a Mayor"},{value:"final_price:desc",label:"Precio: Mayor a Menor"},{value:"name:asc",label:"Nombre: A-Z"},{value:"name:desc",label:"Nombre: Z-A"},{value:"most_sold:desc",label:"Más vendidos"},{value:"views:desc",label:"Más visitados"},{value:"best_discount:desc",label:"Mejores ofertas"},{value:"featured:desc",label:"Destacados"},{value:"offering:desc",label:"En oferta"}],[ss,as]=m.useState(null),[G,he]=m.useState([]),[J,xe]=m.useState([]),[O,pe]=m.useState([]),[X,ft]=m.useState([]),[Y,ge]=m.useState([]),[is,fe]=m.useState([]),[bt,yt]=m.useState([]),[be,jt]=m.useState([]),[rs,ls]=m.useState(null),wt=[{min:0,max:50,label:`Hasta ${v()} 50`},{min:50,max:100,label:`${v()} 50 - ${v()} 100`},{min:100,max:250,label:`${v()} 100 - ${v()} 250`},{min:250,max:500,label:`${v()} 250 - ${v()} 500`},{min:500,max:1e3,label:`${v()} 500 - ${v()} 1.000`},{min:1e3,max:2e3,label:`${v()} 1.000 - ${v()} 2.000`},{min:2e3,max:5e3,label:`${v()} 2.000 - ${v()} 5.000`},{min:5e3,max:999999,label:`Desde ${v()} 5.000`}],[g,vt]=m.useState(()=>typeof window<"u"&&window.innerWidth>=1024?{marca:!1,precio:!1,categoria:!1,subcategoria:!1,colores:!1,coleccion:!1,tienda:!1,amenidades:!1}:{marca:!1,precio:!1,categoria:!1,subcategoria:!1,colores:!1,coleccion:!1,tienda:!1,amenidades:!1}),[n,_]=m.useState({collection_id:[],category_id:[],brand_id:[],subcategory_id:[],store_id:[],tag_id:f.GET.tag?f.GET.tag.split(","):[],amenity_id:f.GET.amenity?f.GET.amenity.split(","):[],price:[],name:f.GET.search||null,sort:(()=>{if(f.GET.sortBy){const t=f.GET.sortBy;let s=W.find(a=>a.value===t);if(s||(s=W.find(a=>a.label.toLowerCase()===t.toLowerCase())),s){const[a,i]=s.value.split(":");return[{selector:a,desc:i==="desc"}]}}return[{selector:"final_price",desc:!0}]})()}),Nt=async()=>{try{const t={};if(f.GET.category&&(t.category_slugs=f.GET.category),f.GET.brand&&(t.brand_slugs=f.GET.brand),f.GET.subcategory&&(t.subcategory_slugs=f.GET.subcategory),f.GET.collection&&(t.collection_slugs=f.GET.collection),f.GET.store&&(t.store_slugs=f.GET.store),Object.keys(t).length>0){const s=await te.convertSlugs(t);if(s.status===200){const a={...n,category_id:Array.isArray(s.data.category_ids)?s.data.category_ids:s.data.category_ids?[s.data.category_ids]:[],brand_id:f.GET.brand?[f.GET.brand]:[],subcategory_id:Array.isArray(s.data.subcategory_ids)?s.data.subcategory_ids:s.data.subcategory_ids?[s.data.subcategory_ids]:[],collection_id:Array.isArray(s.data.collection_ids)?s.data.collection_ids:s.data.collection_ids?[s.data.collection_ids]:[],store_id:Array.isArray(s.data.store_ids)?s.data.store_ids:s.data.store_ids?[s.data.store_ids]:[]};_(a)}}}catch(t){console.error("❌ Error converting slugs to IDs:",t)}},[_t,ae]=m.useState([]),[K,ye]=m.useState([]),[je,we]=m.useState(!0),[U,ve]=m.useState(!1),[ie,Ne]=m.useState(!1),[kt,Z]=m.useState(!1),[b,_e]=m.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:24,from:0,to:0}),ke=t=>{const s=[];if(t.sort&&Array.isArray(t.sort)){const a=["featured","offering","is_new","recommended"];t.sort.forEach(i=>{a.includes(i.selector)&&s.push([i.selector,"=",1])})}if(t.collection_id.length>0){const a=t.collection_id.map(i=>{var l;return["collection.id","=",((l=X.find(c=>c.slug===i))==null?void 0:l.id)||i]});s.push(P(a,"or"))}if(t.category_id.length>0){const a=t.category_id.map(i=>["category.id","=",i]);s.push(P(a,"or"))}if(t.subcategory_id.length>0){const a=t.subcategory_id.map(i=>["subcategory.id","=",i]);s.push(P(a,"or"))}if(t.brand_id.length>0){const a=t.brand_id.map(i=>{const l=G.find(c=>c.slug===i);return l?["brand.slug","=",l.slug]:["brand.slug","=",i]});s.push(P(a,"or"))}if(t.store_id.length>0){const a=t.store_id.map(i=>{var l;return["store.id","=",((l=Y.find(c=>c.slug===i))==null?void 0:l.id)||i]});s.push(P(a,"or"))}if(t.tag_id&&t.tag_id.length>0){const a=t.tag_id.map(i=>["item_tag.tag_id","=",i]);s.push(P(a,"or"))}if(t.amenity_id&&t.amenity_id.length>0){const a=t.amenity_id.map(i=>["item_amenity.amenity_id","=",i]);s.push(P(a,"or"))}if(t.price&&t.price.length>0){const a=t.price.map(i=>["and",[["final_price",">=",i.min],"and",["final_price","<=",i.max]]]);s.push(P(a,"or"))}if(t.name){const a=[["name","contains",t.name],"or",["summary","contains",t.name],"or",["description","contains",t.name]];s.push(a)}return P(s,"and")},Ce=t=>[["name","contains",t],"or",["summary","contains",t],"or",["description","contains",t]],[I,re]=m.useState(!0),[Ct,Q]=m.useState(null),R=t=>{if(!t||t.length<2||!I)return null;const s=t.toLowerCase().trim(),a=O.filter(u=>u.name.toLowerCase().includes(s)||s.includes(u.name.toLowerCase())),i=G.filter(u=>u.name.toLowerCase().includes(s)||s.includes(u.name.toLowerCase())),l=J.filter(u=>u.name.toLowerCase().includes(s)||s.includes(u.name.toLowerCase())),c=X.filter(u=>u.name.toLowerCase().includes(s)||s.includes(u.name.toLowerCase()));return Y.filter(u=>u.name.toLowerCase().includes(s)||s.includes(u.name.toLowerCase())),{categories:a,brands:i,subcategories:l,collections:c,hasMatches:a.length>0||i.length>0||l.length>0||c.length>0}},Se=t=>{const s=R(t);if(!s||!s.hasMatches)return!1;const a=s.categories.some(p=>n.category_id.includes(p.id)),i=s.brands.some(p=>n.brand_id.includes(p.slug)),l=s.subcategories.some(p=>n.subcategory_id.includes(p.id)),c=s.collections.some(p=>n.collection_id.includes(p.slug));return a||i||l||c},le=t=>{if(!t||t.length<2)return;const s=R(t);s&&s.hasMatches&&I?(Q(t),_(a=>{const i={...a,name:t};if(s.categories.length>0){const l=s.categories.map(c=>c.id);i.category_id=[...new Set([...i.category_id,...l])]}if(s.brands.length>0){const l=s.brands.map(c=>c.slug);i.brand_id=[...new Set([...i.brand_id,...l])]}if(s.subcategories.length>0){const l=s.subcategories.map(c=>c.id);i.subcategory_id=[...new Set([...i.subcategory_id,...l])]}if(s.collections.length>0){const l=s.collections.map(c=>c.slug);i.collection_id=[...new Set([...i.collection_id,...l])]}return i})):(_(a=>({...a,name:t})),Q(null))},St=()=>{re(!I)},Tt=()=>{if(Ct&&n.name){const t=R(n.name);t&&t.hasMatches&&_(s=>{const a={...s};if(t.categories.length>0){const i=t.categories.map(l=>l.id);a.category_id=a.category_id.filter(l=>!i.includes(l))}if(t.brands.length>0){const i=t.brands.map(l=>l.slug);a.brand_id=a.brand_id.filter(l=>!i.includes(l))}if(t.subcategories.length>0){const i=t.subcategories.map(l=>l.id);a.subcategory_id=a.subcategory_id.filter(l=>!i.includes(l))}if(t.collections.length>0){const i=t.collections.map(l=>l.slug);a.collection_id=a.collection_id.filter(l=>!i.includes(l))}return a})}Q(null)},Pt=async t=>{var c,p;const s=R(t),a={...n,name:t};s&&s.hasMatches&&(s.categories.length>0&&(a.category_id=[...new Set([...a.category_id,...s.categories.map(u=>u.id)])]),s.brands.length>0&&(a.brand_id=[...new Set([...a.brand_id,...s.brands.map(u=>u.slug)])]),s.subcategories.length>0&&(a.subcategory_id=[...new Set([...a.subcategory_id,...s.subcategories.map(u=>u.id)])]),s.collections.length>0&&(a.collection_id=[...new Set([...a.collection_id,...s.collections.map(u=>u.slug)])]));const i=ke(a),l=Ce(t);try{const y=await(await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:l,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})})).json(),C=await te.paginate({filter:i,sort:[{selector:"name",desc:!1}],skip:0,take:8,requireTotalCount:!1,with:"category,brand"}),q=((c=y==null?void 0:y.data)==null?void 0:c.length)||0,S=((p=C==null?void 0:C.data)==null?void 0:p.length)||0}catch(u){console.error("Debug comparison error:",u)}};window.debugCatalogSearch=Pt,window.handleIntelligentSearch=le,window.toggleIntelligentSearch=St,window.clearIntelligentFilters=Tt,window.isIntelligentSearchActive=Se,window.detectIntelligentFilters=R,window.simulateHeaderSearch=t=>{_(s=>({...s,name:t}))},window.forceIntelligentSearch=t=>{const s=I;re(!0),setTimeout(()=>{le(t),re(s)},100)};const ne=async(t=1,s=!1)=>{var a,i,l,c,p,u,y,C;Z(!1),s?ve(!0):we(!0);try{const q=ke(n),S=24,F=["featured","offering","is_new","recommended"],L=n.sort.filter(zt=>!F.includes(zt.selector)),ce=L.length>0?L:[{selector:"final_price",desc:!0}],Ot={filter:q,sort:ce,skip:(t-1)*S,take:S,requireTotalCount:!0,filterSequence:_t},h=await te.paginate(Ot);if(h.status!==200)throw new Error(`API returned status ${h.status}`);ye(h.data||[]),Ne(!0),(!h.data||h.data.length===0)&&setTimeout(()=>{Z(!0)},300);const ee=h.totalCount||0,Rt=Math.ceil(ee/S);_e({currentPage:t,totalPages:Rt,totalItems:ee,itemsPerPage:S,from:ee>0?(t-1)*S+1:0,to:Math.min(t*S,ee)}),he(((a=h==null?void 0:h.summary)==null?void 0:a.brands)||[]),pe(((i=h==null?void 0:h.summary)==null?void 0:i.categories)||[]),xe(((l=h==null?void 0:h.summary)==null?void 0:l.subcategories)||[]),ft(((c=h==null?void 0:h.summary)==null?void 0:c.collections)||[]),ge(((p=h==null?void 0:h.summary)==null?void 0:p.stores)||[]),fe(((u=h==null?void 0:h.summary)==null?void 0:u.priceRanges)||[]),yt(((y=h==null?void 0:h.summary)==null?void 0:y.tags)||[]),jt(((C=h==null?void 0:h.summary)==null?void 0:C.amenities)||(o==null?void 0:o.amenities)||[])}catch(q){if(console.error("Error fetching products:",q),n.name&&n.category_id.length===0&&n.brand_id.length===0&&n.subcategory_id.length===0&&n.collection_id.length===0&&n.store_id.length===0&&n.tag_id.length===0&&n.price.length===0)try{const S={filter:Ce(n.name),sort:n.sort,skip:(t-1)*24,take:24,requireTotalCount:!0,with:"category,brand"},F=await te.paginate(S);if(F.status===200){ye(F.data||[]),Ne(!0),(!F.data||F.data.length===0)&&setTimeout(()=>{Z(!0)},300);const L=F.totalCount||0,ce=Math.ceil(L/24);_e({currentPage:t,totalPages:ce,totalItems:L,itemsPerPage:24,from:L>0?(t-1)*24+1:0,to:Math.min(t*24,L)});return}}catch(S){console.error("Fallback search also failed:",S)}setTimeout(()=>{Z(!0)},300)}finally{we(!1),ve(!1)}};m.useEffect(()=>{N&&(pe(N.categories||[]),he(N.brands||[]),xe(N.subcategories||[]),ge(N.stores||[]),fe(N.priceRanges||[]),setTimeout(()=>{Nt()},50)),f.GET.search&&I&&setTimeout(()=>{le(f.GET.search)},150),ne(1,!1)},[N,I]),m.useEffect(()=>{ne(1,ie)},[n]),m.useEffect(()=>{n.name&&I&&G.length>0&&(Se(n.name)||setTimeout(()=>{const s=R(n.name);s&&s.hasMatches&&(_(a=>{const i={...a};if(s.brands.length>0){const l=s.brands.map(c=>c.slug);i.brand_id=[...new Set([...i.brand_id,...l])]}if(s.categories.length>0){const l=s.categories.map(c=>c.id);i.category_id=[...new Set([...i.category_id,...l])]}if(s.subcategories.length>0){const l=s.subcategories.map(c=>c.id);i.subcategory_id=[...new Set([...i.subcategory_id,...l])]}if(s.collections.length>0){const l=s.collections.map(c=>c.slug);i.collection_id=[...new Set([...i.collection_id,...l])]}return i}),Q(n.name))},100))},[n.name,I,G,O,J,X]);const oe=t=>{t>=1&&t<=b.totalPages&&t!==b.currentPage&&(window.scrollTo({top:0,behavior:"smooth"}),ne(t,!1))},$t=()=>{const t=[],s=b.totalPages,a=b.currentPage,i=2;for(let l=1;l<=s;l++)l===1||l===s||l>=a-i&&l<=a+i?t.push(l):(l===a-i-1||l===a+i+1)&&t.push("...");return t.filter((l,c,p)=>l!=="..."||p[c-1]!=="...")},w=(t,s)=>{if(["is_new","offering","recommended","featured"].includes(t)){_(i=>({...i,[t]:i[t]?!i[t]:!0}));return}_(i=>{if(t==="price"){const p=Array.isArray(i.price)?i.price:[],u=p.some(C=>C.min===s.min&&C.max===s.max);let y;return u?y=p.filter(C=>!(C.min===s.min&&C.max===s.max)):y=[...p,s],{...i,price:y}}const l=Array.isArray(i[t])?i[t]:[];let c;return l.includes(s)?c=l.filter(p=>p!==s):c=[...l,s],{...i,[t]:c}}),ae(i=>{var c,p;return["brand_id","category_id","collection_id","store_id"].includes(t)?(c=n[t])!=null&&c.includes(s)?(((p=n[t])==null?void 0:p.filter(y=>y!==s))||[]).length===0?i.filter(y=>y!==t):i:i.includes(t)?i:[...i,t]:i})},E=t=>{vt(s=>({...s,[t]:!s[t]}))},[Te,It]=m.useState(""),[Pe,At]=m.useState(""),[$e,Et]=m.useState(""),[Ie,Ft]=m.useState(""),[Ae,Lt]=m.useState(""),[Ee,Ht]=m.useState(""),Fe=be.filter(t=>t.name.toLowerCase().includes(Ee.toLowerCase())),Le=o!=null&&o.dat_prices&&Array.isArray(o.dat_prices)&&o.dat_prices.length>0?o.dat_prices:wt,Bt=O.filter(t=>t.name.toLowerCase().includes(Te.toLowerCase())),He=J.filter(t=>{let s;return n.category_id&&n.category_id.length>0?s=O.filter(a=>n.category_id.includes(a.id)).map(a=>a.id):s=O.map(a=>a.id),s.includes(t.category_id)&&t.name.toLowerCase().includes(Pe.toLowerCase())}),Mt=G.filter(t=>t.name.toLowerCase().includes($e.toLowerCase())),Be=X.filter(t=>t.name.toLowerCase().includes(Ie.toLowerCase())),Gt=Y.filter(t=>t.name.toLowerCase().includes(Ae.toLowerCase())),[k,D]=m.useState(!1);return m.useEffect(()=>(k?(document.body.classList.add("filter-modal-open"),document.body.style.overflow="hidden"):(document.body.classList.remove("filter-modal-open"),document.body.style.overflow="unset"),()=>{document.body.classList.remove("filter-modal-open"),document.body.style.overflow="unset"}),[k]),e.jsx("section",{className:"py-4 lg:py-12 bg-gradient-to-br from-gray-50/50 via-white to-blue-50/30",children:e.jsxs("div",{className:"mx-auto px-primary 2xl:px-0 2xl:max-w-7xl",children:[e.jsxs(r.div,{className:"flex flex-col md:flex-row md:justify-between items-start md:items-center mb-6 lg:mb-8 lg:pb-6 lg:border-b-2 border-gradient-to-r from-blue-200 via-indigo-200 to-purple-200",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(r.div,{className:"md:w-6/12 mb-0 md:mb-0",whileHover:{scale:1.02},children:e.jsx("h2",{className:`text-2xl lg:text-[32px] md:text-4xl font-bold customtext-primary  lg:mb-2 ${o==null?void 0:o.class_title}`,children:o==null?void 0:o.title})}),e.jsx("div",{className:"hidden md:flex flex-col w-full items-start md:items-center justify-end gap-4 md:flex-row md:w-5/12",children:e.jsx(r.div,{className:"w-full md:w-6/12 relative",children:e.jsx(nt,{options:W,placeholder:"Ordenar por",value:(Ge=(Me=n.sort)==null?void 0:Me[0])!=null&&Ge.selector&&((Re=(Oe=n.sort)==null?void 0:Oe[0])==null?void 0:Re.desc)!==void 0?`${n.sort[0].selector}:${n.sort[0].desc?"desc":"asc"}`:"final_price:desc",onChange:t=>{const[s,a]=t.split(":"),i=[{selector:s,desc:a==="desc"}];_(c=>({...c,sort:i}));const l=new URL(window.location);l.searchParams.set("sortBy",t),window.history.pushState({},"",l)},labelKey:"label",valueKey:"value",className:"customtext-neutral-dark border-primary rounded-lg",generalIcon:e.jsx(Ut,{className:"w-5 h-5 mr-2 customtext-primary"})})})})]}),e.jsxs("div",{className:"relative flex flex-col lg:flex-row gap-6",children:[e.jsxs("div",{className:"w-full flex lg:hidden lg:mb-6  items-stretch gap-3",children:[e.jsx(r.div,{className:"flex-1 max-w-max",children:e.jsx(ts,{text:"Abrir panel de filtros avanzados",position:"bottom",children:e.jsxs(r.button,{className:"w-full h-12 flex items-center justify-center gap-2 px-4 bg-primary text-white rounded-2xl shadow-xl shadow-blue-500/25 hover:shadow-2xl hover:shadow-blue-500/40 transition-all duration-300 overflow-hidden relative",onClick:()=>D(!0),whileHover:{scale:1.02,y:-3},whileTap:{scale:.98},...x.container,children:[e.jsx(r.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),e.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[e.jsx(r.div,{className:"p-1.5 bg-white/20 rounded-lg backdrop-blur-sm",animate:{rotate:[0,10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:e.jsx(Wt,{className:"h-4 w-4"})}),e.jsx("span",{className:"text-sm font-bold",children:"Filtros"})]})]})})}),e.jsx(r.div,{className:"flex-1",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},children:e.jsx(nt,{options:W,placeholder:"Ordenar",value:(Ve=(ze=n.sort)==null?void 0:ze[0])!=null&&Ve.selector&&((Ke=(Xe=n.sort)==null?void 0:Xe[0])==null?void 0:Ke.desc)!==void 0?`${n.sort[0].selector}:${n.sort[0].desc?"desc":"asc"}`:"final_price:desc",onChange:t=>{const[s,a]=t.split(":"),i=[{selector:s,desc:a==="desc"}];_(c=>({...c,sort:i}));const l=new URL(window.location);l.searchParams.set("sortBy",t),window.history.pushState({},"",l)},labelKey:"label",valueKey:"value",className:"!w-full customtext-neutral-dark border-primary rounded-2xl text-sm h-12"})})]}),e.jsxs(r.div,{className:`${k?"fixed inset-0 backdrop-blur-md z-[999] flex flex-col mobile-filter-modal":"hidden"} lg:block lg:w-3/12 lg:bg-transparent lg:h-max lg:relative lg:z-auto`,...k?x.container:{},initial:k?{opacity:0}:!1,animate:k?{opacity:1}:!1,exit:k?{opacity:0}:!1,transition:{duration:.3},onClick:k?t=>{t.target===t.currentTarget&&D(!1)}:void 0,children:[e.jsx("div",{className:`${k?"flex flex-col h-full bg-transparent":d.filterContainer} lg:backdrop-blur-xl lg:border lg:border-gray-200/60 lg:rounded-2xl lg:shadow-2xl lg:shadow-gray-900/10`,children:e.jsxs("div",{className:`${k?"mx-4 mt-4 mb-2 bg-white rounded-t-3xl shadow-2xl flex flex-col flex-1 overflow-hidden safe-area-top mobile-filter-content":""}`,children:[e.jsx(r.div,{className:`${d.filterHeader} p-6 flex items-center justify-between lg:relative lg:p-4`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r.div,{className:"p-2 bg-primary rounded-xl shadow-lg",whileHover:{rotate:360},transition:{duration:.6},children:e.jsx(Jt,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold customtext-neutral-dark",children:"Filtros"}),e.jsx("p",{className:"text-sm customtext-neutral-dark hidden lg:block",children:"Refina tu búsqueda con precisión"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-6 custom-scrollbar",style:{height:k?"calc(100vh - 200px)":"auto",paddingBottom:k?"1rem":"1.5rem"},children:[(o==null?void 0:o.section_collections)&&e.jsxs(r.div,{className:d.filterSection,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:[e.jsxs(r.button,{onClick:()=>E("coleccion"),className:d.filterButton,whileHover:x.hover,whileTap:x.tap,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:g.coleccion?360:0},transition:{duration:.3},children:e.jsx(de,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Colecciones"}),e.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Explora nuestras colecciones especiales"})]})]}),e.jsx(r.div,{animate:{rotate:g.coleccion?180:0},transition:{duration:.3},children:e.jsx(H,{className:"h-5 w-5 customtext-neutral-dark"})})]}),e.jsx(j,{children:g.coleccion&&e.jsxs(r.div,{className:`mt-4 p-4 ${d.filterContent}`,...x.section,children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(r.div,{className:"absolute left-4 top-4 z-[99]",children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx("input",{type:"text",placeholder:"Buscar colecciones...",className:d.searchInput,value:Ie,onChange:t=>Ft(t.target.value)})]}),e.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto custom-scrollbar",children:e.jsx(j,{children:Be.length>0?Be.map((t,s)=>{var a,i;return e.jsxs(r.label,{className:d.label,...x.item,transition:{delay:s*.05},children:[e.jsx("input",{type:"checkbox",className:d.checkbox,onChange:()=>w("collection_id",t.slug),checked:(a=n.collection_id)==null?void 0:a.includes(t.slug)}),e.jsx("span",{className:"text-sm font-medium line-clamp-1 customtext-neutral-dark transition-colors duration-200",children:t.name}),((i=n.collection_id)==null?void 0:i.includes(t.slug))&&e.jsx(r.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:e.jsx(B,{className:"h-4 w-4 customtext-primary"})})]},t.id)}):e.jsxs(r.div,{className:"text-center py-6 customtext-neutral-dark",initial:{opacity:0},animate:{opacity:1},children:[e.jsx(de,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No se encontraron colecciones"})]})})})]})})]}),(o==null?void 0:o.section_brands)&&e.jsxs(r.div,{className:d.filterSection,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsxs(r.button,{onClick:()=>E("marca"),className:d.filterButton,whileHover:x.hover,whileTap:x.tap,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:g.marca?360:0},transition:{duration:.3},children:e.jsx(ot,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Marcas"}),e.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Selecciona tus marcas favoritas"})]})]}),e.jsx(r.div,{animate:{rotate:g.marca?180:0},transition:{duration:.3},children:e.jsx(H,{className:"h-5 w-5 customtext-neutral-dark"})})]}),e.jsx(j,{children:g.marca&&e.jsxs(r.div,{className:`mt-4 p-4 ${d.filterContent}`,...x.section,children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(r.div,{className:"absolute left-4 top-4 z-[99]",children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx("input",{type:"text",placeholder:"Buscar marcas...",className:d.searchInput,value:$e,onChange:t=>Et(t.target.value)})]}),e.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto custom-scrollbar",children:e.jsx(j,{children:Mt.map((t,s)=>{var a,i;return e.jsxs(r.label,{className:d.label,...x.item,transition:{delay:s*.05},children:[e.jsx("input",{type:"checkbox",className:d.checkbox,onChange:()=>w("brand_id",t.slug),checked:(a=n.brand_id)==null?void 0:a.includes(t.slug)}),e.jsx("span",{className:"text-sm font-medium line-clamp-1 customtext-neutral-dark  transition-colors duration-200",children:t.name}),((i=n.brand_id)==null?void 0:i.includes(t.slug))&&e.jsx(r.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:e.jsx(B,{className:"h-4 w-4 customtext-primary"})})]},t.id)})})})]})})]}),(o==null?void 0:o.section_stores)&&e.jsxs(r.div,{className:d.filterSection,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:[e.jsxs(r.button,{onClick:()=>E("tienda"),className:d.filterButton,whileHover:x.hover,whileTap:x.tap,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:g.tienda?360:0},transition:{duration:.3},children:e.jsx(ct,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Tiendas"}),e.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Selecciona por tienda"})]})]}),e.jsx(r.div,{animate:{rotate:g.tienda?180:0},transition:{duration:.3},children:e.jsx(H,{className:"h-5 w-5 customtext-neutral-dark"})})]}),e.jsx(j,{children:g.tienda&&e.jsxs(r.div,{className:`mt-4 p-4 ${d.filterContent}`,...x.section,children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(r.div,{className:"absolute left-4 top-4 z-[99]",children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx("input",{type:"text",placeholder:"Buscar tiendas...",className:d.searchInput,value:Ae,onChange:t=>Lt(t.target.value)})]}),e.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto custom-scrollbar",children:e.jsx(j,{children:Gt.map((t,s)=>{var a,i;return e.jsxs(r.label,{className:d.label,...x.item,transition:{delay:s*.05},children:[e.jsx("input",{type:"checkbox",className:d.checkbox,onChange:()=>w("store_id",t.id),checked:(a=n.store_id)==null?void 0:a.includes(t.id)}),e.jsx("span",{className:"text-sm font-medium line-clamp-1 customtext-neutral-dark  transition-colors duration-200",children:t.name}),((i=n.store_id)==null?void 0:i.includes(t.id))&&e.jsx(r.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:e.jsx(B,{className:"h-4 w-4 customtext-primary"})})]},t.id)})})})]})})]}),(o==null?void 0:o.section_categories)&&e.jsxs(r.div,{className:d.filterSection,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[e.jsxs(r.button,{onClick:()=>E("categoria"),className:d.filterButton,whileHover:x.hover,whileTap:x.tap,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:g.categoria?360:0},transition:{duration:.3},children:e.jsx(dt,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Categorías"}),e.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Explora por categorías"})]})]}),e.jsx(r.div,{animate:{rotate:g.categoria?180:0},transition:{duration:.3},children:e.jsx(H,{className:"h-5 w-5 customtext-neutral-dark"})})]}),e.jsx(j,{children:g.categoria&&e.jsxs(r.div,{className:`mt-4 p-4 ${d.filterContent}`,...x.section,children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(r.div,{className:"absolute left-4 top-4 z-[99]",children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx("input",{type:"text",placeholder:"Buscar categorías...",className:d.searchInput,value:Te,onChange:t=>It(t.target.value)})]}),e.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto custom-scrollbar",children:e.jsx(j,{children:Bt.map((t,s)=>{var a,i,l;return e.jsxs(r.div,{className:" rounded-xl overflow-hidden",...x.item,transition:{delay:s*.05},children:[e.jsxs(r.label,{className:`${d.label} `,children:[e.jsx("input",{type:"checkbox",className:d.checkbox,onChange:()=>w("category_id",t.id),checked:(a=n.category_id)==null?void 0:a.includes(t.id)}),e.jsx("span",{className:"text-sm line-clamp-1 customtext-neutral-dark  transition-colors duration-200",children:t.name}),((i=n.category_id)==null?void 0:i.includes(t.slug))&&e.jsx(r.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:e.jsx(B,{className:"h-4 w-4 customtext-primary"})})]}),e.jsx(j,{children:((l=n.category_id)==null?void 0:l.includes(t.slug))&&t.subcategories&&e.jsx(r.div,{className:"bg-gradient-to-b from-purple-25 to-white/50 p-3",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:e.jsx("div",{className:"space-y-2 pl-4 border-l-2 border-purple-200",children:t.subcategories.map(c=>{var p;return e.jsxs(r.label,{className:"flex items-center gap-2 py-1.5 px-2 rounded-lg hover:bg-purple-50/60 transition-colors duration-200 cursor-pointer group",whileHover:{x:3},children:[e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-2 border-purple-300 text-purple-600 focus:ring-purple-500/30",onChange:()=>w("subcategory_id",c.slug),checked:(p=n.subcategory_id)==null?void 0:p.includes(c.slug)}),e.jsx("span",{className:"text-sm line-clamp-1 customtext-neutral-dark group-hover:text-purple-600 transition-colors duration-200",children:c.name})]},c.id)})})})})]},t.id)})})})]})})]}),(o==null?void 0:o.section_subcategories)&&e.jsxs(r.div,{className:d.filterSection,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[e.jsxs(r.button,{onClick:()=>E("subcategoria"),className:d.filterButton,whileHover:x.hover,whileTap:x.tap,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:g.subcategoria?360:0},transition:{duration:.3},children:e.jsx(me,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Subcategorías"}),e.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Busca por subcategorías específicas"})]})]}),e.jsx(r.div,{animate:{rotate:g.subcategoria?180:0},transition:{duration:.3},children:e.jsx(H,{className:"h-5 w-5 customtext-neutral-dark"})})]}),e.jsx(j,{children:g.subcategoria&&e.jsxs(r.div,{className:`mt-4 p-4 ${d.filterContent}`,...x.section,children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(r.div,{className:"absolute left-4 top-4 z-[99]",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx("input",{type:"text",placeholder:"Buscar subcategorías...",className:d.searchInput,value:Pe,onChange:t=>At(t.target.value)})]}),e.jsx("div",{className:"space-y-2 max-h-[250px] overflow-y-auto custom-scrollbar",children:e.jsx(j,{children:He.length>0?He.map((t,s)=>{var a,i;return e.jsxs(r.label,{className:d.label,...x.item,transition:{delay:s*.05},children:[e.jsx("input",{type:"checkbox",className:d.checkbox,onChange:()=>w("subcategory_id",t.id),checked:(a=n.subcategory_id)==null?void 0:a.includes(t.id)}),e.jsx("span",{className:"text-sm line-clamp-1 font-medium customtext-neutral-dark transition-colors duration-200",children:t.name}),((i=n.subcategory_id)==null?void 0:i.includes(t.id))&&e.jsx(r.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:e.jsx(B,{className:"h-4 w-4 customtext-primary"})})]},t.id)}):e.jsxs(r.div,{className:"text-center py-6 customtext-neutral-dark",initial:{opacity:0},animate:{opacity:1},children:[e.jsx(me,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No se encontraron subcategorías"})]})})})]})})]}),(o==null?void 0:o.section_prices)&&e.jsxs(r.div,{className:d.filterSection,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsxs(r.button,{onClick:()=>E("precio"),className:d.filterButton,whileHover:x.hover,whileTap:x.tap,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:g.precio?360:0},transition:{duration:.3},children:e.jsx(mt,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Rango de Precio"}),e.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Encuentra tu presupuesto ideal"})]})]}),e.jsx(r.div,{animate:{rotate:g.precio?180:0},transition:{duration:.3},children:e.jsx(H,{className:"h-5 w-5 customtext-neutral-dark"})})]}),e.jsx(j,{children:g.precio&&e.jsx(r.div,{className:`mt-4 p-4 ${d.filterContent}`,...x.section,children:e.jsx("div",{className:"space-y-3 max-h-[220px] overflow-y-auto custom-scrollbar",children:e.jsx(j,{children:Le.map((t,s)=>{var a,i;return e.jsxs(r.label,{className:d.label,...x.item,transition:{delay:s*.05},children:[e.jsx("input",{type:"checkbox",className:d.checkbox,onChange:()=>w("price",t),checked:((a=n.price)==null?void 0:a.some(l=>l.min===t.min&&l.max===t.max))||!1}),e.jsx("span",{className:"text-sm line-clamp-1 font-medium customtext-neutral-dark  transition-colors duration-200",children:t.label}),((i=n.price)==null?void 0:i.some(l=>l.min===t.min&&l.max===t.max))&&e.jsx(r.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:e.jsx(B,{className:"h-4 w-4 customtext-primary"})})]},`${t.min}-${t.max}`)})})})})})]}),(o==null?void 0:o.section_amenities)&&e.jsxs(r.div,{className:d.filterSection,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},children:[e.jsxs(r.button,{onClick:()=>E("amenidades"),className:d.filterButton,whileHover:x.hover,whileTap:x.tap,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:g.amenidades?360:0},transition:{duration:.3},children:e.jsx(ue,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Amenidades"}),e.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Servicios y comodidades"})]})]}),e.jsx(r.div,{animate:{rotate:g.amenidades?180:0},transition:{duration:.3},children:e.jsx(H,{className:"h-5 w-5 customtext-neutral-dark"})})]}),e.jsx(j,{children:g.amenidades&&e.jsxs(r.div,{className:`mt-4 p-4 ${d.filterContent}`,...x.section,children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(r.div,{className:"absolute left-4 top-4 z-[99]",children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx("input",{type:"text",placeholder:"Buscar amenidades...",className:d.searchInput,value:Ee,onChange:t=>Ht(t.target.value)})]}),e.jsx("div",{className:"space-y-2 max-h-[250px] overflow-y-auto custom-scrollbar",children:e.jsx(j,{children:Fe.length>0?Fe.map((t,s)=>{var a,i;return e.jsxs(r.label,{className:d.label,...x.item,transition:{delay:s*.05},children:[e.jsx("input",{type:"checkbox",className:d.checkbox,onChange:()=>w("amenity_id",t.id),checked:(a=n.amenity_id)==null?void 0:a.includes(t.id)}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.image&&e.jsx("img",{src:`/storage/images/amenity/${t.image}`,alt:t.name,className:"w-5 h-5 object-contain",onError:l=>l.target.style.display="none"}),e.jsx("span",{className:"text-sm line-clamp-1 font-medium customtext-neutral-dark transition-colors duration-200",children:t.name})]}),((i=n.amenity_id)==null?void 0:i.includes(t.id))&&e.jsx(r.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:e.jsx(B,{className:"h-4 w-4 customtext-primary"})})]},t.id)}):e.jsxs(r.div,{className:"text-center py-6 customtext-neutral-dark",initial:{opacity:0},animate:{opacity:1},children:[e.jsx(ue,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No se encontraron amenidades"})]})})})]})})]}),e.jsx(r.div,{className:"mt-6 pt-6 border-t border-gray-200/60",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:e.jsx(j,{children:(((Ue=n.brand_id)==null?void 0:Ue.length)>0||((We=n.collection_id)==null?void 0:We.length)>0||((Je=n.category_id)==null?void 0:Je.length)>0||((Ye=n.subcategory_id)==null?void 0:Ye.length)>0||((Ze=n.store_id)==null?void 0:Ze.length)>0||((Qe=n.tag_id)==null?void 0:Qe.length)>0||((De=n.amenity_id)==null?void 0:De.length)>0||n.price&&n.price.length>0)&&e.jsxs(r.div,{className:"mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[e.jsxs("h4",{className:"text-sm font-semibold customtext-neutral-dark mb-3 flex items-center gap-2",children:[e.jsx(Yt,{className:"h-4 w-4 customtext-primary"}),"Filtros Activos"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(qe=n.brand_id)==null?void 0:qe.map(t=>{const s=G.find(a=>a.slug===t);return s?e.jsxs(A,{onClick:()=>w("brand_id",t),className:"group",children:[e.jsx(ot,{className:"h-3 w-3"}),e.jsx("span",{children:s.name}),e.jsx(r.div,{className:"ml-1  rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx($,{className:"h-3 w-3"})})]},t):null}),(et=n.collection_id)==null?void 0:et.map(t=>{const s=X.find(a=>a.slug===t);return s?e.jsxs(A,{onClick:()=>w("collection_id",t),className:"group",children:[e.jsx(de,{className:"h-3 w-3"}),e.jsx("span",{children:s.name}),e.jsx(r.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx($,{className:"h-3 w-3"})})]},t):null}),(tt=n.category_id)==null?void 0:tt.map(t=>{const s=O.find(a=>a.id===t);return s?e.jsxs(A,{onClick:()=>w("category_id",t),children:[e.jsx(dt,{className:"h-3 w-3"}),e.jsx("span",{children:s.name}),e.jsx(r.div,{className:"ml-1  rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx($,{className:"h-3 w-3"})})]},t):null}),(st=n.subcategory_id)==null?void 0:st.map(t=>{const s=J.find(a=>a.id===t);return s?e.jsxs(A,{onClick:()=>w("subcategory_id",t),children:[e.jsx(me,{className:"h-3 w-3"}),e.jsx("span",{children:s.name}),e.jsx(r.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx($,{className:"h-3 w-3"})})]},t):null}),(at=n.store_id)==null?void 0:at.map(t=>{const s=Y.find(a=>a.id===t);return s?e.jsxs(A,{onClick:()=>w("store_id",t),children:[e.jsx(ct,{className:"h-3 w-3"}),e.jsx("span",{children:s.name}),e.jsx(r.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx($,{className:"h-3 w-3"})})]},t):null}),(it=n.tag_id)==null?void 0:it.map(t=>{const s=bt.find(a=>a.id===t);return s?e.jsxs(A,{onClick:()=>w("tag_id",t),children:[e.jsx(Zt,{className:"h-3 w-3"}),e.jsx("span",{children:s.name}),e.jsx(r.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx($,{className:"h-3 w-3"})})]},t):null}),(rt=n.amenity_id)==null?void 0:rt.map(t=>{const s=be.find(a=>a.id===t);return s?e.jsxs(A,{onClick:()=>w("amenity_id",t),children:[e.jsx(ue,{className:"h-3 w-3"}),e.jsx("span",{children:s.name}),e.jsx(r.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx($,{className:"h-3 w-3"})})]},t):null}),(lt=n.price)==null?void 0:lt.map((t,s)=>{const a=Le.find(i=>i.min===t.min&&i.max===t.max);return e.jsxs(A,{onClick:()=>w("price",t),children:[e.jsx(mt,{className:"h-3 w-3"}),e.jsx("span",{children:(a==null?void 0:a.label)||`${v()} ${t.min} - ${v()} ${t.max}`}),e.jsx(r.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:e.jsx($,{className:"h-3 w-3"})})]},`price-${t.min}-${t.max}`)})]})]})})}),e.jsx(r.div,{className:"mt-6 pt-6 border-t border-gray-200",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:e.jsx(r.button,{className:`w-full p-4  rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 font-semibold ${(o==null?void 0:o.class_clear_button)||"bg-secondary customtext-neutral-dark hover:bg-primary hover:text-white"}`,onClick:()=>{_(t=>({collection_id:[],category_id:[],brand_id:[],subcategory_id:[],store_id:[],tag_id:[],amenity_id:[],price:[],name:null,sort:[{selector:"final_price",desc:!0}]})),ae([])},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(ut,{className:"h-5 w-5"}),e.jsx("span",{children:"Limpiar todos los filtros"})]})})})]})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-white via-white to-gray-50 border-t border-gray-200 p-4 shadow-2xl backdrop-blur-xl lg:hidden z-50",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r.button,{className:"flex-1 bg-primary text-white py-3 px-6 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{D(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(xt,{className:"h-5 w-5"}),e.jsxs("span",{children:["Ver ",b.totalItems," Productos"]})]})}),e.jsx(r.button,{className:"p-3 bg-gray-100 hover:bg-gray-200 customtext-neutral-dark rounded-xl transition-colors duration-200",onClick:()=>D(!1),whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx($,{className:"h-5 w-5"})})]})})]}),e.jsxs(r.div,{className:"w-full lg:w-9/12 py-4",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[e.jsx(j,{mode:"wait",children:je&&!ie||U?e.jsxs(r.div,{className:"w-full",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95,transition:{duration:.3}},children:[e.jsxs(r.div,{className:"mb-8 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:[e.jsx(r.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{rotate:{duration:3,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"inline-block mb-4",children:e.jsx(ht,{className:"h-8 w-8 customtext-primary"})}),e.jsx("h3",{className:"text-xl font-bold customtext-neutral-dark mb-2",children:U?"Aplicando filtros...":"Cargando productos increíbles"}),e.jsx("p",{className:"customtext-neutral-dark",children:U?"Encontrando los mejores resultados para ti...":"Preparando la mejor selección para ti..."})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-y-6  w-full",children:Array.from({length:12},(t,s)=>e.jsx("div",{className:"h-[400px] lg:h-[460px] xl:h-[400px] 2xl:h-[430px]",children:e.jsx(qt,{delay:s*.08})},s))})]},"loading"):e.jsxs(r.div,{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-4 lg:gap-6 transition-all duration-300 ease-in-out relative",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[U&&e.jsx(r.div,{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-10 rounded-2xl",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(r.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:e.jsx(ht,{className:"h-8 w-8 customtext-primary"})}),e.jsx("p",{className:"text-sm font-semibold customtext-primary",children:"Aplicando filtros..."})]})}),Array.isArray(K)&&K.length>0?K.map((t,s)=>e.jsx(r.div,{className:`w-full ${(o==null?void 0:o.class_product_card_container)||""}`,initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:s*.05,duration:.4,type:"spring",stiffness:100},whileHover:{y:-5,transition:{duration:.2}},children:e.jsx(Kt,{cardType:(o==null?void 0:o.type_card_product)||"CardProductBananaLab",product:t,data:o,cart:V,setCart:M,favorites:pt,setFavorites:se,onClickTracking:gt})},t.id)):ie&&!je&&!U&&kt?e.jsx(r.div,{className:"w-full flex items-center justify-center py-16",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.6,type:"spring",stiffness:100},children:e.jsx("div",{className:"text-center space-y-6",children:e.jsxs(r.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[e.jsx("h3",{className:"text-xl font-bold customtext-neutral-dark",children:"¡Ups! No encontramos productos"}),e.jsx("p",{className:"customtext-neutral-dark max-w-md",children:"Intenta ajustar tus filtros o buscar términos diferentes."}),e.jsx(r.button,{className:"mt-4 px-6 py-3 bg-primary text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{_(t=>({collection_id:[],category_id:[],brand_id:[],subcategory_id:[],store_id:[],tag_id:[],amenity_id:[],price:[],name:null,sort:[{selector:"final_price",desc:!0}]})),ae([])},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"h-4 w-4"}),e.jsx("span",{children:"Limpiar filtros"})]})})]})})}):null]},"products")}),Array.isArray(K)&&K.length>0&&e.jsxs(r.div,{className:"flex flex-col md:flex-row justify-between items-center mb-4 w-full mt-12 gap-4 p-6 bg-gradient-to-r from-white via-gray-50/50 to-blue-50/50 rounded-2xl border border-gray-200/60 backdrop-blur-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[e.jsx("div",{className:"customtext-primary font-semibold w-full md:w-auto",children:e.jsx("div",{className:"overflow-x-auto pb-2",children:e.jsxs("nav",{className:"flex items-center gap-x-2 min-w-max",children:[e.jsxs(r.button,{className:`p-3 inline-flex items-center gap-2 rounded-xl transition-all duration-300 ${b.currentPage===1?"opacity-50 cursor-not-allowed bg-gray-100":"bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 customtext-primary border border-blue-200"}`,onClick:()=>oe(b.currentPage-1),disabled:b.currentPage===1,whileTap:b.currentPage!==1?{scale:.95}:{},children:[e.jsx(Qt,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Anterior"})]}),$t().map((t,s)=>e.jsx(Vt.Fragment,{children:t==="..."?e.jsx("span",{className:"w-10 h-10 bg-transparent p-2 inline-flex items-center justify-center rounded-full customtext-neutral-dark",children:"..."}):e.jsx(r.button,{className:`w-10 h-10 p-2 inline-flex items-center justify-center rounded-xl transition-all duration-300 font-semibold
                                                        ${t===b.currentPage?" bg-primary text-white shadow-lg shadow-blue-500/25":"bg-white hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 customtext-primary border border-gray-200 hover:border-blue-300"}`,onClick:()=>oe(t),whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:t})},s)),e.jsxs(r.button,{className:`p-3 inline-flex items-center gap-2 rounded-xl transition-all duration-300 ${b.currentPage===b.totalPages?"opacity-50 cursor-not-allowed bg-gray-100":"bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 customtext-primary border border-blue-200"}`,onClick:()=>oe(b.currentPage+1),disabled:b.currentPage===b.totalPages,whileTap:b.currentPage!==b.totalPages?{scale:.95}:{},children:[e.jsx("span",{className:"hidden sm:inline",children:"Siguiente"}),e.jsx(Dt,{className:"h-4 w-4"})]})]})})}),e.jsx(r.div,{className:"w-full md:w-auto text-center md:text-right",whileHover:{scale:1.02},children:e.jsx("div",{className:"flex items-center justify-center md:justify-end gap-2 p-4",children:e.jsxs("p",{className:"font-semibold text-sm customtext-neutral-dark",children:[b.from," - ",b.to," de ",b.totalItems," Resultados"]})})})]})]})]})]})})},es=`
    .custom-scrollbar {
        scrollbar-width: thin;
        scrollbar-color: #cbd5e1 #f1f5f9;
    }
    
    .custom-scrollbar::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-track {
        background: #f1f5f9;
        border-radius: 10px;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #3b82f6, #6366f1);
        border-radius: 10px;
        border: 1px solid #e2e8f0;
    }
    
    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: linear-gradient(135deg, #2563eb, #4f46e5);
    }
    
    @keyframes shimmer {
        0% {
            transform: translateX(-100%) skew(-12deg);
        }
        100% {
            transform: translateX(200%) skew(-12deg);
        }
    }
    
    .animate-shimmer {
        animation: shimmer 2s infinite;
    }
    
    @keyframes float {
        0%, 100% {
            transform: translateY(0px);
        }
        50% {
            transform: translateY(-5px);
        }
    }
    
    .filter-shadow {
        box-shadow: 
            0 4px 6px -1px rgba(0, 0, 0, 0.1),
            0 2px 4px -1px rgba(0, 0, 0, 0.06),
            0 0 0 1px rgba(59, 130, 246, 0.1),
            0 0 20px rgba(59, 130, 246, 0.1);
    }
    
    .gradient-border {
        position: relative;
        background: linear-gradient(white, white) padding-box,
                    linear-gradient(135deg, #3b82f6, #6366f1, #8b5cf6) border-box;
        border: 2px solid transparent;
    }
`;if(typeof document<"u"){const T=document.createElement("style");T.type="text/css",T.innerText=es,document.head.appendChild(T)}const ts=({children:T,text:o,position:N="top"})=>{const[V,M]=m.useState(!1),se={top:"-top-10 left-1/2 -translate-x-1/2",bottom:"-bottom-10 left-1/2 -translate-x-1/2",left:"-left-2 top-1/2 -translate-y-1/2 -translate-x-full",right:"-right-2 top-1/2 -translate-y-1/2 translate-x-full"};return e.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),children:[T,e.jsx(j,{children:V&&e.jsxs(r.div,{className:`absolute z-50 px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-lg whitespace-nowrap ${se[N]}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},children:[o,e.jsx("div",{className:`absolute w-0 h-0 border-l-4 border-r-4 border-transparent ${N==="top"?"border-t-4 border-t-gray-900 top-full left-1/2 -translate-x-1/2":N==="bottom"?"border-b-4 border-b-gray-900 bottom-full left-1/2 -translate-x-1/2":N==="left"?"border-l-4 border-l-gray-900 left-full top-1/2 -translate-y-1/2":"border-r-4 border-r-gray-900 right-full top-1/2 -translate-y-1/2"}`})]})})]})},A=({children:T,color:o="blue",onClick:N,className:V=""})=>{const M={blue:"bg-gray-200 customtext-primary"};return e.jsx(r.div,{className:`inline-flex items-center gap-2 px-3 py-1.5  ${M[o]} border rounded-full text-sm font-medium cursor-pointer select-none ${V}`,onClick:N,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},children:T})};export{fa as default};

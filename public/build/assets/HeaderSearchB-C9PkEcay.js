import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BH53Isel.js";import{G as be}from"./Global-ErywZRdd.js";import{C as je}from"./HeaderSearch-DXZLURpX.js";import{L as Z}from"./Logout-7s5dsuEK.js";import{X as ae}from"./x-DBMwyD6F.js";import{S as M}from"./search-TwiiKGP5.js";import{C as ye}from"./chevron-left-B2s3ZsB7.js";import{C as ee}from"./chevron-right-Ckt5D2ka.js";import{C as W,D as te}from"./door-closed-Z4GbcMb-.js";import{A as C}from"./index-CFtDjG4d.js";import{m as X}from"./proxy-BTYtmp9V.js";import{H as se}from"./house-D_ORqlIe.js";import{S as re}from"./shopping-cart-CZEUxbmv.js";import{U as ve}from"./user-BvYmyGTY.js";import{S as we}from"./settings-BSPs3Zt8.js";import"./index-yBjzXJbu.js";import"./PaymentModal-BB1JXzaZ.js";import"./index-fNjTmf9T.js";import"./index-Chjiymov.js";import"./CartItemRow-4VUVjpPz.js";import"./Number2Currency-e57Tgsuk.js";import"./tippy-react.esm-BWiGTO87.js";import"./index-rimy3MAc.js";import"./trash-2-DK1wnsDn.js";import"./createLucideIcon-Cy5Ya80P.js";import"./plus-Bot15Khs.js";import"./main-BvVILmTO.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";function Ne({search:x,setSearch:c,pages:B,items:T,onClose:m}){const[u,$]=a.useState("main"),[j,R]=a.useState(null),[H,E]=a.useState(null),[y,N]=a.useState([]),[v,F]=a.useState("right"),w=a.useRef(null),f=r=>{if(r.preventDefault(),x.trim()){const i=x.trim();window.location.href=`/catalogo?search=${encodeURIComponent(i)}`}return!1},o=r=>{if(r.key==="Enter"&&(r.preventDefault(),x.trim())){const i=x.trim();window.location.href=`/catalogo?search=${encodeURIComponent(i)}`}},h=(r,i="right",d=null)=>{F(i),d&&R(d),setTimeout(()=>{$(r)},50)},k=r=>{E(r.name),N([...y,{level:u,name:"Categorías"}]),h("subcategories","right",r.name)},L=()=>{if(y.length>0){const r=y[y.length-1];h(r.level,"left"),N(y.slice(0,-1))}else u==="subcategories"?h("categories","left"):u==="categories"&&h("main","left")},q=r=>{h("categories","right")},K=()=>"Menú principal",p=()=>{if(u==="main")return e.jsxs("div",{className:"animate-fade animate-duration-300",children:[e.jsxs("button",{className:"p-4 mb-3 w-full flex justify-between items-center hover:bg-gray-50 active:bg-primary transition-all  rounded-xl",onClick:()=>q(),children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"font-medium",children:"Categorías"})}),e.jsx(ee,{className:"h-5 w-5 customtext-neutral-light"})]}),e.jsx("div",{className:"space-y-2",children:B.map((r,i)=>r.menuable&&e.jsx("a",{href:r.path,className:"p-4 flex justify-between items-center w-full hover:bg-gray-50 active:bg-primary transition-all  rounded-xl",children:e.jsx("span",{className:"font-medium",children:r.name})},i))})]});if(u==="categories")return e.jsx("div",{className:v==="right"?"animate-fade-left animate-duration-300":"animate-fade-right animate-duration-300",children:e.jsx("div",{className:"space-y-2",children:T.map(r=>e.jsxs("div",{className:"p-4  rounded-xl flex justify-between items-center cursor-pointer hover:bg-gray-50 active:bg-primary transition-all",onClick:()=>k(r),children:[e.jsx("span",{className:"font-medium",children:r.name}),e.jsx(ee,{className:"h-5 w-5 customtext-neutral-light"})]},r.id))})});if(u==="subcategories"&&j){const r=T.find(i=>i.name===j);return e.jsx("div",{className:v==="right"?"animate-fade-left animate-duration-300":"animate-fade-right animate-duration-300",children:e.jsx("div",{className:"space-y-2",children:r.subcategories.map((i,d)=>e.jsxs("a",{href:`/catalogo?subcategory=${i.slug}`,className:"flex w-full p-4  rounded-xl justify-between items-center hover:bg-gray-50 active:bg-primary transition-all",children:[e.jsx("span",{className:"font-medium",children:i.name}),e.jsx(ee,{className:"h-5 w-5 customtext-neutral-light"})]},d))})})}};return a.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),a.useEffect(()=>{const r=i=>{i.key==="Escape"&&(x.trim()?c(""):m())};return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[x,m,c]),e.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col touch-none overscroll-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:m}),e.jsx("div",{className:"relative w-full md:w-[400px] md:mx-auto flex flex-col h-[100dvh]  ",children:e.jsxs("div",{className:"mt-auto bg-white  shadow-xl flex flex-col max-h-[80vh] rounded-t-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-white flex justify-between items-center border-b border-gray-200 sticky top-0 z-10",children:[e.jsx("h1",{className:"text-lg font-bold",children:K()}),e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",onClick:m,children:e.jsx(ae,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"overflow-y-auto flex-1 p-4 overscroll-contain",children:[e.jsx("div",{className:"mb-5",children:e.jsxs("form",{onSubmit:f,role:"search",className:"relative w-full",children:[e.jsx("input",{ref:w,type:"search",name:"search",placeholder:"Buscar productos",value:x,onChange:r=>c(r.target.value),onKeyDown:o,className:"w-full pr-12 py-3 pl-4 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:outline-none",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),e.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(M,{className:"h-4 w-4"})})]})}),u!=="main"&&e.jsxs("button",{onClick:L,className:"flex items-center customtext-primary mb-4 font-medium",children:[e.jsx(ye,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:u==="categories"?"Categorías":j})]}),e.jsx("div",{className:"pb-16",children:p()})]})]})})]})}const Ze=({items:x,data:c,cart:B,setCart:T,isUser:m,pages:u,generals:$=[]})=>{const j=$.find(t=>t.correlative==="phone_whatsapp"),R=$.find(t=>t.correlative==="message_whatsapp"),H=(j==null?void 0:j.description)??null,E=(R==null?void 0:R.description)??null,[y,N]=a.useState(!1),[v,F]=a.useState(!1),[w,f]=a.useState(!1),[o,h]=a.useState(""),[k,L]=a.useState(!1),[q,K]=a.useState(!1),[p,r]=a.useState([]),[i,d]=a.useState(!1),[G,ne]=a.useState(!1),[g,P]=a.useState(-1),ie=a.useRef([]),A=a.useRef(null),oe=a.useRef(null),U=a.useRef(null),le=a.useRef(null),I=a.useRef(null),z=a.useRef(null),ce=a.useRef([]),me=B.reduce((t,s)=>Number(t)+Number(s.quantity),0),ge=()=>{try{const t=window.location.pathname||"";return["/cart","/checkout"].some(n=>t.includes(n))}catch(t){return console.warn("Error checking path:",t),!1}},_=async t=>{if(!t.trim()||t.length<2){r([]),d(!1);return}ne(!0);try{const s=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:[["name","contains",t],"or",["summary","contains",t],"or",["description","contains",t]],sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(!s.ok)throw new Error("Error en la búsqueda");const n=await s.json();n.status===200&&Array.isArray(n.data)?(r(n.data),d(n.data.length>0)):(r([]),d(!1))}catch(s){console.error("Error fetching search suggestions:",s),r([]),d(!1)}finally{ne(!1)}},V=t=>{h(t),P(-1),z.current&&clearTimeout(z.current),z.current=setTimeout(()=>{_(t)},300)},D=()=>{d(!1),r([]),P(-1)},O=t=>{if(!t)return;d(!1),f(!1);const s=t.slug?`/product/${t.slug}`:`/catalogo?search=${encodeURIComponent(t.name)}`;window.location.href=s};a.useEffect(()=>{function t(s){var n,b;A.current&&!A.current.contains(s.target)&&L(!1),oe.current&&!oe.current.contains(s.target)&&(o.trim()||f(!1)),I.current&&!I.current.contains(s.target)&&!((n=le.current)!=null&&n.contains(s.target))&&!((b=U.current)!=null&&b.contains(s.target))&&D()}return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[o]),a.useEffect(()=>{const t=()=>{window.scrollY>0?K(!0):K(!1)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),a.useEffect(()=>{const t=s=>{s.key==="Escape"&&(i?D():w&&(f(!1),h("")))};return(w||i)&&document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[w,i]),a.useEffect(()=>()=>{z.current&&clearTimeout(z.current)},[]),a.useEffect(()=>{g>=0&&ce.current[g]&&I.current&&ce.current[g].scrollIntoView({block:"nearest",behavior:"smooth"})},[g]);const de={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},ue=[{icon:e.jsx(ve,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:e.jsx(re,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:e.jsx(we,{size:16}),label:"Configuración",href:"/account"},{icon:e.jsx(te,{size:16}),label:"Cerrar Sesión",onClick:Z}],he=t=>{if(t.preventDefault(),D(),o.trim()){const s=o.trim();window.location.href=`/catalogo?search=${encodeURIComponent(s)}`}return!1},xe=t=>{if(t.preventDefault(),D(),o.trim()){const s=o.trim();f(!1),window.location.href=`/catalogo?search=${encodeURIComponent(s)}`}return!1};function fe(t){const s=I.current,n=ie.current[t];if(!s||!n)return;const b=s.getBoundingClientRect(),l=n.getBoundingClientRect();l.top<b.top?s.scrollTop-=b.top-l.top:l.bottom>b.bottom&&(s.scrollTop+=l.bottom-b.bottom)}const J=t=>{if(!(!i||p.length===0))switch(t.key){case"ArrowDown":t.preventDefault(),P(s=>{const n=s<p.length-1?s+1:s;return setTimeout(()=>fe(n),0),n});break;case"ArrowUp":t.preventDefault(),P(s=>{const n=s>0?s-1:0;return setTimeout(()=>fe(n),0),n});break;case"Enter":t.preventDefault(),g>=0&&g<p.length?O(p[g]):o.trim()&&he(t);break;case"Escape":d(!1);break}},Y=({suggestions:t,isLoading:s,onSelect:n,selectedIndex:b})=>i?e.jsx(X.div,{ref:I,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-[60] max-h-80 overflow-y-auto mt-1",children:s?e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Buscando..."]})}):t.length>0?e.jsx("ul",{className:"py-2",children:t.map((l,pe)=>e.jsx("li",{ref:S=>ie.current[pe]=S,children:e.jsxs("button",{"data-suggestion-button":!0,onMouseDown:S=>{S.preventDefault(),S.stopPropagation(),setTimeout(()=>n(l),0)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 ${pe===b?"bg-primary/10 border-l-4 border-primary":""}`,type:"button",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 rounded-lg overflow-hidden",children:l.image?e.jsx("img",{src:`/api/items/media/${l.image}`,alt:l.name,className:"w-full h-full object-cover",onError:S=>{S.target.style.display="none"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center customtext-neutral-dark",children:e.jsx(M,{size:16})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium customtext-neutral-dark truncate",children:l.name}),l.category&&e.jsx("div",{className:"text-sm customtext-neutral-dark truncate",children:l.category.name}),l.final_price&&e.jsxs("div",{className:"text-sm font-semibold customtext-primary",children:["S/ ",parseFloat(l.final_price).toFixed(2)]})]})]})},l.id))}):e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:"No se encontraron productos"})}):null;console.log(m);let Q=!1;if(m&&Array.isArray(m.roles)){const t=m.roles.map(s=>{var n;return(n=s.name)==null?void 0:n.toLowerCase()});Q=!t.includes("admin")&&!t.includes("root")}return e.jsxs("header",{className:`w-full top-0 left-0 z-50 transition-all duration-300 ${q?"fixed bg-white shadow-lg":"relative bg-white"}`,children:[e.jsxs("div",{className:"px-primary  bg-white 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51]",children:e.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:be.APP_NAME,className:"h-14 object-contain object-center",onError:t=>{t.target.onerror=null,t.target.src="/assets/img/logo-bk.svg"}})}),(c==null?void 0:c.showLoginCart)&&e.jsxs("div",{className:"flex gap-8 lg:hidden",children:[e.jsxs("div",{className:`${w?"hidden":"flex"} items-center gap-4`,children:[m?e.jsxs("div",{ref:A,className:"relative",children:[e.jsx("button",{"aria-label":"user",className:"flex items-center gap-2 hover:customtext-primary transition-colors duration-300",onClick:()=>L(!k),children:e.jsx(W,{className:"customtext-primary",width:"1.5rem"})}),e.jsx(C,{children:k&&e.jsx(X.div,{initial:"hidden",animate:"visible",exit:"exit",variants:de,className:"absolute z-50 top-full right-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-3",children:Q?ue.map((t,s)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:t.onClick,className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]})},s)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(se,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",onClick:Z,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(se,{}),e.jsx(te,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}):e.jsx("a",{href:"/iniciar-sesion",className:"flex items-center",children:e.jsx(W,{className:"customtext-primary",width:"1.5rem"})}),e.jsxs("button",{"aria-label":"",onClick:()=>N(!0),className:"flex items-center relative",children:[e.jsx(re,{className:"customtext-primary",width:"1.5rem"}),e.jsx("span",{className:"absolute -right-2 -top-2 inline-flex items-center justify-center w-4 h-4 bg-primary text-white rounded-full text-[8px]",children:me})]})]}),e.jsx("button",{"aria-label":"Menú",onClick:()=>F(!v),className:"flex md:hidden items-center justify-center bg-primary rounded-lg w-auto h-auto p-2 text-white fill-white transition-all duration-300 ",children:v?e.jsx(ae,{}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M10 5H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 12H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 19H14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),e.jsxs("div",{className:"hidden md:block relative w-full max-w-xl mx-auto",children:[e.jsxs("form",{onSubmit:he,role:"search",children:[e.jsx("input",{ref:le,type:"search",name:"search",placeholder:"Buscar productos",value:o,onChange:t=>V(t.target.value),onKeyDown:J,onFocus:()=>{o.trim().length>=2&&_(o)},className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none",enterKeyHint:"search",inputMode:"search",autoComplete:"on",role:"searchbox","aria-label":"Buscar productos"}),e.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(M,{})})]}),e.jsx(C,{children:e.jsx(Y,{suggestions:p,isLoading:G,onSelect:O})})]}),c!=null&&c.showLoginCart?e.jsxs("div",{className:"hidden md:flex items-center gap-4 relative text-sm",children:[e.jsxs("div",{ref:A,children:[m?e.jsxs("button",{"aria-label":"user",className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-primary pr-6 transition-colors duration-300",onClick:()=>L(!k),children:[e.jsx(W,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:m.name})]}):e.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(W,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:"Iniciar Sesión"})]}),e.jsx(C,{children:k&&e.jsx(X.div,{initial:"hidden",animate:"visible",exit:"exit",variants:de,className:"absolute z-50 top-full left-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-3",children:Q?ue.map((t,s)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:t.onClick,className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]})},s)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(se,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("a",{href:"#",onClick:Z,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(te,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}),e.jsxs("button",{"aria-label":"cart",onClick:()=>N(!0),className:"flex items-center gap-2 text-sm relative hover:customtext-primary transition-colors duration-300",children:[e.jsx("div",{className:"customtext-primary",children:e.jsx(re,{})}),e.jsx("span",{className:"hidden md:inline",children:"Mi Carrito"}),e.jsx("span",{className:"absolute -right-6 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs bg-primary text-white rounded-full",children:me})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("a",{"aria-label":"primary-button",className:"hidden lg:block px-4 py-3 bg-primary text-white rounded-full hover:brightness-125 transition-colors duration-300",target:"_blank",rel:"noopener noreferrer",href:H&&E?`https://api.whatsapp.com/send?phone=${encodeURIComponent(H)}&text=${encodeURIComponent(E)}`:"#",children:"Haz tu Pedido"}),e.jsx("div",{className:"md:hidden relative w-full max-w-xl mx-auto",children:w?e.jsxs("div",{className:"relative w-full",children:[e.jsxs("form",{onSubmit:xe,role:"search",children:[e.jsx("input",{ref:U,type:"search",name:"search",placeholder:"Buscar productos",value:o,onChange:t=>V(t.target.value),onKeyDown:J,onFocus:()=>{o.trim().length>=2&&_(o)},className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none",autoFocus:!0,enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos",onBlur:()=>{setTimeout(()=>{!o.trim()&&!i&&f(!1)},200)}}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{h(""),D(),f(!1)},className:"p-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-colors","aria-label":"Cerrar búsqueda",children:e.jsx(ae,{size:16})}),e.jsx("button",{type:"submit",className:"p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(M,{size:16})})]})]}),e.jsx(C,{children:e.jsx(Y,{suggestions:p,isLoading:G,onSelect:O,selectedIndex:g})})]}):e.jsx("button",{"aria-label":"Buscar productos",onClick:()=>{f(!0),setTimeout(()=>{U.current&&U.current.focus()},100)},className:"flex items-center justify-end w-full px-0 py-3",children:e.jsx(M,{className:"customtext-primary",size:28})})})]})]}),(c==null?void 0:c.mobileSearch)&&!ge()&&e.jsx("div",{className:"block md:hidden mt-6 space-y-4",children:e.jsxs("div",{className:"w-full relative",children:[e.jsxs("form",{onSubmit:xe,role:"search",className:"relative w-full",children:[e.jsx("input",{type:"search",name:"search",placeholder:"Buscar productos...",value:o,onChange:t=>V(t.target.value),onKeyDown:J,onFocus:()=>{o.trim().length>=2&&_(o)},className:"w-full pr-14 py-3 font-normal pl-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent focus:outline-none bg-gray-50",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(M,{size:18})})]}),e.jsx(C,{children:e.jsx(Y,{suggestions:p,isLoading:G,onSelect:O,selectedIndex:g})})]})})]}),e.jsx(C,{children:v&&e.jsx(X.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"lg:hidden bg-transparent text-textWhite shadow-lg w-full min-h-screen absolute z-10 top-20",children:e.jsx(Ne,{search:o,setSearch:h,pages:u,items:x,onClose:()=>F(!v)})})}),e.jsx(je,{data:c,cart:B,setCart:T,modalOpen:y,setModalOpen:N}),e.jsx("div",{className:"flex justify-end w-full mx-auto z-[100] relative",children:e.jsx("div",{className:"hidden lg:block fixed bottom-6 sm:bottom-[2rem] lg:bottom-[4rem] z-20 cursor-pointer",children:e.jsx("a",{target:"_blank",id:"whatsapp-toggle",href:`https://api.whatsapp.com/send?phone=${H}&text=${E}`,children:e.jsx("img",{src:"/assets/img/whatsapp.svg",alt:"whatsapp",className:"mr-3 w-16 h-16 md:w-[80px] md:h-[80px] animate-bounce duration-300"})})})})]})};export{Ze as default};

var e=Object.defineProperty,a=(a,s,t)=>((a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t)(a,"symbol"!=typeof s?s+"":s,t);import{c as s,j as t,r as i}from"./vendor-react-DD0uBW7s.js";import{B as o}from"./Base-DQk4WKCZ.js";import{S as l}from"./SwitchFormGroup-Dk6WRclX.js";import{S as r}from"./CartKuchara-BG_NtHiU.js";import{B as n}from"./BasicRest-BuuGWTMX.js";import{W as c}from"./WebDetailsRest-B5f1FzaP.js";import{B as d}from"./BasicEditing-BNAmWDbw.js";import{M as u}from"./Modal-DUl7LQD_.js";import{T as m}from"./Table-CLY50rKz.js";import{D as p}from"./DxButton-C6FT_beP.js";import{I as b}from"./InputFormGroup-DY-ZEW8l.js";import{S as h}from"./SelectFormGroup-BpYEBv3v.js";import{A as x}from"./ArrayDetails2Object-BtdyATqd.js";import{C as f,F as j}from"./CreateReactScript-C92mMLGn.js";import{R as v}from"./ReactAppend-D5wf6JB3.js";import{I as g}from"./ImageFormGroup-DBShHzxF.js";import{Q as N}from"./QuillFormGroup-WL6uqCoo.js";import"./vendor-swiper-BQwfPLwm.js";import"./Global-BAGAPG-V.js";import"./TippyButton-BXJTBPrK.js";import"./Logout-CJj-4dQc.js";import"./MenuItemContainer--0h9gV_W.js";import"./Menu-Cmvatiox.js";import"./GoogleSignInButton-BciphYP2.js";import"./BooleanLimit-q2Ad9fGY.js";import"./em-DJJSxo2q.js";import"./HtmlContent-CEAddvHS.js";import"./General-ClVW7qxN.js";import"./LaravelSession-ByQnaUD3.js";const w=new class extends n{constructor(){super(...arguments),a(this,"path","admin/aboutus"),a(this,"hasFiles",!0)}},R=new c,F="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||window.location.hostname.includes(".local")||window.location.hostname.includes(".test"),S=[{value:"section-hero",text:"ðŸ¦¸â€â™‚ï¸ Hero Principal - SecciÃ³n principal con tÃ­tulo e imagen"},{value:"section-mision",text:"ðŸŽ¯ MisiÃ³n - SecciÃ³n de misiÃ³n de la empresa"},{value:"section-vision",text:"ðŸ”­ VisiÃ³n - SecciÃ³n de visiÃ³n de la empresa"},{value:"section-valores",text:"â­ Valores - Grid de valores empresariales"},{value:"section-equipo",text:"ðŸ‘¥ Nuestro Equipo - PresentaciÃ³n del equipo"},{value:"section-historia",text:"ðŸ“š Nuestra Historia - Historia de la empresa"},{value:"section-cta",text:"ðŸ“ž Call to Action - SecciÃ³n de contacto final"}],y=({details:e,session:a,hasRootRole:s})=>{const o=i.useRef(),n=i.useRef(),c=i.useCallback(()=>void 0!==s?s:a?.roles?.some(e=>"Root"===e.name)||!1,[s,a]),f=i.useRef(),y=i.useRef(),T=i.useRef(),C=i.useRef(),D=i.useRef(),B=i.useRef(),E=i.useRef(),k=i.useRef(),[q,I]=i.useState(!1),G=e=>{I(!!e?.id),k.current&&k.resetDeleteFlag&&k.resetDeleteFlag(),f.current.value=e?.id??"",y.current&&$(y.current).val(e?.correlative??"").trigger("change"),T.current.value=e?.name??"",C.current&&j.has("aboutuses","description")&&(C.editor.root.innerHTML=e?.description??""),D.current&&j.has("aboutuses","title")&&(D.current.value=e?.title??""),B.current&&j.has("aboutuses","slogan")&&(B.current.value=e?.slogan??""),E.current&&j.has("aboutuses","link")&&(E.current.value=e?.link??""),k.current&&k.image&&j.has("aboutuses","image")&&(k.image.src=e?.image?`/storage/images/aboutus/${e.image}`:"",k.current.value=null),$(n.current).modal("show")},[M,A]=i.useState(x(e)),[O,H]=i.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsx(m,{gridRef:o,title:t.jsxs(t.Fragment,{children:[t.jsx(d,{correlative:"about",details:e}),O?t.jsx("input",{className:"form-control form-control-sm mb-1",defaultValue:M?.["about.video"],onBlur:async e=>{R.save({page:"about",name:"video",description:e.target.value})&&(A(a=>({...a,"about.video":e.target.value})),H(!1))},autoFocus:!0}):t.jsx("smal",{className:"header-title mt-1",onClick:()=>H(!0),children:M?.["about.video"]||"Sin video"})]}),rest:w,rowDragging:{allowReordering:!0,onReorder:async e=>{const a=e.toIndex;try{await w.reorder(e.itemData.id,a)&&await e.component.refresh()}catch(s){}},dropFeedbackMode:"push"},sorting:{mode:"single"},toolBar:e=>{e.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(o.current).dxDataGrid("instance").refresh()}}),F&&e.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nuevo About",hint:"Agregar nuevo about",onClick:()=>G()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"order_index",caption:"Orden",visible:!1,sortOrder:"asc",sortIndex:0},{dataField:"correlative",caption:"Correlativo",width:150},{dataField:"name",caption:"SecciÃ³n"},j.has("aboutuses","title")&&{dataField:"title",caption:"TÃ­tulo"},j.has("aboutuses","slogan")&&{dataField:"slogan",caption:"Slogan"},j.has("aboutuses","image")&&{dataField:"image",caption:"Imagen",width:"90px",allowFiltering:!1,cellTemplate:(e,{data:a})=>{v(e,t.jsx("img",{src:`/storage/images/aboutus/${a.image}`,style:{width:"80px",height:"80px",objectFit:"cover",objectPosition:"center",borderRadius:"4px"},onError:e=>e.target.src="/api/cover/thumbnail/null"}))}},{dataField:"visible",caption:"Visible",dataType:"boolean",cellTemplate:(e,{data:a})=>{$(e).empty(),v(e,t.jsx(l,{checked:1==a.visible,onChange:()=>(async({id:e,value:a})=>{await w.boolean({id:e,field:"visible",value:a})&&$(o.current).dxDataGrid("instance").refresh()})({id:a.id,value:1==a.visible?0:1})}))}},{caption:"Acciones",cellTemplate:(e,{data:a})=>{e.append(p({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>G(a)})),c()&&e.append(p({className:"btn btn-xs btn-soft-danger ml-1",title:"Eliminar",icon:"fa fa-trash",onClick:()=>(async e=>{const{isConfirmed:a}=await r.fire({title:"Eliminar recurso",text:"Â¿Estas seguro de eliminar este about?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});if(!a)return;await w.delete(e)&&$(o.current).dxDataGrid("instance").refresh()})(a.id)}))},allowFiltering:!1,allowExporting:!1}]}),t.jsxs(u,{modalRef:n,title:q?"Editar about":"Agregar about",onSubmit:async e=>{e.preventDefault();const a={id:f.current.value||void 0,correlative:y.current.value,name:T.current.value};j.has("aboutuses","description")&&(a.description=C.current.value),j.has("aboutuses","title")&&(a.title=D.current.value),j.has("aboutuses","slogan")&&(a.slogan=B.current.value),j.has("aboutuses","link")&&(a.link=E.current.value);const s=new FormData;for(const t in a)s.append(t,a[t]);if(k.current&&j.has("aboutuses","image")){const e=k.current.files[0];e&&s.append("image",e),k.getDeleteFlag&&k.getDeleteFlag()&&s.append("image_delete","DELETE")}await w.save(s)&&(k.current&&k.resetDeleteFlag&&k.resetDeleteFlag(),$(o.current).dxDataGrid("instance").refresh(),$(n.current).modal("hide"))},size:"xl",children:[t.jsx("input",{ref:f,type:"hidden"}),t.jsxs("div",{id:"aboutuses-container",children:[t.jsxs("ul",{className:"nav nav-pills nav-justified mb-4",role:"tablist",style:{backgroundColor:"#f8f9fa",borderRadius:"8px",padding:"4px",border:"1px solid #e9ecef"},children:[t.jsx("li",{className:"nav-item",role:"presentation",children:t.jsxs("button",{className:"nav-link active",id:"basic-info-tab","data-bs-toggle":"pill","data-bs-target":"#basic-info",type:"button",role:"tab","aria-controls":"basic-info","aria-selected":"true",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[t.jsx("i",{className:"fas fa-info-circle me-2"}),"InformaciÃ³n BÃ¡sica"]})}),(j.has("aboutuses","title")||j.has("aboutuses","slogan")||j.has("aboutuses","description"))&&t.jsx("li",{className:"nav-item",role:"presentation",children:t.jsxs("button",{className:"nav-link",id:"content-tab","data-bs-toggle":"pill","data-bs-target":"#content",type:"button",role:"tab","aria-controls":"content","aria-selected":"false",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[t.jsx("i",{className:"fas fa-file-alt me-2"}),"Contenido"]})}),j.has("aboutuses","image")&&t.jsx("li",{className:"nav-item",role:"presentation",children:t.jsxs("button",{className:"nav-link",id:"multimedia-tab","data-bs-toggle":"pill","data-bs-target":"#multimedia",type:"button",role:"tab","aria-controls":"multimedia","aria-selected":"false",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[t.jsx("i",{className:"fas fa-images me-2"}),"Multimedia"]})})]}),t.jsxs("div",{className:"tab-content",children:[t.jsx("div",{className:"tab-pane fade show active",id:"basic-info",role:"tabpanel","aria-labelledby":"basic-info-tab",children:t.jsx("div",{className:"row g-3",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light",children:t.jsxs("h6",{className:"mb-0",children:[t.jsx("i",{className:"fas fa-tag me-2 text-primary"}),"IdentificaciÃ³n de la SecciÃ³n"]})}),t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"row",children:[t.jsx("div",{className:"col-12",children:F?t.jsxs(h,{eRef:y,label:"Tipo de Bloque (Correlativo)",col:"col-12",required:!0,dropdownParent:"#aboutuses-container",helpText:"Selecciona el tipo de bloque que quieres crear",children:[t.jsx("option",{value:"",children:"Selecciona un bloque"}),S.map(e=>t.jsx("option",{value:e.value,children:e.text},e.value))]}):t.jsx(b,{eRef:y,label:"Correlativo",col:"col-12",required:!0,disabled:!0,helpText:"El correlativo no puede modificarse en producciÃ³n"})}),t.jsx("div",{className:"col-12",children:t.jsx(b,{eRef:T,label:"Nombre de la SecciÃ³n",col:"col-12",required:!0,placeholder:"Ej: SOBRE NOSOTROS, NUESTRA MISIÃ“N",helpText:"Nombre que aparecerÃ¡ en el badge superior de la secciÃ³n"})}),j.has("aboutuses","link")&&t.jsx("div",{className:"col-12",children:t.jsx(b,{eRef:E,label:"Enlace (Opcional)",col:"col-12",placeholder:"https://ejemplo.com",helpText:"URL externa o interna relacionada con esta secciÃ³n"})})]})})]})})})}),(j.has("aboutuses","title")||j.has("aboutuses","slogan")||j.has("aboutuses","description"))&&t.jsx("div",{className:"tab-pane fade",id:"content",role:"tabpanel","aria-labelledby":"content-tab",children:t.jsx("div",{className:"row g-3",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light",children:t.jsxs("h6",{className:"mb-0",children:[t.jsx("i",{className:"fas fa-file-alt me-2 text-success"}),"Contenido de la SecciÃ³n"]})}),t.jsx("div",{className:"card-body",children:t.jsxs("div",{className:"row",children:[j.has("aboutuses","title")&&t.jsx("div",{className:"col-12 mb-3",children:t.jsx(b,{eRef:D,label:"TÃ­tulo Principal",col:"col-12",placeholder:"Ej: Nuestra Historia",helpText:"TÃ­tulo grande que aparecerÃ¡ en la secciÃ³n"})}),j.has("aboutuses","slogan")&&t.jsx("div",{className:"col-12 mb-3",children:t.jsx(b,{eRef:B,label:"Slogan / Frase Decorativa",col:"col-12",placeholder:"Ej: Comprometidos con la excelencia",helpText:"Frase corta inspiradora que acompaÃ±a el contenido"})}),j.has("aboutuses","description")&&t.jsx("div",{className:"col-12",children:t.jsx(N,{eRef:C,label:"DescripciÃ³n Detallada",helpText:"Contenido principal de la secciÃ³n (soporta formato HTML)"})})]})})]})})})}),j.has("aboutuses","image")&&t.jsx("div",{className:"tab-pane fade",id:"multimedia",role:"tabpanel","aria-labelledby":"multimedia-tab",children:t.jsx("div",{className:"row g-3",children:t.jsx("div",{className:"col-12",children:t.jsxs("div",{className:"card border-0 shadow-sm",children:[t.jsx("div",{className:"card-header bg-light",children:t.jsxs("h6",{className:"mb-0",children:[t.jsx("i",{className:"fas fa-images me-2 text-info"}),"Imagen de la SecciÃ³n"]})}),t.jsxs("div",{className:"card-body",children:[t.jsx(g,{eRef:k,name:"image",label:"Imagen Principal",col:"col-12",aspect:16/9}),t.jsxs("small",{className:"text-muted mt-2 d-block",children:[t.jsx("i",{className:"fas fa-info-circle me-1"}),"Recomendado: 1600x900px (proporciÃ³n 16:9) para mejor visualizaciÃ³n"]})]})]})})})})]})]})]})]})};f((e,a)=>{s.createRoot(e).render(t.jsx(o,{...a,title:"Nosotros",children:t.jsx(y,{...a})}))});

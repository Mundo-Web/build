import{r as e,j as t,E as a,J as l}from"./vendor-react-DD0uBW7s.js";import{A as i,m as s}from"./vendor-motion-B85mKBc-.js";import"./vendor-swiper-BQwfPLwm.js";const n=({items:n,data:r,generals:o=[]})=>{const[d,c]=e.useState(0),[m,h]=e.useState(!0),u=e.useRef(!1),x=e.useRef(0),p=e.useRef(0),b=n?.sort((e,t)=>(e.order_index||0)-(t.order_index||0))||[];o?.find(e=>"phone_whatsapp"===e.correlative),o?.find(e=>"message_whatsapp"===e.correlative);e.useEffect(()=>{if(!m||b.length<=1)return;const e=setInterval(()=>{c(e=>(e+1)%b.length)},5e3);return()=>clearInterval(e)},[m,b.length]);const g=()=>{c(e=>(e+1)%b.length),h(!1)},f=()=>{c(e=>(e-1+b.length)%b.length),h(!1)},v=e=>{if(!e)return null;return e.split(/(\*[^*]+\*)/g).map((e,a)=>{if(e.startsWith("*")&&e.endsWith("*")){const l=e.slice(1,-1);return t.jsx("span",{className:"customtext-primary",children:l},a)}return t.jsx("span",{className:"text-white",children:e},a)})},j={enter:{opacity:0,scale:1.1},center:{opacity:1,scale:1},exit:{opacity:0,scale:.95}},w={initial:{opacity:0,y:50},animate:{opacity:1,y:0,transition:{duration:.8,delay:.3,ease:"easeOut"}},exit:{opacity:0,y:-30}};return b&&0!==b.length?t.jsxs("section",{className:"relative h-[calc(100dvh-5rem)] lg:h-[700px] overflow-hidden",children:[t.jsx("div",{className:"relative w-full h-full",onTouchStart:e=>{u.current=!0,x.current=e.touches[0].clientX},onTouchMove:e=>{u.current&&(p.current=e.touches[0].clientX-x.current)},onTouchEnd:e=>{if(!u.current)return;u.current=!1;p.current>50?f():p.current<-50&&g(),p.current=0},children:t.jsx(i,{mode:"wait",children:b.map((e,a)=>a!==d?null:t.jsxs(s.div,{variants:j,initial:"enter",animate:"center",exit:"exit",transition:{duration:.7},className:"absolute inset-0",children:[e?.bg_video&&""!==e.bg_video.trim()?t.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden",children:t.jsx("iframe",{src:`https://www.youtube.com/embed/${e.bg_video}?autoplay=1&mute=1&loop=1&playlist=${e.bg_video}&controls=0&showinfo=0&rel=0&modestbranding=1&playsinline=1`,className:"absolute top-1/2 left-1/2 w-[177.77777778vh] h-[56.25vw] min-w-full min-h-full -translate-x-1/2 -translate-y-1/2",allow:"autoplay; encrypted-media",frameBorder:"0",title:`Video ${a}`})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block absolute inset-0",children:t.jsx("img",{src:`/api/sliders/media/${e?.bg_image}`,alt:e?.name||`Slide ${a+1}`,className:"w-full h-full object-cover",loading:0===a?"eager":"lazy"})}),t.jsx("div",{className:"block md:hidden absolute inset-0",children:t.jsx("img",{src:`/api/sliders/media/${e?.bg_image_mobile||e?.bg_image}`,alt:e?.name||`Slide ${a+1}`,className:"w-full h-full object-cover",loading:0===a?"eager":"lazy"})})]}),t.jsx("div",{className:"absolute inset-0 bg-black/60"}),t.jsx("div",{className:"relative h-full flex items-center justify-center",children:t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:t.jsx(i,{mode:"wait",children:t.jsxs(s.div,{variants:w,initial:"initial",animate:"animate",exit:"exit",className:"max-w-3xl mx-auto text-center",children:[t.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-title max-w-lg mx-auto font-bold mb-6 leading-tight",children:v(e?.name)}),e?.description&&t.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white mb-8 max-w-2xl mx-auto",children:e.description}),e?.button_text&&e?.button_link&&t.jsx("a",{href:e.button_link,className:"inline-flex items-center gap-2 px-8 py-4 bg-transparent border-2 border-primary customtext-primary text-lg font-bold hover:bg-primary hover:text-white transition-all duration-300",children:t.jsx("span",{children:e.button_text})})]},`content-${d}`)})})})]},e?.id||a))})}),b.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:f,className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 p-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white rounded-full transition-all duration-300 hidden md:block","aria-label":"Previous slide",children:t.jsx(a,{size:24})}),t.jsx("button",{onClick:g,className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 p-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white rounded-full transition-all duration-300 hidden md:block","aria-label":"Next slide",children:t.jsx(l,{size:24})})]}),b.length>1&&t.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-10 flex gap-3",children:b.map((e,a)=>t.jsx("button",{onClick:()=>(e=>{c(e),h(!1)})(a),className:"transition-all duration-300 "+(a===d?"w-8 h-3 bg-primary rounded-full":"w-3 h-3 bg-white/50 rounded-full hover:bg-white/70"),"aria-label":`Go to slide ${a+1}`},a))}),b.length>1&&t.jsxs("div",{className:"absolute bottom-8 right-8 z-10 hidden md:flex items-center gap-4 text-white",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-2xl font-bold",children:String(d+1).padStart(2,"0")}),t.jsx("span",{className:"text-white/50",children:"/"}),t.jsx("span",{className:"text-white/50",children:String(b.length).padStart(2,"0")})]}),t.jsx("div",{className:"w-24 h-2 bg-white/20 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-primary transition-all duration-300 rounded-full",style:{width:(d+1)/b.length*100+"%"}})})]})]}):null};export{n as default};

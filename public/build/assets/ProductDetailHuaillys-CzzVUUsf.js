import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r as t}from"./index-BOnQTV8N.js";import{S as H,a as O}from"./BlogCarousel-DCQ9UYu0.js";import{N as V}from"./navigation-BIDIUzpb.js";/* empty css               */import"./BlogCarrusel-klwTVD05.js";import"./thumbs-l0sNRNKZ.js";/* empty css                  */import{I as A}from"./ItemsRest-Dp5IKigO.js";import W from"./ProductInfiniteSlider-D7tswJAi.js";import{C as k}from"./chevron-left-JcR9Fe4w.js";import{C as L}from"./chevron-right-Cug7tVUE.js";import{C}from"./chevron-down-uIVDLcM-.js";import{M as S}from"./minus-Db6MFKEO.js";import{P as z}from"./plus-CTIomuuF.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./create-element-if-not-defined-DUWlnlug.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./BasicRest-BML1C-ua.js";import"./CardProductKatya-ncpmQ0JU.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./BooleanLimit-D-OsQsek.js";import"./autoplay-BjAsSK2h.js";import"./CategoryInfiniteSlider-C6UMaVwV.js";import"./ProductCard-CXclprnE.js";import"./createLucideIcon-DfjclApS.js";const k0=({item:e,data:T,setCart:M,cart:I,generals:h})=>{var N;const g=new A,[p,R]=t.useState({url:e==null?void 0:e.image,type:"main"}),[r,d]=t.useState(1),[u,E]=t.useState([]),[U,B]=t.useState(!1),[n,j]=t.useState(!1),[K,Q]=t.useState(null),$=t.useRef(null),b=t.useRef(null),v=t.useRef(null),f=h==null?void 0:h.find(a=>a.correlative==="phone_whatsapp"),_=f==null?void 0:f.description;t.useEffect(()=>{e!=null&&e.id&&(F(e),P(e))},[e]);const F=async a=>{try{const l={id:a==null?void 0:a.id};await g.updateViews(l)}catch(l){console.error("Error updating view:",l)}},P=async a=>{try{const l={id:a==null?void 0:a.id},c=await g.productsRelations(l);c&&E(Object.values(c))}catch(l){console.error("Error fetching related products:",l)}},q=encodeURIComponent(`Â¡Hola! Me gustarÃ­a hacer mi pedido de este producto:

ðŸ“¦ Producto: ${e==null?void 0:e.name}
ðŸ”¢ SKU: ${e==null?void 0:e.sku}
ðŸ“Š Cantidad: ${r}

Â¿PodrÃ­an enviarme mÃ¡s informaciÃ³n?`),D=`https://wa.me/${_}?text=${q}`,w=()=>{window.open(D,"_blank")},x=a=>a?`S/. ${parseFloat(a).toFixed(2)}`:"Consultar precio",o=(e==null?void 0:e.price)&&(e==null?void 0:e.final_price)&&parseFloat(e.price)>parseFloat(e.final_price),m=o?Math.round((parseFloat(e.price)-parseFloat(e.final_price))/parseFloat(e.price)*100):0,i=[{url:e==null?void 0:e.image,type:"main",alt:"Imagen principal"},...((e==null?void 0:e.images)||[]).filter((a,l,c)=>l===c.findIndex(y=>y.url===a.url)).map((a,l)=>({url:a.url,type:"gallery",index:l,alt:`Imagen ${l+1}`}))];return s.jsxs("div",{className:"bg-white min-h-screen font-paragraph",children:[s.jsxs("div",{className:"md:hidden",children:[s.jsx("div",{className:"sticky top-0 bg-white shadow-sm z-20",children:s.jsxs("div",{className:"flex items-center p-4 gap-4 border-b",children:[s.jsx("button",{onClick:()=>window.history.back(),className:"text-gray-600",children:s.jsx(k,{size:24})}),s.jsx("h1",{className:"text-lg font-bold flex-1 line-clamp-2 customtext-neutral-dark",children:e==null?void 0:e.name})]})}),s.jsxs("div",{className:"p-4 ",children:[s.jsxs("div",{className:"relative aspect-square mb-4 rounded-2xl overflow-hidden shadow-lg bg-gray-100",children:[s.jsx(H,{modules:[V],navigation:{prevEl:b.current,nextEl:v.current},loop:i.length>1,onSwiper:a=>{$.current=a},className:"h-full",children:i.map((a,l)=>s.jsx(O,{children:s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx("img",{src:`/storage/images/item/${a.url||a}`,alt:a.alt,className:"w-full h-full object-cover",onError:c=>c.target.src="/api/cover/thumbnail/null"})})},l))}),i.length>1&&s.jsxs("div",{className:"absolute top-1/2 w-full flex justify-between px-2 transform -translate-y-1/2 z-10",children:[s.jsx("button",{ref:b,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/80 shadow-lg hover:scale-110 transition-transform",children:s.jsx(k,{className:"text-gray-800",size:20})}),s.jsx("button",{ref:v,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/80 shadow-lg hover:scale-110 transition-transform",children:s.jsx(L,{className:"text-gray-800",size:20})})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 mb-4",children:[s.jsx("h2",{className:"text-4xl font-title  customtext-neutral-dark mb-2",children:e==null?void 0:e.name}),s.jsx("div",{className:"prose max-w-none text-lg customtext-neutral-dark mb-4",dangerouslySetInnerHTML:{__html:e==null?void 0:e.description}}),s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold customtext-primary",children:x((e==null?void 0:e.final_price)||(e==null?void 0:e.price))}),o&&s.jsx("div",{className:"flex items-center gap-2 mt-1",children:s.jsx("span",{className:"text-sm line-through text-gray-400",children:x(e.price)})})]}),o&&s.jsxs("div",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:["-",m,"% OFF"]})]})]}),(e==null?void 0:e.specifications)&&e.specifications.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden mb-4",children:[s.jsxs("button",{onClick:()=>j(!n),className:"w-full p-4 flex justify-between items-center border-b",children:[s.jsx("span",{className:"font-medium customtext-neutral-dark",children:"Detalle de producto"}),s.jsx(C,{className:`transform transition-transform ${n?"rotate-180":""}`})]}),n&&s.jsx("div",{className:"p-4",children:s.jsx("table",{className:"w-full text-sm",children:s.jsx("tbody",{children:e.specifications.map((a,l)=>s.jsxs("tr",{className:l%2===0?"bg-gray-50":"",children:[s.jsx("td",{className:"py-2 px-3 font-semibold customtext-neutral-dark",children:a.title}),s.jsx("td",{className:"py-2 px-3 text-gray-600",children:a.description||a.value})]},l))})})})]})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-50 p-4",children:s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border border-gray-200",children:[s.jsx("button",{onClick:()=>d(Math.max(1,r-1)),className:"w-10 h-10 flex items-center justify-center",disabled:r<=1,children:s.jsx(S,{size:16})}),s.jsx("div",{className:"w-12 h-10 flex items-center justify-center",children:s.jsx("span",{className:"font-bold",children:r})}),s.jsx("button",{onClick:()=>d(Math.min(10,r+1)),className:"w-10 h-10 flex items-center justify-center",disabled:r>=10,children:s.jsx(z,{size:16})})]}),s.jsxs("button",{onClick:w,className:"flex-1 bg-primary text-white py-3 rounded-full font-bold flex items-center justify-center gap-2 active:scale-95 transition-transform",children:[s.jsxs("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"800px",height:"800px",viewBox:"0 0 32 32",version:"1.1",children:[s.jsx("title",{children:"whatsapp"}),s.jsx("path",{d:"M26.576 5.363c-2.69-2.69-6.406-4.354-10.511-4.354-8.209 0-14.865 6.655-14.865 14.865 0 2.732 0.737 5.291 2.022 7.491l-0.038-0.070-2.109 7.702 7.879-2.067c2.051 1.139 4.498 1.809 7.102 1.809h0.006c8.209-0.003 14.862-6.659 14.862-14.868 0-4.103-1.662-7.817-4.349-10.507l0 0zM16.062 28.228h-0.005c-0 0-0.001 0-0.001 0-2.319 0-4.489-0.64-6.342-1.753l0.056 0.031-0.451-0.267-4.675 1.227 1.247-4.559-0.294-0.467c-1.185-1.862-1.889-4.131-1.889-6.565 0-6.822 5.531-12.353 12.353-12.353s12.353 5.531 12.353 12.353c0 6.822-5.53 12.353-12.353 12.353h-0zM22.838 18.977c-0.371-0.186-2.197-1.083-2.537-1.208-0.341-0.124-0.589-0.185-0.837 0.187-0.246 0.371-0.958 1.207-1.175 1.455-0.216 0.249-0.434 0.279-0.805 0.094-1.15-0.466-2.138-1.087-2.997-1.852l0.010 0.009c-0.799-0.74-1.484-1.587-2.037-2.521l-0.028-0.052c-0.216-0.371-0.023-0.572 0.162-0.757 0.167-0.166 0.372-0.434 0.557-0.65 0.146-0.179 0.271-0.384 0.366-0.604l0.006-0.017c0.043-0.087 0.068-0.188 0.068-0.296 0-0.131-0.037-0.253-0.101-0.357l0.002 0.003c-0.094-0.186-0.836-2.014-1.145-2.758-0.302-0.724-0.609-0.625-0.836-0.637-0.216-0.010-0.464-0.012-0.712-0.012-0.395 0.010-0.746 0.188-0.988 0.463l-0.001 0.002c-0.802 0.761-1.3 1.834-1.3 3.023 0 0.026 0 0.053 0.001 0.079l-0-0.004c0.131 1.467 0.681 2.784 1.527 3.857l-0.012-0.015c1.604 2.379 3.742 4.282 6.251 5.564l0.094 0.043c0.548 0.248 1.25 0.513 1.968 0.74l0.149 0.041c0.442 0.14 0.951 0.221 1.479 0.221 0.303 0 0.601-0.027 0.889-0.078l-0.031 0.004c1.069-0.223 1.956-0.868 2.497-1.749l0.009-0.017c0.165-0.366 0.261-0.793 0.261-1.242 0-0.185-0.016-0.366-0.047-0.542l0.003 0.019c-0.092-0.155-0.34-0.247-0.712-0.434z"})]}),"Hacer mi pedido"]})]})})]}),s.jsx("div",{className:"hidden md:block max-w-7xl mx-auto px-4 py-16",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg overflow-hidden",children:[s.jsx("div",{className:"aspect-square flex items-center justify-center ",children:s.jsx("img",{src:p.url?`/storage/images/item/${p.url}`:"/api/cover/thumbnail/null",alt:e==null?void 0:e.name,className:"w-full h-full object-cover",onError:a=>{a.target.src="/api/cover/thumbnail/null"}})}),o&&s.jsxs("div",{className:"absolute top-4 right-4 bg-red-600 text-white px-4 py-2 rounded-full font-bold text-lg shadow-lg",children:["-",m,"% OFF"]})]}),i.length>1&&s.jsx("div",{className:"grid grid-cols-5 gap-3",children:i.map((a,l)=>s.jsx("button",{onClick:()=>R(a),className:`aspect-square bg-white rounded-lg overflow-hidden border-2 transition-all hover:border-primary ${p.url===a.url?"border-primary scale-105":"border-gray-200"}`,children:s.jsx("img",{src:`/storage/images/item/${a.url}`,alt:a.alt,className:"w-full h-full object-cover ",onError:c=>{c.target.src="/api/cover/thumbnail/null"}})},l))})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{children:s.jsx("h1",{className:"text-3xl lg:text-4xl xl:text-5xl font-title font-bold customtext-neutral-dark mb-4",children:e==null?void 0:e.name})}),s.jsx("div",{className:"prose prose-lg max-w-none customtext-neutral-dark",dangerouslySetInnerHTML:{__html:(e==null?void 0:e.description)||(e==null?void 0:e.summary)}}),s.jsxs("div",{className:"",children:[o&&s.jsxs("div",{className:"text-base customtext-neutral-dark font-semibold mb-2",children:["Precio: ",s.jsx("span",{className:"line-through",children:x(e.price)})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"text-4xl lg:text-5xl font-bold customtext-primary",children:x((e==null?void 0:e.final_price)||(e==null?void 0:e.price))}),o&&s.jsxs("div",{className:"bg-red-600 text-white px-4 py-2 rounded-full text-lg font-bold",children:["-",m,"%"]})]})]}),(e==null?void 0:e.specifications)&&e.specifications.length>0&&s.jsxs("div",{className:"bg-secondary rounded-xl p-6",children:[s.jsx("h3",{className:"font-bold text-xl customtext-neutral-dark mb-4",children:"Detalle de producto"}),s.jsx("div",{className:"space-y-2",children:e.specifications.slice(0,5).map((a,l)=>s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx("div",{className:"min-w-2 min-h-2 max-w-2 max-h-2 rounded-full bg-primary mt-2"}),s.jsxs("div",{children:[s.jsxs("span",{className:"font-bold customtext-neutral-dark",children:[a.title,": "]}),s.jsx("span",{className:"customtext-neutral-light",children:a.description||a.value})]})]},l))}),e.specifications.length>5&&s.jsxs("button",{onClick:()=>j(!n),className:"mt-4 customtext-primary font-semibold hover:underline flex items-center gap-2",children:[n?"Ver menos":"Ver todas las especificaciones",s.jsx(C,{className:`transform transition-transform ${n?"rotate-180":""}`})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"font-bold customtext-neutral-dark text-lg",children:"Cantidad:"}),s.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border-2 border-gray-200 p-1",children:[s.jsx("button",{onClick:()=>d(Math.max(1,r-1)),className:"w-12 h-12 flex items-center justify-center rounded-lg hover:bg-white transition-colors",disabled:r<=1,children:s.jsx(S,{className:"customtext-neutral-dark",size:20})}),s.jsx("div",{className:"w-16 h-12 flex items-center justify-center",children:s.jsx("span",{className:"customtext-neutral-dark font-bold text-xl",children:r})}),s.jsx("button",{onClick:()=>d(Math.min(10,r+1)),className:"w-12 h-12 flex items-center justify-center rounded-lg hover:bg-white transition-colors",disabled:r>=10,children:s.jsx(z,{className:"customtext-neutral-dark",size:20})})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"MÃ¡ximo 10 unidades"})]})}),s.jsxs("button",{onClick:w,className:"w-full bg-primary text-white py-4 px-6 rounded-full font-bold text-lg flex items-center justify-center gap-3 hover:scale-105 transition-all shadow-lg hover:shadow-xl",children:[s.jsxs("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"800px",height:"800px",viewBox:"0 0 32 32",version:"1.1",children:[s.jsx("title",{children:"whatsapp"}),s.jsx("path",{d:"M26.576 5.363c-2.69-2.69-6.406-4.354-10.511-4.354-8.209 0-14.865 6.655-14.865 14.865 0 2.732 0.737 5.291 2.022 7.491l-0.038-0.070-2.109 7.702 7.879-2.067c2.051 1.139 4.498 1.809 7.102 1.809h0.006c8.209-0.003 14.862-6.659 14.862-14.868 0-4.103-1.662-7.817-4.349-10.507l0 0zM16.062 28.228h-0.005c-0 0-0.001 0-0.001 0-2.319 0-4.489-0.64-6.342-1.753l0.056 0.031-0.451-0.267-4.675 1.227 1.247-4.559-0.294-0.467c-1.185-1.862-1.889-4.131-1.889-6.565 0-6.822 5.531-12.353 12.353-12.353s12.353 5.531 12.353 12.353c0 6.822-5.53 12.353-12.353 12.353h-0zM22.838 18.977c-0.371-0.186-2.197-1.083-2.537-1.208-0.341-0.124-0.589-0.185-0.837 0.187-0.246 0.371-0.958 1.207-1.175 1.455-0.216 0.249-0.434 0.279-0.805 0.094-1.15-0.466-2.138-1.087-2.997-1.852l0.010 0.009c-0.799-0.74-1.484-1.587-2.037-2.521l-0.028-0.052c-0.216-0.371-0.023-0.572 0.162-0.757 0.167-0.166 0.372-0.434 0.557-0.65 0.146-0.179 0.271-0.384 0.366-0.604l0.006-0.017c0.043-0.087 0.068-0.188 0.068-0.296 0-0.131-0.037-0.253-0.101-0.357l0.002 0.003c-0.094-0.186-0.836-2.014-1.145-2.758-0.302-0.724-0.609-0.625-0.836-0.637-0.216-0.010-0.464-0.012-0.712-0.012-0.395 0.010-0.746 0.188-0.988 0.463l-0.001 0.002c-0.802 0.761-1.3 1.834-1.3 3.023 0 0.026 0 0.053 0.001 0.079l-0-0.004c0.131 1.467 0.681 2.784 1.527 3.857l-0.012-0.015c1.604 2.379 3.742 4.282 6.251 5.564l0.094 0.043c0.548 0.248 1.25 0.513 1.968 0.74l0.149 0.041c0.442 0.14 0.951 0.221 1.479 0.221 0.303 0 0.601-0.027 0.889-0.078l-0.031 0.004c1.069-0.223 1.956-0.868 2.497-1.749l0.009-0.017c0.165-0.366 0.261-0.793 0.261-1.242 0-0.185-0.016-0.366-0.047-0.542l0.003 0.019c-0.092-0.155-0.34-0.247-0.712-0.434z"})]}),"Hacer mi pedido"]})]})]})}),u&&u.length>0&&s.jsx("div",{className:"mt-12 ",children:s.jsx(W,{items:u,data:{title:"Productos Relacionados",description:"Otros productos que podrÃ­an interesarte",link_catalog:`/catalogo?category=${(N=e==null?void 0:e.category)==null?void 0:N.slug}`,link_text:"Ver productos relacionados",button_text:"Ordenar aquÃ­"},cart:I,setCart:M})})]})};export{k0 as default};

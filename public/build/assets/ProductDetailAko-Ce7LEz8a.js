import{j as r}from"./AboutSimple-Cf8x2fCZ.js";import{r as t}from"./index-BOnQTV8N.js";import{I as P}from"./ItemsRest-Dp5IKigO.js";import"./CartKuchara-D9l7c7at.js";import"./main-B6F2O9-U.js";import"./BlogCarousel-BF9OZIup.js";/* empty css               */import"./BlogCarrusel-Ba-c3mJi.js";import"./ProductMakita-A06drcxg.js";import"./ProductNavigation-h5criuqm.js";import"./CardProductKatya-ncpmQ0JU.js";import{C as i}from"./Number2Currency-jIsa99f9.js";import{C as V}from"./HeaderSearch-A1pdrsXH.js";/* empty css              */import A from"./ProductNavigationSwiperSimple-DBL7LMxY.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-BML1C-ua.js";import"./BooleanLimit-D-OsQsek.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./proxy-B0QLMKEh.js";import"./eye-ScgfreHn.js";import"./createLucideIcon-DfjclApS.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./General-apRuNwp7.js";import"./PolicyModal-C80IvD61.js";import"./index-Chjiymov.js";import"./CartItemRow-iltK2kki.js";import"./tippy-react.esm-DmkRJDEW.js";import"./trash-2-DU7LB6-f.js";import"./calendar-BSC6xbA7.js";import"./moon-BU5XInRR.js";import"./users-w-WaEtvX.js";import"./package-DBFPPBi1.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./index-BZvh78jk.js";import"./adjustTextColor-DJKJvkxA.js";import"./ProductCardColors-BWBd4iNO.js";import"./navigation-CnDykVkE.js";import"./create-element-if-not-defined-dvZas9uG.js";import"./TextWithHighlight-ByFNYMgN.js";import"./arrow-left-n6ltb6Cc.js";import"./arrow-right-MB8dWH_Y.js";function Ps({item:s,data:N,setCart:p,cart:o,textstatic:v,contacts:y}){var g,h,f,m,j,b;const c=new P,[w,k]=t.useState(!1),[n,x]=t.useState({url:s==null?void 0:s.image,type:"main"}),[O,T]=t.useState(1),S=a=>{var e;return((e=y.find(l=>l.correlative===a))==null?void 0:e.description)||""};(g=v.find(a=>a.correlative=="detailproduct-relation-title"))==null||g.title;const[I,D]=t.useState(!1),[$,E]=t.useState([]),[u,_]=t.useState([]),[H,C]=t.useState([]);o==null||o.find(a=>a.id==(s==null?void 0:s.id)),t.useEffect(()=>{s!=null&&s.id&&(q(s),R(s),F(s),M(s))},[s]);const F=async a=>{try{const e={id:a==null?void 0:a.id};if(!await c.updateViews(e))return}catch{return}},R=async a=>{try{const e={id:a==null?void 0:a.id},l=await c.verifyCombo(e);if(!l)return;const d=l[0].associated_items;E(Object.values(d))}catch{return}},q=async a=>{try{const e={id:a==null?void 0:a.id},l=await c.productsRelations(e);if(!l)return;_(Object.values(l))}catch{return}},M=async a=>{try{const e={slug:a==null?void 0:a.slug},l=await c.getVariations(e);if(!l)return;C(l.variants)}catch{return}};$.reduce((a,e)=>a+parseFloat(e.final_price),0);const[U,z]=t.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"px-primary mx-auto pt-4 md:pt-6 xl:pt-8 bg-white",children:[r.jsx("div",{className:"bg-white rounded-xl p-4 md:p-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 xl:gap-20 2xl:gap-32",children:[r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"flex flex-col gap-6",children:[r.jsx("div",{className:"flex-1",children:r.jsx("img",{src:n.type==="main"?`/storage/images/item/${n.url}`:`/storage/images/item/${n.url}`,onError:a=>a.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full h-auto object-contain"})}),r.jsxs("div",{className:"flex flex-row gap-2",children:[r.jsx("button",{onClick:()=>x({url:s==null?void 0:s.image,type:"main"}),className:`w-16 h-16  rounded-lg p-1 border-2 ${n.url===(s==null?void 0:s.image)?"border-primary ":"border-gray-200"}`,children:r.jsx("img",{src:`/storage/images/item/${s==null?void 0:s.image}`,alt:"Main Thumbnail",className:"w-full h-full object-cover",onError:a=>a.target.src="/api/cover/thumbnail/null"})}),s==null?void 0:s.images.map((a,e)=>r.jsx("button",{onClick:()=>x({url:a.url,type:"gallery"}),className:`w-16 h-16 border-2 rounded-lg p-1 ${n.url===a.url?"border-primary":"border-gray-200"}`,children:r.jsx("img",{src:`/storage/images/item/${a.url}`||"/api/cover/thumbnail/null",alt:`Thumbnail ${e+1}`,className:"w-full h-full object-cover",onError:l=>l.target.src="/api/cover/thumbnail/null"})},e))]})]})}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsx("div",{className:"font-title",children:r.jsx("h1",{className:"customtext-neutral-dark text-3xl lg:text-4xl 2xl:text-5xl font-semibold",children:s==null?void 0:s.name})}),(s==null?void 0:s.summary)&&r.jsx("div",{className:"flex flex-col customtext-neutral-dark font-title text-base 2xl:text-lg mt-1",children:r.jsx("p",{children:s==null?void 0:s.summary})}),r.jsx("div",{className:"grid grid-cols-1 gap-3 my-3",children:((h=s==null?void 0:s.specifications)==null?void 0:h.length)>0&&s.specifications.map((a,e)=>a.type==="icono"&&r.jsxs("div",{className:"text-base 2xl:text-lg gap-3 customtext-primary flex flex-row items-center justify-start text-left",children:[r.jsx("div",{className:"bg-[#0082CA] rounded-full overflow-hidden min-w-12",children:r.jsx("img",{src:`/storage/images${a.title}`,alt:a.description,className:"w-12 h-12 object-contain p-2",onError:l=>l.target.src="/assets/img/noimage/noicon.png"})}),r.jsxs("h2",{children:[a.description," "]})]},e))}),r.jsx("div",{className:"flex flex-col w-full xl:w-1/2 font-title max-w-xl mt-3 gap-1",children:(s==null?void 0:s.final_price)<(s==null?void 0:s.price)&&(s==null?void 0:s.final_price)>0?r.jsxs(r.Fragment,{children:[r.jsxs("p",{className:"text-base 2xl:text-lg customtext-neutral-dark font-medium",children:["Precio:"," ",r.jsxs("span",{className:"line-through font-normal",children:[i()," ",s==null?void 0:s.price]})]}),r.jsxs("div",{className:"flex flex-row items-center gap-4 relative",children:[r.jsxs("span",{className:"text-3xl md:text-4xl 2xl:text-5xl font-semibold customtext-neutral-dark",children:[i()," ",s==null?void 0:s.final_price]}),r.jsxs("span",{className:"bg-[#F93232] text-white font-semibold px-3 py-2 rounded-xl text-base",children:["-",Number(s==null?void 0:s.discount_percent).toFixed(1),"%"]})]})]}):r.jsxs("span",{className:"text-3xl md:text-4xl 2xl:text-5xl font-semibold customtext-neutral-dark",children:[i()," ",s==null?void 0:s.price]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 mt-4 gap-4 md:gap-6",children:[r.jsx("a",{target:"_blank",href:`https://api.whatsapp.com/send?phone=${S("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo mayor información acerca del producto: ${s==null?void 0:s.name}`)}`,className:"bg-accent w-full text-base lg:text-lg customtext-neutral-light px-5 text-center py-2.5 rounded-lg",children:"Solicitar cotizacion"}),s.pdf!==null&&r.jsx("a",{target:"_blank",href:`/storage/images/item/${s.pdf}`,download:!0,className:"bg-secondary w-full text-base lg:text-lg customtext-neutral-light px-5 text-center py-2.5 rounded-lg",children:"Descargar ficha técnica"})]})]})]})}),r.jsxs("div",{className:"grid gap-10 lg:gap-20 md:grid-cols-2 bg-white rounded-xl p-4 sm:p-8 font-title",children:[r.jsxs("div",{className:"font-title",children:[((f=s==null?void 0:s.description)==null?void 0:f.replace(/<[^>]+>/g,""))&&r.jsx("h2",{className:"text-2xl font-semibold customtext-neutral-dark mb-4 border-secondary border-b pb-3",children:"Información adicional"}),r.jsxs("div",{className:`space-y-2 ${I?"":"max-h-none overflow-hidden"}`,children:[((m=s==null?void 0:s.description)==null?void 0:m.replace(/<[^>]+>/g,""))&&r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este artículo"}),r.jsx("div",{className:"customtext-neutral-dark 2xl:text-lg",dangerouslySetInnerHTML:{__html:s==null?void 0:s.description}})]}),((j=s==null?void 0:s.features)==null?void 0:j.length)>0&&r.jsx("div",{className:"pl-10",children:r.jsx("ul",{className:"list-disc pl-5 space-y-2",children:s==null?void 0:s.features.map((a,e)=>r.jsx("li",{className:"customtext-neutral-dark",children:a.feature},e))})})]})]}),((b=s==null?void 0:s.specifications)==null?void 0:b.length)>0&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Especificaciones"}),r.jsx("div",{className:"space-y-1",children:s.specifications.map((a,e)=>a.type==="general"&&r.jsxs("div",{className:`grid grid-cols-2 gap-4 p-3 ${e%2===0?"bg-[#F7F9FB]":"bg-white"}`,children:[r.jsx("div",{className:"customtext-neutral-dark ",children:a.title}),r.jsx("div",{className:"customtext-neutral-dark opacity-85",children:a.description})]},e))})]})]})]}),u.length>0&&r.jsx(A,{data:{title:"Productos %relacionados%"},items:u,cart:o,setCart:p}),r.jsx(V,{cart:o,data:N,setCart:p,modalOpen:w,setModalOpen:k})]})}export{Ps as default};

import{r as e,j as s,i as t,af as a,ae as i,ad as r,f as l,X as o,ac as n}from"./vendor-react-CZUvQwNQ.js";import{t as c}from"./OpenPayCardModal-BHkRoVZ6.js";import{S as d}from"./SubscriptionsRest-12yBaIv8.js";import{G as m}from"./Footer-DAm0kDL9.js";import{H as x}from"./HtmlContent-DI-wF5u8.js";import{G as h}from"./General-ClVW7qxN.js";import{m as p}from"./vendor-motion-mZjvfsLz.js";import"./vendor-swiper-Cr_RrIb_.js";import"./BasicRest-K-34csnH.js";import"./BooleanLimit-q2Ad9fGY.js";const u=({pages:u=[],generals:f=[],data:j,socials:g=[]})=>{const v=new d,b=e.useRef(),w=(new Date).getFullYear(),[y,N]=e.useState(null),[k,_]=e.useState(!1),[C,P]=e.useState([]),[S,A]=e.useState(!0),T={privacy_policy:"Políticas de privacidad",terms_conditions:"Términos y condiciones"},E=e=>N(e),M=()=>N(null);e.useEffect(()=>{(async()=>{try{const e=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({skip:0,take:6,status:1,requireTotalCount:!1})}),s=await e.json();200===s.status&&s.data&&P(s.data)}catch(e){}finally{A(!1)}})()},[]);const O=f.find(e=>"footer_description"===e.correlative)?.description||"",q=(()=>{try{const e=f.find(e=>"footer_company_links"===e.correlative)?.description;return(e?JSON.parse(e):[]).filter(e=>!1!==e.visible)}catch{return[]}})(),L=f.find(e=>"phone_contact"===e.correlative)?.description||"",$=f.find(e=>"email_contact"===e.correlative)?.description||"",B=f.find(e=>"address"===e.correlative)?.description||"",R=f.find(e=>"opening_hours"===e.correlative)?.description||"";return s.jsxs("footer",{id:j?.element_id||null,className:"bg-primary text-white",children:[s.jsxs("div",{className:"2xl:max-w-7xl mx-auto px-primary 2xl:px-0 py-16",children:[s.jsxs(p.div,{className:"grid grid-cols-2 lg:grid-cols-6 gap-8 lg:gap-10 mb-12",initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15}}},children:[s.jsxs(p.div,{className:"col-span-2 lg:col-span-2 w-full lg:w-8/12",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:j?.logo_footer?s.jsx("img",{src:`/assets/resources/logo-footer.png?v=${crypto.randomUUID()}`,alt:m.APP_NAME,className:"h-12 object-contain",onError:e=>{e.target.onerror=null,e.target.src="/assets/img/logo-bk.svg"}}):s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-wood-400 to-wood-600 rounded-lg"}),s.jsx("h3",{className:"text-xl font-bold",children:m.APP_NAME})]})}),s.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:O||"Líderes en distribución de productos de alta calidad para profesionales que exigen lo mejor."}),s.jsx("div",{className:"flex gap-3",children:g.map((e,a)=>s.jsx(t,{content:`Ver ${e.name} en ${e.description}`,children:s.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition-colors text-base",children:s.jsx("i",{className:e.icon})})},a))})]}),s.jsxs(p.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:[s.jsx("h4",{className:"text-lg font-bold mb-4",children:j?.products_title||"Productos"}),S?s.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(e=>s.jsx("div",{className:"h-4 bg-white/10 rounded animate-pulse"},e))}):C.length>0?s.jsx("ul",{className:"space-y-2 text-gray-300",children:C.map(e=>s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-wood-300 transition-colors line-clamp-1",title:e.name,children:e.name})},e.id))}):s.jsx("p",{className:"text-white text-sm",children:"No hay productos disponibles"})]}),s.jsxs(p.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:[s.jsx("h4",{className:"text-lg font-bold mb-4",children:j?.company_title||"Empresa"}),q.length>0&&s.jsx("ul",{className:"space-y-2 text-gray-300 mb-6",children:q.map((e,t)=>s.jsx("li",{children:s.jsx("a",{href:e.href||"#",className:"hover:text-wood-300 transition-colors",onClick:s=>{const t=e.href||"#";if(t.includes("#")){s.preventDefault();const e=t.indexOf("#"),a=t.substring(e+1),i=document.getElementById(a);i&&(((e,s=1200)=>{const t=e.getBoundingClientRect().top+window.pageYOffset,a=window.pageYOffset,i=t-a-80;let r=null;const l=e=>{null===r&&(r=e);const t=e-r,o=Math.min(t/s,1),n=o<.5?4*o*o*o:1-Math.pow(-2*o+2,3)/2;window.scrollTo(0,a+i*n),t<s&&requestAnimationFrame(l)};requestAnimationFrame(l)})(i,1200),setTimeout(()=>{window.history.pushState(null,"",t)},100))}},children:e.name})},t))})]}),s.jsxs(p.div,{className:"col-span-2 lg:col-span-2",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6}}},children:[s.jsx("h4",{className:"text-lg font-bold mb-4",children:j?.contact_title||"Ubicación"}),s.jsxs("ul",{className:"space-y-3 text-gray-300",children:[$&&s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx(a,{className:"w-4 h-4 text-wood-300 flex-shrink-0 mt-1"}),s.jsx("div",{className:"text-sm min-w-0 flex-1",children:s.jsx("div",{className:"text-gray-300 break-all",children:$.includes(",")?$.split(",").map((e,t)=>s.jsx("div",{className:"block break-all",children:e.trim()},t)):$})})]})}),L&&s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(i,{className:"w-4 h-4 text-wood-300 flex-shrink-0 mt-1"}),s.jsx("div",{className:"text-sm",children:s.jsx("div",{className:"text-gray-300",children:L.includes(",")?L.split(",").map((e,t)=>s.jsx("div",{className:"block",children:e.trim()},t)):L})})]})}),B&&s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(r,{className:"w-5 h-5 text-wood-300 flex-shrink-0 mt-0.5"}),s.jsx("div",{children:s.jsx("div",{className:"text-sm whitespace-pre-line",children:B})})]}),R&&s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx("svg",{className:"w-5 h-5 text-wood-300 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("div",{children:s.jsx("div",{className:"text-sm whitespace-pre-line",children:R})})]})]}),j?.show_newsletter&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"text-sm font-bold mb-2",children:j?.newsletter_title||"Suscríbete al blog"}),s.jsx("form",{onSubmit:async e=>{e.preventDefault(),_(!0);const t={email:b.current.value,status:1},a=await v.save(t);_(!1),a&&(c.success("¡Suscrito!",{description:`Te has suscrito correctamente al blog de ${m.APP_NAME}.`,icon:s.jsx(n,{className:"h-5 w-5 text-green-500"}),duration:3e3,position:"top-center"}),b.current.value=null)},children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{ref:b,type:"email",placeholder:j?.newsletter_placeholder||"Tu email",className:"flex-1 px-3 py-2 text-sm text-neutral-dark rounded-lg focus:ring-2 focus:ring-wood-300 focus:outline-none",disabled:k,required:!0}),s.jsx("button",{disabled:k,className:"px-4 py-2 bg-wood-400 hover:bg-wood-500 text-white text-sm font-bold rounded-lg transition-colors disabled:opacity-50","aria-label":"Suscribirse",children:k?j?.newsletter_sending||"...":j?.newsletter_button||"Enviar"})]})})]})]})]}),s.jsx("div",{className:"border-t border-white/10 pt-8",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[s.jsxs("p",{className:"text-white text-md",children:[h.get("copyright")||`© ${w} ${m.APP_NAME}. Todos los derechos reservados.`,s.jsxs("span",{className:"italic",children:["  Powered by  ",s.jsx("a",{href:"https://www.mundoweb.pe",target:"_blank",rel:"noopener noreferrer",children:"MundoWeb"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 md:gap-6 text-md text-white justify-center",children:[s.jsx("a",{onClick:()=>E(0),className:"hover:text-wood-300 transition-colors cursor-pointer",children:j?.privacy_text||"Política de Privacidad"}),s.jsx("a",{onClick:()=>E(1),className:"hover:text-wood-300 transition-colors cursor-pointer",children:j?.terms_text||"Términos y Condiciones"}),s.jsx("a",{href:"/libro-reclamaciones",className:"hover:text-wood-300 transition-colors hidden",children:j?.complaints_text||"Libro de reclamaciones"})]})]})})]}),Object.keys(T).map((e,t)=>{const a=T[e],i=f.find(s=>s.correlative===e)?.description??"";return s.jsx(l,{isOpen:y===t,onRequestClose:M,contentLabel:a,className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center p-4 z-50",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-[99999]",ariaHideApp:!1,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 pr-4",children:a}),s.jsx("button",{onClick:M,className:"flex-shrink-0 text-gray-400 hover:text-red-500 transition-colors duration-200 p-1 hover:bg-gray-100 rounded-full","aria-label":"Cerrar modal",children:s.jsx(o,{size:24,strokeWidth:2})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx("div",{className:"prose prose-gray max-w-none",children:s.jsx(x,{html:i})})}),s.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:s.jsx("button",{onClick:M,className:"px-6 py-2 bg-primary text-white rounded-lg transition-colors duration-200 font-medium",children:"Cerrar"})})]})},t)})]})};export{u as default};

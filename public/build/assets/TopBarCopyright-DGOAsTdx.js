import{j as jsxRuntimeExports}from"./AboutSimple-Cf8x2fCZ.js";import{r as reactExports}from"./index-BOnQTV8N.js";import{R as ReactModal}from"./PolicyModal-C80IvD61.js";import{G as General}from"./General-apRuNwp7.js";import{t as toast}from"./CardProductKatya-ncpmQ0JU.js";import{J as JobApplicationRest}from"./JobApplicationRest-Bo-ZS3Sp.js";import{U as Upload}from"./upload-GO9GDST_.js";import{X}from"./x-fof_H3Vv.js";import{C as CircleCheckBig}from"./circle-check-big-CYWUGR3Z.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-B6ujFmsw.js";import"./index-Chjiymov.js";import"./index-pSueRYGM.js";import"./BasicRest-BML1C-ua.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./BooleanLimit-D-OsQsek.js";import"./createLucideIcon-DfjclApS.js";const jobApplicationRest=new JobApplicationRest,TopBarCopyright=({data})=>{const[modalOpen,setModalOpen]=reactExports.useState(!1),[saving,setSaving]=reactExports.useState(!1),[selectedFile,setSelectedFile]=reactExports.useState(null),[success,setSuccess]=reactExports.useState(!1),nameRef=reactExports.useRef(),emailRef=reactExports.useRef(),phoneRef=reactExports.useRef(),positionRef=reactExports.useRef(),messageRef=reactExports.useRef(),cvRef=reactExports.useRef(),copyright=General.get("copyright")??"",content=copyright.replace(/\{\{([^}]+)\}\}/g,(match,code)=>{try{return eval(code)}catch(e){return console.error("Error evaluating code:",e),match}}),openModal=()=>setModalOpen(!0),closeModal=()=>{setModalOpen(!1),setSelectedFile(null),setSuccess(!1)},handleFileChange=e=>{const t=e.target.files[0];if(t){if(t.size>5*1024*1024){toast.error("Archivo muy grande",{description:"El archivo no debe superar los 5MB"}),e.target.value=null;return}setSelectedFile(t)}},handleDrop=e=>{e.preventDefault();const t=e.dataTransfer.files[0];if(t){const o=[".pdf",".doc",".docx"],a="."+t.name.split(".").pop().toLowerCase();if(!o.includes(a)){toast.error("Formato no válido",{description:"Solo se permiten archivos PDF, DOC o DOCX"});return}if(t.size>5*1024*1024){toast.error("Archivo muy grande",{description:"El archivo no debe superar los 5MB"});return}const r=new DataTransfer;r.items.add(t),cvRef.current.files=r.files,setSelectedFile(t)}},handleDragOver=e=>{e.preventDefault()},removeFile=()=>{setSelectedFile(null),cvRef.current.value=null},handleSubmit=async e=>{var t,o,a,r,n,i,l,c,x,m,d,p;if(e.preventDefault(),!saving){setSaving(!0);try{const s=new FormData,u=((o=(t=nameRef.current)==null?void 0:t.value)==null?void 0:o.trim())||"",f=((r=(a=emailRef.current)==null?void 0:a.value)==null?void 0:r.trim())||"",h=((i=(n=phoneRef.current)==null?void 0:n.value)==null?void 0:i.trim())||"",j=((c=(l=positionRef.current)==null?void 0:l.value)==null?void 0:c.trim())||"",g=((m=(x=messageRef.current)==null?void 0:x.value)==null?void 0:m.trim())||"";console.log("Form data capture:",{name:u,email:f,phone:h,position:j,message:g}),s.append("name",u),s.append("email",f),s.append("phone",h),s.append("position",j),s.append("message",g),(p=(d=cvRef.current)==null?void 0:d.files)!=null&&p[0]&&(s.append("cv",cvRef.current.files[0]),console.log("CV file attached:",cvRef.current.files[0].name)),console.log("FormData entries:");for(let[b,v]of s.entries())console.log(b,v);await jobApplicationRest.save(s)?(setSuccess(!0),toast.success("¡Solicitud enviada!",{description:"Gracias por tu interés. Pronto nos pondremos en contacto contigo.",icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"}),duration:4e3,position:"top-center"}),e.target.reset(),setSelectedFile(null)):toast.error("Error al enviar solicitud",{description:"Por favor, intenta nuevamente."})}catch(s){console.error("Error:",s),toast.error("Error al enviar solicitud",{description:"Por favor, intenta nuevamente."})}finally{setSaving(!1)}}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:` text-sm font-medium py-3  text-center px-primary flex justify-between items-center  flex-wrap ${(data==null?void 0:data.class_container)||"bg-white customtext-neutral-light"} `,children:[jsxRuntimeExports.jsxs("p",{children:[content,"   ",jsxRuntimeExports.jsxs("span",{className:"italic",children:["  Powered by  ",jsxRuntimeExports.jsx("a",{href:"https://www.mundoweb.pe",target:"_blank",rel:"noopener noreferrer",children:"MundoWeb"})]})]}),(data==null?void 0:data.showJobApplicationButton)&&jsxRuntimeExports.jsx("button",{onClick:openModal,className:"text-sm font-paragraph font-medium hover:underline transition-all duration-300 cursor-pointer",children:"Trabaja con nosotros"})]}),jsxRuntimeExports.jsx(ReactModal,{isOpen:modalOpen,onRequestClose:closeModal,contentLabel:"Trabaja con nosotros",className:"absolute left-1/2 -translate-x-1/2 bg-white z-[99999999] rounded-2xl shadow-lg w-[95%] max-w-5xl top-1/2 -translate-y-1/2 overflow-hidden",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-[99999999]",ariaHideApp:!1,children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 max-h-[90vh] min-h-[70vh]",children:[jsxRuntimeExports.jsx("div",{className:"hidden md:block bg-[#f8f5f2] min-h-[70vh]",children:jsxRuntimeExports.jsx("img",{src:`/assets/resources/job-application.png?v=${crypto.randomUUID()}`,alt:"Trabaja con nosotros",className:"h-full w-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="/assets/img/logo-bk.svg"}})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col max-h-[90vh]",children:success?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-12 h-full",children:[jsxRuntimeExports.jsx("div",{className:"bg-green-100 rounded-full p-6 mb-6",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-16 h-16 text-green-600"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl 2xl:text-3xl font-bold customtext-primary mb-3",children:"¡Gracias por tu interés!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-base 2xl:text-lg mb-6 max-w-md",children:"Hemos recibido tu solicitud correctamente. Revisaremos tu perfil y nos pondremos en contacto contigo pronto."}),jsxRuntimeExports.jsx("button",{onClick:closeModal,className:"bg-primary text-white px-8 py-3 rounded-3xl font-medium hover:bg-opacity-90 transition-all text-sm 2xl:text-base",children:"Cerrar"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"p-6 pb-0 flex-shrink-0 text-center md:text-left",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl lg:text-3xl 2xl:text-4xl font-bold customtext-neutral-dark mb-3",children:"Únete a nuestro equipo"}),jsxRuntimeExports.jsx("p",{className:"text-base md:text-lg 2xl:text-xl text-gray-600 leading-relaxed",children:"Completa el formulario y envíanos tu CV. Estamos buscando talento como tú."})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto px-6",children:jsxRuntimeExports.jsx("div",{className:"space-y-6 py-6",children:jsxRuntimeExports.jsx("form",{onSubmit:handleSubmit,id:"job-application-form",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:["Nombre completo ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{ref:nameRef,type:"text",required:!0,className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"Ingresa tu nombre completo"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:["Correo electrónico ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{ref:emailRef,type:"email",required:!0,className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"tu@email.com"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Teléfono"}),jsxRuntimeExports.jsx("input",{ref:phoneRef,type:"tel",className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"+51 999 999 999"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Posición de interés"}),jsxRuntimeExports.jsx("input",{ref:positionRef,type:"text",className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"Ej: Desarrollador, Diseñador, etc."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Mensaje"}),jsxRuntimeExports.jsx("textarea",{ref:messageRef,rows:"4",className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 resize-none shadow-sm hover:shadow-md",placeholder:"Cuéntanos brevemente sobre ti..."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Adjunta tu CV"}),jsxRuntimeExports.jsxs("div",{onDrop:handleDrop,onDragOver:handleDragOver,className:"relative border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-primary hover:bg-primary/5 transition-all duration-300 cursor-pointer shadow-sm hover:shadow-md",onClick:()=>{var e;return(e=cvRef.current)==null?void 0:e.click()},children:[jsxRuntimeExports.jsx("input",{ref:cvRef,type:"file",accept:".pdf,.doc,.docx",className:"hidden",onChange:handleFileChange}),selectedFile?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary bg-opacity-10 p-2 rounded-lg",children:jsxRuntimeExports.jsx(Upload,{className:"w-5 h-5 text-primary"})}),jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-900 text-sm",children:selectedFile.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:[(selectedFile.size/1024/1024).toFixed(2)," MB"]})]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),removeFile()},className:"text-red-500 hover:text-red-700 p-1",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}):jsxRuntimeExports.jsxs("div",{className:"py-3",children:[jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 font-medium text-sm mb-1",children:"Arrastra tu CV o haz clic aquí"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"PDF, DOC, DOCX (máx. 5MB)"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 pt-8",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:closeModal,className:"flex-1 border-2 border-primary text-primary hover:bg-primary hover:text-white py-4 rounded-2xl font-bold transition-all duration-300 text-base 2xl:text-lg shadow-sm hover:shadow-lg transform hover:-translate-y-0.5",children:"Cancelar"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:saving,className:"flex-1 bg-primary text-white py-4 rounded-2xl font-bold transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed text-base 2xl:text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:transform-none",children:saving?"Enviando...":"Enviar solicitud"})]}),jsxRuntimeExports.jsx("div",{className:"pb-4"})]})})})})]})})]})})]})};export{TopBarCopyright as default};

import{r as e,j as s}from"./vendor-react-CZUvQwNQ.js";import{C as a}from"./CombosCartRest-CQj19VDs.js";import{C as t}from"./Number2Currency-SEeETbGC.js";import"./vendor-swiper-Cr_RrIb_.js";import"./BasicRest-K-34csnH.js";import"./OpenPayCardModal-BHkRoVZ6.js";import"./BooleanLimit-q2Ad9fGY.js";import"./General-ClVW7qxN.js";const r=({combo:r,onAddToCart:l,cart:n=[],showAddButton:i=!0})=>{const[o,d]=e.useState(!1),[m,c]=e.useState(1),x=new a,p=n.some(e=>"combo"===e.type&&e.combo_id===r.id);return s.jsx("div",{className:"combo-product-card bg-white rounded-lg shadow-md p-4 border border-gray-200",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:r.image||"/images/placeholder.jpg",alt:r.name,className:"w-20 h-20 object-cover rounded-lg"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900 mb-1",children:r.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-2",children:r.summary||`Combo de ${r.combo_items?.length||0} productos`}),s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Incluye:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:r.combo_items?.map((e,a)=>s.jsxs("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:[e.name,e.is_main_item&&s.jsx("span",{className:"ml-1 text-blue-600",children:"★"})]},e.id))})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[r.discount>0&&s.jsxs("span",{className:"text-sm line-through text-gray-500",children:[t()," ",r.price]}),s.jsxs("span",{className:"text-lg font-bold text-green-600",children:[t()," ",r.final_price]}),r.discount>0&&s.jsxs("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:["-",r.discount_percent,"%"]})]})]}),i&&s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Cantidad:"}),s.jsx("input",{type:"number",min:"1",max:"10",value:m,onChange:e=>{const s=parseInt(e.target.value)||1;c(Math.max(1,Math.min(10,s)))},className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded"})]}),s.jsx("button",{onClick:async()=>{if(!o){d(!0);try{const e=await x.addToCart(r.id,m);l(e)}catch(e){}finally{d(!1)}}},disabled:o||p,className:"px-4 py-2 text-sm font-medium rounded transition-colors "+(p?"bg-green-100 text-green-800 cursor-not-allowed":o?"bg-gray-100 text-gray-600 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:p?"✓ En carrito":o?"Agregando...":"Agregar combo"})]})]})})]})})};export{r as default};

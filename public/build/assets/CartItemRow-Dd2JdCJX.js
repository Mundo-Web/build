import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import"./index-BOnQTV8N.js";import{N as n,C as m}from"./Number2Currency-jIsa99f9.js";import{i as h}from"./tippy-react.esm-DmkRJDEW.js";import{m as g}from"./proxy-B0QLMKEh.js";import{P as u}from"./package-DBFPPBi1.js";import{T as y}from"./trash-2-DU7LB6-f.js";import{M as j}from"./minus-Db6MFKEO.js";import{P as b}from"./plus-CTIomuuF.js";const z=({setCart:i,index:x,...s})=>{var d;const r=s.type==="combo",c=()=>i(a=>a.filter(t=>t.id!==s.id||t.type!==s.type)),l=a=>{if(a<1)return c();i(t=>t.map(o=>o.id===s.id&&o.type===s.type?{...o,quantity:a}:o))},p=r?s.final_price||s.price:s.discount>0?Math.min(s.price,s.discount):s.price;return e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:50},transition:{delay:x*.05},className:"flex gap-4 p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("img",{src:r?s.image?`/storage/images/combo/${s.image}`:`/storage/images/item/${s.image}`:`/storage/images/item/${s.image}`,onError:a=>a.target.src="/assets/img/noimage/no_img.jpg",className:"w-20 h-20 rounded-lg object-cover border border-gray-100",alt:s.name}),r&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-primary text-white rounded-full p-1",children:e.jsx(u,{size:12})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"max-w-52",children:[e.jsx("h3",{className:"font-semibold line-clamp-2  text-gray-900 truncate",children:s.name}),r&&e.jsxs("span",{className:"text-xs customtext-primary font-medium",children:["Combo (",((d=s.combo_items)==null?void 0:d.length)||0," productos)"]})]}),e.jsx(h,{content:"Eliminar",children:e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(y,{size:18})})})]}),!r&&(s==null?void 0:s.discount)>0&&e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[e.jsx("span",{className:"line-through mr-2",children:n(s.price)}),e.jsxs("span",{className:"text-red-500",children:["-",Number(s.discount_percent).toFixed(0),"%"]})]}),r&&(s==null?void 0:s.discount)>0&&e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[e.jsxs("span",{className:"line-through mr-2",children:[m()," ",n(s.price)]}),e.jsxs("span",{className:"text-red-500",children:["-",Number(s.discount_percent).toFixed(0),"%"]})]}),r&&s.combo_items&&e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Incluye: ",s.combo_items.map(a=>a.name).join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center border border-gray-200 rounded-lg",children:[e.jsx("button",{onClick:()=>l(s.quantity-1),className:"p-2 hover:bg-gray-50 transition-colors",children:e.jsx(j,{size:16,className:"text-gray-600"})}),e.jsx("span",{className:"w-8 text-center font-medium",children:s.quantity}),e.jsx("button",{onClick:()=>l(s.quantity+1),className:"p-2 hover:bg-gray-50 transition-colors",children:e.jsx(b,{size:16,className:"text-gray-600"})})]}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[m()," ",n(p*s.quantity)]})]})]})]})};export{z as C};

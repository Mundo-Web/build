import{j as a}from"./AboutSimple-Cf8x2fCZ.js";import{r as t}from"./index-BOnQTV8N.js";import{I as P}from"./ItemsRest-Dp5IKigO.js";import"./ProductCard-D9l7c7at.js";import"./main-B6F2O9-U.js";import"./BlogCarousel-DCQ9UYu0.js";/* empty css               */import"./BlogCarrusel-klwTVD05.js";import"./ProductMakita-CuTJk-0k.js";import"./ProductNavigation-5QhNPets.js";import"./CardProductKatya-ncpmQ0JU.js";import{C as i}from"./Number2Currency-jIsa99f9.js";import{C as V}from"./HeaderSearch-j9L8kXPt.js";/* empty css              */import A from"./ProductNavigationSwiperSimple-DOL6_9Iq.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-BML1C-ua.js";import"./BooleanLimit-D-OsQsek.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./proxy-B0QLMKEh.js";import"./eye-ScgfreHn.js";import"./createLucideIcon-DfjclApS.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./General-apRuNwp7.js";import"./PolicyModal-C80IvD61.js";import"./index-Chjiymov.js";import"./CartItemRow-Dd2JdCJX.js";import"./tippy-react.esm-DmkRJDEW.js";import"./package-DBFPPBi1.js";import"./trash-2-DU7LB6-f.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./index-BZvh78jk.js";import"./adjustTextColor-DJKJvkxA.js";import"./ProductCardColors-EcSomiIU.js";import"./navigation-BIDIUzpb.js";import"./create-element-if-not-defined-DUWlnlug.js";import"./TextWithHighlight-ByFNYMgN.js";import"./arrow-left-n6ltb6Cc.js";import"./arrow-right-MB8dWH_Y.js";function Rs({item:s,data:N,setCart:p,cart:o,textstatic:v,contacts:y}){var g,h,f,j,m,b;const c=new P,[w,k]=t.useState(!1),[n,x]=t.useState({url:s==null?void 0:s.image,type:"main"}),[O,T]=t.useState(1),S=r=>{var e;return((e=y.find(l=>l.correlative===r))==null?void 0:e.description)||""};(g=v.find(r=>r.correlative=="detailproduct-relation-title"))==null||g.title;const[I,D]=t.useState(!1),[$,E]=t.useState([]),[u,_]=t.useState([]),[H,C]=t.useState([]);o==null||o.find(r=>r.id==(s==null?void 0:s.id)),t.useEffect(()=>{s!=null&&s.id&&(q(s),R(s),F(s),M(s))},[s]);const F=async r=>{try{const e={id:r==null?void 0:r.id};if(console.log(e),!await c.updateViews(e))return}catch{return}},R=async r=>{try{const e={id:r==null?void 0:r.id},l=await c.verifyCombo(e);if(!l)return;const d=l[0].associated_items;E(Object.values(d))}catch{return}},q=async r=>{try{const e={id:r==null?void 0:r.id},l=await c.productsRelations(e);if(!l)return;_(Object.values(l))}catch{return}},M=async r=>{try{const e={slug:r==null?void 0:r.slug},l=await c.getVariations(e);if(!l)return;C(l.variants)}catch{return}};$.reduce((r,e)=>r+parseFloat(e.final_price),0);const[U,z]=t.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"px-primary mx-auto pt-4 md:pt-6 xl:pt-8 bg-white",children:[a.jsx("div",{className:"bg-white rounded-xl p-4 md:p-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 xl:gap-20 2xl:gap-32",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsx("div",{className:"flex-1",children:a.jsx("img",{src:n.type==="main"?`/storage/images/item/${n.url}`:`/storage/images/item/${n.url}`,onError:r=>r.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full h-auto object-contain"})}),a.jsxs("div",{className:"flex flex-row gap-2",children:[a.jsx("button",{onClick:()=>x({url:s==null?void 0:s.image,type:"main"}),className:`w-16 h-16  rounded-lg p-1 border-2 ${n.url===(s==null?void 0:s.image)?"border-primary ":"border-gray-200"}`,children:a.jsx("img",{src:`/storage/images/item/${s==null?void 0:s.image}`,alt:"Main Thumbnail",className:"w-full h-full object-cover",onError:r=>r.target.src="/api/cover/thumbnail/null"})}),s==null?void 0:s.images.map((r,e)=>a.jsx("button",{onClick:()=>x({url:r.url,type:"gallery"}),className:`w-16 h-16 border-2 rounded-lg p-1 ${n.url===r.url?"border-primary":"border-gray-200"}`,children:a.jsx("img",{src:`/storage/images/item/${r.url}`||"/api/cover/thumbnail/null",alt:`Thumbnail ${e+1}`,className:"w-full h-full object-cover",onError:l=>l.target.src="/api/cover/thumbnail/null"})},e))]})]})}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("div",{className:"font-title",children:a.jsx("h1",{className:"customtext-neutral-dark text-3xl lg:text-4xl 2xl:text-5xl font-semibold",children:s==null?void 0:s.name})}),(s==null?void 0:s.summary)&&a.jsx("div",{className:"flex flex-col customtext-neutral-dark font-title text-base 2xl:text-lg mt-1",children:a.jsx("p",{children:s==null?void 0:s.summary})}),a.jsx("div",{className:"grid grid-cols-1 gap-3 my-3",children:((h=s==null?void 0:s.specifications)==null?void 0:h.length)>0&&s.specifications.map((r,e)=>r.type==="icono"&&a.jsxs("div",{className:"text-base 2xl:text-lg gap-3 customtext-primary flex flex-row items-center justify-start text-left",children:[a.jsx("div",{className:"bg-[#0082CA] rounded-full overflow-hidden min-w-12",children:a.jsx("img",{src:`/storage/images${r.title}`,alt:r.description,className:"w-12 h-12 object-contain p-2",onError:l=>l.target.src="/assets/img/noimage/noicon.png"})}),a.jsxs("h2",{children:[r.description," "]})]},e))}),a.jsx("div",{className:"flex flex-col w-full xl:w-1/2 font-title max-w-xl mt-3 gap-1",children:(s==null?void 0:s.final_price)<(s==null?void 0:s.price)&&(s==null?void 0:s.final_price)>0?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-base 2xl:text-lg customtext-neutral-dark font-medium",children:["Precio:"," ",a.jsxs("span",{className:"line-through font-normal",children:[i()," ",s==null?void 0:s.price]})]}),a.jsxs("div",{className:"flex flex-row items-center gap-4 relative",children:[a.jsxs("span",{className:"text-3xl md:text-4xl 2xl:text-5xl font-semibold customtext-neutral-dark",children:[i()," ",s==null?void 0:s.final_price]}),a.jsxs("span",{className:"bg-[#F93232] text-white font-semibold px-3 py-2 rounded-xl text-base",children:["-",Number(s==null?void 0:s.discount_percent).toFixed(1),"%"]})]})]}):a.jsxs("span",{className:"text-3xl md:text-4xl 2xl:text-5xl font-semibold customtext-neutral-dark",children:[i()," ",s==null?void 0:s.price]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 mt-4 gap-4 md:gap-6",children:[a.jsx("a",{target:"_blank",href:`https://api.whatsapp.com/send?phone=${S("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo mayor información acerca del producto: ${s==null?void 0:s.name}`)}`,className:"bg-accent w-full text-base lg:text-lg customtext-neutral-light px-5 text-center py-2.5 rounded-lg",children:"Solicitar cotizacion"}),s.pdf!==null&&a.jsx("a",{target:"_blank",href:`/storage/images/item/${s.pdf}`,download:!0,className:"bg-secondary w-full text-base lg:text-lg customtext-neutral-light px-5 text-center py-2.5 rounded-lg",children:"Descargar ficha técnica"})]})]})]})}),a.jsxs("div",{className:"grid gap-10 lg:gap-20 md:grid-cols-2 bg-white rounded-xl p-4 sm:p-8 font-title",children:[a.jsxs("div",{className:"font-title",children:[((f=s==null?void 0:s.description)==null?void 0:f.replace(/<[^>]+>/g,""))&&a.jsx("h2",{className:"text-2xl font-semibold customtext-neutral-dark mb-4 border-secondary border-b pb-3",children:"Información adicional"}),a.jsxs("div",{className:`space-y-2 ${I?"":"max-h-none overflow-hidden"}`,children:[((j=s==null?void 0:s.description)==null?void 0:j.replace(/<[^>]+>/g,""))&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este artículo"}),a.jsx("div",{className:"customtext-neutral-dark 2xl:text-lg",dangerouslySetInnerHTML:{__html:s==null?void 0:s.description}})]}),((m=s==null?void 0:s.features)==null?void 0:m.length)>0&&a.jsx("div",{className:"pl-10",children:a.jsx("ul",{className:"list-disc pl-5 space-y-2",children:s==null?void 0:s.features.map((r,e)=>a.jsx("li",{className:"customtext-neutral-dark",children:r.feature},e))})})]})]}),((b=s==null?void 0:s.specifications)==null?void 0:b.length)>0&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Especificaciones"}),a.jsx("div",{className:"space-y-1",children:s.specifications.map((r,e)=>r.type==="general"&&a.jsxs("div",{className:`grid grid-cols-2 gap-4 p-3 ${e%2===0?"bg-[#F7F9FB]":"bg-white"}`,children:[a.jsx("div",{className:"customtext-neutral-dark ",children:r.title}),a.jsx("div",{className:"customtext-neutral-dark opacity-85",children:r.description})]},e))})]})]})]}),u.length>0&&a.jsx(A,{data:{title:"Productos %relacionados%"},items:u,cart:o,setCart:p}),a.jsx(V,{cart:o,data:N,setCart:p,modalOpen:w,setModalOpen:k})]})}export{Rs as default};

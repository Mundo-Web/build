import{r as e,j as s,b as t}from"./System-Bybt2Brn.js";import{C as a}from"./CartModal-Db_dBOJN.js";import{C as r,L as i,D as l}from"./Logout-Cj21RfLh.js";import{S as n}from"./search--TD4pUuj.js";import{C as o}from"./chevron-left-DoRUFD_L.js";import{C as c}from"./chevron-right-jU6kkjiT.js";import{A as m}from"./index-Da4AP4wO.js";import{m as d}from"./proxy-BmPRG09w.js";import{S as u}from"./shopping-cart-D6rW5WdX.js";import{X as x}from"./x-DWgXNABc.js";import{U as h}from"./user-DFpSHQmU.js";import{c as p}from"./createLucideIcon-oahCLV50.js";import"./vendor-BiOv2i5T.js";import"./index-Cmhjy_Bv.js";import"./index-Bx5UHif0.js";import"./CartItemRow-CLpuTcvn.js";import"./Number2Currency-DExzICY3.js";import"./tippy-react.esm-Cpb4mDDh.js";import"./trash-2-CDXts6on.js";import"./minus-BhdGy6sP.js";import"./plus-4JHYG4O1.js";
/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=p("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function f({search:t,setSearch:a,pages:r,items:i}){const[l,m]=e.useState("main"),[d,u]=e.useState(null),[x,h]=e.useState(null),[p,j]=e.useState();return s.jsx("div",{className:"w-full fixed h-screen customtext-neutral-dark bg-black/20  max-w-md mx-auto  ",children:s.jsxs("div",{className:"bg-white shadow-lg rounded-lg z-[999]",children:[s.jsx("div",{className:"p-4 bg-white flex justify-between items-center border-b border-gray-200",children:s.jsx("h1",{className:"text-xl font-medium customtext-neutral-dark",children:"Menú principal"})}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"relative mb-4",children:s.jsxs("div",{className:" relative w-full max-w-xl mx-auto",children:[s.jsx("input",{type:"search",placeholder:"Buscar productos",value:t,onChange:e=>a(e.target.value),className:"w-full pr-14 py-4  pl-4 border rounded-full focus:ring-0 focus:outline-none"}),s.jsx("a",{href:t.trim()?`/catalogo?search=${encodeURIComponent(t)}`:"#",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg","aria-label":"Buscar",children:s.jsx(n,{})})]})}),"main"!==l&&s.jsxs("button",{onClick:()=>{"subcategories"===l?m("categories"):"categories"===l&&m("main")},className:"flex items-center customtext-primary mb-4 font-semibold",children:[s.jsx(o,{className:"h-5 w-5 mr-1"}),s.jsx("span",{children:"Atrás"})]}),s.jsx("div",{className:"space-y-0 max-h-[350px]  overflow-scroll",children:(()=>{if("main"===l)return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:" customtext-neutral-dark",children:s.jsxs("button",{className:"py-4 border-b border-gray-100 w-full flex justify-between items-center",onClick:()=>{m("categories")},children:[s.jsx("span",{children:"Categorias"}),s.jsx(c,{className:"h-5 w-5 customtext-neutral-dark"})]})}),r.map(((e,t)=>e.menuable&&s.jsx("button",{className:"customtext-neutral-dark py-4 border-b border-gray-100 flex justify-between items-center",href:e.path,children:s.jsx("span",{children:e.name})},t)))]});if("categories"===l)return i.map((e=>s.jsxs("div",{className:" py-4 border-b customtext-neutral-dark border-gray-100 flex justify-between items-center",onClick:()=>{return s=e.name,h(s),u(s),void m("subcategories");var s},children:[s.jsx("a",{href:`/catalogo?category=${e.slug}`,children:e.name}),s.jsx(c,{className:"h-5 w-5 customtext-neutral-dark"})]},e.id)));if("subcategories"===l&&d){return i.find((e=>e.name===d)).subcategories.map(((e,t)=>s.jsx("a",{href:`/catalogo?subcategory=${e.slug}`,className:"block py-4 customtext-neutral-dark border-b border-gray-100",children:s.jsx("span",{children:e.name})},t)))}})()})]})]})})}const b=({items:o,data:c,cart:p,setCart:b,isUser:g,pages:v,generals:y=[]})=>{var w,N;const k=y.find((e=>"phone_whatsapp"===e.correlative)),C=y.find((e=>"message_whatsapp"===e.correlative)),S=null!=(w=null==k?void 0:k.description)?w:null,z=null!=(N=null==C?void 0:C.description)?N:null,[M,L]=e.useState(!1),[$,B]=e.useState(!1),[I,U]=e.useState(!1),[A,E]=e.useState(""),[R,P]=e.useState(!1),W=e.useRef(null),_=e.useRef(null),q=p.reduce(((e,s)=>Number(e)+Number(s.quantity)),0);e.useEffect((()=>{function e(e){W.current&&!W.current.contains(e.target)&&P(!1),_.current&&!_.current.contains(e.target)&&U(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const H={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},D=[{icon:s.jsx(h,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:s.jsx(u,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:s.jsx(j,{size:16}),label:"Configuración",href:"/account"},{icon:s.jsx(l,{size:16}),label:"Cerrar Sesión",onClick:i}];return s.jsxs("header",{className:"w-full  "+($?"fixed w-screen h-screen bg-transparent z-50":"relative"),children:[s.jsx("div",{className:"px-primary  bg-white 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51]",children:s.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:t.APP_NAME,className:"h-14 object-contain object-center",onError:e=>{e.target.onerror=null,e.target.src="/assets/img/logo-bk.svg"}})}),s.jsxs("div",{className:"flex gap-8 lg:hidden",children:[s.jsxs("div",{className:(I?"hidden":"flex")+" items-center gap-4",children:[g?s.jsxs("div",{ref:W,className:"relative",children:[s.jsx("button",{"aria-label":"user",className:"flex items-center gap-2 hover:customtext-primary transition-colors duration-300",onClick:()=>P(!R),children:s.jsx(r,{className:"customtext-primary",width:"1.5rem"})}),s.jsx(m,{children:R&&s.jsx(d.div,{initial:"hidden",animate:"visible",exit:"exit",variants:H,className:"absolute z-50 top-full right-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:s.jsx("div",{className:"p-4",children:s.jsx("ul",{className:"space-y-3",children:D.map(((e,t)=>s.jsx("li",{children:e.onClick?s.jsxs("button",{"aria-label":"menu-items",onClick:e.onClick,className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[e.icon,s.jsx("span",{children:e.label})]}):s.jsxs("a",{href:e.href,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[e.icon,s.jsx("span",{children:e.label})]})},t)))})})})})]}):s.jsx("a",{href:"/iniciar-sesion",className:"flex items-center",children:s.jsx(r,{className:"customtext-primary",width:"1.5rem"})}),s.jsxs("button",{"aria-label":"",onClick:()=>L(!0),className:"flex items-center relative",children:[s.jsx(u,{className:"customtext-primary",width:"1.5rem"}),s.jsx("span",{className:"absolute -right-2 -top-2 inline-flex items-center justify-center w-4 h-4 bg-primary text-white rounded-full text-[8px]",children:q})]})]}),s.jsx("button",{"aria-label":"Menú",onClick:()=>B(!$),className:"flex md:hidden items-center justify-center bg-primary rounded-lg w-auto h-auto p-2 text-white fill-white transition-all duration-300 z-[51]",children:$?s.jsx(x,{}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[s.jsx("path",{d:"M10 5H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M4 12H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M4 19H14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),s.jsxs("div",{className:"hidden md:block relative w-full max-w-xl mx-auto",children:[s.jsx("input",{type:"search",placeholder:"Buscar productos",value:A,onChange:e=>E(e.target.value),className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none"}),s.jsx("a",{href:A.trim()?`/catalogo?search=${encodeURIComponent(A)}`:"#",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:s.jsx(n,{})})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-4 relative text-sm",children:[s.jsxs("div",{ref:W,children:[g?s.jsxs("button",{"aria-label":"user",className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-primary pr-6 transition-colors duration-300",onClick:()=>P(!R),children:[s.jsx(r,{className:"customtext-primary"}),s.jsx("span",{className:"hidden md:inline",children:g.name})]}):s.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm hover:customtext-primary transition-colors duration-300",children:[s.jsx(r,{className:"customtext-primary"}),s.jsx("span",{className:"hidden md:inline",children:"Iniciar Sesión"})]}),s.jsx(m,{children:R&&s.jsx(d.div,{initial:"hidden",animate:"visible",exit:"exit",variants:H,className:"absolute z-50 top-full left-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:s.jsx("div",{className:"p-4",children:s.jsx("ul",{className:"space-y-3",children:D.map(((e,t)=>s.jsx("li",{children:e.onClick?s.jsxs("button",{"aria-label":"menu-items",onClick:e.onClick,className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[e.icon,s.jsx("span",{children:e.label})]}):s.jsxs("a",{href:e.href,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[e.icon,s.jsx("span",{children:e.label})]})},t)))})})})})]}),s.jsxs("button",{"aria-label":"cart",onClick:()=>L(!0),className:"flex items-center gap-2 text-sm relative hover:customtext-primary transition-colors duration-300",children:[s.jsx("div",{className:"customtext-primary",children:s.jsx(u,{})}),s.jsx("span",{className:"hidden md:inline",children:"Mi Carrito"}),s.jsx("span",{className:"absolute -right-6 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs bg-primary text-white rounded-full",children:q})]})]})]})}),s.jsx(m,{children:$&&s.jsx(d.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"lg:hidden bg-transparent text-textWhite shadow-lg w-full min-h-screen absolute z-10 top-20",children:s.jsx(f,{search:A,setSearch:E,pages:v,items:o})})}),s.jsx(a,{data:c,cart:p,setCart:b,modalOpen:M,setModalOpen:L}),s.jsx("div",{className:"flex justify-end w-full mx-auto z-[100] relative",children:s.jsx("div",{className:"hidden lg:block fixed bottom-6 sm:bottom-[2rem] lg:bottom-[4rem] z-20 cursor-pointer",children:s.jsx("a",{target:"_blank",id:"whatsapp-toggle",href:`https://api.whatsapp.com/send?phone=${S}&text=${z}`,children:s.jsx("img",{src:"/assets/img/whatsapp.svg",alt:"whatsapp",className:"mr-3 w-16 h-16 md:w-[100px] md:h-[100px] animate-bounce duration-300"})})})})]})};export{b as default};

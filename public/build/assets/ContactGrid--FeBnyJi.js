import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as p}from"./index-BOnQTV8N.js";import{M as ie}from"./MessagesRest-gAMzUB4v.js";import{L as re,G as ne,M as q,I as oe}from"./esm-Brp_9RVN.js";import{G as m}from"./Global-DWbVqTT_.js";import{t as J}from"./CardProductKatya-ncpmQ0JU.js";import{m as n}from"./proxy-B0QLMKEh.js";import{S as P}from"./store-DCbpAdsr.js";import{M as T}from"./mail-drJGpT4k.js";import{P as ae}from"./phone-ZNY-sPqk.js";import{M as A}from"./map-pin-Cj3PUWlD.js";import{c as le}from"./createLucideIcon-DfjclApS.js";import{B as K}from"./building-2-DSFvhCB-.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-BML1C-ua.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./BooleanLimit-D-OsQsek.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=le("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]),ce=new ie,Le=({data:s,contacts:F})=>{var G;console.log(F);const $=t=>{var o;return((o=F.find(r=>r.correlative===t))==null?void 0:o.description)||""},Q=t=>{const o=$(t);return o?o.split(",").map(r=>r.trim()).filter(r=>r):[]},E=t=>{const o=$(t);return o?o.split(",").map(r=>r.trim()).filter(r=>r):[]},z=((G=F.find(t=>t.correlative=="location"))==null?void 0:G.description)??"0,0",b={lat:Number(z.split(",").map(t=>t.trim())[0]),lng:Number(z.split(",").map(t=>t.trim())[1])},S=p.useRef(),N=p.useRef(),M=p.useRef(),R=p.useRef(),[x,W]=p.useState(!1),[O,D]=p.useState(""),[w,B]=p.useState(""),[h,I]=p.useState([]),[j,V]=p.useState(!0),[i,k]=p.useState(null),[_,H]=p.useState({}),[u,X]=p.useState(null);p.useEffect(()=>{(async()=>{try{V(!0);const r=await(await fetch("/api/stores")).json();console.log("API Response:",r);let c=r;if(r.data?c=r.data:r.body&&(c=r.body),Array.isArray(c)){const a=c.filter(d=>d.status!==!1);I(a);const l=a.find(d=>d.type==="tienda_principal");l&&(X(l),console.log("Tienda principal encontrada:",l));const g=a.reduce((d,y)=>{const f=y.type||"otro";return d[f]||(d[f]=[]),d[f].push(y),d},{});H(g),console.log("Stores grouped by type:",g)}else console.error("API response is not an array:",r),I([]),H({})}catch(o){console.error("Error loading stores:",o),I([]),H({})}finally{V(!1)}})()},[]);const L=t=>{switch(t==null?void 0:t.toLowerCase()){case"tienda":return m.APP_COLOR_PRIMARY;case"oficina":return m.APP_COLOR_PRIMARY;case"agencia":return m.APP_COLOR_PRIMARY;case"almacen":return m.APP_COLOR_PRIMARY;case"showroom":return m.APP_COLOR_PRIMARY;default:return m.APP_COLOR_PRIMARY}},C=t=>{switch(t==null?void 0:t.toLowerCase()){case"tienda":return P;case"oficina":return K;case"agencia":return K;case"almacen":return P;case"showroom":return P;default:return P}},v=t=>({tienda_principal:"Tienda Principal",tienda:"Tiendas",oficina:"Oficinas",agencia:"Agencias",almacen:"Almacenes",showroom:"Showrooms",otro:"Otros Puntos"})[t==null?void 0:t.toLowerCase()]||"Otros Puntos",Z=(t,o,r)=>{const c=C(t);return e.jsxs(n.div,{className:`bg-[#F7F9FB] p-6 rounded-xl shadow-lg ${(s==null?void 0:s.class_card_container)||""}`,initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.2,delay:r*.1},whileHover:{y:-8,scale:1.02,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.15)",backgroundColor:"#ffffff"},children:[e.jsxs(n.div,{className:"flex items-center gap-3 customtext-primary mb-4",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:1.4+r*.1},children:[e.jsx(n.div,{whileHover:{rotate:20,scale:1.2},transition:{type:"spring",stiffness:400,damping:15},children:e.jsx(c,{className:`w-5 h-5 ${(s==null?void 0:s.class_card_title)||""}`})}),e.jsx(n.h3,{className:`font-bold text-lg ${(s==null?void 0:s.class_card_title)||"customtext-neutral-dark"}`,children:v(t)})]}),e.jsx("div",{className:"space-y-4",children:o.map((a,l)=>e.jsx(n.div,{className:`bg-white p-4 rounded-lg border transition-all duration-300 cursor-pointer ${(i==null?void 0:i.id)===a.id?"border-blue-500 shadow-lg bg-blue-50":"border-gray-100 hover:shadow-md hover:border-blue-200"}`,initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:1.5+r*.1+l*.05},whileHover:{x:2,scale:1.01,backgroundColor:(i==null?void 0:i.id)===a.id?"#dbeafe":"#f8fafc"},onClick:()=>k(a),children:e.jsx("div",{className:"flex items-start gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"customtext-neutral-dark font-bold mb-2 text-lg",children:a.name}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(A,{className:"w-4 h-4 customtext-neutral-light flex-shrink-0"}),e.jsx("p",{className:"customtext-primary font-medium",children:a.address})]}),a.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(U,{className:"w-4 h-4 customtext-neutral-light flex-shrink-0"}),e.jsx("a",{href:`tel:${a.phone}`,className:"customtext-primary hover:customtext-neutral-dark transition-colors font-medium",children:a.phone})]}),a.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(T,{className:"w-4 h-4 customtext-neutral-light flex-shrink-0"}),e.jsx("a",{href:`mailto:${a.email}`,className:"customtext-primary hover:customtext-neutral-dark transition-colors font-medium",children:a.email})]})]})]})})},a.id))})]},t)},ee=t=>{const r=t.replace(/\D/g,"").slice(0,9);return r.length<=3?r:r.length<=6?`${r.slice(0,3)} ${r.slice(3)}`:`${r.slice(0,3)} ${r.slice(3,6)} ${r.slice(6)}`},Y=t=>{const o=t.replace(/\D/g,"");return o.length!==9?"El teléfono debe tener 9 dígitos":o.startsWith("9")?"":"Solo se aceptan celulares peruanos (empiezan con 9)"},se=t=>{const o=t.target.value,r=ee(o),c=Y(r);D(r),B(c),N.current&&(N.current.value=r.replace(/\D/g,""))},te=async t=>{if(t.preventDefault(),x)return;const o=O.replace(/\D/g,""),r=Y(O);if(r){B(r),J.error("Error de validación",{description:r,duration:3e3,position:"bottom-center",richColors:!0});return}W(!0);const c={name:S.current.value,phone:o,email:M.current.value,description:R.current.value},a=await ce.save(c);S.current&&(S.current.value=""),N.current&&(N.current.value=""),D(""),B(""),M.current&&(M.current.value=""),R.current&&(R.current.value=""),J.success("Mensaje enviado",{description:"Tu mensaje ha sido enviado correctamente. ¡Nos pondremos en contacto contigo pronto!",duration:3e3,position:"bottom-center",richColors:!0}),W(!1),a&&s!=null&&s.redirect&&(z.href=s==null?void 0:s.redirect)};return e.jsxs(n.section,{className:" bg-[#F7F9FB] py-12 px-primary ",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:[e.jsxs(n.div,{className:" mx-auto  2xl:max-w-7xl  flex flex-col md:flex-row gap-12 bg-white rounded-xl p-4 md:px-8 md:py-8",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.2},children:[e.jsxs(n.div,{className:"w-full md:w-10/12",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:.4},children:[e.jsx(n.h2,{className:`text-3xl font-bold mb-4 ${(s==null?void 0:s.class_title)||"customtext-neutral-dark "}`,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.6},children:"Hablemos Hoy"}),e.jsx(n.p,{className:`customtext-neutral-light mb-8 ${(s==null?void 0:s.class_card_description)||""}`,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:.7},children:"Contáctanos para recibir atención personalizada, cotizaciones rápidas y soporte técnico especializado en nuestra amplia gama de productos dentales."}),e.jsxs(n.form,{onSubmit:te,className:"space-y-6",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.8},children:[e.jsx(n.div,{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:1},children:e.jsx(n.input,{ref:S,disabled:x,type:"text",name:"name",placeholder:"Nombre completo",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200",required:!0,whileFocus:{scale:1.02,borderColor:"#3B82F6"},transition:{type:"spring",stiffness:300,damping:20}})}),e.jsxs(n.div,{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:1.1},children:[e.jsx(n.input,{ref:N,disabled:x,type:"tel",name:"phone",placeholder:"Teléfono (9 dígitos)",value:O,onChange:se,maxLength:11,className:`w-full px-4 py-3 rounded-lg border focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200 ${w?"border-red-400 bg-red-50":"border-gray-300"}`,required:!0,"aria-describedby":w?"phone-error":"phone-help","aria-invalid":w?"true":"false",whileFocus:{scale:1.02,borderColor:"#3B82F6"},transition:{type:"spring",stiffness:300,damping:20}}),w&&e.jsxs(n.span,{id:"phone-error",className:"text-red-500 text-xs flex items-center gap-1 mt-1",role:"alert",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},children:[e.jsx("svg",{className:"w-3 h-3 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),w]})]}),e.jsx(n.div,{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:1.2},children:e.jsx(n.input,{ref:M,disabled:x,type:"email",name:"email",placeholder:"Correo Electrónico",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all duration-200",required:!0,whileFocus:{scale:1.02,borderColor:"#3B82F6"},transition:{type:"spring",stiffness:300,damping:20}})}),e.jsx(n.div,{initial:{x:-30,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:1.3},children:e.jsx(n.textarea,{ref:R,disabled:x,name:"message",placeholder:"Deja tu mensaje...",rows:"6",className:"w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none transition-all duration-200",required:!0,whileFocus:{scale:1.02,borderColor:"#3B82F6"},transition:{type:"spring",stiffness:300,damping:20}})}),e.jsxs(n.button,{type:"submit",className:`bg-primary text-base font-bold text-white px-6 py-3  hover:brightness-90 transition-all flex items-center justify-center gap-2 disabled:opacity-70 ${(s==null?void 0:s.class_card_button)||"rounded-xl"}`,disabled:x,initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:1.4},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:[x&&e.jsxs(n.svg,{className:"animate-spin -ml-1 mr-2 h-5 w-5 ",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),x?"Enviando...":"Enviar mensaje"]})]})]}),e.jsxs(n.div,{className:"space-y-8",initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:.5},children:[e.jsxs(n.div,{className:`bg-[#F7F9FB] p-6 rounded-xl shadow-lg ${(s==null?void 0:s.class_card_container)||""}`,initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.2,delay:0},whileHover:{y:-5,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.15)"},children:[e.jsxs(n.div,{className:"flex items-center gap-3 customtext-primary mb-2",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.5,delay:1.5},children:[e.jsx(n.div,{whileHover:{rotate:-20,scale:1.2},transition:{type:"spring",stiffness:400,damping:15},children:e.jsx(P,{className:`w-5 h-5 ${(s==null?void 0:s.class_card_title)||""}`})}),e.jsx(n.h3,{className:`font-bold text-lg ${(s==null?void 0:s.class_card_title)||"customtext-neutral-dark"}`,children:"Tienda Principal"})]}),e.jsx(n.p,{className:"customtext-primary font-bold",transition:{type:"spring",stiffness:300,damping:20},children:u?u.address:$("address")})]}),e.jsxs(n.div,{className:`bg-[#F7F9FB] p-6 rounded-xl shadow-lg ${(s==null?void 0:s.class_card_container)||""}`,initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.2,delay:0},whileHover:{y:-5,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.15)"},children:[e.jsxs("div",{className:"flex items-center gap-3 customtext-primary mb-2",children:[e.jsx(n.div,{whileHover:{rotate:15,scale:1.1},transition:{duration:.2},children:e.jsx(T,{className:`w-5 h-5 ${(s==null?void 0:s.class_card_title)||""}`})}),e.jsx("h3",{className:` font-bold text-lg ${(s==null?void 0:s.class_card_title)||"customtext-neutral-dark"}`,children:"Email"})]}),e.jsx("p",{className:` mb-2 ${(s==null?void 0:s.class_card_description)||"customtext-neutral-light"}`,children:"Escríbenos para recibir atención personalizada y resolver tus dudas."}),e.jsx("div",{className:"space-y-1",children:Q("email_contact").map((t,o)=>e.jsx("a",{href:`mailto:${t}`,className:"customtext-primary font-bold hover:no-underline block",children:t},o))})]}),e.jsxs(n.div,{className:`bg-[#F7F9FB] p-6 rounded-xl shadow-lg ${(s==null?void 0:s.class_card_container)||""}`,initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.2,delay:0},whileHover:{y:-5,scale:1.02,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.15)"},children:[e.jsxs("div",{className:"flex items-center gap-3 customtext-primary mb-2",children:[e.jsx(n.div,{whileHover:{rotate:-15,scale:1.1},transition:{duration:.2},children:e.jsx(ae,{className:`w-5 h-5 ${(s==null?void 0:s.class_card_title)||""}`})}),e.jsx("h3",{className:` font-bold text-lg ${(s==null?void 0:s.class_card_title)||"customtext-neutral-dark"}`,children:"Teléfono"})]}),e.jsx("p",{className:`customtext-neutral-light mb-2 ${(s==null?void 0:s.class_card_description)||""}`,children:"Llámanos para obtener soporte inmediato y asistencia profesional."}),e.jsx("div",{className:"space-y-1",children:E("phone_contact").map((t,o)=>e.jsx("a",{href:`tel:${t}`,className:"customtext-primary hover:no-underline font-bold block",children:t},o))})]})]})]}),e.jsxs(n.div,{className:"mx-auto 2xl:max-w-7xl gap-12 bg-white rounded-xl px-8 py-8",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:1.4},children:[e.jsxs(n.div,{className:"mb-6",children:[e.jsx(n.h3,{className:`text-2xl font-bold  mb-2 ${(s==null?void 0:s.class_title)||"customtext-neutral-dark"}`,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:1.5},children:(s==null?void 0:s.title_ubication)||"Nuestras Ubicaciones"}),e.jsx(n.p,{className:` mb-4 ${(s==null?void 0:s.class_card_description)||"customtext-neutral-light"}`,initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6,delay:1.6},children:(s==null?void 0:s.description_ubication)||"Encuentra nuestras tiendas, oficinas y agencias más cercanas a tu ubicación."})]}),e.jsxs("div",{className:`flex flex-col gap-8 ${s!=null&&s.stores_support&&!j&&Object.keys(_).length>0?"lg:flex-row":""}`,children:[(s==null?void 0:s.stores_support)&&!j&&Object.keys(_).length>0&&e.jsx(n.div,{className:"lg:w-1/3 space-y-4",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:1.7},children:j?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"ml-2 text-sm customtext-neutral-light",children:"Cargando sucursales..."})]}):e.jsx("div",{className:"space-y-4",children:Object.entries(_).map(([t,o],r)=>Z(t,o,r))})}),e.jsxs(n.div,{className:`${s!=null&&s.stores_support&&!j&&Object.keys(_).length>0?"lg:w-2/3":"w-full"} space-y-6`,initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,delay:1.8},children:[e.jsxs("div",{className:"relative",children:[j&&e.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"customtext-neutral-light",children:"Cargando ubicaciones..."})]})}),e.jsx(re,{googleMapsApiKey:m.GMAPS_API_KEY,className:"rounded-xl",children:e.jsxs(ne,{mapContainerStyle:{width:"100%",height:"500px",borderRadius:"12px"},zoom:i?16:s!=null&&s.stores_support&&h.length>0?12:16,center:i&&i.latitude&&i.longitude?{lat:parseFloat(i.latitude),lng:parseFloat(i.longitude)}:s!=null&&s.stores_support&&h.length>0?{lat:h.filter(t=>t.latitude&&t.longitude).reduce((t,o)=>t+parseFloat(o.latitude),parseFloat(b.lat))/(h.filter(t=>t.latitude&&t.longitude).length+1),lng:h.filter(t=>t.latitude&&t.longitude).reduce((t,o)=>t+parseFloat(o.longitude),parseFloat(b.lng))/(h.filter(t=>t.latitude&&t.longitude).length+1)}:b,options:{styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]},children:[e.jsx(q,{position:u&&u.latitude&&u.longitude?{lat:parseFloat(u.latitude),lng:parseFloat(u.longitude)}:b,icon:{url:"data:image/svg+xml;base64,"+btoa(`
                                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="${m.APP_COLOR_PRIMARY}" width="48" height="48">
                                                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                                </svg>
                                            `),scaledSize:{width:48,height:48},anchor:{x:24,y:48}},title:u?u.name:"Sede Principal",onClick:()=>k(u?{...u,type:"principal"}:{id:"main",name:"Sede Principal",type:"principal",address:$("address"),phone:E("phone_contact")[0],latitude:b.lat,longitude:b.lng})}),(s==null?void 0:s.stores_support)&&h.filter(t=>t.latitude&&t.longitude&&t.latitude!=="0"&&t.longitude!=="0"&&t.type!=="tienda_principal").map(t=>e.jsx(q,{position:{lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)},icon:{url:"data:image/svg+xml;base64,"+btoa(`
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="${L(t.type)}" width="36" height="36">
                                                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                                                    </svg>
                                                `),scaledSize:{width:36,height:36},anchor:{x:18,y:36}},title:`${t.name} (${v(t.type)})`,onClick:()=>k(t)},t.id)),(s==null?void 0:s.stores_support)&&i&&e.jsx(oe,{position:{lat:parseFloat(i.latitude),lng:parseFloat(i.longitude)},onCloseClick:()=>k(null),children:e.jsxs("div",{style:{padding:"10px",maxWidth:"250px"},children:[e.jsx("h4",{style:{margin:"0 0 8px 0",color:L(i.type),fontWeight:"bold"},children:i.name}),e.jsx("p",{style:{margin:"0 0 5px 0",color:m.APP_COLOR_PRIMARY,fontSize:"12px",textTransform:"uppercase",fontWeight:"500"},children:i.type==="principal"?"Sede Principal":v(i.type)}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",margin:"0 0 8px 0",color:"#374151",lineHeight:"1.4"},children:[e.jsxs("svg",{style:{width:"14px",height:"14px",color:"#6B7280"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{children:i.address})]}),i.phone&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",margin:"0 0 8px 0",color:m.APP_COLOR_PRIMARY},children:[e.jsx("svg",{style:{width:"14px",height:"14px",color:"#10B981"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),e.jsx("a",{href:`tel:${i.phone}`,style:{color:L(i.type),textDecoration:"none"},children:i.phone})]}),i.email&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",margin:"0 0 8px 0",color:m.APP_COLOR_PRIMARY},children:[e.jsx("svg",{style:{width:"14px",height:"14px",color:"#3B82F6"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 002 2z"})}),e.jsx("a",{href:`mailto:${i.email}`,style:{color:L(i.type),textDecoration:"none"},children:i.email})]}),i.schedule&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",margin:"0",color:m.APP_COLOR_PRIMARY,fontSize:"13px"},children:[e.jsx("svg",{style:{width:"14px",height:"14px",color:"#F59E0B"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:i.schedule})]})]})})]})})]}),s!=null&&s.stores_support&&i?e.jsxs(n.div,{className:"space-y-6",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:[e.jsx(n.div,{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},children:i.image?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:`/storage/images/store/${i.image}`,alt:i.name,className:"w-full h-64 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-white/20 backdrop-blur-sm",children:(()=>{const t=C(i.type);return e.jsx(t,{className:"w-5 h-5 text-white"})})()}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold text-white",children:i.name}),e.jsx("p",{className:"text-sm font-medium text-white/90",children:i.type==="principal"?"Sede Principal":v(i.type)})]})]}),e.jsxs("p",{className:"text-white/90 flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),i.address]})]})]}):e.jsx("div",{className:"h-64 bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"p-6 rounded-full bg-white/80 backdrop-blur-sm mb-4 inline-block",children:(()=>{const t=C(i.type);return e.jsx(t,{className:"w-12 h-12 customtext-primary"})})()}),e.jsx("h4",{className:"text-2xl font-bold text-gray-700 mb-2",children:i.name}),e.jsx("p",{className:"customtext-primary font-medium mb-2",children:i.type==="principal"?"Sede Principal":v(i.type)}),e.jsxs("p",{className:"text-gray-600 flex items-center justify-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),i.address]})]})})}),e.jsxs(n.div,{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:.2},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:e.jsx("svg",{className:"w-6 h-6 customtext-accent",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("h5",{className:"text-lg font-bold text-gray-800",children:"Horarios de Atención"})]}),i.business_hours?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(()=>{let t;try{t=typeof i.business_hours=="string"?JSON.parse(i.business_hours):i.business_hours}catch(l){console.error("Error parsing business_hours:",l),t=null}(!t||!Array.isArray(t))&&(t=[{day:"Lunes",open:"08:00",close:"18:00",closed:!1},{day:"Martes",open:"08:00",close:"18:00",closed:!1},{day:"Miércoles",open:"08:00",close:"18:00",closed:!1},{day:"Jueves",open:"08:00",close:"18:00",closed:!1},{day:"Viernes",open:"08:00",close:"18:00",closed:!1},{day:"Sábado",open:"09:00",close:"13:00",closed:!1},{day:"Domingo",open:"",close:"",closed:!0}]);const o=l=>{if(!l)return"";const[g,d]=l.split(":"),y=parseInt(g),f=y>=12?"PM":"AM";return`${y%12||12}:${d} ${f}`},r=new Date().getDay(),a=[6,0,1,2,3,4,5][r];return t.map((l,g)=>{const d=g===a,y=l.closed,f=y?"Cerrado":`${o(l.open)} - ${o(l.close)}`;return e.jsxs(n.div,{className:`flex justify-between items-center p-3 rounded-lg transition-all ${d?"bg-blue-50 border-2 border-blue-200":"bg-gray-50 border border-gray-200"}`,initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.3,delay:g*.05},children:[e.jsxs("span",{className:`font-medium ${d?"customtext-primary":"text-gray-700"}`,children:[l.day,d&&e.jsx("span",{className:"ml-2 text-xs bg-primary text-white px-2 py-1 rounded-full",children:"Hoy"})]}),e.jsx("span",{className:`text-sm ${y?"text-red-500 font-medium":d?"customtext-primary font-medium":"text-gray-600"}`,children:f})]},l.day)})})()}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"p-4 rounded-full bg-gray-100 inline-block mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("p",{className:"text-gray-500",children:"Horarios no disponibles"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Contacta directamente para más información"})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.phone&&e.jsxs("a",{href:`tel:${i.phone}`,className:"flex items-center gap-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors group",children:[e.jsx(U,{className:"w-5 h-5 customtext-neutral-dark group-hover:customtext-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium customtext-neutral-dark",children:"Llamar ahora"}),e.jsx("p",{className:"text-sm customtext-neutral-dark",children:i.phone})]})]}),i.email&&e.jsxs("a",{href:`mailto:${i.email}`,className:"flex items-center gap-3 p-3 rounded-lg bg-blue-50 hover:bg-blue-100 transition-colors group",children:[e.jsx(T,{className:"w-5 h-5 customtext-primary group-hover:customtext-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium customtext-primary",children:"Enviar email"}),e.jsx("p",{className:"text-sm customtext-primary",children:i.email})]})]})]})})]})]}):(s==null?void 0:s.stores_support)&&!j&&Object.keys(_).length>0&&e.jsx(n.div,{className:"space-y-6",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border border-gray-100",children:[e.jsxs("h5",{className:"text-lg font-bold text-gray-800 mb-6 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:e.jsx("svg",{className:"w-5 h-5 customtext-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),"Galería de Sucursales"]}),e.jsx("div",{className:"grid grid-cols-2 gap-4 h-80",children:h.slice(0,4).map((t,o)=>{const r=["col-span-1 row-span-1","col-span-1 row-span-1","col-span-1 row-span-1","col-span-1 row-span-1"];return e.jsxs(n.div,{className:`${r[o]} relative group cursor-pointer overflow-hidden rounded-xl shadow-lg`,initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:o*.15},whileHover:{scale:1.02,y:-5},onClick:()=>k(t),children:[t.image?e.jsx("img",{src:`/storage/images/store/${t.image}`,alt:t.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-100 via-blue-200 to-blue-300 flex items-center justify-center",children:(()=>{const c=C(t.type);return e.jsx(c,{className:"w-16 h-16 customtext-primary"})})()}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-all duration-300",children:e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 text-white",children:[e.jsx("h6",{className:"font-bold text-lg leading-tight mb-2",children:t.name}),e.jsx("p",{className:"text-sm opacity-90 mb-2",children:v(t.type)}),e.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-80",children:[e.jsx(A,{className:"w-3 h-3"}),e.jsx("span",{className:"truncate",children:t.address})]})]})}),e.jsx("div",{className:"absolute top-3 right-3 p-2 rounded-lg bg-white/90 backdrop-blur-sm shadow-sm",children:(()=>{const c=C(t.type);return e.jsx(c,{className:"w-4 h-4 customtext-primary"})})()}),e.jsx("div",{className:"absolute top-3 left-3 p-2 rounded-lg bg-black/20 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsxs("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]},t.id)})})]})})]})]})]})]})};export{Le as default};

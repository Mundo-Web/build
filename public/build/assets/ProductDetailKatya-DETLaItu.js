import{r as e,bD as t,bJ as s,bK as a,bL as r,bM as l,bE as n,bF as o,bG as i,bH as c,j as d,bV as m,bS as u,ap as x,ag as h,J as p,X as g,bI as f,aI as b}from"./vendor-react-CtPXetfm.js";import"./vendor-swiper-Cr_RrIb_.js";import{t as j}from"./OpenPayCardModal-CbSnHq7o.js";import{I as w}from"./ItemsRest-ChbvlPS2.js";import v from"./ProductInfinite-DUPNJ5Mp.js";import{G as y}from"./General-ClVW7qxN.js";import"./CartKuchara-Bi-J8T1O.js";import"./CartModal-ZRCTR1tt.js";import"./CartModalBananaLab-BgbFdHCi.js";import{A as N,m as C}from"./vendor-motion-CThzL09Q.js";import"./BasicRest-DtgqEuc9.js";import"./BooleanLimit-q2Ad9fGY.js";import"./ProductDetailB-Cu0wNwi2.js";import"./Footer-coriRrmf.js";import"./Number2Currency-BX4epFEo.js";import"./CardProductKatya-BVaEYIqt.js";import"./adjustTextColor-69KGUbTd.js";import"./CartItemRow-BFTcr7wK.js";import"./TippyButton-Dqi9Vaf_.js";const k=({item:k,data:M,setCart:P,cart:E,generals:S,favorites:F,setFavorites:R})=>{const $=new w,[_,A]=e.useState({url:k?.image,type:"main"}),[H,I]=e.useState(!1),[B,L]=e.useState({x:50,y:50}),[q,D]=e.useState(!1),[T,z]=e.useState({x:0,y:0}),V=e.useRef(null),[O,U]=e.useState(1),[K,X]=e.useState([]),[Y,Z]=e.useState(!1),[G,W]=e.useState(!1),[J,Q]=e.useState(!1),ee=e.useRef(null),te=e.useRef(null),[se,ae]=e.useState(!1),[re,le]=e.useState(!1),[ne,oe]=e.useState(!1);e.useRef(null),e.useRef(null);const[ie,ce]=e.useState(null),[de,me]=e.useState(!1),[ue,xe]=e.useState("consult"),{refs:he,floatingStyles:pe,context:ge}=t({open:de&&"quote"===ue,onOpenChange:e=>{"quote"===ue&&me(e)},placement:"bottom-start",middleware:[a(10),r({fallbackPlacements:["top-start","bottom-end","top-end"]}),l({padding:8})],whileElementsMounted:s}),{refs:fe,floatingStyles:be,context:je}=t({open:de&&"consult"===ue,onOpenChange:e=>{"consult"===ue&&me(e)},placement:"bottom-start",middleware:[a(10),r({fallbackPlacements:["top-start","bottom-end","top-end"]}),l({padding:8})],whileElementsMounted:s}),{refs:we,floatingStyles:ve,context:ye}=t({open:de&&"consult-mobile"===ue,onOpenChange:e=>{"consult-mobile"===ue&&me(e)},placement:"top-end",middleware:[a(10),r({fallbackPlacements:["top-start","bottom-end","bottom-start"]}),l({padding:8})],whileElementsMounted:s}),Ne=n(ge),Ce=o(ge),ke=i(ge),Me=n(je),Pe=o(je),Ee=i(je),Se=n(ye),Fe=o(ye),Re=i(ye),{getReferenceProps:$e,getFloatingProps:_e}=c([Ne,Ce,ke]),{getReferenceProps:Ae,getFloatingProps:He}=c([Me,Pe,Ee]),{getReferenceProps:Ie,getFloatingProps:Be}=c([Se,Fe,Re]),Le=y.whatsapp_advisors||[];e.useEffect(()=>{F&&k&&Q(F.some(e=>e.id===k.id))},[F,k]),e.useEffect(()=>{k?.id&&(Te(k),ze(k))},[k]),e.useEffect(()=>{const e=setTimeout(()=>{if(ee.current){const e=ee.current.scrollHeight>150;ae(e)}if(te.current){const e=te.current.scrollHeight>150;le(e)}},100);return()=>clearTimeout(e)},[k,k?.specifications]);const qe=e=>{if(H&&!q){const t=V.current.getBoundingClientRect(),s=(e.clientX-t.left)/t.width*100,a=(e.clientY-t.top)/t.height*100;L({x:Math.max(0,Math.min(100,s)),y:Math.max(0,Math.min(100,a))})}else if(q&&H){const t=e.clientX-T.x,s=e.clientY-T.y;L(e=>({x:Math.max(0,Math.min(100,e.x-t/3)),y:Math.max(0,Math.min(100,e.y-s/3))})),z({x:e.clientX,y:e.clientY})}},De=()=>{D(!1)};e.useEffect(()=>{if(q)return document.addEventListener("mousemove",qe),document.addEventListener("mouseup",De),()=>{document.removeEventListener("mousemove",qe),document.removeEventListener("mouseup",De)}},[q,H,T]);const Te=async e=>{try{await $.viewUpdate(e.id)}catch(t){}},ze=async e=>{try{const t={id:e?.id},s=await $.productsRelations(t);if(!s)return void X([]);const a=s,r=Object.values(a);X(r)}catch(t){X([])}},Ve=e=>{const t=structuredClone(E),s=t.findIndex(t=>t.id==e?.id);-1==s?t.push({...e,quantity:O}):t[s].quantity+=O,P(t)},Oe=e=>e?new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(e):"Consultar precio",Ue=k?.price&&k?.final_price&&parseFloat(k.price)>parseFloat(k.final_price),Ke=Ue?Math.round((parseFloat(k.price)-parseFloat(k.final_price))/parseFloat(k.price)*100):0,Xe=E?.find(e=>e.id==k?.id),Ye=Xe?.quantity||0,Ze=[{url:k?.image,type:"main",alt:"Imagen principal"},...(k?.images||[]).filter((e,t,s)=>t===s.findIndex(t=>t.url===e.url)).map((e,t)=>({url:e.url,type:"gallery",index:t,alt:`Imagen ${t+1}`}))];return d.jsxs("div",{id:M?.element_id||null,className:"bg-white min-h-screen overflow-x-hidden",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 lg:py-8",children:[d.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-12",children:[d.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg overflow-hidden",children:[d.jsxs("div",{className:"aspect-square flex items-center justify-center p-4 lg:p-8 relative "+(H?"cursor-zoom-out":"cursor-zoom-in"),onClick:()=>{H?(I(!1),L({x:50,y:50})):I(!0)},onMouseDown:e=>{H&&(D(!0),z({x:e.clientX,y:e.clientY}))},onMouseMove:qe,onMouseLeave:()=>{D(!1)},children:[d.jsx("img",{ref:V,src:_.url?`/storage/images/item/${_.url}`:"/api/cover/thumbnail/null",alt:k?.name||"Producto",className:"w-full h-full object-contain transition-transform duration-300 "+(H?"scale-150":"scale-100"),style:H?{transformOrigin:`${B.x}% ${B.y}%`}:{},onError:e=>{e.target.src="/api/cover/thumbnail/null"}}),d.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white px-2 py-2 rounded text-sm",children:H?d.jsx(m,{className:"w-4 h-4"}):d.jsx(u,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"absolute top-4 right-4 space-y-2",children:k?.is_new&&d.jsx("div",{className:"bg-accent customtext-primary px-3 py-2 rounded-full text-sm font-bold",children:"¡Nuevo!"})}),d.jsx("div",{className:"absolute bottom-4 right-4 flex space-x-2",children:d.jsx("button",{onClick:()=>{navigator.share?.({title:k?.name,text:k?.description,url:window.location.href})||navigator.clipboard.writeText(window.location.href),j.success("Enlace copiado al portapapeles")},className:"w-10 h-10 bg-secondary  backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-lg",children:d.jsx(x,{className:"w-5 h-5 text-white"})})})]}),Ze.length>1&&d.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2",children:Ze.map((e,t)=>d.jsx("button",{onClick:()=>A(e),className:"aspect-square bg-white rounded-lg overflow-hidden border-2 transition-all hover:border-primary "+(_.url===e.url?"border-primary":"border-gray-200"),children:d.jsx("img",{src:`/storage/images/item/${e.url}`,alt:e.alt,className:"w-full h-full object-contain p-2",onError:e=>{e.target.src="/api/cover/thumbnail/null"}})},t))})]}),d.jsx("div",{className:"lg:hidden ",children:d.jsxs("div",{className:"text-start",children:[d.jsx("div",{className:"text-3xl sm:text-4xl font-bold font-title customtext-neutral-dark",children:Oe(k?.final_price||k?.price)}),Ue&&d.jsxs("div",{className:"flex items-center justify-start space-x-2 mt-2",children:[d.jsx("span",{className:"text-base customtext-neutral-light line-through",children:Oe(k.price)}),d.jsxs("span",{className:"bg-red-100 customtext-secondary px-2 py-1 rounded-full text-xs font-bold",children:["Ahorras ",Oe(parseFloat(k.price)-parseFloat(k.final_price))]})]})]})}),d.jsxs("div",{className:"space-y-4 lg:space-y-6 pb-20 lg:pb-0",children:[d.jsxs("div",{className:"flex flex-row text-sm items-center  gap-8",children:[k?.sku&&d.jsxs("span",{children:[d.jsx("span",{className:"font-bold",children:"SKU:"})," ",k?.sku]}),k?.stock&&d.jsxs("span",{children:[d.jsx("span",{className:"font-bold",children:"Disponibilidad:"})," ",k?.stock>0?"En stock":"Agotado"]})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-5xl font-title font-semibold customtext-neutral-dark mb-3",children:k?.name}),d.jsx("div",{className:"flex items-center space-x-4 mb-4",children:k?.rating&&d.jsxs("div",{className:"flex items-center space-x-1",children:[(e=>{const t=parseFloat(e)||0;return Array.from({length:5},(e,s)=>d.jsx(b,{className:"w-4 h-4 "+(s<Math.floor(t)?"text-yellow-400 fill-current":"text-gray-300")},s))})(k.rating),d.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",parseFloat(k.rating).toFixed(1),")"]})]})})]}),d.jsx("div",{className:"hidden lg:block bg-white ",children:d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("div",{children:[Ue&&d.jsxs("div",{className:"flex text-sm customtext-neutral-dark font-semibold items-center space-x-2 mt-1",children:["Precio: "," ",d.jsx("span",{className:"  line-through",children:Oe(k.price)})]}),d.jsxs("div",{className:"text-4xl flex items-center gap-4 font-bold font-title customtext-neutral-dark",children:[Oe(k?.final_price||k?.price),Ue&&d.jsxs("div",{className:"bg-secondary text-white px-3 py-2 rounded-full text-base  font-medium",children:["-",Ke,"%"]})]})]})})}),d.jsxs("div",{className:" customtext-neutral-dark",children:[d.jsx("p",{className:"font-bold",children:"Descripción:"}),d.jsx("div",{ref:ee,className:"prose max-w-none customtext-neutral-light transition-all duration-300 ",dangerouslySetInnerHTML:{__html:k?.description||"<p>Sin descripción disponible.</p>"}})]}),k?.specifications&&Array.isArray(k.specifications)&&k.specifications.length>0&&d.jsxs("div",{className:"",children:[d.jsx("div",{ref:te,className:"space-y-3 transition-all duration-300 "+(G?"":"max-h-40 overflow-hidden"),children:k.specifications.map((e,t)=>"general"===e.type&&d.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.jsx(h,{className:"customtext-secondary w-4 h-4 flex-shrink-0"}),d.jsxs("span",{className:"font-bold customtext-neutral-dark",children:[e.title||"Especificación",":"]}),d.jsx("span",{className:"customtext-neutral-light",children:e.description||e.value||"No especificado"})]},t))}),re&&d.jsxs("button",{onClick:()=>W(!G),className:"mt-4 customtext-secondary hover:customtext-neutral-dark font-medium transition-colors flex items-center gap-2 text-sm",children:[G?"Ver menos":"Ver más características",d.jsx(p,{className:"w-4 h-4 transform transition-transform "+(G?"rotate-90":"")})]})]}),d.jsxs("div",{className:"hidden lg:block bg-white",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("div",{className:"space-y-4 mt-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"font-bold customtext-neutral-dark",children:"Cantidad"}),d.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border border-gray-200 p-1",children:[d.jsx("button",{onClick:()=>U(Math.max(1,O-1)),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-xl",disabled:O<=1,children:"−"}),d.jsx("div",{className:"w-16 h-10 flex items-center justify-center",children:d.jsx("span",{className:"customtext-neutral-dark font-bold text-lg",children:O})}),d.jsx("button",{onClick:()=>U(Math.min(10,O+1)),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-xl",disabled:O>=10,children:"+"})]})]})})}),d.jsxs("div",{className:"space-y-3 mt-6",children:[d.jsxs("button",{onClick:()=>Ve(k),className:"w-full py-4 px-6 rounded-full font-bold flex items-center justify-center space-x-2 hover:scale-105 transition-all shadow-lg hover:shadow-xl transform duration-500 "+(Xe?"bg-secondary text-white":"bg-primary customtext-neutral-dark"),children:[d.jsx("span",{children:Xe?`En carrito (${Ye})`:"Agregar al carrito"}),d.jsxs("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M8.5 16H15.7632C20.2508 16 20.9333 13.1808 21.761 9.06908C21.9998 7.88311 22.1192 7.29013 21.8321 6.89507C21.545 6.5 20.9947 6.5 19.8941 6.5H6.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),d.jsx("path",{d:"M8.5 16L5.87873 3.51493C5.65615 2.62459 4.85618 2 3.93845 2H3",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),d.jsx("path",{d:"M9.38 16H8.96857C7.60522 16 6.5 17.1513 6.5 18.5714C6.5 18.8081 6.6842 19 6.91143 19H18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),d.jsx("path",{d:"M11 22C11.8284 22 12.5 21.3284 12.5 20.5C12.5 19.6716 11.8284 19 11 19C10.1716 19 9.5 19.6716 9.5 20.5C9.5 21.3284 10.1716 22 11 22Z",stroke:"currentColor","stroke-width":"1.5"}),d.jsx("path",{d:"M18 22C18.8284 22 19.5 21.3284 19.5 20.5C19.5 19.6716 18.8284 19 18 19C17.1716 19 16.5 19.6716 16.5 20.5C16.5 21.3284 17.1716 22 18 22Z",stroke:"currentColor","stroke-width":"1.5"})]})]}),d.jsxs("button",{ref:fe.setReference,...Ae(),onClick:e=>(e=>{if(e?.preventDefault(),e?.stopPropagation(),xe("consult"),1===Le.length){const e=Le[0],t=encodeURIComponent(`¡Hola! Tengo dudas sobre este producto: ${k?.name}\n\n¿Me pueden ayudar con más información?`);window.open(`https://wa.me/${e.phone}?text=${t}`,"_blank")}else Le.length>1&&me(!de)})(e),className:"w-full bg-green-600 text-white py-4 px-6 rounded-full font-bold flex items-center justify-center space-x-2 hover:scale-105 transition-all shadow-lg hover:shadow-xl transform duration-500",children:[d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})}),d.jsx("span",{children:"Consultar por WhatsApp"})]})]})]})]})]}),K&&K.length>0&&d.jsx(v,{items:K,data:{title:"Productos relacionados",description:"Descubre otros productos cuidadosamente seleccionados que complementan perfectamente tu compra. Nuestra selección incluye productos de alta calidad de las mejores marcas veterinarias para el cuidado integral de tu mascota.",link_catalog:"/catalogo",class_content:"",class_header:"",type_card:"katya",swiper:{slidesPerView:1,grid:{fill:"row",rows:1},breakpoints:{640:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20},1280:{slidesPerView:4,spaceBetween:20}}},class_button:"bg-secondary text-white hover:bg-accent hover:customtext-primary"},setCart:P,cart:E})]}),d.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-40 shadow-lg",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border border-gray-200 p-1",children:[d.jsx("button",{onClick:()=>U(Math.max(1,O-1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:O<=1,children:"−"}),d.jsx("div",{className:"w-12 h-8 flex items-center justify-center",children:d.jsx("span",{className:"customtext-neutral-dark font-bold text-sm",children:O})}),d.jsx("button",{onClick:()=>U(Math.min(10,O+1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:O>=10,children:"+"})]}),d.jsxs("button",{onClick:()=>Ve(k),className:"flex-1 py-3 px-4 rounded-xl font-bold flex items-center justify-center space-x-2 transition-all shadow-lg active:scale-95 "+(Xe?"bg-primary customtext-neutral-dark":"bg-primary customtext-neutral-dark hover:bg-accent"),children:[d.jsxs("svg",{width:"20",height:"19",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M8.5 16H15.7632C20.2508 16 20.9333 13.1808 21.761 9.06908C21.9998 7.88311 22.1192 7.29013 21.8321 6.89507C21.545 6.5 20.9947 6.5 19.8941 6.5H6.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),d.jsx("path",{d:"M8.5 16L5.87873 3.51493C5.65615 2.62459 4.85618 2 3.93845 2H3",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),d.jsx("path",{d:"M9.38 16H8.96857C7.60522 16 6.5 17.1513 6.5 18.5714C6.5 18.8081 6.6842 19 6.91143 19H18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),d.jsx("path",{d:"M11 22C11.8284 22 12.5 21.3284 12.5 20.5C12.5 19.6716 11.8284 19 11 19C10.1716 19 9.5 19.6716 9.5 20.5C9.5 21.3284 10.1716 22 11 22Z",stroke:"currentColor","stroke-width":"1.5"}),d.jsx("path",{d:"M18 22C18.8284 22 19.5 21.3284 19.5 20.5C19.5 19.6716 18.8284 19 18 19C17.1716 19 16.5 19.6716 16.5 20.5C16.5 21.3284 17.1716 22 18 22Z",stroke:"currentColor","stroke-width":"1.5"})]}),d.jsx("span",{className:"text-sm",children:Xe?`En carrito (${Ye})`:"Agregar al Carrito"})]}),d.jsx("button",{ref:we.setReference,...Ie(),onClick:e=>(e=>{if(e?.preventDefault(),e?.stopPropagation(),xe("consult-mobile"),1===Le.length){const e=Le[0],t=encodeURIComponent(`¡Hola! Tengo dudas sobre este producto: ${k?.name}\n\n¿Me pueden ayudar con más información?`);window.open(`https://wa.me/${e.phone}?text=${t}`,"_blank")}else Le.length>1&&me(!de)})(e),className:"bg-green-600 text-white p-3 rounded-xl hover:bg-green-700 transition-all shadow-lg active:scale-95",children:d.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]})}),d.jsx(N,{children:ne&&d.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>oe(!1),children:d.jsxs(C.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},className:"relative max-w-4xl max-h-full",onClick:e=>e.stopPropagation(),children:[d.jsx("button",{onClick:()=>oe(!1),className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition-all z-10",children:d.jsx(g,{className:"w-6 h-6"})}),d.jsx("img",{src:_.url?`/storage/images/item/${_.url}`:"/api/cover/thumbnail/null",alt:k?.name,className:"max-w-full max-h-full object-contain rounded-lg",onError:e=>{e.target.src="/api/cover/thumbnail/null"}})]})})}),de&&Le.length>1&&d.jsx(f,{context:"consult"===ue?je:"consult-mobile"===ue?ye:ge,modal:!1,children:d.jsxs("div",{ref:"consult"===ue?fe.setFloating:"consult-mobile"===ue?we.setFloating:he.setFloating,style:"consult"===ue?be:"consult-mobile"===ue?ve:pe,..."consult"===ue?He():"consult-mobile"===ue?Be():_e(),className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100 z-[1000]",children:[d.jsxs("div",{className:"bg-primary p-4 text-white",children:[d.jsx("h3",{className:"font-bold text-base",children:"Elige un asesor"}),d.jsx("p",{className:"text-xs text-white mt-1",children:"quote"===ue?"¿Con quién quieres cotizar?":"¿Con quién quieres hablar?"})]}),d.jsx("div",{className:"max-h-[400px] overflow-y-auto",style:{minWidth:"280px",maxWidth:"320px"},children:Le.map((e,t)=>d.jsxs("button",{onClick:()=>(e=>{const t="quote"===ue?encodeURIComponent(`¡Hola! Me gustaría cotizar este producto: ${k?.name}\n\nCantidad: ${O} unidades\n\n¿Podrían enviarme más información y precios?`):encodeURIComponent(`¡Hola! Tengo dudas sobre este producto: ${k?.name}\n\n¿Me pueden ayudar con más información?`);window.open(`https://wa.me/${e.phone}?text=${t}`,"_blank"),me(!1)})(e),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 text-left",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-primary",children:e.photo?d.jsx("img",{src:`/assets/resources/${e.photo}`,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="/assets/img/placeholder-user.png"}}):d.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-lg font-bold",children:e.name?.charAt(0).toUpperCase()})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-semibold text-gray-900 text-sm truncate",children:e.name}),d.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.position||"Asesor"})]}),d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]},t))})]})})]})};export{k as default};

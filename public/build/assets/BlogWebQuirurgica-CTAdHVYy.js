import{j as e,g as t,aj as s,an as a,r,bf as l,b$ as i,C as n,e as o}from"./vendor-react-BX-OgZ1w.js";import{T as d}from"./TextWithHighlight-Dtm1FT0T.js";import{L as c}from"./Loading-9iOCuYES.js";import{N as m}from"./NoResult-5pU9isoY.js";import{b as x}from"./vendor-motion-0lf5WkjI.js";import"./vendor-swiper-Cr_RrIb_.js";function g({data:r,featured:l=!1,compact:i=!1,listView:n=!1,post:o}){const d=e=>{if(!e)return"";return new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})},c=(e,t=150)=>{if(!e)return"";const s=document.createElement("div");s.innerHTML=e;const a=s.textContent||s.innerText||"";return a.length>t?a.substring(0,t)+"...":a},m=e=>{if(!e)return"5 min";const t=c(e,1e4).split(" ").length;return`${Math.ceil(t/200)} min`};return l?e.jsx("article",{className:"group h-full",children:e.jsx("a",{href:`/post/${o?.slug}`,className:"block h-full",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-3xl overflow-hidden hover:shadow-2xl hover:-translate-y-1 transform transition-all duration-300 h-full flex flex-col",children:[e.jsxs("div",{className:"relative overflow-hidden aspect-[16/10] bg-gray-200",children:[e.jsx("img",{src:o?.image?`/storage/images/post/${o?.image}`:"/assets/img/noimage/no_img.jpg",alt:o?.title||o?.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}}),o?.category&&e.jsx("div",{className:"absolute top-6 left-6 z-10",children:e.jsx("span",{className:"px-4 py-2 bg-primary text-white text-sm font-medium rounded-full shadow-lg",children:o.category?.name})})]}),e.jsxs("div",{className:"p-8 flex flex-col flex-grow bg-white",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{size:16}),e.jsx("span",{children:d(o?.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{size:16}),e.jsx("span",{children:m(o?.description)})]})]}),e.jsx("h3",{className:"text-2xl md:text-3xl font-semibold text-gray-900 mb-4 group-hover:text-primary transition-colors line-clamp-2",children:o?.title||o?.name}),e.jsx("p",{className:"text-gray-700 font-normal leading-relaxed mb-6 line-clamp-3 flex-grow",children:c(o?.extract||o?.description,180)}),e.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium group-hover:gap-4 transition-all duration-300",children:[e.jsx("span",{children:"Leer más"}),e.jsx(a,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})}):i?e.jsx("article",{className:"group h-full",children:e.jsx("a",{href:`/post/${o?.slug}`,className:"block h-full",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-3xl overflow-hidden hover:shadow-2xl hover:-translate-y-1 transform transition-all duration-300 h-full flex",children:[e.jsx("div",{className:"relative overflow-hidden w-2/5 bg-gray-200",children:e.jsx("img",{src:o?.image?`/storage/images/post/${o?.image}`:"/assets/img/noimage/no_img.jpg",alt:o?.title||o?.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}})}),e.jsxs("div",{className:"p-6 w-3/5 flex flex-col justify-between bg-white",children:[o?.category&&e.jsx("span",{className:"text-primary text-sm font-medium mb-2 inline-block",children:o.category?.name}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3 group-hover:text-primary transition-colors line-clamp-2",children:o?.title||o?.name}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed line-clamp-2 mb-4",children:c(o?.extract||o?.description,100)}),e.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(t,{size:14}),e.jsx("span",{children:d(o?.created_at)})]})})]})]})})}):n?e.jsx("article",{className:"group h-full min-h-[300px]",children:e.jsx("a",{href:`/post/${o?.slug}`,className:"block h-full",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-3xl overflow-hidden hover:shadow-2xl hover:-translate-y-1 transform transition-all duration-300 flex flex-row h-full",children:[e.jsxs("div",{className:"relative w-2/5 flex-shrink-0 bg-gray-200",children:[e.jsx("img",{src:o?.image?`/storage/images/post/${o?.image}`:"/assets/img/noimage/no_img.jpg",alt:o?.title||o?.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}}),o?.category&&e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsx("span",{className:"px-4 py-2 bg-primary text-white text-xs font-medium rounded-full shadow-lg",children:o.category?.name})})]}),e.jsxs("div",{className:"p-6 md:p-8 w-3/5 flex flex-col justify-between bg-white",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{size:16}),e.jsx("span",{children:d(o?.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{size:16}),e.jsx("span",{children:m(o?.description)})]})]}),e.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-gray-900 group-hover:text-primary transition-colors line-clamp-2 mb-3",children:o?.title||o?.name}),e.jsx("p",{className:"text-base text-gray-600 leading-relaxed line-clamp-2 mb-4 flex-grow",children:c(o?.extract||o?.description,150)}),e.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium group-hover:gap-4 transition-all duration-300",children:[e.jsx("span",{children:"Leer más"}),e.jsx(a,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})}):e.jsx("article",{className:"group h-full",children:e.jsx("a",{href:`/post/${o?.slug}`,className:"block h-full",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-3xl overflow-hidden hover:shadow-2xl hover:-translate-y-1 transform transition-all duration-300 h-full flex flex-col min-h-[450px]",children:[e.jsxs("div",{className:"relative overflow-hidden aspect-[16/10] bg-gray-200",children:[e.jsx("img",{src:o?.image?`/storage/images/post/${o?.image}`:"/assets/img/noimage/no_img.jpg",alt:o?.title||o?.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}}),o?.category&&e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsx("span",{className:"px-4 py-2 bg-primary text-white text-xs font-medium rounded-full shadow-lg",children:o.category?.name})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-grow bg-white",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{size:14}),e.jsx("span",{children:d(o?.created_at)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s,{size:14}),e.jsx("span",{children:m(o?.description)})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3 group-hover:text-primary transition-colors line-clamp-2 flex-grow",children:o?.title||o?.name}),e.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4 line-clamp-3",children:c(o?.extract||o?.description,120)}),e.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium group-hover:gap-4 transition-all duration-300",children:[e.jsx("span",{children:"Leer más"}),e.jsx(a,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})})}const h=({data:t,headerPosts:s,filteredData:a})=>e.jsx("main",{className:"bg-sections-color",children:e.jsx("section",{className:"px-4 py-24",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-16",children:[e.jsxs("div",{className:"text-center space-y-6 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-extralight text-primary leading-tight whitespace-pre-line",children:e.jsx(d,{text:t?.name||"Nuestro *Blog*",color:"bg-primary font-light"})}),t?.description&&e.jsx("p",{className:"text-lg text-neutral-dark font-light leading-relaxed whitespace-pre-line max-w-3xl mx-auto",children:e.jsx(d,{text:t.description,color:"bg-accent"})})]}),s&&s.length>0&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsx(g,{data:t,featured:!0,post:s[0]})}),e.jsx("div",{className:"grid gap-8",children:s.slice(1,3).map(s=>e.jsx(g,{data:t,compact:!0,post:s},s.id))})]})]})})}),p=({data:t,postsLatest:s,posts:a,loading:d,setLoading:h,isFilter:p,setIsFilter:u,filteredData:f})=>{const{categories:j}=f,[b,v]=r.useState("all"),[y,N]=r.useState("newest"),[w,k]=r.useState(1),[z,C]=r.useState([]),[L,_]=r.useState("grid"),[S,D]=r.useState(!1),E=r.useRef(null),$=r.useRef(null);x($,{once:!0});const M=[{value:"newest",label:"Más Recientes",icon:""},{value:"oldest",label:"Más Antiguos",icon:""},{value:"title-asc",label:"Título A-Z",icon:""},{value:"title-desc",label:"Título Z-A",icon:""}];r.useEffect(()=>{const e=e=>{E.current&&!E.current.contains(e.target)&&D(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),r.useEffect(()=>{let e=p&&a.length>0?a:s||[];"all"!==b&&(e=e.filter(e=>e.category&&e.category.name===b)),e=[...e].sort((e,t)=>{switch(y){case"newest":return new Date(t.created_at)-new Date(e.created_at);case"oldest":return new Date(e.created_at)-new Date(t.created_at);case"title-asc":const s=(e.title||e.name||"").toLowerCase(),a=(t.title||t.name||"").toLowerCase();return s.localeCompare(a);case"title-desc":const r=(e.title||e.name||"").toLowerCase();return(t.title||t.name||"").toLowerCase().localeCompare(r);default:return 0}}),C(e),k(1)},[b,y,a,s,p]);const T=Math.ceil(z.length/9),A=z.slice(9*(w-1),9*w);return e.jsx("section",{className:"bg-white py-24 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start md:items-center justify-between",children:[e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{onClick:()=>v("all"),className:"px-6 py-2 rounded-full text-sm font-light transition-all duration-300 border "+("all"===b?"bg-primary text-white border-primary":"bg-white text-neutral-dark border-gray-200 hover:border-primary hover:text-primary"),children:"Todas"}),j?.map(t=>e.jsx("button",{onClick:()=>v(t.name),className:"px-6 py-2 rounded-full text-sm font-light transition-all duration-300 border whitespace-nowrap "+(b===t.name?"bg-primary text-white border-primary":"bg-white text-neutral-dark border-gray-200 hover:border-primary hover:text-primary"),children:t.name},t.id))]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex border border-gray-200 rounded-full p-1 bg-white",children:[e.jsx("button",{onClick:()=>_("grid"),className:"p-2 rounded-full transition-all duration-300 "+("grid"===L?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),title:"Vista en cuadrícula",children:e.jsx(l,{size:18})}),e.jsx("button",{onClick:()=>_("list"),className:"p-2 rounded-full transition-all duration-300 "+("list"===L?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"),title:"Vista en lista",children:e.jsx(i,{size:18})})]}),e.jsxs("div",{className:"relative",ref:E,children:[e.jsxs("button",{onClick:()=>D(!S),className:"flex items-center gap-2 px-4 py-2 rounded-full border-2 border-gray-300 bg-white text-gray-900 font-medium text-sm hover:border-blue-600 hover:text-blue-600 transition-all duration-300",children:[e.jsx("span",{children:M.find(e=>e.value===y)?.icon}),e.jsx("span",{children:M.find(e=>e.value===y)?.label}),e.jsx(n,{size:16,className:"transition-transform duration-300 "+(S?"rotate-180":"")})]}),S&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white border-2 border-gray-300 rounded-2xl shadow-2xl z-50 overflow-hidden",children:M.map(t=>e.jsxs("button",{onClick:()=>{N(t.value),D(!1)},className:"w-full flex items-center justify-between px-4 py-3 text-sm font-medium transition-all duration-200 "+(y===t.value?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-lg",children:t.icon}),e.jsx("span",{children:t.label})]}),y===t.value&&e.jsx(o,{size:18,className:"text-blue-600"})]},t.value))})]})]})]}),e.jsxs("div",{className:"text-gray-700 font-medium",children:["Mostrando ",e.jsx("span",{className:"font-bold text-gray-900",children:A.length})," de"," ",e.jsx("span",{className:"font-bold text-gray-900",children:z.length})," artículos"]}),d?e.jsx("div",{className:"flex justify-center py-20",children:e.jsx(c,{})}):0===A.length?e.jsx("div",{className:"py-20",children:e.jsx(m,{})}):e.jsx("div",{ref:$,className:"grid"===L?"grid md:grid-cols-2 lg:grid-cols-3 gap-8":"grid md:grid-cols-2 gap-8",children:A.map(s=>e.jsx("div",{style:{backgroundColor:"#fff",minHeight:"300px"},children:e.jsx(g,{data:t,post:s,listView:"list"===L})},s.id))}),T>1&&e.jsxs("div",{className:"flex justify-center items-center gap-2 pt-8",children:[e.jsx("button",{onClick:()=>k(e=>Math.max(e-1,1)),disabled:1===w,className:"px-4 py-2 rounded-full border border-gray-200 text-sm font-light text-neutral-dark disabled:opacity-50 disabled:cursor-not-allowed hover:border-primary hover:text-primary transition-all duration-300",children:"Anterior"}),e.jsx("div",{className:"flex gap-2",children:[...Array(T)].map((t,s)=>{const a=s+1;return 1===a||a===T||a>=w-1&&a<=w+1?e.jsx("button",{onClick:()=>k(a),className:"w-10 h-10 rounded-full text-sm font-light transition-all duration-300 "+(w===a?"bg-primary text-white":"border border-gray-200 text-neutral-dark hover:border-primary hover:text-primary"),children:a},a):a===w-2||a===w+2?e.jsx("span",{className:"px-2",children:"..."},a):null})}),e.jsx("button",{onClick:()=>k(e=>Math.min(e+1,T)),disabled:w===T,className:"px-4 py-2 rounded-full border border-gray-200 text-sm font-light text-neutral-dark disabled:opacity-50 disabled:cursor-not-allowed hover:border-primary hover:text-primary transition-all duration-300",children:"Siguiente"})]})]})})},u=({data:t,headerPosts:s,filteredData:a,postsLatest:l})=>{const[i,n]=r.useState([]),[o,d]=r.useState(!1),[c,m]=r.useState(!1);return e.jsxs("div",{id:t?.element_id||null,children:[e.jsx(h,{data:t,headerPosts:s,filteredData:a}),e.jsx(p,{data:t,postsLatest:l,posts:i,loading:o,setLoading:d,isFilter:c,setIsFilter:m,filteredData:a})]})};export{u as default};

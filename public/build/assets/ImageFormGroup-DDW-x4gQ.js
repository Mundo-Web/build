import{r as e,j as t}from"./vendor-react-CWR92fp6.js";const r=({id:r,col:s,label:a,eRef:n,required:l=!1,onChange:i=()=>{},aspect:c="21/9",hidden:o=!1,name:d})=>{r||(r=`ck-${crypto.randomUUID()}`),n||(n=e.useRef()),d||(d=r);const u=e.useRef(),[p,m]=e.useState(!1),[b,h]=e.useState(!1),x=()=>b,g=()=>h(!1);return e.useEffect(()=>{n.image=u.current,n.getDeleteFlag=x,n.resetDeleteFlag=g;(()=>{const e=u.current?.src;m(e&&"/api/cover/thumbnail/null"!==e&&!e.includes("null"))})()},[b]),t.jsxs("div",{className:`form-group ${s} mb-2`,hidden:o,children:[t.jsxs("label",{htmlFor:r,className:"form-label",children:[a," ",l&&t.jsx("b",{className:"text-danger",children:"*"})]}),t.jsxs("div",{style:{position:"relative",width:"100%"},children:[t.jsx("label",{htmlFor:r,style:{width:"100%"},children:t.jsx("img",{ref:u,className:"d-block border",src:"",onError:e=>e.target.src="/api/cover/thumbnail/null",onLoad:()=>{const e=u.current?.src;m(e&&"/api/cover/thumbnail/null"!==e&&!e.includes("null"))},style:{width:"100%",borderRadius:"4px",cursor:"pointer",aspectRatio:c,objectFit:"cover",objectPosition:"center",boxShadow:"2.5px 2.5px 5px rgba(0,0,0,.125)"}})}),p&&t.jsx("button",{type:"button",onClick:()=>{u.current.src="/api/cover/thumbnail/null",n.current.value="",m(!1),h(!0),i({target:{files:[]}})},className:"btn btn-danger btn-sm",style:{position:"absolute",top:"8px",right:"8px",padding:"4px 8px",fontSize:"12px",borderRadius:"4px",zIndex:10},title:"Eliminar imagen",children:t.jsx("i",{className:"fa fa-trash"})})]}),t.jsx("input",{ref:n,id:r,type:"file",src:"",alt:"",hidden:!0,accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t){const e=await File.toURL(t);u.current.src=e,m(!0),h(!1)}i(e)}})]})};export{r as I};

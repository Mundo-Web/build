import{j as e,P as t,r as a,C as s}from"./vendor-react-CtPXetfm.js";import"./Footer-coriRrmf.js";import{L as r}from"./Loading-Cn0aHsiY.js";import{N as l}from"./NoResult-BPfUh4c-.js";import{b as i,m as n,A as o}from"./vendor-motion-CThzL09Q.js";import"./vendor-swiper-Cr_RrIb_.js";function d({data:a,flex:s=!1,post:r,featured:l=!1}){const i=(e,t=150)=>{if(!e)return"";const a=document.createElement("div");a.innerHTML=e;const s=a.textContent||a.innerText||"";return s.length>t?s.substring(0,t)+"...":s};return s?e.jsx("article",{className:"group relative font-title h-full",children:e.jsx("a",{href:`/post/${r?.slug}`,className:"block h-full",children:e.jsxs("div",{className:"  overflow-hidden transition-all duration-500 transform hover:-translate-y-1 group cursor-pointer h-full flex border border-gray-100",children:[e.jsxs("div",{className:"relative overflow-hidden rounded-xl w-2/5",children:[e.jsx("img",{src:r?.image?`/storage/images/post/${r?.image}`:"/assets/img/noimage/no_img.jpg",alt:r?.title||r?.name,className:"w-full h-full aspect-[3/2] object-cover group-hover:scale-110 transition-transform duration-500",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-5 w-3/5 flex flex-col justify-between",children:[e.jsxs("div",{children:[r?.category&&e.jsx("div",{className:"",children:e.jsx("span",{className:"customtext-secondary text-sm  font-semibold  ",children:r.category?.name})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 customtext-neutral-dark group-hover:text-primary transition-colors line-clamp-2 ",children:r?.title||r?.name}),e.jsx("p",{className:"text-base customtext-neutral-dark line-clamp-3 ",children:i(r?.extract||r?.description)})]}),e.jsx("div",{className:"flex text-sm font-medium items-center customtext-neutral-dark justify-between mt-3 pt-3  ",children:e.jsxs("span",{className:"flex gap-2 items-center",children:[" Leer más",e.jsx(t,{className:"w-4 h-4  group-hover:translate-x-1 transition-transform duration-300"})]})})]})]})})}):e.jsx("article",{className:"group relative font-title "+(l?"h-full":""),children:e.jsx("a",{href:`/post/${r?.slug}`,className:"block h-full",children:e.jsxs("div",{className:" rounded-xl overflow-hidden transition-all duration-500 transform hover:-translate-y-2 group cursor-pointer h-full border border-gray-100",children:[e.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[e.jsx("img",{src:r?.image?`/storage/images/post/${r?.image}`:"/assets/img/noimage/no_img.jpg",alt:r?.title||r?.name,className:"w-full object-cover group-hover:scale-105 transition-transform duration-500 "+(l?"h-80 aspect-[4/3]":"aspect-square lg:h-80"),onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"py-6",children:[r?.category&&e.jsx("div",{className:"",children:e.jsx("span",{className:"customtext-secondary text-sm  font-bold  ",children:r.category?.name})}),e.jsx("h3",{className:"font-bold mb-3 group-hover:text-primary transition-colors line-clamp-3 lg:line-clamp-2 leading-tight text-lg lg:text-2xl",children:r?.title||r?.name}),e.jsx("p",{className:"text-sm lg:text-base customtext-neutral-dark mb-4 line-clamp-4 lg:line-clamp-2 ",children:i(r?.extract||r?.description)}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2 customtext-neutral-dark font-medium text-sm group-hover:translate-x-1 transition-transform duration-300",children:[e.jsx("span",{children:"Leer más"}),e.jsx(t,{className:"w-4 h-4"})]})}),a?.["bool:show_reading_progress"]&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-2",children:[e.jsx("span",{children:"Progreso de lectura"}),e.jsx("span",{children:"0%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-primary h-1 rounded-full w-0 transition-all duration-300"})})]})]})]})})})}const c=({data:t,headerPosts:a,filteredData:s})=>e.jsx("main",{className:"bg-white font-title",children:e.jsxs("section",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto py-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:`font-title text-4xl md:text-5xl 2xl:text-6xl font-semibold tracking-tight ${t?.class_title||"customtext-neutral-dark"}`,children:"Noticias destacas"}),e.jsx("p",{className:"customtext-neutral-dark opacity-80 text-sm 2xl:text-lg font-title",children:"Mantente informado con las últimas novedades, tendencias y actualizaciones más relevantes. Aquí encontrarás la información más importante de manera clara y actualizada."})]}),e.jsxs("div",{className:"mt-4 lg:mt-0 flex gap-8 py-[2.5%] rounded-2xl",children:[e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx(d,{data:t,featured:!0,post:a[0]})}),e.jsx("div",{className:"hidden md:flex space-y-4 flex-col w-1/2",children:a.slice(1,3).map(a=>e.jsx(d,{data:t,flex:!0,post:a},a.id))})]})]})}),m=({data:t,postsLatest:c,posts:m,loading:x,setLoading:h,isFilter:u,setIsFilter:g,filteredData:p})=>{const{categories:v}=p,[y,b]=a.useState("all"),[f,j]=a.useState("newest"),[w,N]=a.useState(1),[k,C]=a.useState(!1),[T,A]=a.useState([]),_=a.useRef(null),S=i(_,{once:!0}),H=[{value:"newest",label:"Más Recientes"},{value:"oldest",label:"Más Antiguos"},{value:"title-asc",label:"Título A-Z"},{value:"title-desc",label:"Título Z-A"}];a.useEffect(()=>{let e=u&&m.length>0?m:c||[];"all"!==y&&(e=e.filter(e=>e.category&&e.category.name===y)),e=[...e].sort((e,t)=>{switch(f){case"newest":return new Date(t.created_at)-new Date(e.created_at);case"oldest":return new Date(e.created_at)-new Date(t.created_at);case"title-asc":return e.title.localeCompare(t.title);case"title-desc":return t.title.localeCompare(e.title);default:return 0}}),A(e),N(1)},[y,f,m,c,u]);const L=Math.ceil(T.length/9),D=T.slice(9*(w-1),9*w),E={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},M={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.8,ease:[.22,1,.36,1]}}},z={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,delay:.3,staggerChildren:.15}}},F={hidden:{opacity:0,y:60,scale:.9,rotateX:15},visible:{opacity:1,y:0,scale:1,rotateX:0,transition:{duration:.8,ease:[.22,1,.36,1],type:"spring",damping:25,stiffness:120}}},P={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.6,ease:"easeOut"}}};return e.jsx(n.section,{ref:_,className:"font-title bg-sections-color "+(u?"py-8 mt-4":"py-8"),variants:E,initial:"hidden",animate:S?"visible":"hidden",children:e.jsx(n.div,{className:"px-4 2xl:px-0 2xl:max-w-7xl mx-auto",variants:E,children:u?e.jsxs(n.div,{variants:E,children:[e.jsx(n.div,{className:"text-center mb-12",variants:M,children:e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold customtext-secondary font-title",children:["Artículos ",e.jsx("span",{className:"customtext-secondary font-title",children:"Encontrados"})]})}),e.jsx(n.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10",variants:z,children:x?e.jsx(n.div,{className:"col-span-full my-16",variants:P,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-gray-100",children:e.jsx(r,{})})})}):Array.isArray(m)&&m.length>0?m.map((a,s)=>e.jsx(n.div,{variants:F,transition:{delay:.1*s},whileHover:{scale:1.03,y:-15,transition:{duration:.4,ease:[.22,1,.36,1]}},whileTap:{scale:.97,transition:{duration:.1}},className:"h-full",style:{transformStyle:"preserve-3d"},children:e.jsx(d,{data:t,post:a})},s)):e.jsx(n.div,{className:"col-span-full my-16",variants:P,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-gray-100",children:e.jsx(l,{})})})})})]}):e.jsxs(n.div,{variants:E,children:[e.jsxs(n.div,{className:"text-start mb-16",variants:E,children:[e.jsx(n.h2,{className:"font-title text-4xl md:text-5xl 2xl:text-6xl font-semibold tracking-tight customtext-neutral-dark",variants:M,children:"Todas nuestas noticias"}),e.jsx(n.p,{className:"text-sm lg:text-lg customtext-neutral-dark  leading-relaxed",variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,delay:.2,ease:"easeOut"}}},children:"Explora el archivo completo de publicaciones y mantente al día con cada actualización. Encuentra todas las noticias en un solo lugar, organizadas para que no te pierdas de nada."})]}),e.jsxs(n.div,{className:"flex flex-col lg:flex-row gap-6 items-start lg:items-center justify-between mb-12",variants:E,children:[e.jsx("div",{className:"flex-1",children:e.jsxs(n.div,{className:"flex flex-wrap gap-3",variants:E,children:[e.jsx(n.button,{className:"px-6 py-2 border-b font-semibold transition-all duration-300  text-base "+("all"===y?"bg-transparent customtext-secondary border-secondary border-b-2":"bg-gray-100 customtext-neutral-light hover:bg-gray-200"),onClick:()=>b("all"),whileHover:{scale:1.05},whileTap:{scale:.95},children:"Todas"}),v?.map((t,a)=>((u&&m.length>0?m:c||[]).filter(e=>e.category&&e.category.name===t.name).length,e.jsx(n.button,{className:"px-6 py-2 border-b font-semibold transition-all duration-300  text-base "+(y===t.name?"bg-transparent customtext-secondary border-secondary border-b-2":" customtext-neutral-light hover:bg-gray-200"),onClick:()=>b(t.name),whileHover:{scale:1.05},whileTap:{scale:.95},children:t.name},t.id)))]})}),e.jsxs(n.div,{className:"relative",children:[e.jsxs(n.button,{className:"flex items-center gap-3 px-6 py-3 bg-white border border-secondary rounded-full hover:border-primary transition-colors duration-300 min-w-[200px] justify-between",onClick:()=>C(!k),whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-sm font-bold customtext-secondary",children:H.find(e=>e.value===f)?.label})}),e.jsx(s,{className:"w-4 h-4 customtext-secondary transition-transform duration-200 "+(k?"rotate-180":"")})]}),e.jsx(o,{children:k&&e.jsx(n.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:H.map(t=>e.jsx(n.button,{className:"w-full px-4 py-3 text-left text-sm hover:bg-gray-50 transition-colors duration-200 first:rounded-t-lg last:rounded-b-lg "+(f===t.value?"bg-secondary text-white":"customtext-neutral-light"),onClick:()=>{j(t.value),C(!1)},whileHover:{x:5},children:t.label},t.value))})})]})]}),e.jsx(n.div,{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-10",variants:z,children:Array.isArray(D)&&D.length>0?D.map((a,s)=>e.jsx(n.div,{variants:F,whileHover:{scale:1.03,y:-15,transition:{duration:.4,ease:[.22,1,.36,1]}},whileTap:{scale:.97,transition:{duration:.1}},className:"h-full",style:{transformStyle:"preserve-3d"},children:e.jsx(d,{data:t,post:a})},s)):e.jsx(n.div,{className:"col-span-full my-16",variants:P,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-gray-100",children:e.jsx(l,{})})})})}),L>1&&e.jsxs(n.div,{className:"flex items-center justify-center mt-16 gap-2",variants:P,children:[e.jsx(n.button,{className:"px-6 py-3 rounded-lg font-medium transition-all duration-300 "+(1===w?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-200 customtext-neutral-light hover:border-primary hover:text-primary shadow-sm hover:shadow-md"),onClick:()=>N(e=>Math.max(e-1,1)),disabled:1===w,whileHover:1!==w?{scale:1.05}:{},whileTap:1!==w?{scale:.95}:{},children:"Anterior"}),Array.from({length:L},(t,a)=>{const s=a+1,r=w===s;return e.jsx(n.button,{className:"w-12 h-12 rounded-lg font-medium transition-all duration-300 "+(r?"bg-primary text-white shadow-lg":"bg-white border border-gray-200 customtext-neutral-light hover:border-primary hover:text-primary shadow-sm hover:shadow-md"),onClick:()=>N(s),whileHover:{scale:1.1},whileTap:{scale:.9},children:s},s)}),e.jsx(n.button,{className:"px-6 py-3 rounded-lg font-medium transition-all duration-300 "+(w===L?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-200 customtext-neutral-light hover:border-primary hover:text-primary shadow-sm hover:shadow-md"),onClick:()=>N(e=>Math.min(e+1,L)),disabled:w===L,whileHover:w!==L?{scale:1.05}:{},whileTap:w!==L?{scale:.95}:{},children:"Siguiente"})]})]})})})},x=({data:t,headerPosts:s,filteredData:r,postsLatest:l})=>{const[i,n]=a.useState([]),[o,d]=a.useState(!1),[x,h]=a.useState(!1);return e.jsxs("div",{id:t?.element_id||null,children:[e.jsx(c,{data:t,headerPosts:s,filteredData:r}),e.jsx(m,{data:t,postsLatest:l,posts:i,loading:o,setLoading:d,isFilter:x,setIsFilter:h,filteredData:r})]})};export{x as default};

import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BOnQTV8N.js";import{c as Ae}from"./ReactAppend-CxMClIhj.js";import{B as ze}from"./Base-bVzGLvC1.js";import{I as Ge}from"./ItemsRest-DHtNdnWM.js";import{A as Ve}from"./AmenitiesRest-CWcPI_jJ.js";import{T as Be}from"./Table-DCwCsTJi.js";import{M as Je}from"./Modal-xDw9ufjg.js";import{I as v}from"./InputFormGroup-iZIO11ZN.js";import{S as le}from"./SelectFormGroup-X8WqJHHl.js";import{T as Le}from"./TextareaFormGroup-CliirJM1.js";import{I as He}from"./ImageFormGroup-40MuGzez.js";import{S as ne}from"./SwitchFormGroup-DXN0cwVk.js";import{Q as Me}from"./QuillFormGroup-BXX8qnUc.js";import{D as We}from"./DynamicField-DFjsryM4.js";import{D as ce}from"./DxButton-DV0H-ZcL.js";import{C as qe,F as n}from"./CreateReactScript-DqkNE-BN.js";import{R as f}from"./ReactAppend-C2Knef3a.js";import{S as Ue}from"./CartKuchara-CVImXKD8.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-BLHw34Di.js";import"./Global-Bz6gVLc5.js";import"./tippy-react.esm-BGU1pa2o.js";import"./index-B8-haksW.js";/* empty css              */import"./Logout-DK3gcKZh.js";import"./main-iQpBVKTZ.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuItemContainer-B4uedZKJ.js";import"./index.esm-BaU9YRy4.js";import"./index-B9ygI19o.js";import"./CanAccess-BgnYBEYE.js";import"./BasicRest-tjV1jpAY.js";import"./CardProductKatya-BPLqIfPk.js";import"./BooleanLimit-D-OsQsek.js";/* empty css               */import"./General-apRuNwp7.js";import"./LaravelSession-Dz9cpV3l.js";const Qe=()=>{const g=l.useRef(),y=l.useRef(),_=l.useRef(),F=l.useRef(),C=l.useRef(),I=l.useRef(),E=l.useRef(),T=l.useRef(),O=l.useRef(),P=l.useRef(),A=l.useRef(),z=l.useRef(),G=l.useRef(),d=l.useRef(),V=l.useRef(),M=l.useRef(),W=l.useRef(),B=l.useRef(),oe=l.useRef([]),[de,q]=l.useState(!1),[me,pe]=l.useState([]),[U,D]=l.useState([]),[m,h]=l.useState([]),[p,b]=l.useState([]),[u,j]=l.useState([]),[N,J]=l.useState(null),[R,L]=l.useState(null),[w,H]=l.useState(null),S=new Ge,ue=new Ve;l.useEffect(()=>{fe()},[]);const fe=async()=>{const s=await ue.paginate({page:1,per_page:100,filters:JSON.stringify([["status","=",1]])});pe(s.data||[])},he=s=>{const t=Array.from(s.target.files).map(i=>({file:i,url:URL.createObjectURL(i),toDelete:!1}));h([...m,...t])},xe=s=>{s.preventDefault();const i=Array.from(s.dataTransfer.files).filter(c=>c.type.startsWith("image/")).map(c=>({file:c,url:URL.createObjectURL(c),toDelete:!1}));h([...m,...i])},ge=s=>{s.preventDefault()},be=(s,a)=>{s.preventDefault();const t=[...m];t[a].file?t.splice(a,1):t[a].toDelete=!0,h(t)},je=(s,a)=>{J(a),s.dataTransfer.effectAllowed="move"},ve=()=>{J(null)},ye=s=>{s.preventDefault(),s.dataTransfer.dropEffect="move"},Ne=(s,a)=>{if(s.preventDefault(),N===null||N===a)return;const t=[...m],i=t[N];t.splice(N,1),t.splice(a,0,i),h(t),J(null)},De=s=>{const t=Array.from(s.target.files).map(i=>({file:i,name:i.name,url:URL.createObjectURL(i),toDelete:!1}));b([...p,...t]),s.target.value=""},Re=(s,a)=>{s.preventDefault();const t=[...p];t[a].file?t.splice(a,1):t[a].toDelete=!0,b(t)},we=(s,a)=>{L(a)},Se=()=>{L(null)},ke=s=>{s.preventDefault()},_e=(s,a)=>{if(s.preventDefault(),R===null||R===a)return;const t=[...p],i=t[R];t.splice(R,1),t.splice(a,0,i),b(t),L(null)},Fe=s=>{s.preventDefault();const a=B.current.value.trim();a&&(j([...u,{url:a,toDelete:!1}]),B.current.value="")},Ce=(s,a)=>{s.preventDefault();const t=[...u];t[a].url&&!t[a].id?t.splice(a,1):t[a].toDelete=!0,j(t)},Ie=(s,a)=>{H(a)},Ee=()=>{H(null)},$e=s=>{s.preventDefault()},Te=(s,a)=>{if(s.preventDefault(),w===null||w===a)return;const t=[...u],i=t[w];t.splice(w,1),t.splice(a,0,i),j(t),H(null)},Q=s=>{var t;s!=null&&s.id?q(!0):q(!1),d.current&&d.resetDeleteFlag&&d.resetDeleteFlag(),_.current.value=(s==null?void 0:s.id)??"",F.current.value=(s==null?void 0:s.name)??"",C.current.value=(s==null?void 0:s.sku)??"",E.current.value=(s==null?void 0:s.summary)??"",T.current.value=(s==null?void 0:s.description)??"",O.current.value=(s==null?void 0:s.max_occupancy)??2,P.current.value=(s==null?void 0:s.beds_count)??1,A.current.value=(s==null?void 0:s.size_m2)??0,z.current.value=(s==null?void 0:s.price)??0,G.current.value=(s==null?void 0:s.discount)??0,d.current&&d.image&&(d.image.src=s!=null&&s.image?`/storage/images/item/${s.image}`:"",d.current.value=null),setTimeout(()=>{$(I.current).val((s==null?void 0:s.room_type)||"standard").trigger("change")},100);const a=((t=s==null?void 0:s.amenities)==null?void 0:t.map(i=>i.id.toString()))||[];if(setTimeout(()=>{$(V.current).val(a).trigger("change")},100),s!=null&&s.features)try{const i=typeof s.features=="string"?JSON.parse(s.features):s.features,c=Array.isArray(i)?i.map(x=>typeof x=="object"&&x.feature||x):[];D(c)}catch{D([])}else D([]);if(s!=null&&s.gallery)try{const i=typeof s.gallery=="string"?JSON.parse(s.gallery):s.gallery;h(i.map(c=>({url:`/storage/images/item/${c}`,toDelete:!1})))}catch{h([])}else h([]);if(s!=null&&s.pdf)try{const i=typeof s.pdf=="string"?JSON.parse(s.pdf):s.pdf;b(i.map(c=>({name:c.split("/").pop(),url:`/storage/images/item/${c}`,toDelete:!1})))}catch{b([])}else b([]);if(s!=null&&s.linkvideo)try{const i=typeof s.linkvideo=="string"?JSON.parse(s.linkvideo):s.linkvideo;j(i.map(c=>({url:c,toDelete:!1})))}catch{j([])}else j([]);$(y.current).modal("show")},Oe=async s=>{s.preventDefault();const a=U.filter(r=>{var o;return typeof r=="string"?r.trim()!=="":typeof r=="object"?((o=r.feature)==null?void 0:o.trim())!=="":!1}),t={id:_.current.value||void 0,type:"room",name:F.current.value,sku:C.current.value,room_type:$(I.current).val(),summary:E.current.value,description:T.current.value,max_occupancy:O.current.value,beds_count:P.current.value,size_m2:A.current.value,price:z.current.value,discount:G.current.value,features:a},i=new FormData;for(const r in t)r==="features"?i.append(r,JSON.stringify(t[r])):i.append(r,t[r]);if(d.current){const r=d.current.files[0];r&&i.append("image",r),d.getDeleteFlag&&d.getDeleteFlag()&&i.append("image_delete","DELETE")}let c=0,x=0;const k=[];m.forEach((r,o)=>{r.toDelete||(r.file?(i.append(`gallery[${c}]`,r.file),k.push({type:"new",index:c}),c++):r.id&&(i.append(`gallery_ids[${x}]`,r.id),k.push({type:"existing",id:r.id,index:x}),x++))}),k.length>0&&i.append("gallery_order",JSON.stringify(k));const X=m.filter(r=>r.toDelete&&r.id).map(r=>r.id);X.length>0&&X.forEach((r,o)=>{i.append(`deleted_images[${o}]`,r)});const Z=p.filter(r=>!r.toDelete);let ee=0;Z.forEach(r=>{r.file&&(i.append(`pdf[${ee}]`,r.file),ee++)});const se=Z.map((r,o)=>({index:o,order:o+1,name:r.name||"Documento.pdf"}));se.length>0&&i.append("pdf_order",JSON.stringify(se));const ae=p.map((r,o)=>r.toDelete?o:null).filter(r=>r!==null);ae.length>0&&i.append("deleted_pdfs",JSON.stringify(ae));const te=u.filter(r=>!r.toDelete).map((r,o)=>({url:r.url,order:o+1}));te.length>0&&i.append("linkvideo",JSON.stringify(te));const ie=u.map((r,o)=>r.toDelete?o:null).filter(r=>r!==null);ie.length>0&&i.append("deleted_videos",JSON.stringify(ie));const re=$(V.current).val()||[];re.length>0&&re.forEach((r,o)=>{i.append(`amenities[${o}]`,r)}),await S.save(i)&&(d.current&&d.resetDeleteFlag&&d.resetDeleteFlag(),$(g.current).dxDataGrid("instance").refresh(),$(y.current).modal("hide"),h([]),b([]),j([]),D([]))},Y=async({id:s,value:a,field:t})=>{await S.boolean({id:s,field:t,value:a})&&$(g.current).dxDataGrid("instance").refresh()},Pe=async s=>{const{isConfirmed:a}=await Ue.fire({title:"Eliminar habitación",text:"¿Estás seguro de eliminar esta habitación? Se eliminarán también las reservas asociadas.",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"});!a||!await S.delete(s)||$(g.current).dxDataGrid("instance").refresh()},K={standard:"Estándar",suite:"Suite",deluxe:"Deluxe",presidential:"Presidencial",family:"Familiar",executive:"Ejecutiva",single:"Individual",double:"Doble"};return e.jsxs(e.Fragment,{children:[e.jsx(Be,{gridRef:g,title:"Habitaciones",rest:S,restParams:{filters:JSON.stringify([["type","=","room"]])},toolBar:s=>{s.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(g.current).dxDataGrid("instance").refresh()}}),s.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nueva habitación",hint:"Nueva habitación",onClick:()=>Q()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"image",caption:"Imagen",width:"80px",allowFiltering:!1,cellTemplate:(s,{data:a})=>{a.image?f(s,e.jsx("img",{src:`/storage/images/item/${a.image}`,alt:a.name,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"8px"},onError:t=>t.target.src="/api/cover/thumbnail/null"})):f(s,e.jsx("div",{className:"bg-light d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px",borderRadius:"8px"},children:e.jsx("i",{className:"mdi mdi-bed-double text-muted",style:{fontSize:"32px"}})}))}},n.has("items","sku")?{dataField:"name",caption:"Habitación",width:"20%",cellTemplate:(s,{data:a})=>{f(s,e.jsxs("div",{children:[e.jsx("strong",{children:a.name}),e.jsxs("div",{className:"small text-muted",children:[e.jsx("span",{className:"badge badge-soft-secondary",children:a.sku}),a.room_type&&n.has("items","room_type")&&e.jsx("span",{className:"badge badge-soft-info ml-1",children:K[a.room_type]||a.room_type})]})]}))}}:{dataField:"name",caption:"Habitación",width:"20%",cellTemplate:(s,{data:a})=>{f(s,e.jsxs("div",{children:[e.jsx("strong",{children:a.name}),a.room_type&&n.has("items","room_type")&&e.jsx("div",{className:"small text-muted",children:e.jsx("span",{className:"badge badge-soft-info",children:K[a.room_type]||a.room_type})})]}))}},{dataField:"max_occupancy",caption:"Capacidad",width:"15%",cellTemplate:(s,{data:a})=>{f(s,e.jsxs("div",{children:[n.has("items","max_occupancy")&&e.jsxs("div",{className:"small",children:[e.jsx("i",{className:"mdi mdi-account-multiple text-primary mr-1"}),a.max_occupancy||0," personas"]}),n.has("items","beds_count")&&e.jsxs("div",{className:"small",children:[e.jsx("i",{className:"mdi mdi-bed text-success mr-1"}),a.beds_count||0," cama",a.beds_count!==1?"s":""]}),n.has("items","size_m2")&&a.size_m2>0&&e.jsxs("div",{className:"small",children:[e.jsx("i",{className:"mdi mdi-ruler-square text-info mr-1"}),a.size_m2," m²"]})]}))},visible:n.has("items","max_occupancy")||n.has("items","beds_count")||n.has("items","size_m2")},{dataField:"price",caption:"Precio/Noche",width:"12%",cellTemplate:(s,{data:a})=>{f(s,e.jsxs("div",{children:[e.jsxs("strong",{className:"text-success",children:["S/ ",Number(a.price||0).toFixed(2)]}),a.discount>0&&e.jsx("div",{className:"small",children:e.jsxs("span",{className:"badge badge-soft-danger",children:["-",a.discount,"%"]})})]}))}},n.has("items","is_amenities")&&{dataField:"amenities",caption:"Amenidades",width:"15%",allowFiltering:!1,cellTemplate:(s,{data:a})=>{const t=a.amenities||[];f(s,e.jsx("div",{children:t.length>0?e.jsxs("div",{className:"d-flex flex-wrap gap-1",children:[t.slice(0,3).map((i,c)=>e.jsx("span",{className:"badge badge-soft-success",style:{fontSize:"10px"},children:i.name},c)),t.length>3&&e.jsxs("span",{className:"badge badge-soft-secondary",style:{fontSize:"10px"},children:["+",t.length-3]})]}):e.jsx("span",{className:"text-muted small",children:"Sin amenidades"})}))}},n.has("items","featured")&&{dataField:"featured",caption:"Destacado",dataType:"boolean",width:"80px",cellTemplate:(s,{data:a})=>{$(s).empty(),f(s,e.jsx(ne,{checked:a.featured==1,onChange:()=>Y({id:a.id,value:!a.featured,field:"featured"})}))}},n.has("items","visible")&&{dataField:"visible",caption:"Visible",dataType:"boolean",width:"80px",cellTemplate:(s,{data:a})=>{$(s).empty(),f(s,e.jsx(ne,{checked:a.visible==1,onChange:()=>Y({id:a.id,value:!a.visible,field:"visible"})}))}},{caption:"Acciones",width:"100px",cellTemplate:(s,{data:a})=>{s.css("text-overflow","unset"),s.append(ce({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>Q(a)})),s.append(ce({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>Pe(a.id)}))},allowFiltering:!1,allowExporting:!1}]}),e.jsx(Je,{modalRef:y,title:de?"Editar habitación":"Nueva habitación",onSubmit:Oe,size:"xl",children:e.jsxs("div",{id:"rooms-container",children:[e.jsx("input",{ref:_,type:"hidden"}),e.jsxs("ul",{className:"nav nav-pills nav-justified mb-4",role:"tablist",style:{backgroundColor:"#f8f9fa",borderRadius:"8px",padding:"4px",border:"1px solid #e9ecef"},children:[e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link active",id:"basic-info-tab","data-bs-toggle":"pill","data-bs-target":"#basic-info",type:"button",role:"tab","aria-controls":"basic-info","aria-selected":"true",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"Información Básica"]})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link",id:"details-tab","data-bs-toggle":"pill","data-bs-target":"#details",type:"button",role:"tab","aria-controls":"details","aria-selected":"false",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-bed me-2"}),"Detalles y Precios"]})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link",id:"multimedia-tab","data-bs-toggle":"pill","data-bs-target":"#multimedia",type:"button",role:"tab","aria-controls":"multimedia","aria-selected":"false",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-images me-2"}),"Multimedia"]})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link",id:"features-tab","data-bs-toggle":"pill","data-bs-target":"#features",type:"button",role:"tab","aria-controls":"features","aria-selected":"false",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-list-ul me-2"}),"Características"]})})]}),e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"tab-pane fade show active",id:"basic-info",role:"tabpanel","aria-labelledby":"basic-info-tab",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-tag me-2"}),"Identificación"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(v,{eRef:F,label:"Nombre de la Habitación",required:!0,placeholder:"Ej: Suite Amazonas"}),e.jsx(v,{eRef:C,label:"SKU",placeholder:"Ej: ROOM-001",hidden:!n.has("items","sku")}),e.jsxs(le,{eRef:I,label:"Tipo de Habitación",dropdownParent:"#rooms-container",required:!0,hidden:!n.has("items","room_type"),children:[e.jsx("option",{value:"standard",children:"Estándar"}),e.jsx("option",{value:"single",children:"Individual"}),e.jsx("option",{value:"double",children:"Doble"}),e.jsx("option",{value:"suite",children:"Suite"}),e.jsx("option",{value:"deluxe",children:"Deluxe"}),e.jsx("option",{value:"presidential",children:"Presidencial"}),e.jsx("option",{value:"family",children:"Familiar"}),e.jsx("option",{value:"executive",children:"Ejecutiva"})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-align-left me-2"}),"Descripción"]})}),e.jsx("div",{className:"card-body",children:e.jsx(Le,{eRef:E,label:"Resumen",rows:4,placeholder:"Breve descripción de la habitación...",hidden:!n.has("items","summary")})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-edit me-2"}),"Descripción Completa"]})}),e.jsx("div",{className:"card-body",children:e.jsx(Me,{eRef:T,label:"Descripción Detallada",hidden:!n.has("items","description")})})]})})]})}),e.jsx("div",{className:"tab-pane fade",id:"details",role:"tabpanel","aria-labelledby":"details-tab",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-users me-2"}),"Capacidad"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(v,{eRef:O,label:"Capacidad Máxima (personas)",type:"number",required:!0,min:"1",max:"10",hidden:!n.has("items","max_occupancy")}),e.jsx(v,{eRef:P,label:"Número de Camas",type:"number",required:!0,min:"1",max:"5",hidden:!n.has("items","beds_count")}),e.jsx(v,{eRef:A,label:"Tamaño (m²)",type:"number",min:"0",step:"0.1",hidden:!n.has("items","size_m2")})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-dollar-sign me-2"}),"Precios"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(v,{eRef:z,label:"Precio por Noche (S/)",type:"number",required:!0,min:"0",step:"0.01",hidden:!n.has("items","price")}),e.jsx(v,{eRef:G,label:"Descuento (%)",type:"number",min:"0",max:"100",step:"0.01",hidden:!n.has("items","discount")})]})]})}),n.has("items","is_amenities")&&e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header bg-light",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-star-circle me-2 text-warning"}),"Cualidades / Amenidades"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(le,{eRef:V,label:"Seleccionar Cualidades / Amenidades",dropdownParent:"#rooms-container",multiple:!0,templateResult:s=>{if(!s.id)return s.text;const t=$(s.element).data("image");return t?$(`
                                <div style="display: flex; align-items: center; gap: 10px;">
                                  <div style="width: 32px; height: 32px; border-radius: 50%; background: #ebeff2; display: flex; align-items: center; justify-content: center; padding: 5px; flex-shrink: 0;">
                                    <img src="/storage/images/amenity/${t}" 
                                         style="width: 100%; height: 100%; object-fit: contain; border-radius: 50%;" 
                                         onerror="this.style.display='none'" />
                                  </div>
                                  <span>${s.text}</span>
                                </div>
                              `):s.text},templateSelection:s=>{if(!s.id)return s.text;const t=$(s.element).data("image");return t?$(`
                                <div style="display: flex; align-items: center; gap: 8px;">
                                  <div style="width: 24px; height: 24px; border-radius: 50%; background: #ebeff2; display: flex; align-items: center; justify-content: center; padding: 4px; flex-shrink: 0;">
                                    <img src="/storage/images/amenity/${t}" 
                                         style="width: 100%; height: 100%; object-fit: contain; border-radius: 50%;" 
                                         onerror="this.style.display='none'" />
                                  </div>
                                  <span>${s.text}</span>
                                </div>
                              `):s.text},children:me.map(s=>e.jsx("option",{value:s.id,"data-image":s.image,children:s.name},s.id))}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Selecciona las cualidades o amenidades que destacan esta habitación"]})]})]})})]})}),e.jsx("div",{className:"tab-pane fade",id:"multimedia",role:"tabpanel","aria-labelledby":"multimedia-tab",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-image me-2"}),"Imagen Principal"]})}),e.jsx("div",{className:"card-body",children:e.jsx(He,{eRef:d,name:"image",label:"Imagen Principal",aspect:16/9,hidden:!n.has("items","image")})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-images me-2 text-primary"}),"Galería de Imágenes",m.filter(s=>!s.toDelete).length>0&&e.jsx("span",{className:"badge bg-primary ms-2",children:m.filter(s=>!s.toDelete).length})]})}),e.jsxs("div",{className:"card-body",children:[e.jsx("input",{ref:M,type:"file",multiple:!0,accept:"image/*",hidden:!0,onChange:he}),e.jsxs("div",{className:"gallery-container",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"12px",padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"12px",border:"2px dashed #dee2e6",minHeight:"140px"},children:[m.filter(s=>!s.toDelete).map((s,a)=>{const t=m.findIndex(i=>i===s);return e.jsxs("div",{className:"gallery-item position-relative",draggable:!0,onDragStart:i=>je(i,t),onDragEnd:ve,onDragOver:ye,onDrop:i=>Ne(i,t),style:{aspectRatio:"1",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.3s ease",cursor:"grab",transform:N===t?"scale(1.05)":"scale(1)",opacity:N===t?.8:1,background:"white"},children:[e.jsx("div",{className:"position-absolute top-0 start-0 m-1",children:e.jsx("span",{className:"badge bg-primary rounded-circle",style:{width:"20px",height:"20px",fontSize:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a+1})}),e.jsx("img",{src:s.url,alt:`Imagen ${a+1}`,className:"w-100 h-100",style:{objectFit:"cover",pointerEvents:"none"}}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,0.7)",opacity:0,transition:"opacity 0.3s ease"},onMouseEnter:i=>i.currentTarget.style.opacity=1,onMouseLeave:i=>i.currentTarget.style.opacity=0,children:e.jsx("button",{type:"button",className:"btn btn-danger btn-sm rounded-circle",style:{width:"28px",height:"28px",padding:0},onClick:i=>be(i,t),title:"Eliminar",children:e.jsx("i",{className:"fas fa-trash text-white",style:{fontSize:"12px"}})})})]},t)}),e.jsx("div",{className:"gallery-add-button d-flex flex-column align-items-center justify-content-center",style:{aspectRatio:"1",border:"2px dashed #0d6efd",borderRadius:"8px",backgroundColor:"rgba(13, 110, 253, 0.05)",cursor:"pointer",transition:"all 0.3s ease",minHeight:"100px"},onClick:()=>M.current.click(),onDrop:xe,onDragOver:ge,children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"fas fa-plus text-primary fa-lg mb-1"}),e.jsx("p",{className:"mb-0 text-primary fw-semibold",style:{fontSize:"10px"},children:"Agregar"})]})})]})]})]})}),e.jsx("div",{className:"col-md-6",hidden:!n.has("items","pdf"),children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-file-pdf me-2 text-danger"}),"Documentos PDF",p.filter(s=>!s.toDelete).length>0&&e.jsx("span",{className:"badge bg-danger ms-2",children:p.filter(s=>!s.toDelete).length})]})}),e.jsxs("div",{className:"card-body",children:[e.jsx("input",{ref:W,type:"file",multiple:!0,accept:".pdf",hidden:!0,onChange:De}),e.jsx("div",{className:"list-group mb-3",style:{maxHeight:"200px",overflowY:"auto"},children:p.filter(s=>!s.toDelete).map((s,a)=>{const t=p.findIndex(i=>i===s);return e.jsxs("div",{draggable:!0,onDragStart:i=>we(i,t),onDragEnd:Se,onDragOver:ke,onDrop:i=>_e(i,t),className:"list-group-item list-group-item-action d-flex align-items-center justify-content-between py-2",style:{cursor:"grab",opacity:R===t?.5:1,transition:"all 0.2s ease"},children:[e.jsxs("div",{className:"d-flex align-items-center",style:{minWidth:0},children:[e.jsx("span",{className:"badge bg-danger me-2",children:a+1}),e.jsx("i",{className:"fas fa-grip-vertical text-muted me-2"}),e.jsx("i",{className:"fas fa-file-pdf text-danger me-2"}),e.jsx("span",{className:"text-truncate",style:{maxWidth:"150px"},children:s.name})]}),e.jsxs("div",{className:"d-flex gap-1",children:[!s.file&&e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary py-0",children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger py-0",onClick:i=>Re(i,t),children:e.jsx("i",{className:"fas fa-trash"})})]})]},t)})}),e.jsxs("button",{type:"button",className:"btn btn-outline-danger btn-sm w-100",onClick:()=>W.current.click(),children:[e.jsx("i",{className:"fas fa-plus me-2"}),"Agregar PDFs"]})]})]})}),e.jsx("div",{className:"col-md-6",hidden:!n.has("items","linkvideo"),children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-video me-2 text-success"}),"Videos (Tour Virtual)",u.filter(s=>!s.toDelete).length>0&&e.jsx("span",{className:"badge bg-success ms-2",children:u.filter(s=>!s.toDelete).length})]})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"list-group mb-3",style:{maxHeight:"200px",overflowY:"auto"},children:u.filter(s=>!s.toDelete).map((s,a)=>{const t=u.findIndex(i=>i===s);return e.jsxs("div",{draggable:!0,onDragStart:i=>Ie(i,t),onDragEnd:Ee,onDragOver:$e,onDrop:i=>Te(i,t),className:"list-group-item list-group-item-action d-flex align-items-center justify-content-between py-2",style:{cursor:"grab",opacity:w===t?.5:1,transition:"all 0.2s ease"},children:[e.jsxs("div",{className:"d-flex align-items-center",style:{minWidth:0,overflow:"hidden"},children:[e.jsx("span",{className:"badge bg-success me-2",children:a+1}),e.jsx("i",{className:"fas fa-grip-vertical text-muted me-2"}),e.jsx("i",{className:"fas fa-video text-success me-2"}),e.jsx("span",{className:"text-truncate small",style:{maxWidth:"150px"},title:s.url,children:s.url})]}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary py-0",children:e.jsx("i",{className:"fas fa-external-link-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger py-0",onClick:i=>Ce(i,t),children:e.jsx("i",{className:"fas fa-trash"})})]})]},t)})}),e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx("input",{ref:B,type:"url",className:"form-control",placeholder:"https://youtube.com/watch?v=..."}),e.jsxs("button",{type:"button",className:"btn btn-success",onClick:Fe,children:[e.jsx("i",{className:"fas fa-plus me-1"}),"Agregar"]})]})]})]})})]})}),e.jsx("div",{className:"tab-pane fade",id:"features",role:"tabpanel","aria-labelledby":"features-tab",children:e.jsx("div",{className:"row g-3",children:n.has("items","is_features")&&e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-list-ul me-2"}),"Lista de Características"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(We,{ref:oe,label:"Características de la Habitación",structure:"",value:U,onChange:D}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),'Agrega características como: "Vista al río", "Balcón privado", "Servicio 24 horas", etc.']})]})]})})})})]})]})})]})};qe((g,y)=>{Ae.createRoot(g).render(e.jsx(ze,{...y,title:"Habitaciones",children:e.jsx(Qe,{...y})}))});

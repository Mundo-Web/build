import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r as c}from"./index-BOnQTV8N.js";import{t as b}from"./CardProductKatya-ncpmQ0JU.js";import{C as j}from"./circle-chevron-right-Cragr8lM.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./createLucideIcon-DfjclApS.js";const D=({product:e,data:i,favorites:t=[],setFavorites:m})=>{const[y,v]=c.useState(!1),r=t.some(l=>l.id===(e==null?void 0:e.id)),n=l=>l?new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(l):"",o=l=>{if(l.preventDefault(),l.stopPropagation(),m){const f=r?t.filter(h=>h.id!==e.id):[...t,e];m(f),b.success(r?"Producto eliminado de favoritos":"Producto agregado a favoritos",{description:e==null?void 0:e.name,duration:2e3,position:"bottom-center"})}},x=()=>{const l=(e==null?void 0:e.slug)||(e==null?void 0:e.id);window.location.href=`/product/${l}`},a=(e==null?void 0:e.price)&&(e==null?void 0:e.final_price)&&parseFloat(e.price)>parseFloat(e.final_price),g=a?Math.round((parseFloat(e.price)-parseFloat(e.final_price))/parseFloat(e.price)*100):0;return s.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 group cursor-pointer flex flex-col w-full",onClick:x,children:[s.jsxs("div",{className:"relative overflow-hidden bg-gray-50 w-full aspect-square",children:[s.jsx("img",{src:e!=null&&e.image?`/api/items/media/${e.image}`:"/assets/img/noimage/no_img.jpg",alt:(e==null?void 0:e.name)||"Producto",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:l=>{l.target.src="/assets/img/noimage/no_img.jpg"}}),i!=null&&i.badge_offer_percent?a&&s.jsx("div",{className:"absolute top-3 left-3 bg-danger text-white rounded-full text-sm font-bold shadow-lg z-10",children:s.jsxs("span",{className:"bg-danger text-white bg-opacity-10 customtext-primary px-3 py-2 rounded-full text-xs font-bold",children:["-",g,"%"]})}):(e==null?void 0:e.category)&&s.jsx("div",{className:"absolute top-3 left-3 bg-accent text-white rounded-full text-sm font-bold shadow-lg z-10",children:s.jsx("span",{className:"bg-accent customtext-primary bg-opacity-10 customtext-primary px-3 py-2 rounded-full text-xs font-bold",children:e.category.name||e.category})}),s.jsx("p",{onClick:o,className:"absolute top-3 right-3     flex items-center justify-center  transition-all duration-300  z-10",children:(e==null?void 0:e.brand)&&s.jsx("img",{src:e.brand.image?`/api/brands/media/${e.brand.image}`:"/assets/img/noimage/no_img.jpg",alt:e.brand.name||"Marca",className:"max-h-14 max-w-14 object-contain",onError:l=>{l.target.src="/assets/img/noimage/no_img.jpg"}})})]}),s.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[(i==null?void 0:i.badge_category_up_name)&&(e==null?void 0:e.category)&&s.jsx("div",{className:"mb-2",children:s.jsx("span",{className:`bg-accent customtext-primary bg-opacity-10 customtext-primary px-3 py-2 rounded-full text-xs font-bold ${(i==null?void 0:i.class_badge_category)||""}`,children:e.category.name||e.category})}),s.jsx("h3",{className:"text-lg font-bold customtext-neutral-dark mb-2 group-hover:customtext-primary transition-colors duration-300 font-title line-clamp-2 min-h-[3.5rem]",children:e==null?void 0:e.name}),!(i!=null&&i.is_card_content_description)&&(e!=null&&e.description)?s.jsx("p",{className:"customtext-neutral-light text-sm mb-3 line-clamp-2 min-h-[2.5rem]",dangerouslySetInnerHTML:{__html:e.description}}):s.jsx("p",{className:"customtext-neutral-light text-sm mb-1 line-clamp-2 min-h-[2rem]",children:e==null?void 0:e.sku}),s.jsx("div",{className:"flex-1"}),(e==null?void 0:e.final_price)&&(e==null?void 0:e.final_price)>0&&s.jsx("div",{className:"flex items-center justify-between mb-4",children:i!=null&&i.badge_offer_percent&&a?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"text-xl font-bold customtext-secondary font-title",children:n(e==null?void 0:e.final_price)}),s.jsx("span",{className:"text-sm customtext-neutral-light line-through",children:n(e.price)})]}):s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xl font-bold customtext-secondary font-title",children:n((e==null?void 0:e.final_price)||(e==null?void 0:e.price))}),a&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm customtext-neutral-light line-through",children:n(e.price)}),s.jsxs("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full font-bold",children:["Ahorra ",n(parseFloat(e.price)-parseFloat(e.final_price))]})]})]})}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs("button",{onClick:l=>{l.stopPropagation(),x()},type:"button",disabled:!(e!=null&&e.stock)&&!(e!=null&&e.stock)>0,className:`flex-1 bg-secondary text-white py-3 rounded-lg font-semibold text-sm transition-all duration-300 flex items-center justify-center space-x-2 hover:bg-accent hover:customtext-primary disabled:opacity-50 disabled:cursor-not-allowed ${(i==null?void 0:i.class_button_card_detail)||""}`,children:[s.jsx("span",{children:"Ver detalle"}),s.jsx(j,{className:"w-5 h-5"})]})})]})]})};export{D as default};

import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BOnQTV8N.js";import{G as d}from"./Global-DWbVqTT_.js";import{u as v,A as _}from"./useCintillos-D3zZmwfE.js";import{t as j}from"./MobileMenu-DCQNJ5Rs.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./General-BmbBKdsB.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./CardProductKatya-ncpmQ0JU.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./BasicRest-BqhZrBN0.js";const Y=({items:w,data:o,pages:c=[]})=>{const h=l.useRef(null),[y,m]=l.useState(!0),u=l.useRef(0),{hasActiveCintillos:p}=v();l.useEffect(()=>{const e=()=>{const t=window.scrollY;t>u.current&&t>60?m(!1):m(!0),u.current=t};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const[a,x]=l.useState([]);return l.useEffect(()=>{(async()=>{try{console.log("Fetching active tags...");const t=await j.getTags();if(console.log("Tags response:",t),t!=null&&t.data){const i=t.data.filter(r=>r.promotional_status==="permanent"||r.promotional_status==="active"&&r.menu==="1"||r.menu===1).sort((r,n)=>r.promotional_status==="active"&&n.promotional_status!=="active"?-1:n.promotional_status==="active"&&r.promotional_status!=="active"?1:r.name.localeCompare(n.name));x(i),console.log("Active tags set:",i);const f=i.filter(r=>r.promotional_status==="active").length,g=i.filter(r=>r.promotional_status==="permanent").length;if(console.log(`ðŸŽ¯ Tags cargados: ${f} promocionales activos, ${g} permanentes`),f>0){const r=i.filter(n=>n.promotional_status==="active");console.log("ðŸŽ‰ Promociones activas:",r.map(n=>`${n.name} (${n.start_date} - ${n.end_date})`))}}}catch(t){console.error("Error fetching tags:",t)}})()},[]),!p&&!(o!=null&&o.isCopyright)&&(!c||c.length===0)&&(!a||a.length===0)?null:s.jsx("section",{ref:h,className:`${o!=null&&o.background_color?o==null?void 0:o.background_color:"bg-primary"}  font-paragraph font-bold transition-all duration-300 w-full z-50  ${o!=null&&o.border_color?`border-t-2 ${o==null?void 0:o.border_color}`:""} text-white`,children:s.jsxs("div",{className:"px-primary  mx-auto py-1.5 flex flex-wrap justify-center md:justify-between items-center gap-2 2xl:max-w-7xl 2xl:px-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[c&&c.length>0?c.filter(e=>e.menuable).map((e,t,i)=>s.jsx("a",{href:e.path,className:"font-medium text-xs hover:customtext-secondary cursor-pointer transition-all duration-300",children:e.name},t)):s.jsx("span",{className:"text-sm opacity-75",children:"No hay pÃ¡ginas configuradas"}),s.jsx("ul",{children:a.length>0&&s.jsx("div",{className:"flex items-center gap-4 lg:gap-4 text-sm",children:a.map((e,t)=>s.jsx("li",{className:"",children:s.jsxs("a",{href:`/catalogo?tag=${e.id}`,className:"font-medium rounded-full py-1 px-2 hover:brightness-105 cursor-pointer transition-all duration-300 relative flex items-center gap-2",style:{backgroundColor:e.background_color||"#3b82f6",color:e.text_color||"#ffffff"},title:e.description||e.name,children:[e.icon&&s.jsx("img",{src:`/storage/images/tag/${e.icon}`,alt:e.name,className:"w-4 h-4",onError:i=>i.target.src="/api/cover/thumbnail/null"}),e.name]})},e.id))})})]}),s.jsx("p",{className:"hidden md:block text-xs",children:o!=null&&o.isCopyright?` Copyright Â© ${new Date().getFullYear()} ${d.APP_NAME}. Reservados todos los derechos.`:p?s.jsx(_,{}):null})]})})};export{Y as default};

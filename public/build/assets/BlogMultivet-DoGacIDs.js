import{j as e,f as t,aT as s,y as a,aj as l,r,S as i,ba as o}from"./vendor-react-DB2gWWlz.js";import{P as n}from"./PostsRest-BP-ZZeYd.js";import{B as c}from"./BlogCategoriesRest-C79RDaDn.js";import{S as m}from"./SelectForm-CUSDrQWC.js";import{m as d}from"./vendor-motion-Ma5gYeLT.js";import"./vendor-swiper-Cr_RrIb_.js";import"./BasicRest-rcCccbSV.js";import"./GoogleSignInButton-Bo5d3xNo.js";import"./BooleanLimit-q2Ad9fGY.js";function x({data:r,flex:i=!1,post:o,featured:n=!1}){const c=e=>{if(!e)return"";return new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})},m=(e,t=150)=>{if(!e)return"";const s=document.createElement("div");s.innerHTML=e;const a=s.textContent||s.innerText||"";return a.length>t?a.substring(0,t)+"...":a},d=e=>{if(!e)return"5 min";const t=e.split(" ").length;return`${Math.ceil(t/200)} min`};return i?e.jsx("article",{className:"group relative font-title h-full",children:e.jsx("a",{href:`/post/${o?.slug}`,className:"block h-full",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 group cursor-pointer h-full flex",children:[e.jsxs("div",{className:"relative overflow-hidden w-1/2",children:[e.jsx("img",{src:o?.image?`/storage/images/post/${o?.image}`:"/assets/img/noimage/no_img.jpg",alt:o?.name,className:"w-full h-full aspect-[3/2] object-cover group-hover:scale-110 transition-transform duration-500",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}}),o?.category&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:`px-3 py-2 rounded-full text-xs font-semibold bg-accent  customtext-primary ${r?.class_badge_category||""}`,children:o.category?.name})})]}),e.jsxs("div",{className:"p-6 w-1/2 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm customtext-neutral-light mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(t,{className:"w-4 h-4"}),e.jsx("span",{children:c(o?.created_at||o?.post_date)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(s,{className:"w-4 h-4"}),e.jsx("span",{children:d(o?.description||o?.summary)})]})]}),e.jsx("h3",{className:"text-lg font-title font-bold mb-3 group-hover:customtext-primary transition-colors line-clamp-2 customtext-primary",children:o?.name}),e.jsx("p",{className:"text-sm mb-4 line-clamp-3 customtext-neutral-light",children:m(o?.description||o?.summary)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[o?.autor&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm customtext-neutral-light",children:o.autor})]}),e.jsxs("button",{className:"customtext-neutral-light hover:customtext-primary font-semibold text-sm flex items-center space-x-1 group-hover:translate-x-1 transition-transform",children:[e.jsx("span",{children:"Leer más"}),e.jsx(l,{className:"w-4 h-4"})]})]})]})]})})}):e.jsx("article",{className:"group relative font-title "+(n?"h-full":""),children:e.jsx("a",{href:`/post/${o?.slug}`,className:"block h-full",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 group cursor-pointer h-full",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:o?.image?`/storage/images/post/${o?.image}`:"/assets/img/noimage/no_img.jpg",alt:o?.name,className:"w-full  object-cover group-hover:scale-110 transition-transform duration-500 "+(n?"h-full aspect-[4/2]":"h-48"),onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}}),o?.category?e.jsx("div",{className:"absolute top-4 left-4 ",children:e.jsx("span",{className:`px-3 py-2 t rounded-full text-xs font-semibold bg-accent  customtext-primary  ${r?.class_badge_category||""}`,children:o.category?.name})}):e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-600",children:"Sin categoría"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm customtext-neutral-light mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(t,{className:"w-4 h-4"}),e.jsx("span",{children:c(o?.created_at||o?.post_date)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(s,{className:"w-4 h-4"}),e.jsx("span",{children:d(o?.description||o?.summary)})]})]}),e.jsx("h3",{className:"text-lg font-title font-bold mb-3 group-hover:customtext-primary transition-colors line-clamp-2 customtext-primary",children:o?.name}),e.jsx("p",{className:"text-sm mb-4 line-clamp-3 customtext-neutral-light",children:m(o?.description||o?.summary)}),e.jsxs("div",{className:"flex items-center justify-between",children:[o?.autor&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(a,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm customtext-neutral-light",children:o.autor})]}),e.jsxs("button",{className:"customtext-neutral-light hover:customtext-primary font-semibold text-sm flex items-center space-x-1 group-hover:translate-x-1 transition-transform",children:[e.jsx("span",{children:"Leer más"}),e.jsx(l,{className:"w-4 h-4"})]})]}),r?.["bool:show_seen"]&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-3 pt-3 border-t border-gray-100",children:[e.jsx("i",{className:"mdi mdi-circle-medium"}),e.jsx("span",{children:"Leído hace 5 minutos"})]})]})]})})})}const p=new n,u=new c;function h({data:t,posts:s,setPosts:a,headerPosts:l,filteredData:n,loading:c,setLoading:h,isFilter:g,setIsFilter:f}){const[j,y]=r.useState([]),[v,N]=r.useState({category_id:"",post_date:"",name:""}),[b,w]=r.useState(!0);r.useEffect(()=>{(async()=>{try{const e={filter:[["visible","=",!0],["status","=",!0]]},t=await u.paginate(e);t&&t.data&&y(t.data)}catch(e){}})()},[]),r.useEffect(()=>{b?w(!1):(async()=>{h(!0);try{const e=(e=>{const t=[];return e.category_id&&t.push(["category_id","=",e.category_id]),e.post_date&&t.push(["post_date","=",e.post_date]),e.name&&t.push(["name","contains",e.name]),t})(v),t=v.category_id||v.post_date||v.name,s={with:"category",filter:e},l=await p.paginate(s);a(l.data),f(!!t)}catch(e){}finally{h(!1)}})()},[v]);const _=(e,t)=>{N(s=>({...s,[e]:t}))};return e.jsx("main",{className:`relative bg-sections-color ${g?"":"min-h-screen"} font-title`,children:e.jsxs("section",{className:"relative  overflow-visible z-10 "+(g?"pt-16 pb-8":"py-16"),children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-accent rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-white rounded-full blur-2xl"})]}),e.jsxs("div",{className:"relative px-4 2xl:px-0 2xl:max-w-7xl mx-auto",children:[e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center space-y-6",children:[e.jsx(d.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:` text-4xl md:text-6xl 2xl:text-5xl max-w-6xl mx-auto font-bold customtext-secondary font-title leading-tight ${t?.class_title||""}`,children:t?.title?e.jsx("span",{dangerouslySetInnerHTML:{__html:t.title},className:"block font-title"}):e.jsxs(e.Fragment,{children:["Conocimiento Veterinario",e.jsx("br",{}),e.jsx("span",{className:"text-accent",children:"para tu Mascota"})]})}),t?.description&&e.jsx(d.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-white/90 text-lg 2xl:text-xl font-medium max-w-3xl mx-auto",children:t.description})]}),e.jsx(d.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"mt-12 bg-white rounded-2xl shadow-xl p-6 relative overflow-visible",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 relative",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"search",placeholder:t?.placeholder_search||"Buscar artículos...",className:"w-full px-6 py-4 pl-12 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 focus:outline-0 transition-all duration-300 text-gray-700 placeholder-gray-400",onChange:e=>_("name",e.target.value)}),e.jsx(i,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:w-auto",children:[e.jsx("div",{className:"relative flex-1 lg:w-64 z-[9999]",children:e.jsx(m,{options:j,placeholder:"Todas las categorías",value:v.category_id,onChange:e=>{N(t=>({...t,category_id:e}))},labelKey:"name",valueKey:"id",className:"border-2 py-4 border-gray-200 focus:border-primary"})}),e.jsx("div",{className:"flex-1 lg:w-48",children:e.jsx("input",{type:"date",value:v.post_date,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 focus:outline-0 transition-all duration-300 text-gray-700",onChange:e=>{_("post_date",e.target.value)}})}),(v.name||v.category_id||v.post_date)&&e.jsxs("button",{onClick:()=>{N({category_id:"",post_date:"",name:""}),f(!1)},className:"px-4 py-4 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-xl transition-all duration-300 flex items-center gap-2 whitespace-nowrap",children:[e.jsx(o,{className:"w-4 h-4"}),"Limpiar"]})]})]})}),!g&&l&&l.length>0&&e.jsxs(d.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-16",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 font-title customtext-secondary leading-tight",children:"Artículos Destacados"})}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(x,{data:t,featured:!0,post:l[0]})}),e.jsx("div",{className:"hidden lg:flex flex-col gap-6",children:l.slice(1,3).map(s=>e.jsx(x,{data:t,flex:!0,post:s},s.id))})]})]})]})]})})}export{x as B,h as a};

import{r as e,j as t,t as s}from"./System-Bybt2Brn.js";import"./sweetalert2.esm.all-DbJpIAEg.js";import"./CartModal-Db_dBOJN.js";import{C as a}from"./CartModalBananaLab-CzbnPykF.js";import{m as l}from"./proxy-BmPRG09w.js";import{H as r}from"./heart-CyPg-ZZw.js";import{S as i}from"./shopping-cart-D6rW5WdX.js";import{C as o}from"./circle-check-big-BzpJOupm.js";const n=({data:n,product:d,widthClass:c="lg:w-1/4",setCart:m,cart:x})=>{const[h,u]=e.useState(!1),[g,p]=e.useState(!1),f=(e,a)=>{e.preventDefault(),e.stopPropagation();const l=structuredClone(x),r=l.findIndex((e=>e.id==a.id));-1==r?l.push({...a,quantity:1}):l[r].quantity++,m(l),s.success("Producto agregado",{description:`${a.name} se ha añadido al carrito.`,icon:t.jsx(o,{className:"h-5 w-5 text-green-500"}),duration:3e3,position:"bottom-center"})};return t.jsxs(t.Fragment,{children:[t.jsx(l.a,{href:`/product/${d.slug}`,initial:{scale:1,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},whileHover:{scale:1.02,boxShadow:"0px 8px 16px rgba(0, 0, 0, 0.2)",transition:{duration:.3}},className:`group px-1 md:px-2 w-1/2 sm:w-1/3 ${c} rounded-b-3xl overflow-hidden flex-shrink-0 font-font-secondary cursor-pointer relative`,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:t.jsxs("div",{className:"bg-white rounded-md lg:p-4 h-full flex flex-col",children:[t.jsxs("div",{className:"relative",children:[null!=d.discount&&!isNaN(d.discount)&&t.jsx("span",{className:"absolute top-3 -right-1 lg:-right-2 bg-[#F93232] text-white text-xs font-bold px-2 py-2 shadow-md z-10",children:"Oferta"}),t.jsx(l.div,{className:"aspect-square rounded-t-md overflow-hidden flex items-center justify-center",whileHover:{scale:1.05},transition:{duration:.3},children:t.jsx("img",{src:`/storage/images/item/${d.image}`,onError:e=>e.target.src="/api/cover/thumbnail/null",alt:d.name,className:"w-full h-full object-cover",loading:"lazy"})})]}),t.jsxs("div",{className:"p-3 flex-grow flex flex-col",children:[t.jsxs("div",{className:"flex gap-1",children:[t.jsx("div",{className:"w-2 h-2 bg-[#CD6E56] rounded-full lg:w-3 lg:h-3"}),t.jsx("div",{className:"w-2 h-2 bg-[#E5C794] rounded-full lg:w-3 lg:h-3"}),t.jsx("div",{className:"w-2 h-2 bg-[#E37B58] rounded-full lg:w-3 lg:h-3"})]}),t.jsxs("div",{className:"flex justify-between items-start w-full mt-2",children:[t.jsx("h3",{className:"w-11/12 lg:w-10/12 customtext-neutral-dark text-xs lg:text-[15px] leading-4 font-semibold mb-2 line-clamp-3",children:d.name}),t.jsx("button",{className:"customtext-primary brightness-125 hover:brightness-100 hover:customtext-primary transition-colors duration-200",children:t.jsx(r,{width:18,strokeWidth:1.5})})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between items-baseline mt-1",children:[t.jsxs("span",{className:"customtext-neutral-dark text-[20px] md:text-2xl font-bold",children:["S/ ",d.final_price]}),t.jsx("p",{className:"text-[10px] lg:text-xs customtext-neutral-dark mt-1",children:"Más vendidos (100)"})]}),t.jsx("div",{className:"mt-3 overflow-hidden block lg:hidden",children:t.jsxs("button",{onClick:e=>f(e,d),className:"w-full text-[10px] font-light lg:font-normal flex items-center justify-center bg-primary text-white lg:text-sm py-2 lg:py-3 px-4 rounded-full shadow-md hover:bg-primary-dark transition-all duration-300",children:[t.jsx("span",{className:"mr-2",children:"Agregar al carrito"}),t.jsx(i,{className:"w-3 h-3 lg:w-4 lg:h-4",strokeWidth:2})]})}),t.jsx(l.div,{initial:{opacity:0,height:0},animate:{opacity:g?1:0,height:g?"auto":0},transition:{duration:.2},className:"mt-3 overflow-hidden",children:t.jsxs("button",{onClick:e=>f(e,d),className:"w-full text-[10px] font-light lg:font-normal flex items-center justify-center bg-primary text-white lg:text-sm py-2 lg:py-3 px-4 rounded-full shadow-md hover:bg-primary-dark transition-all duration-300",children:[t.jsx("span",{className:"mr-2",children:"Agregar al carrito"}),t.jsx(i,{className:"w-3 h-3 lg:w-4 lg:h-4",strokeWidth:2})]})})]})]})}),t.jsx(a,{data:n,cart:x,setCart:m,modalOpen:h,setModalOpen:u})]})};export{n as C};

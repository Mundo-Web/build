var Is=Object.defineProperty;var qs=(c,v,f)=>v in c?Is(c,v,{enumerable:!0,configurable:!0,writable:!0,value:f}):c[v]=f;var Ka=(c,v,f)=>qs(c,typeof v!="symbol"?v+"":v,f);import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as n}from"./index-BOnQTV8N.js";import{L as Ss,A as As,G as Ts,M as Ds}from"./esm-CTRYOAnL.js";import{t as D,T as Es}from"./CardProductKatya-ncpmQ0JU.js";import{B as Xs}from"./Base-CHWft3X0.js";import{B as Fs}from"./BasicRest-BML1C-ua.js";import{C as Gs}from"./CreateReactScript-C-lKJ7Gs.js";import{c as Ms}from"./ReactAppend-QR5TrZfj.js";import{Q as K}from"./QuillFormGroup-BXX8qnUc.js";import{E as Os}from"./TinyMCEFormGroup-DMA_RSqT.js";import{G as Wa}from"./Global-Bz6gVLc5.js";import{G as Ls}from"./GalleryRest-Crk-WQDr.js";import{R as Rs}from"./RepositoryRest-DQfpKhV8.js";import{i as U}from"./tippy-react.esm-DmkRJDEW.js";import{T as Ya}from"./TextareaFormGroup-CliirJM1.js";import{l as I}from"./ShippingStep-C6i134TO.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";/* empty css              */import"./Logout-BpuTJ_83.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuItemContainer-DcxtOi47.js";import"./index.esm-C48oHfFw.js";import"./index-ngrFHoWO.js";import"./CanAccess-UkN68hbD.js";import"./BooleanLimit-D-OsQsek.js";/* empty css               */import"./General-CE1RDd44.js";import"./LaravelSession-Dz9cpV3l.js";import"./index-6sXrSHvL.js";import"./index-Chjiymov.js";class $s extends Fs{constructor(){super(...arguments);Ka(this,"path","admin/generals")}async updateVisibility(f){try{const q=this.path;this.path="admin/generals/visibility";const w=await this.save({updates:f});return this.path=q,w}catch(q){throw console.error("Error updating visibility:",q),q}}}const Us=({label:c,value:v,onChange:f,height:q=400,variables:w=[]})=>e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:c}),e.jsx(Os,{apiKey:Wa.API_KEY_TINYMCE,value:v,init:{height:q,plugins:["advlist","autolink","link","image","lists","charmap","preview","anchor","pagebreak","searchreplace","wordcount","visualblocks","visualchars","code","fullscreen","insertdatetime","media","table","emoticons","help"],toolbar:"undo redo | formatselect | bold italic underline forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media | table tabledelete tableprops tablerowprops tablecellprops | codesample code | removeformat | help",menubar:"file edit view insert format tools table help",image_advtab:!0,image_title:!0,relative_urls:!1,remove_script_host:!1,convert_urls:!0,automatic_uploads:!0,extended_valid_elements:"img[data-src|src|alt|style|width|height|class]",images_upload_handler:function(S){const j=new FormData;return j.append("file",S.blob()),fetch("/api/upload-image",{method:"POST",body:j}).then(m=>{if(!m.ok)throw new Error("Error en la subida");return m.json()}).then(m=>{if(m!=null&&m.location)return m.location;throw new Error("Respuesta inválida")}).catch(m=>{throw new Error("Error al subir la imagen: "+m.message)})},content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",setup:S=>{const j=m=>(m=m.replace(/src="[^"]*({{[^}]+}})"/g,'src="$1"'),m=m.replace(/src="[^"]*(https?:\/\/[^"}]+)"/g,'src="$1"'),m=m.replace(/href="[^"]*({{[^}]+}})"/g,'href="$1"'),m=m.replace(/href="[^"]*(https?:\/\/[^"}]+)"/g,'href="$1"'),m);S.on("BeforeSetContent",function(m){m.content&&typeof m.content=="string"&&(m.content=j(m.content))}),S.on("PostProcess",function(m){m.content&&typeof m.content=="string"&&(m.content=j(m.content))})}},onEditorChange:f}),w&&w.length>0&&e.jsxs("div",{className:"mt-1 small text-muted",children:["Variables disponibles: ",w.map(S=>e.jsx("code",{className:"me-1",children:"{{"+S+"}}"},S))]})]}),Hs=["places"],Ja=new $s,ae=new Ls,se=new Rs,Vs=({generals:c,allGenerals:v,session:f,hasRootRole:q})=>{var je,fe;n.useEffect(()=>{});const w=n.useCallback(()=>{var a;return typeof q<"u"?q:((a=f==null?void 0:f.roles)==null?void 0:a.some(l=>l.name==="Root"))||!1},[q,f]),S=n.useMemo(()=>c,[c]),j=n.useCallback(a=>S.some(l=>l.correlative===a),[S]),m={general:["address","cintillo","copyright","opening_hours","header_menu_order","excel_import_template","footer_description","footer_company_links"],email:["purchase_summary_email","order_status_changed_email","blog_published_email","claim_email","whistleblowing_email","password_changed_email","reset_password_email","subscription_email","verify_account_email","message_contact_email","admin_purchase_email","admin_contact_email","admin_claim_email","admin_whistleblowing_email","job_application_email","admin_job_application_email"],contact:["phone_contact","email_contact","support_phone","support_email","coorporative_email","whatsapp_advisors"],checkout:["checkout_culqi","checkout_culqi_name","checkout_culqi_public_key","checkout_culqi_private_key","checkout_culqi_rsa_id","checkout_culqi_rsa_public_key","checkout_culqi_supports_usd","checkout_culqi_commission","checkout_mercadopago","checkout_mercadopago_name","checkout_mercadopago_public_key","checkout_mercadopago_private_key","checkout_mercadopago_commission","checkout_openpay","checkout_openpay_name","checkout_openpay_merchant_id","checkout_openpay_public_key","checkout_openpay_private_key","checkout_openpay_commission","checkout_openpay_sandbox_mode","checkout_dwallet","checkout_dwallet_qr","checkout_dwallet_name","checkout_dwallet_description","checkout_dwallet_commission","checkout_transfer","transfer_accounts","checkout_transfer_cci","checkout_transfer_name","checkout_transfer_description","checkout_transfer_commission"],importation:["importation_flete","importation_seguro","importation_derecho_arancelario","importation_derecho_arancelario_descripcion"],policies:["privacy_policy","terms_conditions","delivery_policy","saleback_policy","politica_sistema_gestion","alcance_sistema_gestion"],location:["location"],shippingfree:["shipping_free","igv_checkout","currency","exchange_rate_usd_pen","additional_shipping_costs"],seo:["site_title","site_description","site_keywords","og_title","og_description","og_image","og_url","twitter_title","twitter_description","twitter_image","twitter_card","favicon","canonical_url","robots_additional_rules"],pixels:["google_analytics_id","google_tag_manager_id","facebook_pixel_id","google_ads_conversion_id","google_ads_conversion_label","tiktok_pixel_id","hotjar_id","clarity_id","linkedin_insight_tag","twitter_pixel_id","pinterest_tag_id","snapchat_pixel_id","custom_head_scripts","custom_body_scripts","atalaya_leads_api_key"],oauth:["google_client_id","google_client_secret","google_oauth_enabled"]},E=n.useCallback(a=>{const l=m[a];return l?l.some(i=>j(i)):!0},[j]),x=n.useMemo(()=>({correlative:a,children:l,fallback:i=null})=>j(a)?l:i,[j]);n.useCallback(a=>j(a),[j]);const te=((je=c.find(a=>a.correlative=="location"))==null?void 0:je.description)??"0,0",Qa=["purchase_summary_email","order_status_changed_email","blog_published_email","claim_email","whistleblowing_email","password_changed_email","reset_password_email","subscription_email","verify_account_email","message_contact_email","admin_purchase_email","admin_contact_email","admin_claim_email","admin_whistleblowing_email","job_application_email","admin_job_application_email"],H=n.useMemo(()=>c.filter(a=>a.correlative.endsWith("_email")&&a.correlative!=="support_email"&&a.correlative!=="coorporative_email"),[c]),[zs,Bs]=n.useState(!1),[T,le]=n.useState(""),[ie,ce]=n.useState({}),[re,Y]=n.useState(!1),[J,oe]=n.useState(null),[X,M]=n.useState(!1);n.useEffect(()=>{H.length>0&&!T&&le(H[0].correlative)},[H,T]);const[ne,z]=n.useState(!1),[F,de]=n.useState({}),[me,pe]=n.useState(!1),[ue,Za]=n.useState(null),[es,he]=n.useState("");n.useEffect(()=>{if(!T)return;const l={purchase_summary_email:"purchase_summary",order_status_changed_email:"order_status_changed",blog_published_email:"blog_published",claim_email:"claim",password_changed_email:"password_changed",reset_password_email:"password_reset",subscription_email:"subscription",verify_account_email:"verify_account"}[T];if(!l){ce({});return}Y(!0),oe(null),fetch(`/api/notification-variables/${l}`).then(i=>i.json()).then(i=>{ce(i.variables||{}),Y(!1)}).catch(i=>{oe("No se pudieron cargar las variables."),Y(!1)})},[T]),n.useEffect(()=>{if(w()){const a={};v&&v.length>0&&v.forEach(i=>{i&&i.correlative&&(a[i.correlative]=i.status===1||i.status==="1")}),["site_title","site_description","site_keywords","og_title","og_description","og_image","og_url","twitter_title","twitter_description","twitter_image","twitter_card","favicon","canonical_url"].forEach(i=>{i in a||(a[i]=!0)}),de(a)}},[v,w]);const xe=n.useCallback(a=>w()?!0:F[a]!==!1,[w,F]),N=n.useMemo(()=>({correlative:a,children:l,fallback:i=null})=>xe(a)?l:i,[xe]),[s,r]=n.useState(()=>{var a,l,i,o,p,u,g,C,P,G,O,L,R,Ne,ye,ke,Ce,we,Pe,Ie,qe,Se,Ae,Te,De,Ee,Xe,Fe,Ge,Me,Oe,Le,Re,$e,Ue,He,Ve,ze,Be,Ke,Ye,Je,We,Qe,Ze,ea,aa,sa,ta,la,ia,ca,ra,oa,na,da,ma,pa,ua,ha,xa,ba,va,_a,ga,ja,fa,Na,ya,ka,Ca,wa,Pa,Ia,qa,Sa,Aa,Ta,Da,Ea,Xa,Fa,Ga,Ma,Oa,La,Ra,$a,Ua,Ha,Va,za,Ba;return{email_templates:Object.fromEntries(Qa.map(t=>{const b=c.find($=>$.correlative===t);return[t,(b==null?void 0:b.description)??""]})),phones:((i=(l=(a=c.find(t=>t.correlative=="phone_contact"))==null?void 0:a.description)==null?void 0:l.split(","))==null?void 0:i.map(t=>t.trim()))??[""],emails:((u=(p=(o=c.find(t=>t.correlative=="email_contact"))==null?void 0:o.description)==null?void 0:p.split(","))==null?void 0:u.map(t=>t.trim()))??[""],cintillos:(()=>{const t=c.find(b=>b.correlative=="cintillo");if(!(t!=null&&t.description))return[];try{const b=JSON.parse(t.description);return Array.isArray(b)?b:[]}catch{return t.description.split(",").map($=>$.trim()).filter($=>$.length>0)}})(),copyright:((g=c.find(t=>t.correlative=="copyright"))==null?void 0:g.description)??"",address:((C=c.find(t=>t.correlative=="address"))==null?void 0:C.description)??"",openingHours:((P=c.find(t=>t.correlative=="opening_hours"))==null?void 0:P.description)??"",supportPhone:((G=c.find(t=>t.correlative=="support_phone"))==null?void 0:G.description)??"",supportEmail:((O=c.find(t=>t.correlative=="support_email"))==null?void 0:O.description)??"",coorporativeEmail:((L=c.find(t=>t.correlative=="coorporative_email"))==null?void 0:L.description)??"",privacyPolicy:((R=c.find(t=>t.correlative=="privacy_policy"))==null?void 0:R.description)??"",termsConditions:((Ne=c.find(t=>t.correlative=="terms_conditions"))==null?void 0:Ne.description)??"",deliveryPolicy:((ye=c.find(t=>t.correlative=="delivery_policy"))==null?void 0:ye.description)??"",salebackPolicy:((ke=c.find(t=>t.correlative=="saleback_policy"))==null?void 0:ke.description)??"",politicaSistemaGestion:((Ce=c.find(t=>t.correlative=="politica_sistema_gestion"))==null?void 0:Ce.description)??"",alcanceSistemaGestion:((we=c.find(t=>t.correlative=="alcance_sistema_gestion"))==null?void 0:we.description)??"",excelImportTemplate:((Pe=c.find(t=>t.correlative=="excel_import_template"))==null?void 0:Pe.description)??"",headerMenuOrder:((Ie=c.find(t=>t.correlative=="header_menu_order"))==null?void 0:Ie.description)??"",whatsappAdvisors:(()=>{const t=c.find(b=>b.correlative=="whatsapp_advisors");if(!(t!=null&&t.description))return[];try{const b=JSON.parse(t.description);return Array.isArray(b)?b:[]}catch{return[]}})(),igvCheckout:((qe=c.find(t=>t.correlative=="igv_checkout"))==null?void 0:qe.description)??"",shippingFree:((Se=c.find(t=>t.correlative=="shipping_free"))==null?void 0:Se.description)??"",currency:((Ae=c.find(t=>t.correlative=="currency"))==null?void 0:Ae.description)??"",exchange_rate_usd_pen:((Te=c.find(t=>t.correlative=="exchange_rate_usd_pen"))==null?void 0:Te.description)??"3.75",additional_shipping_costs:(()=>{const t=c.find(b=>b.correlative=="additional_shipping_costs");if(!(t!=null&&t.description))return[];try{const b=JSON.parse(t.description);return Array.isArray(b)?b:[]}catch{return[]}})(),location:{lat:Number(te.split(",").map(t=>t.trim())[0]),lng:Number(te.split(",").map(t=>t.trim())[1])},checkout_culqi:((De=c.find(t=>t.correlative=="checkout_culqi"))==null?void 0:De.description)??"",checkout_culqi_name:((Ee=c.find(t=>t.correlative=="checkout_culqi_name"))==null?void 0:Ee.description)??"",checkout_culqi_public_key:((Xe=c.find(t=>t.correlative=="checkout_culqi_public_key"))==null?void 0:Xe.description)??"",checkout_culqi_private_key:((Fe=c.find(t=>t.correlative=="checkout_culqi_private_key"))==null?void 0:Fe.description)??"",checkout_culqi_rsa_id:((Ge=c.find(t=>t.correlative=="checkout_culqi_rsa_id"))==null?void 0:Ge.description)??"",checkout_culqi_rsa_public_key:((Me=c.find(t=>t.correlative=="checkout_culqi_rsa_public_key"))==null?void 0:Me.description)??"",checkout_culqi_supports_usd:((Oe=c.find(t=>t.correlative=="checkout_culqi_supports_usd"))==null?void 0:Oe.description)??"false",checkout_culqi_commission:((Le=c.find(t=>t.correlative=="checkout_culqi_commission"))==null?void 0:Le.description)??"",checkout_mercadopago:((Re=c.find(t=>t.correlative=="checkout_mercadopago"))==null?void 0:Re.description)??"",checkout_mercadopago_name:(($e=c.find(t=>t.correlative=="checkout_mercadopago_name"))==null?void 0:$e.description)??"",checkout_mercadopago_public_key:((Ue=c.find(t=>t.correlative=="checkout_mercadopago_public_key"))==null?void 0:Ue.description)??"",checkout_mercadopago_private_key:((He=c.find(t=>t.correlative=="checkout_mercadopago_private_key"))==null?void 0:He.description)??"",checkout_mercadopago_commission:((Ve=c.find(t=>t.correlative=="checkout_mercadopago_commission"))==null?void 0:Ve.description)??"",checkout_openpay:((ze=c.find(t=>t.correlative=="checkout_openpay"))==null?void 0:ze.description)??"",checkout_openpay_name:((Be=c.find(t=>t.correlative=="checkout_openpay_name"))==null?void 0:Be.description)??"",checkout_openpay_merchant_id:((Ke=c.find(t=>t.correlative=="checkout_openpay_merchant_id"))==null?void 0:Ke.description)??"",checkout_openpay_public_key:((Ye=c.find(t=>t.correlative=="checkout_openpay_public_key"))==null?void 0:Ye.description)??"",checkout_openpay_private_key:((Je=c.find(t=>t.correlative=="checkout_openpay_private_key"))==null?void 0:Je.description)??"",checkout_openpay_commission:((We=c.find(t=>t.correlative=="checkout_openpay_commission"))==null?void 0:We.description)??"",checkout_openpay_sandbox_mode:((Qe=c.find(t=>t.correlative=="checkout_openpay_sandbox_mode"))==null?void 0:Qe.description)??"false",checkout_dwallet:((Ze=c.find(t=>t.correlative=="checkout_dwallet"))==null?void 0:Ze.description)??"",checkout_dwallet_qr:((ea=c.find(t=>t.correlative=="checkout_dwallet_qr"))==null?void 0:ea.description)??"",checkout_dwallet_name:((aa=c.find(t=>t.correlative=="checkout_dwallet_name"))==null?void 0:aa.description)??"",checkout_dwallet_description:((sa=c.find(t=>t.correlative=="checkout_dwallet_description"))==null?void 0:sa.description)??"",checkout_dwallet_commission:((ta=c.find(t=>t.correlative=="checkout_dwallet_commission"))==null?void 0:ta.description)??"",checkout_transfer:((la=c.find(t=>t.correlative=="checkout_transfer"))==null?void 0:la.description)??"",checkout_transfer_cci:((ia=c.find(t=>t.correlative=="checkout_transfer_cci"))==null?void 0:ia.description)??"",checkout_transfer_name:((ca=c.find(t=>t.correlative=="checkout_transfer_name"))==null?void 0:ca.description)??"",checkout_transfer_description:((ra=c.find(t=>t.correlative=="checkout_transfer_description"))==null?void 0:ra.description)??"",checkout_transfer_commission:((oa=c.find(t=>t.correlative=="checkout_transfer_commission"))==null?void 0:oa.description)??"",transfer_accounts:(na=c.find(t=>t.correlative=="transfer_accounts"))!=null&&na.description?JSON.parse((da=c.find(t=>t.correlative=="transfer_accounts"))==null?void 0:da.description):[{image:null,cc:"",cci:"",name:"",description:""}],importation_flete:((ma=c.find(t=>t.correlative=="importation_flete"))==null?void 0:ma.description)??"",importation_seguro:((pa=c.find(t=>t.correlative=="importation_seguro"))==null?void 0:pa.description)??"",importation_derecho_arancelario:((ua=c.find(t=>t.correlative=="importation_derecho_arancelario"))==null?void 0:ua.description)??"",importation_derecho_arancelario_descripcion:((ha=c.find(t=>t.correlative=="importation_derecho_arancelario_descripcion"))==null?void 0:ha.description)??"",googleAnalyticsId:((xa=c.find(t=>t.correlative=="google_analytics_id"))==null?void 0:xa.description)??"",googleTagManagerId:((ba=c.find(t=>t.correlative=="google_tag_manager_id"))==null?void 0:ba.description)??"",facebookPixelId:((va=c.find(t=>t.correlative=="facebook_pixel_id"))==null?void 0:va.description)??"",googleAdsConversionId:((_a=c.find(t=>t.correlative=="google_ads_conversion_id"))==null?void 0:_a.description)??"",googleAdsConversionLabel:((ga=c.find(t=>t.correlative=="google_ads_conversion_label"))==null?void 0:ga.description)??"",tiktokPixelId:((ja=c.find(t=>t.correlative=="tiktok_pixel_id"))==null?void 0:ja.description)??"",hotjarId:((fa=c.find(t=>t.correlative=="hotjar_id"))==null?void 0:fa.description)??"",clarityId:((Na=c.find(t=>t.correlative=="clarity_id"))==null?void 0:Na.description)??"",linkedinInsightTag:((ya=c.find(t=>t.correlative=="linkedin_insight_tag"))==null?void 0:ya.description)??"",twitterPixelId:((ka=c.find(t=>t.correlative=="twitter_pixel_id"))==null?void 0:ka.description)??"",pinterestTagId:((Ca=c.find(t=>t.correlative=="pinterest_tag_id"))==null?void 0:Ca.description)??"",snapchatPixelId:((wa=c.find(t=>t.correlative=="snapchat_pixel_id"))==null?void 0:wa.description)??"",customHeadScripts:((Pa=c.find(t=>t.correlative=="custom_head_scripts"))==null?void 0:Pa.description)??"",customBodyScripts:((Ia=c.find(t=>t.correlative=="custom_body_scripts"))==null?void 0:Ia.description)??"",atalayaLeadsApiKey:((qa=c.find(t=>t.correlative=="atalaya_leads_api_key"))==null?void 0:qa.description)??"",googleClientId:((Sa=c.find(t=>t.correlative=="google_client_id"))==null?void 0:Sa.description)??"",googleClientSecret:((Aa=c.find(t=>t.correlative=="google_client_secret"))==null?void 0:Aa.description)??"",googleOauthEnabled:((Ta=c.find(t=>t.correlative=="google_oauth_enabled"))==null?void 0:Ta.description)??"false",siteTitle:((Da=c.find(t=>t.correlative=="site_title"))==null?void 0:Da.description)??"",siteDescription:((Ea=c.find(t=>t.correlative=="site_description"))==null?void 0:Ea.description)??"",siteKeywords:((Xa=c.find(t=>t.correlative=="site_keywords"))==null?void 0:Xa.description)??"",ogTitle:((Fa=c.find(t=>t.correlative=="og_title"))==null?void 0:Fa.description)??"",ogDescription:((Ga=c.find(t=>t.correlative=="og_description"))==null?void 0:Ga.description)??"",ogImage:((Ma=c.find(t=>t.correlative=="og_image"))==null?void 0:Ma.description)??"",ogUrl:((Oa=c.find(t=>t.correlative=="og_url"))==null?void 0:Oa.description)??"",twitterTitle:((La=c.find(t=>t.correlative=="twitter_title"))==null?void 0:La.description)??"",twitterDescription:((Ra=c.find(t=>t.correlative=="twitter_description"))==null?void 0:Ra.description)??"",twitterImage:(($a=c.find(t=>t.correlative=="twitter_image"))==null?void 0:$a.description)??"",twitterCard:((Ua=c.find(t=>t.correlative=="twitter_card"))==null?void 0:Ua.description)??"summary_large_image",favicon:((Ha=c.find(t=>t.correlative=="favicon"))==null?void 0:Ha.description)??"",canonicalUrl:((Va=c.find(t=>t.correlative=="canonical_url"))==null?void 0:Va.description)??"",robotsAdditionalRules:((za=c.find(t=>t.correlative=="robots_additional_rules"))==null?void 0:za.description)??"",footerDescription:((Ba=c.find(t=>t.correlative=="footer_description"))==null?void 0:Ba.description)??"",footerCompanyLinks:(()=>{var t;try{const b=(t=c.find(V=>V.correlative=="footer_company_links"))==null?void 0:t.description;return(b?JSON.parse(b):[]).map(V=>({...V,visible:V.visible!==void 0?V.visible:!0}))}catch{return[]}})()}}),as=n.useCallback(a=>{r(l=>({...l,email_templates:{...l.email_templates,[T]:a}}))},[T]),d=n.useCallback((a,l)=>{r(i=>({...i,[a]:l}))},[]),A=n.useCallback((a,l)=>{r(i=>({...i,[a]:String(l)}))},[]);n.useCallback((a,l,i)=>{r(o=>({...o,[a]:{...o[a],[l]:i}}))},[]);const ss=n.useCallback(a=>{d("copyright",a.target.value)},[d]),ts=n.useCallback(a=>{d("address",a.target.value)},[d]),ls=n.useCallback(a=>{d("openingHours",a.target.value)},[d]);n.useCallback(a=>{d("supportPhone",a.target.value)},[d]);const is=n.useCallback(a=>{d("coorporativeEmail",a.target.value)},[d]),cs=n.useCallback(a=>{d("supportEmail",a.target.value)},[d]);n.useCallback(a=>{d("phoneWhatsapp",a.target.value)},[d]),n.useCallback(a=>{d("messageWhatsapp",a.target.value)},[d]);const rs=n.useCallback(a=>{A("checkout_culqi",a.target.checked)},[A]),os=n.useCallback(a=>{A("checkout_mercadopago",a.target.checked)},[A]),ns=n.useCallback(a=>{A("checkout_openpay",a.target.checked)},[A]),ds=n.useCallback(a=>{d("checkout_openpay_name",a.target.value)},[d]),ms=n.useCallback(a=>{d("checkout_openpay_merchant_id",a.target.value)},[d]),ps=n.useCallback(a=>{d("checkout_openpay_public_key",a.target.value)},[d]),us=n.useCallback(a=>{d("checkout_openpay_private_key",a.target.value)},[d]);n.useCallback(a=>{A("checkout_dwallet",a.target.checked)},[A]),n.useCallback(a=>{A("checkout_transfer",a.target.checked)},[A]);const hs=n.useCallback(a=>{d("checkout_culqi_name",a.target.value)},[d]),xs=n.useCallback(a=>{d("checkout_culqi_public_key",a.target.value)},[d]),bs=n.useCallback(a=>{d("checkout_culqi_private_key",a.target.value)},[d]),vs=n.useCallback(a=>{d("checkout_culqi_rsa_id",a.target.value)},[d]),_s=n.useCallback(a=>{d("checkout_culqi_rsa_public_key",a.target.value)},[d]),[h,y]=n.useState("general"),[gs,be]=n.useState(!1),[B,W]=n.useState(null),[_,k]=n.useState({text:"",enabled:!0,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}}),Q=a=>{de(l=>({...l,[a]:!l[a]}))},js=async()=>{pe(!0);try{if(Object.keys(F).length===0){D.error("No hay campos para actualizar");return}const a=Object.entries(F).map(([i,o])=>({correlative:i,status:o?1:0})),l=await Ja.updateVisibility(a);l.success?(z(!1),setTimeout(()=>{window.location.reload()},1e3)):D.error(l.message||"Error al actualizar la visibilidad de campos")}catch(a){console.error("Error details:",a),D.error("Error al actualizar la visibilidad de campos: "+a.message)}finally{pe(!1)}},ve=(a,l,i)=>{const{value:o}=a.target,p=[...s[i]];p[l]=o,r(u=>({...u,[i]:p}))},_e=a=>{if(a==="cintillos"){const l={text:"",enabled:!0,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}};r(i=>({...i,[a]:[...i[a],l]}))}else r(l=>({...l,[a]:[...l[a],""]}))},Z=(a,l)=>{const i=[...s[l]];i.splice(a,1),r(o=>({...o,[l]:i}))},ge=(a=null)=>{if(a!==null){const l=s.cintillos[a];k(typeof l=="string"?{text:l,enabled:!0,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}}:l),W(a)}else k({text:"",enabled:!0,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}}),W(null);be(!0)},ee=()=>{be(!1),W(null),k({text:"",enabled:!0,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}})},fs=()=>{if(!_.text.trim()){alert("Por favor ingresa el texto del cintillo");return}const a=[...s.cintillos];B!==null?a[B]=_:a.push(_),r({...s,cintillos:a}),ee()},Ns=a=>{const l=typeof a=="string"?a:a.text;if(!(typeof a=="string"?!0:a.enabled!==!1)||!(l!=null&&l.trim()))return{status:"Inactivo",class:"badge bg-secondary"};if(typeof a=="string")return{status:"Activo",class:"badge bg-success"};if(!a.schedule)return{status:"Activo",class:"badge bg-success"};const o=new Date,p=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][o.getDay()],u=a.schedule[p];if(!u||!u.enabled)return{status:"Programado (Día no habilitado)",class:"badge bg-warning"};const g=o.toTimeString().slice(0,5),C=u.start||"00:00",P=u.end||"23:59",G=parseInt(g.split(":")[0])*60+parseInt(g.split(":")[1]),O=parseInt(C.split(":")[0])*60+parseInt(C.split(":")[1]),L=parseInt(P.split(":")[0])*60+parseInt(P.split(":")[1]);let R;return L<O?R=G>=O||G<=L:R=G>=O&&G<=L,R?{status:"Activo Ahora",class:"badge bg-success"}:{status:"Programado (Fuera de horario)",class:"badge bg-warning"}},ys=a=>{if(typeof a=="string"||!a.schedule)return"Todos los días, todo el día";const l={monday:"Lun",tuesday:"Mar",wednesday:"Mié",thursday:"Jue",friday:"Vie",saturday:"Sáb",sunday:"Dom"},i=Object.entries(a.schedule).filter(([o,p])=>p.enabled).map(([o])=>l[o]);return i.length===0?"Ningún día":i.length===7?"Todos los días":i.join(", ")},ks=a=>{r(l=>({...l,location:{lat:a.latLng.lat(),lng:a.latLng.lng()}}))},Cs=a=>{Za(a)},ws=()=>{if(ue!==null){const a=ue.getPlace();if(a.geometry&&a.geometry.location){const l={lat:a.geometry.location.lat(),lng:a.geometry.location.lng()};r(i=>({...i,location:l})),he(a.formatted_address||a.name||"")}}},Ps=async a=>{if(a.preventDefault(),X)return;M(!0);const l=[...Object.keys(s.email_templates).map(i=>{var o;return{correlative:i,name:((o=H.find(p=>p.correlative===i))==null?void 0:o.name)||i,description:s.email_templates[i]||""}}),{correlative:"phone_contact",name:"Teléfono de contacto",description:s.phones.join(",")},{correlative:"email_contact",name:"Correo de contacto",description:s.emails.join(",")},{correlative:"address",name:"Dirección",description:s.address||""},{correlative:"cintillo",name:"Cintillo",description:JSON.stringify(s.cintillos)},{correlative:"copyright",name:"Copyright",description:s.copyright||""},{correlative:"opening_hours",name:"Horarios de atención",description:s.openingHours||""},{correlative:"footer_description",name:"Descripción del Footer",description:s.footerDescription||""},{correlative:"footer_company_links",name:"Enlaces de Empresa (Footer)",description:JSON.stringify(s.footerCompanyLinks||[])},{correlative:"support_phone",name:"Número de soporte",description:s.supportPhone||""},{correlative:"support_email",name:"Correo de soporte",description:s.supportEmail||""},{correlative:"coorporative_email",name:"Correo corporativo",description:s.coorporativeEmail||""},{correlative:"privacy_policy",name:"Política de privacidad",description:s.privacyPolicy||""},{correlative:"terms_conditions",name:"Términos y condiciones",description:s.termsConditions||""},{correlative:"delivery_policy",name:"Políticas de envío",description:s.deliveryPolicy||""},{correlative:"saleback_policy",name:"Políticas de devolucion y cambio",description:s.salebackPolicy||""},{correlative:"politica_sistema_gestion",name:"Política del sistema de Gestión",description:s.politicaSistemaGestion||""},{correlative:"alcance_sistema_gestion",name:"Alcance del sistema de Gestión",description:s.alcanceSistemaGestion||""},{correlative:"excel_import_template",name:"Plantilla de Importación Excel",description:s.excelImportTemplate||""},{correlative:"header_menu_order",name:"Orden del Menú del Header",description:s.headerMenuOrder||""},{correlative:"whatsapp_advisors",name:"Asesores de WhatsApp",description:JSON.stringify(s.whatsappAdvisors||[])},{correlative:"igv_checkout",name:"IGV en el checkout",description:s.igvCheckout||""},{correlative:"currency",name:"Moneda",description:s.currency||""},{correlative:"exchange_rate_usd_pen",name:"Tipo de Cambio USD a PEN",description:s.exchange_rate_usd_pen||"3.75"},{correlative:"shipping_free",name:"Envio gratis a partir de",description:s.shippingFree||""},{correlative:"importation_flete",name:"Flete",description:s.importation_flete||""},{correlative:"importation_seguro",name:"Seguro",description:s.importation_seguro||""},{correlative:"importation_derecho_arancelario",name:"Derecho arancelario",description:s.importation_derecho_arancelario||""},{correlative:"importation_derecho_arancelario_descripcion",name:"Descripción derecho arancelario",description:s.importation_derecho_arancelario_descripcion||""},{correlative:"checkout_culqi",name:"Habilitar Culqi",description:s.checkout_culqi||""},{correlative:"checkout_culqi_name",name:"Nombre de la cuenta de Culqi",description:s.checkout_culqi_name||""},{correlative:"checkout_culqi_public_key",name:"Llave pública de Culqi",description:s.checkout_culqi_public_key||""},{correlative:"checkout_culqi_private_key",name:"Llave privada de Culqi",description:s.checkout_culqi_private_key||""},{correlative:"checkout_culqi_rsa_id",name:"RSA ID de Culqi",description:s.checkout_culqi_rsa_id||""},{correlative:"checkout_culqi_rsa_public_key",name:"RSA Public Key de Culqi",description:s.checkout_culqi_rsa_public_key||""},{correlative:"checkout_culqi_supports_usd",name:"Culqi soporta USD",description:s.checkout_culqi_supports_usd||"false"},{correlative:"checkout_culqi_commission",name:"Comisión Culqi (%)",description:s.checkout_culqi_commission||""},{correlative:"checkout_mercadopago",name:"Habilitar Mercadopago",description:s.checkout_mercadopago||""},{correlative:"checkout_mercadopago_name",name:"Nombre de la cuenta de Mercadopago",description:s.checkout_mercadopago_name||""},{correlative:"checkout_mercadopago_public_key",name:"Llave pública de Mercadopago",description:s.checkout_mercadopago_public_key||""},{correlative:"checkout_mercadopago_private_key",name:"Llave privada de Mercadopago",description:s.checkout_mercadopago_private_key||""},{correlative:"checkout_mercadopago_commission",name:"Comisión MercadoPago (%)",description:s.checkout_mercadopago_commission||""},{correlative:"checkout_openpay",name:"Habilitar OpenPay",description:s.checkout_openpay||""},{correlative:"checkout_openpay_name",name:"Nombre de la cuenta de OpenPay",description:s.checkout_openpay_name||""},{correlative:"checkout_openpay_merchant_id",name:"Merchant ID de OpenPay",description:s.checkout_openpay_merchant_id||""},{correlative:"checkout_openpay_public_key",name:"Llave pública de OpenPay",description:s.checkout_openpay_public_key||""},{correlative:"checkout_openpay_private_key",name:"Llave privada de OpenPay",description:s.checkout_openpay_private_key||""},{correlative:"checkout_openpay_commission",name:"Comisión OpenPay (%)",description:s.checkout_openpay_commission||""},{correlative:"checkout_openpay_sandbox_mode",name:"Modo Sandbox OpenPay",description:s.checkout_openpay_sandbox_mode||"false"},{correlative:"checkout_dwallet",name:"Habilitar Yape/Plin",description:s.checkout_dwallet||""},{correlative:"checkout_dwallet_qr",name:"QR Yape/Plin",description:s.checkout_dwallet_qr||""},{correlative:"checkout_dwallet_name",name:"Título Yape/Plin",description:s.checkout_dwallet_name||""},{correlative:"checkout_dwallet_description",name:"Descripción Yape/Plin",description:s.checkout_dwallet_description||""},{correlative:"checkout_dwallet_commission",name:"Comisión Yape/Plin (%)",description:s.checkout_dwallet_commission||""},{correlative:"checkout_transfer",name:"Habilitar Transferencia",description:s.checkout_transfer||""},{correlative:"transfer_accounts",name:"Cuentas Bancarias para Transferencia",description:JSON.stringify(s.transfer_accounts)},{correlative:"checkout_transfer_cci",name:"CCI Transferencia",description:s.checkout_transfer_cci||""},{correlative:"checkout_transfer_name",name:"Nombre Transferencia",description:s.checkout_transfer_name||""},{correlative:"checkout_transfer_description",name:"Descripción Transferencia",description:s.checkout_transfer_description||""},{correlative:"checkout_transfer_commission",name:"Comisión Transferencia (%)",description:s.checkout_transfer_commission||""},{correlative:"location",name:"Ubicación",description:`${s.location.lat},${s.location.lng}`},{correlative:"google_analytics_id",name:"Google Analytics ID",description:s.googleAnalyticsId||""},{correlative:"google_tag_manager_id",name:"Google Tag Manager ID",description:s.googleTagManagerId||""},{correlative:"facebook_pixel_id",name:"Facebook Pixel ID",description:s.facebookPixelId||""},{correlative:"google_ads_conversion_id",name:"Google Ads Conversion ID",description:s.googleAdsConversionId||""},{correlative:"google_ads_conversion_label",name:"Google Ads Conversion Label",description:s.googleAdsConversionLabel||""},{correlative:"tiktok_pixel_id",name:"TikTok Pixel ID",description:s.tiktokPixelId||""},{correlative:"hotjar_id",name:"Hotjar ID",description:s.hotjarId||""},{correlative:"clarity_id",name:"Microsoft Clarity ID",description:s.clarityId||""},{correlative:"linkedin_insight_tag",name:"LinkedIn Insight Tag ID",description:s.linkedinInsightTag||""},{correlative:"twitter_pixel_id",name:"Twitter Pixel ID",description:s.twitterPixelId||""},{correlative:"pinterest_tag_id",name:"Pinterest Tag ID",description:s.pinterestTagId||""},{correlative:"snapchat_pixel_id",name:"Snapchat Pixel ID",description:s.snapchatPixelId||""},{correlative:"custom_head_scripts",name:"Scripts Personalizados (Head)",description:s.customHeadScripts||""},{correlative:"custom_body_scripts",name:"Scripts Personalizados (Body)",description:s.customBodyScripts||""},{correlative:"atalaya_leads_api_key",name:"Atalaya Leads API Key",description:s.atalayaLeadsApiKey||""},{correlative:"google_client_id",name:"Google Client ID",description:s.googleClientId||""},{correlative:"google_client_secret",name:"Google Client Secret",description:s.googleClientSecret||""},{correlative:"google_oauth_enabled",name:"Habilitar Google OAuth",description:s.googleOauthEnabled||""},{correlative:"checkout_culqi",name:"Habilitar Culqi",description:s.checkout_culqi||""},{correlative:"checkout_culqi_name",name:"Nombre de la cuenta de Culqi",description:s.checkout_culqi_name||""},{correlative:"checkout_culqi_public_key",name:"Llave pública de Culqi",description:s.checkout_culqi_public_key||""},{correlative:"checkout_culqi_private_key",name:"Llave privada de Culqi",description:s.checkout_culqi_private_key||""},{correlative:"site_title",name:"Título del Sitio",description:s.siteTitle||""},{correlative:"site_description",name:"Descripción del Sitio",description:s.siteDescription||""},{correlative:"site_keywords",name:"Palabras Clave",description:s.siteKeywords||""},{correlative:"og_title",name:"Título Open Graph",description:s.ogTitle||""},{correlative:"og_description",name:"Descripción Open Graph",description:s.ogDescription||""},{correlative:"og_image",name:"Imagen Open Graph",description:s.ogImage||""},{correlative:"og_url",name:"URL Open Graph",description:s.ogUrl||""},{correlative:"twitter_title",name:"Título Twitter",description:s.twitterTitle||""},{correlative:"twitter_description",name:"Descripción Twitter",description:s.twitterDescription||""},{correlative:"twitter_image",name:"Imagen Twitter",description:s.twitterImage||""},{correlative:"twitter_card",name:"Tipo Twitter Card",description:s.twitterCard||"summary_large_image"},{correlative:"favicon",name:"Favicon",description:s.favicon||""},{correlative:"canonical_url",name:"URL Canónica",description:s.canonicalUrl||""},{correlative:"robots_additional_rules",name:"Reglas Adicionales robots.txt",description:s.robotsAdditionalRules||""},{correlative:"additional_shipping_costs",name:"Costos Adicionales de Envío",description:JSON.stringify(s.additional_shipping_costs||[])}];try{const i=await Ja.save(l)}catch(i){console.error("Error al guardar los datos:",i)}finally{M(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"card",children:[w()&&e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsx("h4",{className:"card-title mb-0",children:"Configuración General"}),e.jsxs("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>z(!0),children:[e.jsx("i",{className:"fas fa-eye me-1"}),"Gestionar Visibilidad"]})]}),e.jsxs("form",{className:"card-body",onSubmit:Ps,children:[e.jsxs("ul",{className:"nav nav-tabs",id:"contactTabs",role:"tablist",children:[e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="general"?"active":""}`,onClick:()=>y("general"),type:"button",role:"tab",children:"Configuración general"})}),E("contact")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="contact"?"active":""}`,onClick:()=>y("contact"),type:"button",role:"tab",children:"Información de Contacto"})}),E("checkout")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="checkout"?"active":""}`,onClick:()=>y("checkout"),type:"button",role:"tab",children:"Métodos de Pago"})}),E("importation")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="importation"?"active":""}`,onClick:()=>y("importation"),type:"button",role:"tab",children:"Cálculos de importación"})}),E("policies")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="policies"?"active":""}`,onClick:()=>y("policies"),type:"button",role:"tab",children:"Políticas y Términos"})}),e.jsx(x,{correlative:"cintillo",children:e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="cintillos"?"active":""}`,onClick:()=>y("cintillos"),type:"button",role:"tab",children:"Gestionar Cintillos"})})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="location"?"active":""}`,onClick:()=>y("location"),type:"button",role:"tab",children:"Ubicación"})}),E("email")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="email"?"active":""}`,onClick:()=>y("email"),type:"button",role:"tab",children:"Email"})}),E("shippingfree")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="shippingfree"?"active":""}`,onClick:()=>y("shippingfree"),type:"button",role:"tab",children:"Envio y Facturación"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="seo"?"active":""}`,onClick:()=>y("seo"),type:"button",role:"tab",children:"SEO & Meta Tags"})}),E("pixels")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="pixels"?"active":""}`,onClick:()=>y("pixels"),type:"button",role:"tab",children:"Píxeles & Analytics"})}),E("oauth")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${h==="oauth"?"active":""}`,onClick:()=>y("oauth"),type:"button",role:"tab",children:"OAuth & Autenticación"})})]}),e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:`tab-pane fade ${h==="email"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"email_correlative",className:"form-label",children:"Tipo de Email"}),e.jsx("select",{id:"email_correlative",className:"form-select mb-3",value:T,onChange:a=>le(a.target.value),children:H.map(a=>e.jsx("option",{value:a.correlative,children:a.name||a.correlative},a.correlative))}),e.jsx(Us,{height:600,label:e.jsxs(e.Fragment,{children:["Plantilla de Email (HTML seguro, variables: ",e.jsx("code",{children:"{{variable}}"}),")",e.jsxs("small",{className:"d-block text-muted",children:["No se permite código PHP ni Blade. Solo variables seguras.",e.jsx("br",{}),re&&e.jsx("span",{children:"Cargando variables..."}),J&&e.jsx("span",{className:"text-danger",children:J}),!re&&!J&&e.jsxs(e.Fragment,{children:[e.jsx("b",{children:"Variables disponibles:"})," ",Object.keys(ie).length===0?e.jsx("span",{children:"No hay variables para esta notificación."}):Object.entries(ie).map(([a,l])=>e.jsxs("span",{style:{display:"inline-block",marginRight:8},children:[e.jsx("code",{children:`{{${a}}}`})," ",e.jsxs("span",{className:"text-muted",children:["(",l,")"]})," "]},a))]})]})]}),value:s.email_templates[T]||"",onChange:as})]})}),e.jsxs("div",{className:`tab-pane fade ${h==="general"?"show active":""}`,role:"tabpanel",children:[e.jsxs("div",{className:"row",children:[e.jsx(x,{correlative:"cintillo",children:e.jsx("div",{className:"col-md-6 mb-2",children:e.jsxs("div",{className:"alert alert-info",children:[e.jsxs("h6",{children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"Gestión de Cintillos"]}),e.jsx("p",{className:"mb-2",children:"Los cintillos se han movido a una pestaña dedicada para una mejor organización."}),e.jsxs("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>y("cintillos"),children:[e.jsx("i",{className:"fas fa-cog me-1"}),"Ir a Gestionar Cintillos"]})]})})}),e.jsx(x,{correlative:"copyright",children:e.jsxs("div",{className:`mb-2 ${j("cintillo")?"col-md-6 ":"col-md-12 "}`,children:[e.jsx("label",{htmlFor:"copyright",className:"form-label",children:"Copyright"}),e.jsx("textarea",{className:"form-control",id:"copyright",value:s.copyright,onChange:ss})]})})]}),j("address")&&e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"address",className:"form-label",children:"Dirección"}),e.jsx("textarea",{className:"form-control",id:"address",value:s.address,onChange:ts,required:!0})]}),e.jsx(x,{correlative:"opening_hours",children:e.jsx("div",{className:"mb-2",children:e.jsx(Ya,{label:"Horarios de atencion",onChange:ls,value:s.openingHours,required:!0})})}),e.jsx(x,{correlative:"excel_import_template",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{className:"form-label",children:[e.jsx("i",{className:"fas fa-file-excel me-2 text-success"}),"Plantilla de Importación de Productos (Excel)"]}),s.excelImportTemplate?e.jsxs("div",{className:"position-relative",children:[e.jsx(U,{content:"Eliminar plantilla",children:e.jsx("button",{type:"button",className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px",zIndex:10},onClick:()=>{r({...s,excelImportTemplate:""})},children:e.jsx("i",{className:"mdi mdi-delete"})})}),e.jsxs("div",{className:"d-flex align-items-center p-3 border rounded bg-light",children:[e.jsx("i",{className:"mdi mdi-file-excel text-success me-2",style:{fontSize:"2rem"}}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("strong",{children:"Plantilla Excel cargada"}),e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:s.excelImportTemplate})]}),e.jsxs("a",{href:`/cloud/${s.excelImportTemplate}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-success",download:!0,children:[e.jsx("i",{className:"mdi mdi-download"})," Descargar"]})]})]}):e.jsx("input",{type:"file",className:"form-control",accept:".xlsx,.xls",onChange:async a=>{const l=a.target.files[0];if(!l)return;if(!l.name.match(/\.(xlsx|xls)$/i)){alert("Por favor, selecciona solo archivos Excel (.xlsx o .xls)"),a.target.value=null;return}a.target.value=null;const i=new FormData;i.append("file",l),i.append("name","plantilla-importacion-productos.xlsx");const o=await se.save(i);o&&r({...s,excelImportTemplate:o.file})}}),e.jsx("small",{className:"text-muted",children:"Esta plantilla se descargará desde el modal de importación en Items. Solo archivos Excel (.xlsx, .xls)"})]})}),e.jsx(x,{correlative:"header_menu_order",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{className:"form-label",children:[e.jsx("i",{className:"fas fa-bars me-2"}),"Orden del Menú del Header"]}),e.jsx("input",{type:"text",className:"form-control",value:s.headerMenuOrder,onChange:a=>d("headerMenuOrder",a.target.value),placeholder:"Ej: Maquinarias,Grúas,Servicios,Nosotros"}),e.jsx("small",{className:"text-muted",children:"Nombres de categorías y páginas separados por comas. Use los nombres exactos como aparecen en el menú."})]})}),e.jsx(x,{correlative:"footer_description",children:e.jsx("div",{className:"mb-2",children:e.jsx(Ya,{label:"Descripción del Footer",onChange:a=>d("footerDescription",a.target.value),value:s.footerDescription,placeholder:"Descripción que aparecerá en el footer del sitio web",rows:3})})}),e.jsx(x,{correlative:"footer_company_links",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{className:"form-label d-block",children:[e.jsx("i",{className:"fas fa-link me-2"}),"Enlaces de Empresa (Footer)"]}),s.footerCompanyLinks.map((a,l)=>e.jsx("div",{className:"card mb-2",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-5 mb-2",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Nombre del enlace",value:a.name||"",onChange:i=>{const o=[...s.footerCompanyLinks];o[l]={...o[l],name:i.target.value},d("footerCompanyLinks",o)}})}),e.jsx("div",{className:"col-md-6 mb-2",children:e.jsx("input",{type:"text",className:"form-control",placeholder:"URL del enlace (ej: /nosotros)",value:a.href||"",onChange:i=>{const o=[...s.footerCompanyLinks];o[l]={...o[l],href:i.target.value},d("footerCompanyLinks",o)}})}),e.jsxs("div",{className:"col-md-1 d-flex gap-1",children:[e.jsx("button",{type:"button",className:`btn btn-sm flex-fill ${a.visible!==!1?"btn-success":"btn-secondary"}`,onClick:()=>{const i=[...s.footerCompanyLinks];i[l]={...i[l],visible:a.visible===!1},d("footerCompanyLinks",i)},title:a.visible!==!1?"Visible":"Oculto",children:e.jsx("i",{className:`fa ${a.visible!==!1?"fa-eye":"fa-eye-slash"}`})}),e.jsx("button",{type:"button",className:"btn btn-danger btn-sm flex-fill",onClick:()=>{const i=s.footerCompanyLinks.filter((o,p)=>p!==l);d("footerCompanyLinks",i)},children:e.jsx("i",{className:"fa fa-trash"})})]})]})})},l)),e.jsxs("button",{type:"button",className:"btn btn-outline-primary d-bolck",onClick:()=>{const a=[...s.footerCompanyLinks,{name:"",href:"",visible:!0}];d("footerCompanyLinks",a)},children:[e.jsx("i",{className:"fa fa-plus me-1"}),"Agregar enlace"]}),e.jsx("small",{className:"text-muted d-block mt-2",children:"Estos enlaces aparecerán en la sección del footer"})]})})]}),e.jsxs("div",{className:`tab-pane fade ${h==="contact"?"show active":""}`,role:"tabpanel",children:[e.jsxs("div",{className:"row mb-2",children:[e.jsx(x,{correlative:"phone_contact",children:e.jsxs("div",{className:"col-md-6",children:[s.phones.map((a,l)=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:`phone-${l}`,className:"form-label",children:["Teléfono ",l+1]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"tel",className:"form-control",id:`phone-${l}`,value:a,onChange:i=>ve(i,l,"phones"),required:!0}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>Z(l,"phones"),children:e.jsx("i",{className:"fa fa-trash"})})]})]},`phone-${l}`)),e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>_e("phones"),children:"Agregar teléfono"})]})}),e.jsx(x,{correlative:"email_contact",children:e.jsxs("div",{className:"col-md-6",children:[s.emails.map((a,l)=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:`email-${l}`,className:"form-label",children:["Correo ",l+1]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",id:`email-${l}`,value:a,onChange:i=>ve(i,l,"emails"),required:!0}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>Z(l,"emails"),children:e.jsx("i",{className:"fa fa-trash"})})]})]},`email-${l}`)),e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>_e("emails"),children:"Agregar correo"})]})})]}),e.jsx(x,{correlative:"support_phone",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"supportPhone",className:"form-label",children:"Número de soporte"}),e.jsx("input",{type:"tel",className:"form-control",id:"supportPhone",value:s.supportPhone,onChange:a=>r({...s,supportPhone:a.target.value}),required:!0})]})}),e.jsx(x,{correlative:"coorporative_email",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"coorporativeEmail",className:"form-label",children:"Correo corporativo (aquí llegaran los emails  salientes)"}),e.jsx("input",{type:"email",className:"form-control",id:"coorporativeEmail",value:s.coorporativeEmail,onChange:is})]})}),e.jsx(x,{correlative:"support_email",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"supportEmail",className:"form-label",children:"Correo de soporte"}),e.jsx("input",{type:"email",className:"form-control",id:"supportEmail",value:s.supportEmail,onChange:cs,required:!0})]})}),e.jsxs("div",{className:"card mt-3",style:{backgroundColor:"#e3f2fd",padding:"16px"},children:[e.jsxs("h6",{className:"mb-3",children:[e.jsx("i",{className:"mdi mdi-account-multiple me-2"}),"Asesores de WhatsApp"]}),e.jsx("p",{className:"text-muted small mb-3",children:"Agrega múltiples asesores. Si hay más de uno, se mostrará un modal para que el cliente elija."}),(fe=s.whatsappAdvisors)==null?void 0:fe.map((a,l)=>e.jsxs("div",{className:"card mb-3",style:{padding:"12px",backgroundColor:"#fff"},children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsxs("h6",{className:"mb-0",children:["Asesor #",l+1]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>{const i=s.whatsappAdvisors.filter((o,p)=>p!==l);r({...s,whatsappAdvisors:i})},children:e.jsx("i",{className:"mdi mdi-delete"})})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-2",children:[e.jsx("label",{className:"form-label small",children:"Nombre del Asesor"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Ej: Romer Palacio",value:a.name||"",onChange:i=>{const o=[...s.whatsappAdvisors];o[l].name=i.target.value,r({...s,whatsappAdvisors:o})}})]}),e.jsxs("div",{className:"col-md-6 mb-2",children:[e.jsx("label",{className:"form-label small",children:"Puesto/Cargo"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Ej: Asesor de Ventas",value:a.position||"",onChange:i=>{const o=[...s.whatsappAdvisors];o[l].position=i.target.value,r({...s,whatsappAdvisors:o})}})]}),e.jsxs("div",{className:"col-md-6 mb-2",children:[e.jsx("label",{className:"form-label small",children:"Número de WhatsApp"}),e.jsx("input",{type:"tel",className:"form-control form-control-sm",placeholder:"+51999999999",value:a.phone||"",onChange:i=>{const o=[...s.whatsappAdvisors];o[l].phone=i.target.value,r({...s,whatsappAdvisors:o})}})]}),e.jsxs("div",{className:"col-md-6 mb-2",children:[e.jsx("label",{className:"form-label small",children:"Mensaje Inicial"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"¡Hola! Necesito información",value:a.message||"",onChange:i=>{const o=[...s.whatsappAdvisors];o[l].message=i.target.value,r({...s,whatsappAdvisors:o})}})]}),e.jsxs("div",{className:"col-12 mb-2",children:[e.jsx("label",{className:"form-label small",children:"Foto del Asesor"}),a.photo?e.jsxs("div",{className:"position-relative ",children:[e.jsx(U,{content:"Eliminar foto",children:e.jsx("button",{type:"button",className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px",zIndex:10},onClick:()=>{const i=[...s.whatsappAdvisors];i[l].photo=null,r({...s,whatsappAdvisors:i})},children:e.jsx("i",{className:"mdi mdi-delete"})})}),e.jsx("img",{src:`/assets/resources/${a.photo}`,alt:a.name,className:"img-thumbnail",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"50%"}})]}):e.jsx("input",{type:"file",className:"form-control form-control-sm",accept:"image/*",onChange:async i=>{const o=i.target.files[0];if(!o)return;i.target.value=null;const p=o.name.split(".").pop(),u=`whatsapp-advisor-${l+1}.${p}`,g=new FormData;if(g.append("image",o),g.append("name",u),!await ae.save(g))return;const P=[...s.whatsappAdvisors];P[l].photo=u,r({...s,whatsappAdvisors:P})}})]})]})]},l)),e.jsxs("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>{const a=[...s.whatsappAdvisors||[],{name:"",phone:"",message:"",photo:null,position:""}];r({...s,whatsappAdvisors:a})},children:[e.jsx("i",{className:"mdi mdi-plus me-1"}),"Agregar Asesor"]})]})]}),e.jsx("div",{className:`tab-pane fade ${h==="checkout"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"nav flex-column nav-pills nav-pills-tab",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[I.some(c,a=>a.correlative==="checkout_culqi")&&e.jsx("a",{className:"nav-link active show mb-1",id:"v-culqi-tab","data-bs-toggle":"pill",href:"#v-culqi",role:"tab","aria-controls":"v-culqi","aria-selected":"true",children:"Culqi"}),I.some(c,a=>a.correlative==="checkout_mercadopago")&&e.jsx("a",{className:"nav-link mb-1",id:"v-mercadopago-tab","data-bs-toggle":"pill",href:"#v-mercadopago",role:"tab","aria-controls":"v-mercadopago","aria-selected":"false",children:"Mercado Pago"}),I.some(c,a=>a.correlative==="checkout_openpay")&&e.jsx("a",{className:"nav-link mb-1",id:"v-openpay-tab","data-bs-toggle":"pill",href:"#v-openpay",role:"tab","aria-controls":"v-openpay","aria-selected":"false",children:"OpenPay"}),I.some(c,a=>a.correlative==="checkout_dwallet")&&e.jsx("a",{className:"nav-link mb-1",id:"v-digital-wallet-tab","data-bs-toggle":"pill",href:"#v-digital-wallet",role:"tab","aria-controls":"v-digital-wallet","aria-selected":"false",children:"Yape / Plin"}),I.some(c,a=>a.correlative==="checkout_transfer")&&e.jsx("a",{className:"nav-link mb-1",id:"v-transfer-tab","data-bs-toggle":"pill",href:"#v-transfer",role:"tab","aria-controls":"v-transfer","aria-selected":"false",children:"Transferencia"})]})}),e.jsxs("div",{className:"tab-content col-sm-9",children:[e.jsx(x,{correlative:"checkout_culqi",children:e.jsxs("div",{className:"tab-pane fade active show",id:"v-culqi",role:"tabpanel","aria-labelledby":"v-culqi-tab",children:[e.jsx(x,{correlative:"checkout_culqi",children:e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-culqi",checked:s.checkout_culqi=="true",onChange:rs}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-culqi",children:["Habilitar pago con Culqi",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por Culqi "})]})]})})}),e.jsx(x,{correlative:"checkout_culqi_name",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Título del formulario"}),e.jsx("input",{type:"text",className:"form-control",value:s.checkout_culqi_name,onChange:hs})]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Pública"}),e.jsx("input",{type:"text",className:"form-control",value:s.checkout_culqi_public_key,onChange:xs})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Privada"}),e.jsx("input",{type:"password",className:"form-control",value:s.checkout_culqi_private_key,onChange:bs})]}),e.jsxs("div",{className:"mt-4 mb-2",hidden:!0,children:[e.jsx("h6",{className:"text-muted",children:"Configuración RSA (Custom Checkout v4)"}),e.jsx("small",{className:"text-muted d-block mb-2",children:"Estas claves RSA son necesarias para el nuevo Custom Checkout de Culqi. Obténlas desde el panel de Culqi en la sección de claves RSA."})]}),e.jsxs("div",{className:"mb-2",hidden:!0,children:[e.jsx("label",{className:"form-label",children:"RSA ID"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Ej: 12345678-abcd-1234-efgh-123456789012",value:s.checkout_culqi_rsa_id,onChange:vs})]}),e.jsxs("div",{className:"mb-2",hidden:!0,children:[e.jsx("label",{className:"form-label",children:"RSA Public Key"}),e.jsx("textarea",{className:"form-control",rows:"4",placeholder:`-----BEGIN PUBLIC KEY-----
MIGfMA0GCSqGSIb3DQEBAQUAA4GN...
-----END PUBLIC KEY-----`,value:s.checkout_culqi_rsa_public_key,onChange:_s}),e.jsx("small",{className:"text-muted",children:"Copia la clave RSA pública completa desde el panel de Culqi"})]}),e.jsxs("div",{className:"mt-4 mb-2",children:[e.jsx("h6",{className:"text-muted",children:"Configuración de Moneda"}),e.jsx("small",{className:"text-muted d-block mb-2",children:"Configura si tu cuenta de Culqi soporta pagos en dólares (USD)."})]}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-culqi-supports-usd",checked:s.checkout_culqi_supports_usd==="true",onChange:a=>r({...s,checkout_culqi_supports_usd:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-culqi-supports-usd",children:["Mi cuenta Culqi soporta USD",e.jsx("small",{className:"text-muted d-block",children:"Si tienes una cuenta en dólares en Culqi, activa esta opción para procesar pagos directamente en USD sin conversión a soles."})]})]})}),e.jsxs("div",{className:"mt-4 mb-2",children:[e.jsx("h6",{className:"text-muted",children:"Comisión del Método de Pago"}),e.jsx("small",{className:"text-muted d-block mb-2",children:"Configura la comisión (en porcentaje) que se añadirá al total cuando el cliente elija este método de pago."})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Comisión (%)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"Ej: 3.5",value:s.checkout_culqi_commission,onChange:a=>r({...s,checkout_culqi_commission:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Dejar en 0 si no desea aplicar comisión. Ejemplo: 3.5 = 3.5%"})]})]})}),e.jsx(x,{correlative:"checkout_mercadopago",children:e.jsxs("div",{className:"tab-pane fade",id:"v-mercadopago",role:"tabpanel","aria-labelledby":"v-mercadopago-tab",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-mercadopago",checked:s.checkout_mercadopago=="true",onChange:os}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-mercadopago",children:["Habilitar pago con Mercado Pago",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por Mercado Pago "})]})]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Título del formulario"}),e.jsx("input",{type:"text",className:"form-control",value:s.checkout_mercadopago_name,onChange:a=>r({...s,checkout_mercadopago_name:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Pública"}),e.jsx("input",{type:"text",className:"form-control",value:s.checkout_mercadopago_public_key,onChange:a=>r({...s,checkout_mercadopago_public_key:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Privada (Access Token)"}),e.jsx("input",{type:"password",className:"form-control",value:s.checkout_mercadopago_private_key,onChange:a=>r({...s,checkout_mercadopago_private_key:a.target.value})})]}),e.jsx("div",{className:"mt-4 mb-2",children:e.jsx("h6",{className:"text-muted",children:"Comisión del Método de Pago"})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Comisión (%)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"Ej: 3.5",value:s.checkout_mercadopago_commission,onChange:a=>r({...s,checkout_mercadopago_commission:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Dejar en 0 si no desea aplicar comisión"})]})]})}),e.jsx(x,{correlative:"checkout_openpay",children:e.jsxs("div",{className:"tab-pane fade",id:"v-openpay",role:"tabpanel","aria-labelledby":"v-openpay-tab",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-openpay",checked:s.checkout_openpay=="true",onChange:ns}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-openpay",children:["Habilitar pago con OpenPay",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por OpenPay (tarjetas de crédito/débito)"})]})]})}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-openpay-sandbox",checked:s.checkout_openpay_sandbox_mode=="true",onChange:a=>r({...s,checkout_openpay_sandbox_mode:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-openpay-sandbox",children:["Modo Sandbox (Pruebas)",e.jsx("small",{className:"text-muted d-block",children:"Activar solo para pruebas. Desactivar en producción para procesar pagos reales."})]})]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Título del formulario"}),e.jsx("input",{type:"text",className:"form-control",value:s.checkout_openpay_name,onChange:ds,placeholder:"Pago con tarjeta"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Merchant ID"}),e.jsx("input",{type:"text",className:"form-control",value:s.checkout_openpay_merchant_id,onChange:ms,placeholder:"mxxxxxxxxxxx"}),e.jsx("small",{className:"text-muted",children:"El Merchant ID proporcionado por OpenPay"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Pública"}),e.jsx("input",{type:"text",className:"form-control",value:s.checkout_openpay_public_key,onChange:ps,placeholder:"pk_xxxxxxxxxxxxx"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Privada"}),e.jsx("input",{type:"password",className:"form-control",value:s.checkout_openpay_private_key,onChange:us,placeholder:"sk_xxxxxxxxxxxxx"})]}),e.jsx("div",{className:"mt-4 mb-2",children:e.jsx("h6",{className:"text-muted",children:"Comisión del Método de Pago"})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Comisión (%)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"Ej: 3.5",value:s.checkout_openpay_commission,onChange:a=>r({...s,checkout_openpay_commission:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Dejar en 0 si no desea aplicar comisión"})]}),e.jsxs("div",{className:"alert alert-info mt-3",children:[e.jsxs("h6",{children:[e.jsx("i",{className:"mdi mdi-information me-2"}),"Configuración de OpenPay"]}),e.jsxs("ul",{className:"mb-0",children:[e.jsxs("li",{children:["Obtenga sus credenciales desde el ",e.jsx("a",{href:"https://dashboard.openpay.mx/",target:"_blank",rel:"noopener noreferrer",children:"Dashboard de OpenPay"})]}),e.jsxs("li",{children:["Use credenciales de ",e.jsx("strong",{children:"producción"})," para transacciones reales"]}),e.jsxs("li",{children:["Use credenciales de ",e.jsx("strong",{children:"sandbox"})," para pruebas"]}),e.jsx("li",{children:"OpenPay acepta tarjetas Visa, Mastercard y American Express"})]})]})]})}),e.jsx(x,{correlative:"checkout_dwallet",children:e.jsxs("div",{className:"tab-pane fade",id:"v-digital-wallet",role:"tabpanel","aria-labelledby":"v-digital-wallet-tab",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-dwallet",checked:s.checkout_dwallet=="true",onChange:a=>r({...s,checkout_dwallet:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-dwallet",children:["Habilitar pago con Yape/Plin",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por Yape/Plin "})]})]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"QR"}),s.checkout_dwallet_qr?e.jsxs("div",{className:"position-relative",children:[e.jsx(U,{content:"Eliminar QR",children:e.jsx("button",{className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px"},onClick:()=>r({...s,checkout_dwallet_qr:null}),children:e.jsx("i",{className:"mdi mdi-delete"})})}),e.jsx("img",{src:`/assets/resources/${s.checkout_dwallet_qr}`,className:"img-thumbnail",style:{height:"200px",width:"auto"}})]}):e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:async a=>{const l=a.target.files[0];if(!l)return;a.target.value=null;const o=`qr-digital-wallet.${l.name.split(".").pop()}`,p=new FormData;p.append("image",l),p.append("name",o),await ae.save(p)&&r({...s,checkout_dwallet_qr:o})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Título"}),e.jsx("input",{type:"text",className:"form-control",value:s.checkout_dwallet_name,onChange:a=>r({...s,checkout_dwallet_name:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Descripción"}),e.jsx("textarea",{className:"form-control",value:s.checkout_dwallet_description,onChange:a=>r({...s,checkout_dwallet_description:a.target.value})})]}),e.jsx("div",{className:"mt-4 mb-2",children:e.jsx("h6",{className:"text-muted",children:"Comisión del Método de Pago"})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Comisión (%)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"Ej: 3.5",value:s.checkout_dwallet_commission,onChange:a=>r({...s,checkout_dwallet_commission:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Dejar en 0 si no desea aplicar comisión"})]})]})}),e.jsx(x,{correlative:"checkout_transfer",children:e.jsxs("div",{className:"tab-pane fade",id:"v-transfer",role:"tabpanel","aria-labelledby":"v-transfer-tab",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-transfer",checked:s.checkout_transfer==="true",onChange:a=>r({...s,checkout_transfer:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-transfer",children:["Habilitar pago por transferencia",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por transferencia"})]})]})}),s.transfer_accounts.map((a,l)=>e.jsxs("div",{className:"mb-4 p-3 border rounded",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsxs("h5",{children:["Cuenta Bancaria #",l+1]}),l>0&&e.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>{const i=[...s.transfer_accounts];i.splice(l,1),r({...s,transfer_accounts:i})},children:"Eliminar Cuenta"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Imagen de la Cuenta"}),a.image?e.jsxs("div",{className:"position-relative",children:[e.jsx(U,{content:"Eliminar Imagen",children:e.jsx("button",{className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px"},onClick:()=>{const i=[...s.transfer_accounts];i[l].image=null,r({...s,transfer_accounts:i})},children:e.jsx("i",{className:"mdi mdi-delete"})})}),e.jsx("img",{src:`/assets/resources/${a.image}`,className:"img-thumbnail",style:{height:"200px",width:"auto"}})]}):e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:async i=>{const o=i.target.files[0];if(!o)return;i.target.value=null;const p=o.name.split(".").pop(),u=`transfer-account-${l+1}.${p}`,g=new FormData;if(g.append("image",o),g.append("name",u),!await ae.save(g))return;const P=[...s.transfer_accounts];P[l].image=u,r({...s,transfer_accounts:P})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Número de Cuenta (CC)"}),e.jsx("input",{type:"text",className:"form-control",value:a.cc,onChange:i=>{const o=[...s.transfer_accounts];o[l].cc=i.target.value,r({...s,transfer_accounts:o})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Código de Cuenta Interbancario (CCI)"}),e.jsx("input",{type:"text",className:"form-control",value:a.cci,onChange:i=>{const o=[...s.transfer_accounts];o[l].cci=i.target.value,r({...s,transfer_accounts:o})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Nombre del Banco/Titular"}),e.jsx("input",{type:"text",className:"form-control",value:a.name,onChange:i=>{const o=[...s.transfer_accounts];o[l].name=i.target.value,r({...s,transfer_accounts:o})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Descripción"}),e.jsx("textarea",{className:"form-control",value:a.description,onChange:i=>{const o=[...s.transfer_accounts];o[l].description=i.target.value,r({...s,transfer_accounts:o})}})]})]},l)),e.jsx("button",{type:"button",className:"btn btn-primary mt-2",onClick:()=>{r({...s,transfer_accounts:[...s.transfer_accounts,{image:null,cc:"",cci:"",name:"",description:""}]})},children:"Agregar Otra Cuenta"}),e.jsx("div",{className:"mt-4 mb-2",children:e.jsx("h6",{className:"text-muted",children:"Comisión del Método de Pago"})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Comisión (%)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"Ej: 3.5",value:s.checkout_transfer_commission,onChange:a=>r({...s,checkout_transfer_commission:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Dejar en 0 si no desea aplicar comisión"})]})]})})]})]})}),e.jsxs("div",{className:`tab-pane fade ${h==="policies"?"show active":""}`,role:"tabpanel",children:[e.jsx("div",{className:"mb-2",hidden:!I.some(c,a=>a.correlative==="privacy_policy"),children:e.jsx(K,{label:"Política de privacidad",value:s.privacyPolicy,onChange:a=>r({...s,privacyPolicy:a})})}),e.jsx("div",{className:"mb-2",hidden:!I.some(c,a=>a.correlative==="terms_conditions"),children:e.jsx(K,{label:"Términos y condiciones",value:s.termsConditions,onChange:a=>r({...s,termsConditions:a})})}),e.jsx("div",{className:"mb-2",hidden:!I.some(c,a=>a.correlative==="delivery_policy"),children:e.jsx(K,{label:"Políticas de envío",value:s.deliveryPolicy,onChange:a=>r({...s,deliveryPolicy:a})})}),e.jsx("div",{className:"mb-2",hidden:!I.some(c,a=>a.correlative==="saleback_policy"),children:e.jsx(K,{label:"Políticas de devolución y cambio",value:s.salebackPolicy,onChange:a=>r({...s,salebackPolicy:a})})}),e.jsxs("div",{className:"mb-2",hidden:!I.some(c,a=>a.correlative==="politica_sistema_gestion"),children:[e.jsx("label",{className:"form-label",children:"Política del sistema de Gestión (PDF)"}),s.politicaSistemaGestion?e.jsxs("div",{className:"position-relative",children:[e.jsx(U,{content:"Eliminar PDF",children:e.jsx("button",{type:"button",className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px",zIndex:10},onClick:()=>{r({...s,politicaSistemaGestion:""})},children:e.jsx("i",{className:"mdi mdi-delete"})})}),e.jsxs("div",{className:"d-flex align-items-center p-3 border rounded bg-light",children:[e.jsx("i",{className:"mdi mdi-file-pdf-box text-danger me-2",style:{fontSize:"2rem"}}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("strong",{children:"Archivo PDF cargado"}),e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:s.politicaSistemaGestion})]}),e.jsxs("a",{href:`/cloud/${s.politicaSistemaGestion}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:[e.jsx("i",{className:"mdi mdi-eye"})," Ver"]})]})]}):e.jsx("input",{type:"file",className:"form-control",accept:".pdf",onChange:async a=>{const l=a.target.files[0];if(!l)return;if(l.type!=="application/pdf"){alert("Por favor, selecciona solo archivos PDF"),a.target.value=null;return}a.target.value=null;const i=new FormData;i.append("file",l),i.append("name","politica-sistema-gestion.pdf");const o=await se.save(i);o&&r({...s,politicaSistemaGestion:o.file})}}),e.jsx("small",{className:"text-muted",children:"Solo se permiten archivos PDF"})]}),e.jsxs("div",{className:"mb-2",hidden:!I.some(c,a=>a.correlative==="alcance_sistema_gestion"),children:[e.jsx("label",{className:"form-label",children:"Alcance del sistema de Gestión (PDF)"}),s.alcanceSistemaGestion?e.jsxs("div",{className:"position-relative",children:[e.jsx(U,{content:"Eliminar PDF",children:e.jsx("button",{type:"button",className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px",zIndex:10},onClick:()=>{r({...s,alcanceSistemaGestion:""})},children:e.jsx("i",{className:"mdi mdi-delete"})})}),e.jsxs("div",{className:"d-flex align-items-center p-3 border rounded bg-light",children:[e.jsx("i",{className:"mdi mdi-file-pdf-box text-danger me-2",style:{fontSize:"2rem"}}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("strong",{children:"Archivo PDF cargado"}),e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:s.alcanceSistemaGestion})]}),e.jsxs("a",{href:`/cloud/${s.alcanceSistemaGestion}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:[e.jsx("i",{className:"mdi mdi-eye"})," Ver"]})]})]}):e.jsx("input",{type:"file",className:"form-control",accept:".pdf",onChange:async a=>{const l=a.target.files[0];if(!l)return;if(l.type!=="application/pdf"){alert("Por favor, selecciona solo archivos PDF"),a.target.value=null;return}a.target.value=null;const i=new FormData;i.append("file",l),i.append("name","alcance-sistema-gestion.pdf");const o=await se.save(i);o&&r({...s,alcanceSistemaGestion:o.file})}}),e.jsx("small",{className:"text-muted",children:"Solo se permiten archivos PDF"})]})]}),e.jsx("div",{className:`tab-pane fade ${h==="cintillos"?"show active":""}`,role:"tabpanel",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("h4",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-bullhorn text-primary me-2"}),"Gestión de Cintillos Programados"]}),e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>ge(),children:[e.jsx("i",{className:"fas fa-plus me-2"}),"Nuevo Cintillo"]})]}),s.cintillos.length===0?e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-bullhorn text-muted",style:{fontSize:"4rem"}}),e.jsx("h5",{className:"text-muted mt-3",children:"No hay cintillos configurados"}),e.jsx("p",{className:"text-muted",children:"Agrega tu primer cintillo para comenzar"})]}):e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body p-0",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{width:"5%",children:"#"}),e.jsx("th",{width:"35%",children:"Texto del Cintillo"}),e.jsx("th",{width:"20%",children:"Días Programados"}),e.jsx("th",{width:"15%",children:"Estado"}),e.jsx("th",{width:"15%",children:"Activo"}),e.jsx("th",{width:"10%",children:"Acciones"})]})}),e.jsx("tbody",{children:s.cintillos.map((a,l)=>{const i=typeof a=="string"?a:a.text||"",o=typeof a=="string"?!0:a.enabled!==!1,p=Ns(a),u=ys(a);return e.jsxs("tr",{children:[e.jsx("td",{className:"fw-bold text-muted",children:l+1}),e.jsx("td",{children:e.jsx("div",{className:"text-truncate",style:{maxWidth:"300px"},title:i,children:i||e.jsx("span",{className:"text-muted fst-italic",children:"Sin texto"})})}),e.jsx("td",{children:e.jsx("small",{className:"text-muted",children:u})}),e.jsx("td",{children:e.jsx("span",{className:p.class,children:p.status})}),e.jsx("td",{children:e.jsx("div",{className:"form-check form-switch",children:e.jsx("input",{className:"form-check-input",type:"checkbox",id:`cintillo-enabled-table-${l}`,checked:o,onChange:g=>{const C=[...s.cintillos];typeof C[l]=="string"?C[l]={text:C[l],enabled:g.target.checked,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}}:C[l].enabled=g.target.checked,r({...s,cintillos:C})}})})}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group btn-group-sm",children:[e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>ge(l),title:"Editar",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>{confirm("¿Estás seguro de que quieres eliminar este cintillo?")&&Z(l,"cintillos")},title:"Eliminar",children:e.jsx("i",{className:"fas fa-trash"})})]})})]},`cintillo-${l}`)})})]})})})})]})})}),e.jsxs("div",{className:`tab-pane fade ${h==="location"?"show active":""}`,role:"tabpanel",children:[e.jsxs(Ss,{googleMapsApiKey:Wa.GMAPS_API_KEY,libraries:Hs,children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label",children:[e.jsx("i",{className:"fas fa-search me-2"}),"Buscar ubicación"]}),e.jsx(As,{onLoad:Cs,onPlaceChanged:ws,children:e.jsx("input",{type:"text",className:"form-control",placeholder:"Busca tu dirección o nombre del lugar...",value:es,onChange:a=>he(a.target.value)})}),e.jsx("small",{className:"form-text text-muted",children:"Escribe el nombre o dirección de tu tienda para centrar el mapa automáticamente."})]}),e.jsx(Ts,{mapContainerStyle:{width:"100%",height:"400px"},center:s.location,zoom:15,onClick:ks,children:e.jsx(Ds,{position:s.location})})]}),e.jsxs("small",{className:"form-text text-muted mt-2 d-block",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Haz clic en el mapa para ajustar la ubicación exacta después de buscar."]}),e.jsxs("div",{className:"mt-3 p-3 bg-light rounded",children:[e.jsx("strong",{children:"Coordenadas seleccionadas:"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("span",{className:"badge bg-primary me-2",children:["Latitud: ",s.location.lat.toFixed(6)]}),e.jsxs("span",{className:"badge bg-success",children:["Longitud: ",s.location.lng.toFixed(6)]})]})]})]}),e.jsxs("div",{className:`tab-pane fade ${h==="shippingfree"?"show active":""}`,role:"tabpanel",children:[e.jsx(x,{correlative:"igv_checkout",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{htmlFor:"igvCheckout",className:"form-label",children:["IGV",e.jsx("small",{className:"d-block text-muted",children:"Dejar en 0 si no se quiere mostrar"})]}),e.jsx("input",{type:"number",step:.01,className:"form-control",id:"igvCheckout",value:s.igvCheckout,onChange:a=>r({...s,igvCheckout:a.target.value})})]})}),e.jsx(x,{correlative:"currency",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{htmlFor:"currency",className:"form-label",children:["Moneda",e.jsx("small",{className:"d-block text-muted",style:{fontWeight:"lighter"},children:"¿Qué moneda maneja tu empresa?"})]}),e.jsxs("select",{className:"form-control",id:"currency",value:s.currency,onChange:a=>r({...s,currency:a.target.value}),children:[e.jsx("option",{value:"pen",children:"Soles (S/)"}),e.jsx("option",{value:"usd",children:"Dólares ($)"})]})]})}),s.currency==="usd"&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{htmlFor:"exchange_rate_usd_pen",className:"form-label",children:[e.jsx("i",{className:"mdi mdi-currency-usd me-1"}),"Tipo de Cambio (USD → PEN)",e.jsxs("small",{className:"d-block text-muted",style:{fontWeight:"lighter"},children:[e.jsx("strong",{children:"⚠️ Importante:"})," Culqi solo procesa pagos en Soles (PEN). Este tipo de cambio se usará para convertir el monto de dólares a soles al procesar pagos con tarjeta."]})]}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"1 USD ="}),e.jsx("input",{type:"number",step:"0.01",min:"0.01",className:"form-control",id:"exchange_rate_usd_pen",value:s.exchange_rate_usd_pen,onChange:a=>r({...s,exchange_rate_usd_pen:a.target.value}),placeholder:"3.75"}),e.jsx("span",{className:"input-group-text",children:"PEN"})]}),e.jsxs("small",{className:"text-info",children:[e.jsx("i",{className:"mdi mdi-information-outline me-1"}),"Ejemplo: Si un producto cuesta $100 USD y el tipo de cambio es 3.75, Culqi cobrará S/ 375.00 PEN."]})]}),e.jsx(x,{correlative:"shipping_free",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Envio gratis a partir de:"}),e.jsx("input",{type:"text",placeholder:"Ingrese el monto para envio gratis",className:"form-control",value:s.shippingFree,onChange:a=>r({...s,shippingFree:a.target.value})})]})}),e.jsx(x,{correlative:"additional_shipping_costs",children:e.jsxs("div",{className:"mb-4 mt-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("div",{children:[e.jsxs("h5",{className:"mb-1",children:[e.jsx("i",{className:"mdi mdi-cash-multiple me-2 text-warning"}),"Costos Adicionales de Envío"]}),e.jsx("small",{className:"text-muted",children:"Configure costos adicionales según el método de envío y el monto de compra (Ej: embalaje, traslado a agencia, etc.)"})]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>{r({...s,additional_shipping_costs:[...s.additional_shipping_costs,{enabled:!0,delivery_method:"agency",min_amount:0,max_amount:390,additional_cost:15,description:"Costo de embalaje y traslado a agencia"}]})},children:[e.jsx("i",{className:"mdi mdi-plus me-1"}),"Agregar Regla"]})]}),s.additional_shipping_costs.length===0?e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"mdi mdi-information me-2"}),'No hay reglas de costos adicionales configuradas. Haga clic en "Agregar Regla" para crear una.']}):e.jsx("div",{className:"row",children:s.additional_shipping_costs.map((a,l)=>e.jsx("div",{className:"col-12 mb-3",children:e.jsxs("div",{className:"card border",children:[e.jsxs("div",{className:"card-header bg-light d-flex justify-content-between align-items-center",children:[e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"mdi mdi-numeric-{index + 1}-circle me-2"}),"Regla #",l+1]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsxs("div",{className:"form-check form-switch mb-0",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:`additional-cost-enabled-${l}`,checked:a.enabled,onChange:i=>{const o=[...s.additional_shipping_costs];o[l].enabled=i.target.checked,r({...s,additional_shipping_costs:o})}}),e.jsx("label",{className:"form-check-label",htmlFor:`additional-cost-enabled-${l}`,children:a.enabled?"Activo":"Inactivo"})]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>{if(confirm("¿Está seguro de eliminar esta regla?")){const i=[...s.additional_shipping_costs];i.splice(l,1),r({...s,additional_shipping_costs:i})}},children:e.jsx("i",{className:"mdi mdi-delete"})})]})]}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"Método de Envío"}),e.jsxs("select",{className:"form-select",value:a.delivery_method,onChange:i=>{const o=[...s.additional_shipping_costs];o[l].delivery_method=i.target.value,r({...s,additional_shipping_costs:o})},children:[e.jsx("option",{value:"all",children:"Todos los métodos"}),e.jsx("option",{value:"agency",children:"Agencia"}),e.jsx("option",{value:"express",children:"Express"}),e.jsx("option",{value:"standard",children:"Estándar"}),e.jsx("option",{value:"store_pickup",children:"Recojo en tienda"})]}),e.jsx("small",{className:"text-muted",children:"Seleccione a qué método de envío aplica"})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"Descripción"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Ej: Costo de embalaje y traslado",value:a.description||"",onChange:i=>{const o=[...s.additional_shipping_costs];o[l].description=i.target.value,r({...s,additional_shipping_costs:o})}}),e.jsx("small",{className:"text-muted",children:"Concepto del costo adicional"})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label",children:"Monto Mínimo de Compra"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"S/"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"0.00",value:a.min_amount||0,onChange:i=>{const o=[...s.additional_shipping_costs];o[l].min_amount=parseFloat(i.target.value)||0,r({...s,additional_shipping_costs:o})}})]}),e.jsx("small",{className:"text-muted",children:"Desde qué monto aplica"})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label",children:"Monto Máximo de Compra"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"S/"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"390.00",value:a.max_amount||0,onChange:i=>{const o=[...s.additional_shipping_costs];o[l].max_amount=parseFloat(i.target.value)||0,r({...s,additional_shipping_costs:o})}})]}),e.jsx("small",{className:"text-muted",children:"Hasta qué monto aplica (0 = sin límite)"})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label",children:"Costo Adicional"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"S/"}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"15.00",value:a.additional_cost||0,onChange:i=>{const o=[...s.additional_shipping_costs];o[l].additional_cost=parseFloat(i.target.value)||0,r({...s,additional_shipping_costs:o})}})]}),e.jsx("small",{className:"text-muted",children:"Monto a cobrar adicionalmente"})]})]})})]})},l))})]})})]}),e.jsx("div",{className:`tab-pane fade ${h==="importation"?"show active":""}`,role:"tabpanel",children:e.jsx("div",{className:"row mb-2",children:e.jsxs("div",{className:"col-12 col-sm-8 col-md-6 col-lg-4 col-xl-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"importation_flete",className:"form-label",children:"Precio por peso (flete)"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"mdi mdi-circle-multiple"})}),e.jsx("input",{type:"number",step:"0.01",className:"form-control",id:"importation_flete",value:s.importation_flete,onChange:a=>r({...s,importation_flete:a.target.value})}),e.jsx("span",{className:"input-group-text",children:"por kg"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"importation_seguro",className:"form-label",children:"Seguro de importación"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",step:"0.01",className:"form-control",id:"importation_seguro",value:s.importation_seguro,onChange:a=>r({...s,importation_seguro:a.target.value})}),e.jsx("span",{className:"input-group-text",children:"%"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"importation_derecho_arancelario",className:"form-label",children:"Derechos arancelarios"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",step:"0.01",className:"form-control",id:"importation_derecho_arancelario",value:s.importation_derecho_arancelario,onChange:a=>r({...s,importation_derecho_arancelario:a.target.value})}),e.jsx("span",{className:"input-group-text",children:"%"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"importation_derecho_arancelario_descripcion",className:"form-label",children:["Descripción de derechos arancelarios",e.jsx("small",{className:"text-muted d-block",children:"Qué porcentajes se están considerando en cálculo de derechos arancelarios"})]}),e.jsx("textarea",{className:"form-control",id:"importation_derecho_arancelario_descripcion",value:s.importation_derecho_arancelario_descripcion,onChange:a=>r({...s,importation_derecho_arancelario_descripcion:a.target.value}),rows:3,style:{minHeight:81,fieldSizing:"content"}})]})]})})}),e.jsx("div",{className:`tab-pane fade ${h==="corporate"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Email Corporativo Principal"}),e.jsx("input",{type:"email",placeholder:"contacto@empresa.com",className:"form-control",value:s.coorporativeEmail,onChange:a=>r({...s,coorporativeEmail:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Este email se usará para comunicaciones corporativas y notificaciones del sistema"})]})}),e.jsxs("div",{className:`tab-pane fade ${h==="seo"?"show active":""}`,role:"tabpanel",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("h5",{className:"mb-4",children:[e.jsx("i",{className:"fas fa-search me-2 text-primary"}),"Configuración SEO y Meta Tags"]}),e.jsx("p",{className:"text-muted mb-4",children:"Configure los meta tags para optimizar su sitio web para motores de búsqueda y redes sociales."})]})}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("h6",{className:"mb-3",children:[e.jsx("i",{className:"fas fa-globe me-2"}),"Meta Tags Básicos"]}),e.jsx(N,{correlative:"site_title",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Título del Sitio"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Mi Sitio Web - Descripción breve",value:s.siteTitle,onChange:a=>r({...s,siteTitle:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Título principal que aparece en la pestaña del navegador"})]})}),e.jsx(N,{correlative:"site_description",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Descripción del Sitio"}),e.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Descripción breve del sitio web para SEO...",value:s.siteDescription,onChange:a=>r({...s,siteDescription:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Descripción que aparece en los resultados de búsqueda (máx. 160 caracteres)"})]})}),e.jsx(N,{correlative:"site_keywords",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Palabras Clave"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"palabra1, palabra2, palabra3",value:s.siteKeywords,onChange:a=>r({...s,siteKeywords:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Palabras clave separadas por comas"})]})}),e.jsx(N,{correlative:"canonical_url",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"URL Canónica"}),e.jsx("input",{type:"url",className:"form-control",placeholder:"https://midominio.com",value:s.canonicalUrl,onChange:a=>r({...s,canonicalUrl:a.target.value})}),e.jsx("small",{className:"text-muted",children:"URL principal del sitio para evitar contenido duplicado"})]})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("h6",{className:"mb-3",children:[e.jsx("i",{className:"fab fa-facebook me-2"}),"Open Graph (Facebook/LinkedIn)"]}),e.jsx(N,{correlative:"og_title",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Título Open Graph"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Título para compartir en redes sociales",value:s.ogTitle,onChange:a=>r({...s,ogTitle:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Título que aparece al compartir en Facebook/LinkedIn"})]})}),e.jsx(N,{correlative:"og_description",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Descripción Open Graph"}),e.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Descripción atractiva para redes sociales...",value:s.ogDescription,onChange:a=>r({...s,ogDescription:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Descripción al compartir en redes sociales"})]})}),e.jsx(N,{correlative:"og_image",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Imagen Open Graph"}),e.jsx("input",{type:"url",className:"form-control",placeholder:"https://midominio.com/imagen-compartir.jpg",value:s.ogImage,onChange:a=>r({...s,ogImage:a.target.value})}),e.jsx("small",{className:"text-muted",children:"URL de la imagen para compartir (recomendado: 1200x630px)"})]})}),e.jsx(N,{correlative:"og_url",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"URL Open Graph"}),e.jsx("input",{type:"url",className:"form-control",placeholder:"https://midominio.com",value:s.ogUrl,onChange:a=>r({...s,ogUrl:a.target.value})}),e.jsx("small",{className:"text-muted",children:"URL que se mostrará al compartir"})]})}),e.jsxs("h6",{className:"mb-3 mt-4",children:[e.jsx("i",{className:"fab fa-twitter me-2"}),"Twitter Cards"]}),e.jsx(N,{correlative:"twitter_card",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Tipo de Twitter Card"}),e.jsxs("select",{className:"form-control",value:s.twitterCard,onChange:a=>r({...s,twitterCard:a.target.value}),children:[e.jsx("option",{value:"summary",children:"Summary"}),e.jsx("option",{value:"summary_large_image",children:"Summary Large Image"}),e.jsx("option",{value:"app",children:"App"}),e.jsx("option",{value:"player",children:"Player"})]}),e.jsx("small",{className:"text-muted",children:"Tipo de tarjeta para Twitter"})]})}),e.jsx(N,{correlative:"twitter_title",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Título Twitter"}),e.jsx("input",{type:"text",className:"form-control",placeholder:"Título para Twitter",value:s.twitterTitle,onChange:a=>r({...s,twitterTitle:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Título específico para Twitter"})]})}),e.jsx(N,{correlative:"twitter_description",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Descripción Twitter"}),e.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Descripción para Twitter...",value:s.twitterDescription,onChange:a=>r({...s,twitterDescription:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Descripción específica para Twitter"})]})}),e.jsx(N,{correlative:"twitter_image",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Imagen Twitter"}),e.jsx("input",{type:"url",className:"form-control",placeholder:"https://midominio.com/imagen-twitter.jpg",value:s.twitterImage,onChange:a=>r({...s,twitterImage:a.target.value})}),e.jsx("small",{className:"text-muted",children:"URL de la imagen para Twitter Cards"})]})})]})]}),e.jsxs("div",{className:"row mt-4",children:[e.jsxs("div",{className:"col-12",children:[e.jsx("hr",{}),e.jsxs("h6",{className:"mb-3",children:[e.jsx("i",{className:"fas fa-robot me-2"}),"Configuración de robots.txt"]}),e.jsx("p",{className:"text-muted small mb-3",children:"Aquí puedes agregar reglas personalizadas adicionales."})]}),e.jsx("div",{className:"col-md-8",children:e.jsx(N,{correlative:"robots_additional_rules",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Reglas Adicionales de robots.txt"}),e.jsx("textarea",{className:"form-control",rows:"8",placeholder:`# Bloquear rutas adicionales
Disallow: /ruta-privada
Disallow: /otra-ruta

# Configurar crawler específico
User-agent: Googlebot
Crawl-delay: 10`,value:s.robotsAdditionalRules,onChange:a=>r({...s,robotsAdditionalRules:a.target.value})}),e.jsx("small",{className:"text-muted",children:'Agrega reglas personalizadas como Disallow adicionales o configuración de User-agents específicos. Ejemplo: "Disallow: /mi-ruta" o "User-agent: Bingbot\\nCrawl-delay: 5"'})]})})}),e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:async()=>{try{M(!0);const l=await(await fetch("/api/admin/generals/generate-robots",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json();l.success?(D.success("robots.txt generado exitosamente"),console.log("Output:",l.output)):D.error(l.message||"Error al generar robots.txt")}catch(a){D.error("Error al generar robots.txt"),console.error(a)}finally{M(!1)}},disabled:X,children:[e.jsx("i",{className:"fas fa-robot me-2"}),X?"Generando...":"Generar robots.txt"]}),e.jsxs("button",{type:"button",className:"btn btn-success",onClick:async()=>{try{M(!0);const l=await(await fetch("/api/admin/generals/generate-sitemap",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}})).json();l.success?(D.success("Sitemap generado exitosamente"),console.log("Output:",l.output)):D.error(l.message||"Error al generar sitemap")}catch(a){D.error("Error al generar sitemap"),console.error(a)}finally{M(!1)}},disabled:X,children:[e.jsx("i",{className:"fas fa-sitemap me-2"}),X?"Generando...":"Generar Sitemap"]}),e.jsxs("a",{href:"/robots.txt",target:"_blank",className:"btn btn-outline-secondary",children:[e.jsx("i",{className:"fas fa-external-link-alt me-2"}),"Ver robots.txt"]}),e.jsxs("a",{href:"/sitemap.xml",target:"_blank",className:"btn btn-outline-secondary",children:[e.jsx("i",{className:"fas fa-external-link-alt me-2"}),"Ver sitemap.xml"]})]}),e.jsxs("small",{className:"text-muted mt-2 d-block",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Recuerda guardar los cambios antes de generar los archivos para que se incluyan las nuevas configuraciones."]})]})]}),e.jsxs("div",{className:"alert alert-info mt-4",children:[e.jsxs("h6",{children:[e.jsx("i",{className:"fas fa-lightbulb me-2"}),"Consejos para SEO"]}),e.jsxs("ul",{className:"mb-0",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Título:"})," Mantenga entre 50-60 caracteres para mejor visualización"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Descripción:"})," Use entre 150-160 caracteres para aparecer completa en búsquedas"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Imágenes:"})," Use imágenes de alta calidad (1200x630px para Open Graph)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Palabras clave:"})," Use términos relevantes que sus usuarios buscarían"]})]})]})]}),e.jsx("div",{className:`tab-pane fade ${h==="pixels"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("h5",{className:"mb-3",children:"Google Analytics & Ads"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Analytics ID"}),e.jsx("input",{type:"text",placeholder:"G-XXXXXXXXXX o UA-XXXXXXXX-X",className:"form-control",value:s.googleAnalyticsId,onChange:a=>r({...s,googleAnalyticsId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID de Google Analytics para tracking de visitas"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Tag Manager ID"}),e.jsx("input",{type:"text",placeholder:"GTM-XXXXXXX",className:"form-control",value:s.googleTagManagerId,onChange:a=>r({...s,googleTagManagerId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID de Google Tag Manager"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Ads Conversion ID"}),e.jsx("input",{type:"text",placeholder:"AW-XXXXXXXXX",className:"form-control",value:s.googleAdsConversionId,onChange:a=>r({...s,googleAdsConversionId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID de conversión de Google Ads"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Ads Conversion Label"}),e.jsx("input",{type:"text",placeholder:"xxxxxxxxxxxxxxxxxxxxxxx",className:"form-control",value:s.googleAdsConversionLabel,onChange:a=>r({...s,googleAdsConversionLabel:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Etiqueta de conversión de Google Ads"})]}),e.jsx("h5",{className:"mb-3",children:"Redes Sociales"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Facebook Pixel ID"}),e.jsx("input",{type:"text",placeholder:"XXXXXXXXXXXXXXX",className:"form-control",value:s.facebookPixelId,onChange:a=>r({...s,facebookPixelId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del píxel de Facebook"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"TikTok Pixel ID"}),e.jsx("input",{type:"text",placeholder:"XXXXXXXXXXXXXXXXX",className:"form-control",value:s.tiktokPixelId,onChange:a=>r({...s,tiktokPixelId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del píxel de TikTok"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"LinkedIn Insight Tag ID"}),e.jsx("input",{type:"text",placeholder:"XXXXXXX",className:"form-control",value:s.linkedinInsightTag,onChange:a=>r({...s,linkedinInsightTag:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del Insight Tag de LinkedIn"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("h5",{className:"mb-3",children:"Otras Plataformas"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Hotjar ID"}),e.jsx("input",{type:"text",placeholder:"XXXXXXX",className:"form-control",value:s.hotjarId,onChange:a=>r({...s,hotjarId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID de Hotjar para mapas de calor"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Microsoft Clarity ID"}),e.jsx("input",{type:"text",placeholder:"xxxxxxxxxx",className:"form-control",value:s.clarityId,onChange:a=>r({...s,clarityId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID de Microsoft Clarity"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Twitter Pixel ID"}),e.jsx("input",{type:"text",placeholder:"o1234",className:"form-control",value:s.twitterPixelId,onChange:a=>r({...s,twitterPixelId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del píxel de Twitter"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Pinterest Tag ID"}),e.jsx("input",{type:"text",placeholder:"26xxxxxxxxxxxxxxxxxx",className:"form-control",value:s.pinterestTagId,onChange:a=>r({...s,pinterestTagId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del tag de Pinterest"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Snapchat Pixel ID"}),e.jsx("input",{type:"text",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",className:"form-control",value:s.snapchatPixelId,onChange:a=>r({...s,snapchatPixelId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del píxel de Snapchat"})]}),e.jsx("h5",{className:"mb-3",children:"Scripts Personalizados"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Scripts en Head"}),e.jsx("textarea",{rows:"4",placeholder:"Scripts que se insertarán en el <head>",className:"form-control",value:s.customHeadScripts,onChange:a=>r({...s,customHeadScripts:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Scripts personalizados para el <head>"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Scripts en Body"}),e.jsx("textarea",{rows:"4",placeholder:"Scripts que se insertarán antes del </body>",className:"form-control",value:s.customBodyScripts,onChange:a=>r({...s,customBodyScripts:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Scripts personalizados para el final del <body>"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Atalaya Leads API Key"}),e.jsx("input",{type:"text",placeholder:"API Key de Atalaya CRM (ejemplo: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX)",className:"form-control",value:s.atalayaLeadsApiKey,onChange:a=>r({...s,atalayaLeadsApiKey:a.target.value})}),e.jsxs("small",{className:"text-muted",children:["API Key para enviar leads del formulario de contacto a Atalaya CRM.",e.jsx("a",{href:"https://atalaya.pe",target:"_blank",rel:"noopener noreferrer",className:"text-primary",children:"Obtén tu API Key aquí"})]})]})]})]})}),e.jsx("div",{className:`tab-pane fade ${h==="oauth"?"show active":""}`,role:"tabpanel",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("h5",{className:"mb-4",children:"🔐 Configuración de Google OAuth"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"googleOauthEnabled",checked:s.googleOauthEnabled==="true",onChange:a=>r({...s,googleOauthEnabled:String(a.target.checked)})}),e.jsx("label",{className:"form-check-label",htmlFor:"googleOauthEnabled",children:e.jsx("strong",{children:"Habilitar inicio de sesión con Google"})})]}),e.jsx("small",{className:"text-muted",children:"Permite a los clientes registrarse e iniciar sesión usando su cuenta de Google"})]}),s.googleOauthEnabled==="true"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"alert alert-info",children:[e.jsx("h6",{children:"📋 Instrucciones de configuración:"}),e.jsxs("ol",{className:"mb-0",children:[e.jsxs("li",{children:["Ve a ",e.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",children:"Google Cloud Console"})]}),e.jsx("li",{children:"Crea un nuevo proyecto o selecciona uno existente"}),e.jsx("li",{children:'Habilita la API de "Google+ API" y "Google Sign-In API"'}),e.jsx("li",{children:'Ve a "Credenciales" → "Crear credenciales" → "ID de cliente OAuth 2.0"'}),e.jsx("li",{children:'Configura como "Aplicación web"'}),e.jsxs("li",{children:["Agrega estos dominios autorizados:",e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"JavaScript origins:"})," ",e.jsx("code",{children:window.location.origin})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Redirect URIs:"})," ",e.jsxs("code",{children:[window.location.origin,"/auth/google/callback"]})]})]})]}),e.jsx("li",{children:"Copia el Client ID y Client Secret en los campos de abajo"})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Client ID"}),e.jsx("input",{type:"text",placeholder:"123456789-abcdefghijk.apps.googleusercontent.com",className:"form-control",value:s.googleClientId,onChange:a=>r({...s,googleClientId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Client ID obtenido de Google Cloud Console"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Client Secret"}),e.jsx("input",{type:"password",placeholder:"GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxx",className:"form-control",value:s.googleClientSecret,onChange:a=>r({...s,googleClientSecret:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Client Secret obtenido de Google Cloud Console"})]})})]}),s.googleClientId&&s.googleClientSecret&&e.jsxs("div",{className:"alert alert-success",children:[e.jsx("h6",{children:"✅ Configuración completa"}),e.jsx("p",{className:"mb-0",children:'Una vez guardada la configuración, los botones de "Continuar con Google" aparecerán automáticamente en las páginas de login y registro.'})]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("h6",{children:"⚠️ Importante para producción:"}),e.jsx("p",{className:"mb-0",children:"Para usar en producción, asegúrate de actualizar los dominios autorizados en Google Cloud Console con tu dominio real (ej: https://tudominio.com)"})]})]})]})})}),e.jsx("div",{className:`tab-pane fade ${h==="payments"?"show active":""}`,role:"tabpanel",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("h5",{className:"mb-4",children:"💳 Configuración de Pasarelas de Pago"}),e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{className:"card-title mb-0",children:"🔒 Culqi - Pagos con Tarjeta"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"culqiEnabled",checked:s.checkout_culqi==="true",onChange:a=>r({...s,checkout_culqi:String(a.target.checked)})}),e.jsx("label",{className:"form-check-label",htmlFor:"culqiEnabled",children:e.jsx("strong",{children:"Habilitar pagos con Culqi"})})]}),e.jsx("small",{className:"text-muted",children:"Permite a los clientes pagar con tarjetas de crédito/débito, Yape, y otros métodos"})]}),s.checkout_culqi==="true"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"alert alert-info",children:[e.jsx("h6",{children:"📋 Instrucciones de configuración:"}),e.jsxs("ol",{className:"mb-0",children:[e.jsxs("li",{children:["Ve a ",e.jsx("a",{href:"https://culqi.com",target:"_blank",rel:"noopener noreferrer",children:"Culqi.com"})," y crea una cuenta"]}),e.jsx("li",{children:"Ve al panel de Culqi → Desarrollo → Llaves API"}),e.jsxs("li",{children:["Copia la ",e.jsx("strong",{children:"Llave Pública"})," y ",e.jsx("strong",{children:"Llave Privada"})]}),e.jsx("li",{children:"Para producción, cambia a las llaves de producción"}),e.jsx("li",{children:"Configura los webhooks si es necesario"})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Nombre de la cuenta"}),e.jsx("input",{type:"text",placeholder:"Mi Tienda",className:"form-control",value:s.checkout_culqi_name,onChange:a=>r({...s,checkout_culqi_name:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Nombre que aparecerá en el formulario de pago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Llave Pública"}),e.jsx("input",{type:"text",placeholder:"pk_test_xxxxxxxxxxxxxxxxx",className:"form-control",value:s.checkout_culqi_public_key,onChange:a=>r({...s,checkout_culqi_public_key:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Llave pública de Culqi (pk_test_ o pk_live_)"})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Llave Privada"}),e.jsx("input",{type:"password",placeholder:"sk_test_xxxxxxxxxxxxxxxxx",className:"form-control",value:s.checkout_culqi_private_key,onChange:a=>r({...s,checkout_culqi_private_key:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Llave privada de Culqi (sk_test_ o sk_live_)"})]})})}),s.checkout_culqi_public_key&&s.checkout_culqi_private_key&&e.jsxs("div",{className:"alert alert-success",children:[e.jsx("h6",{children:"✅ Configuración completa"}),e.jsx("p",{className:"mb-0",children:"Una vez guardada la configuración, los pagos con Culqi estarán disponibles en el checkout. Los clientes podrán pagar con tarjetas, Yape, banca móvil y otros métodos."})]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("h6",{children:"⚠️ Importante para producción:"}),e.jsx("p",{className:"mb-0",children:"Para usar en producción, asegúrate de cambiar a las llaves de producción (pk_live_ y sk_live_) y configurar correctamente los webhooks en el panel de Culqi."})]})]})]})]}),e.jsxs("div",{className:"alert alert-info",children:[e.jsx("h6",{children:"ℹ️ Información adicional"}),e.jsx("p",{className:"mb-2",children:"Las configuraciones de pasarelas de pago se almacenan de forma segura en la base de datos."}),e.jsxs("ul",{className:"mb-0",children:[e.jsx("li",{children:"Las llaves privadas nunca se exponen al frontend"}),e.jsx("li",{children:"Las configuraciones se pueden cambiar sin editar archivos del servidor"}),e.jsx("li",{children:"Los cambios toman efecto inmediatamente después de guardar"})]})]})]})})})]}),e.jsx("button",{type:"submit",className:"btn btn-primary mt-3",disabled:X,children:X?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Guardando..."]}):"Guardar"}),e.jsx(Es,{})]})]}),ne&&e.jsx("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Gestionar Visibilidad de Campos"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>z(!1)})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("p",{className:"text-muted mb-3",children:"Selecciona qué campos serán visibles para los usuarios Admin. Los campos marcados estarán disponibles para Admin, los desmarcados solo serán visibles para Root."}),Object.entries(m).map(([a,l])=>{const o={general:"General",email:"Templates de Email",contact:"Contacto & WhatsApp",checkout:"Métodos de Pago",importation:"Costos de Importación",policies:"Políticas & Términos",location:"Ubicación & Mapa",shippingfree:"Envío & Facturación",seo:"SEO & Meta Tags",corporate:"Datos Corporativos",pixels:"Analítica & Pixels",oauth:"OAuth & Autenticación"}[a]||a,p=(v||c).filter(u=>l.includes(u.correlative));return p.length===0?null:e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"d-flex align-items-center mb-3",children:e.jsx("h4",{className:"text-primary mb-0 me-2 ",children:o})}),e.jsx("div",{className:"row",children:p.map(u=>e.jsx("div",{className:"col-md-6 mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:`field-${u.correlative}`,checked:F[u.correlative]||!1,onChange:()=>Q(u.correlative)}),e.jsx("label",{className:"form-check-label",htmlFor:`field-${u.correlative}`,children:e.jsx("strong",{children:u.name})})]})},u.correlative))}),e.jsx("hr",{className:"my-3"})]},a)}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"d-flex align-items-center mb-3",children:e.jsx("h4",{className:"text-primary mb-0 me-2",children:"SEO & Meta Tags"})}),e.jsx("div",{className:"row",children:[{correlative:"site_title",name:"Título del Sitio"},{correlative:"site_description",name:"Descripción del Sitio"},{correlative:"site_keywords",name:"Palabras Clave"},{correlative:"og_title",name:"Título Open Graph"},{correlative:"og_description",name:"Descripción Open Graph"},{correlative:"og_image",name:"Imagen Open Graph"},{correlative:"og_url",name:"URL Open Graph"},{correlative:"twitter_title",name:"Título Twitter"},{correlative:"twitter_description",name:"Descripción Twitter"},{correlative:"twitter_image",name:"Imagen Twitter"},{correlative:"twitter_card",name:"Tipo Twitter Card"},{correlative:"favicon",name:"Favicon"},{correlative:"canonical_url",name:"URL Canónica"}].map(a=>e.jsx("div",{className:"col-md-6 mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:`field-${a.correlative}`,checked:F[a.correlative]||!1,onChange:()=>Q(a.correlative)}),e.jsx("label",{className:"form-check-label",htmlFor:`field-${a.correlative}`,children:e.jsx("strong",{children:a.name})})]})},a.correlative))}),e.jsx("hr",{className:"my-3"})]}),(()=>{const a=Object.values(m).flat(),l=(v||c).filter(i=>!a.includes(i.correlative));return l.length===0?null:e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"d-flex align-items-center mb-3",children:e.jsx("h4",{className:"text-secondary mb-0 me-2",children:"Otros Campos"})}),e.jsx("div",{className:"row",children:l.map(i=>e.jsx("div",{className:"col-md-6 mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:`field-${i.correlative}`,checked:F[i.correlative]||!1,onChange:()=>Q(i.correlative)}),e.jsx("label",{className:"form-check-label",htmlFor:`field-${i.correlative}`,children:e.jsx("strong",{children:i.name})})]})},i.correlative))})]})})()]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>z(!1),children:"Cancelar"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:js,disabled:me,children:me?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-1"}),"Guardando..."]}):"Guardar Cambios"})]})]})})}),ne&&e.jsx("div",{className:"modal-backdrop fade show"}),gs&&e.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-bullhorn me-2"}),B!==null?"Editar Cintillo":"Nuevo Cintillo"]}),e.jsx("button",{type:"button",className:"btn-close",onClick:ee})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-edit me-2"}),"Texto del Cintillo"]}),e.jsx("textarea",{className:"form-control",value:_.text,onChange:a=>k({..._,text:a.target.value}),rows:"3",placeholder:"Ingresa el texto del cintillo"}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Evita usar comas en el texto para mejor compatibilidad"]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"modalCintilloEnabled",checked:_.enabled,onChange:a=>k({..._,enabled:a.target.checked})}),e.jsx("label",{className:"form-check-label fw-bold",htmlFor:"modalCintilloEnabled",children:"Cintillo Activo"})]})}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-magic me-2"}),"Configuraciones Rápidas"]}),e.jsxs("div",{className:"btn-group w-100",role:"group",children:[e.jsxs("button",{type:"button",className:"btn btn-outline-success",onClick:()=>{k({..._,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!1,start:"00:00",end:"23:59"},sunday:{enabled:!1,start:"00:00",end:"23:59"}}})},children:[e.jsx("i",{className:"fas fa-briefcase me-1"}),"Días Laborales"]}),e.jsxs("button",{type:"button",className:"btn btn-outline-info",onClick:()=>{k({..._,schedule:{monday:{enabled:!1,start:"00:00",end:"23:59"},tuesday:{enabled:!1,start:"00:00",end:"23:59"},wednesday:{enabled:!1,start:"00:00",end:"23:59"},thursday:{enabled:!1,start:"00:00",end:"23:59"},friday:{enabled:!1,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}})},children:[e.jsx("i",{className:"fas fa-calendar-weekend me-1"}),"Fines de Semana"]}),e.jsxs("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>{k({..._,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}})},children:[e.jsx("i",{className:"fas fa-globe me-1"}),"Todos los Días"]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-calendar-alt me-2"}),"Programación Detallada"]}),e.jsx("div",{className:"border rounded p-3",style:{backgroundColor:"#f8f9fa"},children:[{key:"monday",label:"Lunes",icon:"fas fa-moon"},{key:"tuesday",label:"Martes",icon:"fas fa-sun"},{key:"wednesday",label:"Miércoles",icon:"fas fa-cloud"},{key:"thursday",label:"Jueves",icon:"fas fa-star"},{key:"friday",label:"Viernes",icon:"fas fa-heart"},{key:"saturday",label:"Sábado",icon:"fas fa-home"},{key:"sunday",label:"Domingo",icon:"fas fa-church"}].map(a=>{const l=_.schedule[a.key]||{enabled:!0,start:"00:00",end:"23:59"};return e.jsxs("div",{className:"row mb-3 align-items-center p-2 rounded",style:{backgroundColor:l.enabled?"#DCFCE7":"#f8f8f8"},children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:`modal-${a.key}`,checked:l.enabled,onChange:i=>{k({..._,schedule:{..._.schedule,[a.key]:{...l,enabled:i.target.checked}}})}}),e.jsx("label",{className:"form-check-label fw-bold d-flex align-items-center",htmlFor:`modal-${a.key}`,children:a.label})]})}),l.enabled&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-clock text-success"})}),e.jsx("input",{type:"time",className:"form-control",value:l.start||"00:00",onChange:i=>{k({..._,schedule:{..._.schedule,[a.key]:{...l,start:i.target.value}}})}})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"fas fa-clock text-danger"})}),e.jsx("input",{type:"time",className:"form-control",value:l.end||"23:59",onChange:i=>{k({..._,schedule:{..._.schedule,[a.key]:{...l,end:i.target.value}}})}})]})}),e.jsx("div",{className:"col-md-1",children:e.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>{k({..._,schedule:{..._.schedule,[a.key]:{enabled:!0,start:"00:00",end:"23:59"}}})},title:"Todo el día",children:"24h"})})]})]},a.key)})})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:ee,children:[e.jsx("i",{className:"fas fa-times me-1"}),"Cancelar"]}),e.jsxs("button",{type:"button",className:"btn btn-primary",onClick:fs,children:[e.jsx("i",{className:"fas fa-save me-1"}),B!==null?"Actualizar":"Guardar"," Cintillo"]})]})]})})})]})};Gs((c,v)=>{Ms.createRoot(c).render(e.jsx(Xs,{...v,title:"Datos Generales",children:e.jsx(Vs,{...v})}))});

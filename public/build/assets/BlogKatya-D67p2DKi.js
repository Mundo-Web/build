import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as m}from"./index-BOnQTV8N.js";import{P as I}from"./plus-CTIomuuF.js";import{G}from"./Global-DWbVqTT_.js";import{L}from"./Loading-B-FwDSWi.js";import{N as B}from"./NoResult-DlL_OOrq.js";import{u as X}from"./use-in-view-DtBxy-1R.js";import{m as s}from"./proxy-B0QLMKEh.js";import{F as Z}from"./filter-BEzH_gaL.js";import{C as z}from"./chevron-down-uIVDLcM-.js";import{A as q}from"./index-BZvh78jk.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./createLucideIcon-DfjclApS.js";function _({data:a,flex:l=!1,post:r,featured:x=!1}){var h,j;const f=(n,g=150)=>{if(!n)return"";const c=document.createElement("div");c.innerHTML=n;const v=c.textContent||c.innerText||"";return v.length>g?v.substring(0,g)+"...":v};return l?e.jsx("article",{className:"group relative font-title h-full",children:e.jsx("a",{href:`/post/${r==null?void 0:r.slug}`,className:"block h-full",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-500 transform hover:-translate-y-1 group cursor-pointer h-full flex border border-gray-100",children:[e.jsxs("div",{className:"relative overflow-hidden w-2/5",children:[e.jsx("img",{src:r!=null&&r.image?`/storage/images/post/${r==null?void 0:r.image}`:"/assets/img/noimage/no_img.jpg",alt:(r==null?void 0:r.title)||(r==null?void 0:r.name),className:"w-full h-full aspect-[3/2] object-cover group-hover:scale-110 transition-transform duration-500",onError:n=>{n.target.src="/assets/img/noimage/no_img.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-5 w-3/5 flex flex-col justify-between",children:[e.jsxs("div",{children:[(r==null?void 0:r.category)&&e.jsx("div",{className:"",children:e.jsx("span",{className:"customtext-secondary text-sm  font-semibold  ",children:(h=r.category)==null?void 0:h.name})}),e.jsx("h3",{className:"text-2xl font-bold mb-2 customtext-neutral-dark group-hover:text-primary transition-colors line-clamp-2 ",children:(r==null?void 0:r.title)||(r==null?void 0:r.name)}),e.jsx("p",{className:"text-base customtext-neutral-dark line-clamp-3 ",children:f((r==null?void 0:r.extract)||(r==null?void 0:r.description))})]}),e.jsx("div",{className:"flex text-sm font-medium items-center customtext-neutral-dark justify-between mt-3 pt-3  ",children:e.jsxs("span",{className:"flex gap-2 items-center",children:[" Leer más",e.jsx(I,{className:"w-4 h-4  group-hover:translate-x-1 transition-transform duration-300"})]})})]})]})})}):e.jsx("article",{className:`group relative font-title ${x?"h-full":""}`,children:e.jsx("a",{href:`/post/${r==null?void 0:r.slug}`,className:"block h-full",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2 group cursor-pointer h-full border border-gray-100",children:[e.jsxs("div",{className:"relative rounded-xl overflow-hidden",children:[e.jsx("img",{src:r!=null&&r.image?`/storage/images/post/${r==null?void 0:r.image}`:"/assets/img/noimage/no_img.jpg",alt:(r==null?void 0:r.title)||(r==null?void 0:r.name),className:`w-full object-cover group-hover:scale-105 transition-transform duration-500 ${x?"h-80 aspect-[4/3]":"h-48"}`,onError:n=>{n.target.src="/assets/img/noimage/no_img.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-6",children:[(r==null?void 0:r.category)&&e.jsx("div",{className:"",children:e.jsx("span",{className:"customtext-secondary text-sm  font-semibold  ",children:(j=r.category)==null?void 0:j.name})}),e.jsx("h3",{className:"font-bold mb-3 group-hover:text-primary transition-colors line-clamp-2 leading-tight text-2xl",children:(r==null?void 0:r.title)||(r==null?void 0:r.name)}),e.jsx("p",{className:"text-base customtext-neutral-dark mb-4 line-clamp-2 ",children:f((r==null?void 0:r.extract)||(r==null?void 0:r.description))}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-2 customtext-neutral-dark font-medium text-sm group-hover:translate-x-1 transition-transform duration-300",children:[e.jsx("span",{children:"Leer más"}),e.jsx(I,{className:"w-4 h-4"})]})}),(a==null?void 0:a["bool:show_reading_progress"])&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400 mb-2",children:[e.jsx("span",{children:"Progreso de lectura"}),e.jsx("span",{children:"0%"})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:"bg-primary h-1 rounded-full w-0 transition-all duration-300"})})]})]})]})})})}const J=({data:a,headerPosts:l,filteredData:r})=>e.jsx("main",{className:"bg-white font-title",children:e.jsxs("section",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto py-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("span",{className:"customtext-primary",children:"BLOG"}),e.jsx("h1",{className:`font-title text-3xl md:text-5xl 2xl:text-6xl font-bold tracking-tight ${(a==null?void 0:a.class_title)||"customtext-primary"}`,children:a!=null&&a.title?e.jsx("span",{dangerouslySetInnerHTML:{__html:a.title},className:"leading-tight block",style:{lineHeight:"1.1"}}):e.jsxs(e.Fragment,{children:["Descubre lo mejor:",e.jsx("br",{}),"Publicaciones sobre el mundo de ",G.APP_NAME]})}),(a==null?void 0:a.description)&&e.jsx("p",{className:"customtext-neutral-dark opacity-80 text-base 2xl:text-xl font-title",children:a==null?void 0:a.description})]}),e.jsxs("div",{className:"mt-12 flex gap-8 py-[2.5%] rounded-2xl",children:[e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx(_,{data:a,featured:!0,post:l[0]})}),e.jsx("div",{className:"hidden md:flex space-y-4 flex-col w-1/2",children:l.slice(1,3).map(x=>e.jsx(_,{data:a,flex:!0,post:x},x.id))})]})]})}),Q=({data:a,postsLatest:l,posts:r,loading:x,setLoading:f,isFilter:h,setIsFilter:j,filteredData:n})=>{var O,V;const{categories:g}=n,[c,v]=m.useState("all"),[b,F]=m.useState("newest"),[o,w]=m.useState(1),[k,A]=m.useState(!1),[T,R]=m.useState([]),C=9,$=m.useRef(null),K=X($,{once:!0}),H=[{value:"newest",label:"Más Recientes"},{value:"oldest",label:"Más Antiguos"},{value:"title-asc",label:"Título A-Z"},{value:"title-desc",label:"Título Z-A"}];m.useEffect(()=>{let t=h&&r.length>0?r:l||[];c!=="all"&&(t=t.filter(i=>i.category&&i.category.name===c)),t=[...t].sort((i,d)=>{switch(b){case"newest":return new Date(d.created_at)-new Date(i.created_at);case"oldest":return new Date(i.created_at)-new Date(d.created_at);case"title-asc":return i.title.localeCompare(d.title);case"title-desc":return d.title.localeCompare(i.title);default:return 0}}),R(t),w(1)},[c,b,r,l,h]);const u=Math.ceil(T.length/C),P=T.slice((o-1)*C,o*C),y={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},S={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.8,ease:[.22,1,.36,1]}}},D={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.6,delay:.2,ease:"easeOut"}}},M={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,delay:.3,staggerChildren:.15}}},E={hidden:{opacity:0,y:60,scale:.9,rotateX:15},visible:{opacity:1,y:0,scale:1,rotateX:0,transition:{duration:.8,ease:[.22,1,.36,1],type:"spring",damping:25,stiffness:120}}},N={hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1,transition:{duration:.6,ease:"easeOut"}}};return e.jsx(s.section,{ref:$,className:`font-title bg-gradient-to-b from-gray-50 to-white ${h?"py-16 mt-4":"py-24"}`,variants:y,initial:"hidden",animate:K?"visible":"hidden",children:e.jsx(s.div,{className:"px-4 2xl:px-0 2xl:max-w-7xl mx-auto",variants:y,children:h?e.jsxs(s.div,{variants:y,children:[e.jsx(s.div,{className:"text-center mb-12",variants:S,children:e.jsxs("h2",{className:"text-3xl md:text-4xl font-bold customtext-secondary font-title",children:["Artículos ",e.jsx("span",{className:"customtext-secondary font-title",children:"Encontrados"})]})}),e.jsx(s.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10",variants:M,children:x?e.jsx(s.div,{className:"col-span-full my-16",variants:N,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-gray-100",children:e.jsx(L,{})})})}):Array.isArray(r)&&r.length>0?r.map((t,i)=>e.jsx(s.div,{variants:E,transition:{delay:i*.1},whileHover:{scale:1.03,y:-15,transition:{duration:.4,ease:[.22,1,.36,1]}},whileTap:{scale:.97,transition:{duration:.1}},className:"h-full",style:{transformStyle:"preserve-3d"},children:e.jsx(_,{data:a,post:t})},i)):e.jsx(s.div,{className:"col-span-full my-16",variants:N,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-gray-100",children:e.jsx(B,{})})})})})]}):e.jsxs(s.div,{variants:y,children:[e.jsxs(s.div,{className:"text-center mb-16",variants:y,children:[e.jsx(s.h2,{className:"text-4xl md:text-5xl font-bold mb-6 font-title customtext-secondary leading-tight",variants:S,children:a!=null&&a.second_title?e.jsx("span",{dangerouslySetInnerHTML:{__html:a.second_title}}):e.jsxs(e.Fragment,{children:["Últimas ",e.jsx("span",{className:"text-primary font-title",children:"Publicaciones"})]})}),(a==null?void 0:a.second_description)&&e.jsx(s.p,{className:"text-lg text-gray-600 max-w-3xl mx-auto leading-relaxed",variants:D,children:a.second_description})]}),e.jsxs(s.div,{className:"flex flex-col lg:flex-row gap-6 items-start lg:items-center justify-between mb-12",variants:y,children:[e.jsx("div",{className:"flex-1",children:e.jsxs(s.div,{className:"flex flex-wrap gap-3",variants:y,children:[e.jsxs(s.button,{className:`px-6 py-3 rounded-full transition-all duration-300 font-medium text-sm ${c==="all"?"bg-primary text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>v("all"),whileHover:{scale:1.05},whileTap:{scale:.95},children:["Todas (",((O=n==null?void 0:n.posts)==null?void 0:O.length)||(l==null?void 0:l.length)||0,")"]}),g==null?void 0:g.map((t,i)=>{const d=(h&&r.length>0?r:l||[]).filter(p=>p.category&&p.category.name===t.name).length;return e.jsxs(s.button,{className:`px-6 py-3 rounded-full transition-all duration-300 font-medium text-sm ${c===t.name?"bg-primary text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,onClick:()=>v(t.name),whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.name," (",d,")"]},t.id)})]})}),e.jsxs(s.div,{className:"relative",children:[e.jsxs(s.button,{className:"flex items-center gap-3 px-6 py-3 bg-white border border-gray-200 rounded-lg hover:border-primary transition-colors duration-300 min-w-[200px] justify-between",onClick:()=>A(!k),whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:(V=H.find(t=>t.value===b))==null?void 0:V.label})]}),e.jsx(z,{className:`w-4 h-4 text-gray-600 transition-transform duration-200 ${k?"rotate-180":""}`})]}),e.jsx(q,{children:k&&e.jsx(s.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute top-full mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:H.map(t=>e.jsx(s.button,{className:`w-full px-4 py-3 text-left text-sm hover:bg-gray-50 transition-colors duration-200 first:rounded-t-lg last:rounded-b-lg ${b===t.value?"bg-primary text-white":"text-gray-700"}`,onClick:()=>{F(t.value),A(!1)},whileHover:{x:5},children:t.label},t.value))})})]})]}),e.jsx(s.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10",variants:M,children:Array.isArray(P)&&P.length>0?P.map((t,i)=>e.jsx(s.div,{variants:E,whileHover:{scale:1.03,y:-15,transition:{duration:.4,ease:[.22,1,.36,1]}},whileTap:{scale:.97,transition:{duration:.1}},className:"h-full",style:{transformStyle:"preserve-3d"},children:e.jsx(_,{data:a,post:t})},i)):e.jsx(s.div,{className:"col-span-full my-16",variants:N,children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-12 border border-gray-100",children:e.jsx(B,{})})})})}),u>1&&e.jsxs(s.div,{className:"flex items-center justify-center mt-16 gap-2",variants:N,children:[e.jsx(s.button,{className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${o===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-200 text-gray-700 hover:border-primary hover:text-primary shadow-sm hover:shadow-md"}`,onClick:()=>w(t=>Math.max(t-1,1)),disabled:o===1,whileHover:o!==1?{scale:1.05}:{},whileTap:o!==1?{scale:.95}:{},children:"Anterior"}),Array.from({length:u},(t,i)=>{const d=i+1,p=o===d;return e.jsx(s.button,{className:`w-12 h-12 rounded-lg font-medium transition-all duration-300 ${p?"bg-primary text-white shadow-lg":"bg-white border border-gray-200 text-gray-700 hover:border-primary hover:text-primary shadow-sm hover:shadow-md"}`,onClick:()=>w(d),whileHover:{scale:1.1},whileTap:{scale:.9},children:d},d)}),e.jsx(s.button,{className:`px-6 py-3 rounded-lg font-medium transition-all duration-300 ${o===u?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white border border-gray-200 text-gray-700 hover:border-primary hover:text-primary shadow-sm hover:shadow-md"}`,onClick:()=>w(t=>Math.min(t+1,u)),disabled:o===u,whileHover:o!==u?{scale:1.05}:{},whileTap:o!==u?{scale:.95}:{},children:"Siguiente"})]})]})})})},me=({data:a,headerPosts:l,filteredData:r,postsLatest:x})=>{const[f,h]=m.useState([]),[j,n]=m.useState(!1),[g,c]=m.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(J,{data:a,headerPosts:l,filteredData:r}),e.jsx(Q,{data:a,postsLatest:x,posts:f,loading:j,setLoading:n,isFilter:g,setIsFilter:c,filteredData:r})]})};export{me as default};

import{j as a}from"./AboutSimple-Cf8x2fCZ.js";import{r as u}from"./index-BOnQTV8N.js";import{P as L}from"./PostsRest-Do8-dDFY.js";import{B as T}from"./BlogCategoriesRest-C9KrGRDG.js";import{S as B}from"./SelectForm-CPo74rd_.js";import{C as _}from"./calendar-BSC6xbA7.js";import{C}from"./clock-BLXQcN-l.js";import{U as $}from"./user-BZB1h7Cv.js";import{A as E}from"./arrow-right-MB8dWH_Y.js";import{m as f}from"./proxy-B0QLMKEh.js";import{S as R}from"./search-BQ59Robe.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-DJtN-L6Q.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./CardProductMultivet-ncpmQ0JU.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./chevron-down-uIVDLcM-.js";import"./createLucideIcon-DfjclApS.js";import"./check-D5vaIe6v.js";function S({data:i,flex:y=!1,post:e,featured:m=!1}){var h,j,b,c;const v=t=>t?new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"",N=(t,l=150)=>{if(!t)return"";const n=document.createElement("div");n.innerHTML=t;const x=n.textContent||n.innerText||"";return x.length>l?x.substring(0,l)+"...":x},g=t=>{if(!t)return"5 min";const l=200,n=t.split(" ").length;return`${Math.ceil(n/l)} min`},d=t=>{if(!t)return"bg-primary/20 text-primary";const l={innovación:"bg-blue-100 text-blue-800",innovacion:"bg-blue-100 text-blue-800",prevención:"bg-green-100 text-green-800",prevencion:"bg-green-100 text-green-800",nutrición:"bg-orange-100 text-orange-800",nutricion:"bg-orange-100 text-orange-800",bioseguridad:"bg-red-100 text-red-800",diagnóstico:"bg-purple-100 text-purple-800",diagnostico:"bg-purple-100 text-purple-800",regulación:"bg-gray-100 text-gray-800",regulacion:"bg-gray-100 text-gray-800",salud:"bg-emerald-100 text-emerald-800",medicina:"bg-indigo-100 text-indigo-800",veterinaria:"bg-cyan-100 text-cyan-800",animales:"bg-amber-100 text-amber-800",cuidado:"bg-pink-100 text-pink-800",tratamiento:"bg-violet-100 text-violet-800"},n=t.toLowerCase().trim();return l[n]||"bg-accent customtext-primary"};return y?a.jsx("article",{className:"group relative font-title h-full",children:a.jsx("a",{href:`/post/${e==null?void 0:e.slug}`,className:"block h-full",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 group cursor-pointer h-full flex",children:[a.jsxs("div",{className:"relative overflow-hidden w-1/2",children:[a.jsx("img",{src:e!=null&&e.image?`/storage/images/post/${e==null?void 0:e.image}`:"/assets/img/noimage/no_img.jpg",alt:e==null?void 0:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:t=>{t.target.src="/assets/img/noimage/no_img.jpg"}}),(e==null?void 0:e.category)&&a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${d((h=e.category)==null?void 0:h.name)}`,children:(j=e.category)==null?void 0:j.name})})]}),a.jsxs("div",{className:"p-6 w-1/2 flex flex-col justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(_,{className:"w-4 h-4"}),a.jsx("span",{children:v((e==null?void 0:e.created_at)||(e==null?void 0:e.post_date))})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(C,{className:"w-4 h-4"}),a.jsx("span",{children:g((e==null?void 0:e.description)||(e==null?void 0:e.summary))})]})]}),a.jsx("h3",{className:"text-lg font-title font-bold mb-3 group-hover:customtext-primary transition-colors line-clamp-2 customtext-primary",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-sm mb-4 line-clamp-3 customtext-neutral-light",children:N((e==null?void 0:e.description)||(e==null?void 0:e.summary))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[(e==null?void 0:e.autor)&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm customtext-neutral-light",children:e.autor})]}),a.jsxs("button",{className:"customtext-secondary hover:customtext-primary font-semibold text-sm flex items-center space-x-1 group-hover:translate-x-1 transition-transform",children:[a.jsx("span",{children:"Leer más"}),a.jsx(E,{className:"w-4 h-4"})]})]})]})]})})}):a.jsx("article",{className:`group relative font-title ${m?"h-full":""}`,children:a.jsx("a",{href:`/post/${e==null?void 0:e.slug}`,className:"block h-full",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 group cursor-pointer h-full",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("img",{src:e!=null&&e.image?`/storage/images/post/${e==null?void 0:e.image}`:"/assets/img/noimage/no_img.jpg",alt:e==null?void 0:e.name,className:`w-full  object-cover group-hover:scale-110 transition-transform duration-500 ${m?"h-full aspect-[4/2]":"h-48"}`,onError:t=>{t.target.src="/assets/img/noimage/no_img.jpg"}}),(e==null?void 0:e.category)&&a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${d((b=e.category)==null?void 0:b.name)}`,children:(c=e.category)==null?void 0:c.name})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(_,{className:"w-4 h-4"}),a.jsx("span",{children:v((e==null?void 0:e.created_at)||(e==null?void 0:e.post_date))})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(C,{className:"w-4 h-4"}),a.jsx("span",{children:g((e==null?void 0:e.description)||(e==null?void 0:e.summary))})]})]}),a.jsx("h3",{className:"text-lg font-title font-bold mb-3 group-hover:customtext-primary transition-colors line-clamp-2 customtext-primary",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-sm mb-4 line-clamp-3 customtext-neutral-light",children:N((e==null?void 0:e.description)||(e==null?void 0:e.summary))}),a.jsxs("div",{className:"flex items-center justify-between",children:[(e==null?void 0:e.autor)&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-sm customtext-neutral-light",children:e.autor})]}),a.jsxs("button",{className:"customtext-secondary hover:customtext-primary font-semibold text-sm flex items-center space-x-1 group-hover:translate-x-1 transition-transform",children:[a.jsx("span",{children:"Leer más"}),a.jsx(E,{className:"w-4 h-4"})]})]}),(i==null?void 0:i["bool:show_seen"])&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-3 pt-3 border-t border-gray-100",children:[a.jsx("i",{className:"mdi mdi-circle-medium"}),a.jsx("span",{children:"Leído hace 5 minutos"})]})]})]})})})}const k=new L,F=new T;function ie({data:i,posts:y,setPosts:e,headerPosts:m,filteredData:v,loading:N,setLoading:g,isFilter:d,setIsFilter:h}){const[j,b]=u.useState([]),[c,t]=u.useState({category_id:"",post_date:"",name:""}),[l,n]=u.useState(!0),x=r=>{const s=[];return r.category_id&&s.push(["category_id","=",r.category_id]),r.post_date&&(console.log("Fecha seleccionada:",r.post_date),s.push(["post_date","=",r.post_date])),r.name&&(console.log("Nombre seleccionado:",r.name),s.push(["name","contains",r.name])),s},M=async()=>{g(!0);try{const r=x(c),s=c.category_id||c.post_date||c.name,o={with:"category",filter:r};console.log(o);const p=await k.paginate(o);console.log(p),e(p.data),h(!!s)}catch(r){console.error("Error fetching posts:",r)}finally{g(!1)}};u.useEffect(()=>{(async()=>{try{const s={filter:[["visible","=",!0],["status","=",!0]]},o=await F.paginate(s);o&&o.data&&b(o.data)}catch(s){console.error("Error fetching categories:",s)}})()},[]),u.useEffect(()=>{l?n(!1):M()},[c]);const w=(r,s)=>{t(o=>({...o,[r]:s}))};return u.useEffect(()=>{console.log("BlogHeaderMultivet - posts actualizados:",y)},[y]),a.jsx("main",{className:`bg-gray-50 ${d?"":"min-h-screen"} font-title`,children:a.jsxs("section",{className:`relative bg-gradient-to-br from-primary to-secondary overflow-hidden ${d?"pt-16 pb-8":"py-16"}`,children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-accent rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-white rounded-full blur-2xl"})]}),a.jsxs("div",{className:"relative px-4 2xl:px-0 2xl:max-w-7xl mx-auto",children:[a.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center space-y-6",children:[a.jsx(f.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:` text-4xl md:text-6xl 2xl:text-5xl max-w-6xl mx-auto font-bold customtext-secondary font-title leading-tight ${(i==null?void 0:i.class_title)||""}`,children:i!=null&&i.title?a.jsx("span",{dangerouslySetInnerHTML:{__html:i.title},className:"block font-title"}):a.jsxs(a.Fragment,{children:["Conocimiento Veterinario",a.jsx("br",{}),a.jsx("span",{className:"text-accent",children:"para tu Mascota"})]})}),(i==null?void 0:i.description)&&a.jsx(f.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-white/90 text-lg 2xl:text-xl font-medium max-w-3xl mx-auto",children:i.description})]}),a.jsx(f.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"mt-12 bg-white rounded-2xl shadow-xl p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"search",placeholder:"Buscar artículos veterinarios...",className:"w-full px-6 py-4 pl-12 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 focus:outline-0 transition-all duration-300 text-gray-700 placeholder-gray-400",onChange:r=>w("name",r.target.value)}),a.jsx(R,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),a.jsxs("div",{className:"flex gap-4 lg:w-auto",children:[a.jsx("div",{className:"flex-1 lg:w-64",children:a.jsx(B,{options:j,placeholder:"Todas las categorías",onChange:r=>{t(s=>({...s,category_id:r}))},labelKey:"name",valueKey:"id"})}),a.jsx("div",{className:"flex-1 lg:w-48",children:a.jsx("input",{type:"date",className:"w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 focus:outline-0 transition-all duration-300 text-gray-700",onChange:r=>{w("post_date",r.target.value)}})})]})]})}),!d&&m&&m.length>0&&a.jsxs(f.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-16",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Artículos Destacados"}),a.jsx("p",{className:"text-white/80",children:"Los contenidos más importantes para el cuidado de tu mascota"})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsx(S,{data:i,featured:!0,post:m[0]})}),a.jsx("div",{className:"hidden lg:flex flex-col gap-6",children:m.slice(1,3).map(r=>a.jsx(S,{data:i,flex:!0,post:r},r.id))})]})]})]})]})})}export{S as B,ie as a};

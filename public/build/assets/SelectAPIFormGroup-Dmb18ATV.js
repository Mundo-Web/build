import{r as e,m as t,j as a}from"./vendor-react-CZUvQwNQ.js";const n=({id:n,col:s,label:r,eRef:o,required:l=!1,dropdownParent:i,searchAPI:c,searchBy:d,multiple:p=!1,filter:m=null,onChange:u=()=>{},templateResult:f,templateSelection:h,tags:g,hidden:j})=>(o||(o=e.useRef()),n||(n=`select-${crypto.randomUUID()}`),e.useEffect(()=>{$(o.current).select2({dropdownParent:i,minimumInputLength:0,tags:g,ajax:{url:c,headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(t.Cookies.get("XSRF-TOKEN"))},type:"POST",quietMillis:50,data:function({term:e,page:a}){return t.JSON.stringify({sort:[{selector:d,desc:!1}],skip:10*((a??1)-1),take:10,filter:m?[[d,"contains",e||""],"and",m]:[d,"contains",e||""]})},processResults:function(e,{page:a}){return{results:(e?.data??[]).map(e=>{const a=t.JSON.flatten(e);return{id:e.id,text:a[d],data:e}}),pagination:{more:10*(a??1)<e.totalCount}}}},templateResult:f,templateSelection:h})},[i,m]),e.useEffect(()=>{$(o.current).on("change",u)},[m]),a.jsxs("div",{className:`form-group ${s} mb-2`,hidden:j,children:[a.jsxs("label",{htmlFor:n,className:"mb-1",children:[r," ",l&&a.jsx("b",{className:"text-danger",children:"*"})]}),a.jsx("select",{ref:o,id:n,required:l&&!j,className:"form-control",style:{width:"100%"},multiple:p})]}));export{n as S};

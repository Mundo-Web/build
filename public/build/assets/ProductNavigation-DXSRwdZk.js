import{j as i}from"./AboutSimple-Cf8x2fCZ.js";import{r as c}from"./index-BH53Isel.js";import"./ProductCard-Ap6bpF1Q.js";import{I as y}from"./ItemsRest-DGjwRLrz.js";import{C as j}from"./HeaderSearch-B_41BEro.js";import"./main-BvVILmTO.js";import{m as s}from"./proxy-BTYtmp9V.js";import{E as p}from"./eye-CKCH9ORv.js";import"./index-yBjzXJbu.js";import"./BasicRest-B3rfI5GY.js";import"./index-CMHsc23u.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";import"./PaymentModal-Bxx5p2o_.js";import"./index-Chjiymov.js";import"./CartItemRow-4VUVjpPz.js";import"./Number2Currency-e57Tgsuk.js";import"./tippy-react.esm-BWiGTO87.js";import"./trash-2-DK1wnsDn.js";import"./createLucideIcon-Cy5Ya80P.js";import"./plus-Bot15Khs.js";import"./index-CFtDjG4d.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";new y;const G=({data:g,product:e,widthClass:u="lg:w-1/5",setCart:r,cart:t,isFirstCard:o})=>{var d;const[b,v]=c.useState(""),[m,l]=c.useState(!1),x=a=>{const n=structuredClone(t),h=n.findIndex(f=>f.id==a.id);h==-1?n.push({...a,quantity:1}):n[h].quantity++,r(n),l(!m),setTimeout(()=>l(!1),3e3)};return t==null||t.find(a=>a.id==(e==null?void 0:e.id)),(e==null?void 0:e.discount)>0?e==null||e.discount:e==null||e.price,i.jsxs(i.Fragment,{children:[i.jsx(s.div,{className:"group px-1 md:px-2 w-full flex-shrink-0 font-font-secondary cursor-pointer relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5},children:i.jsxs(s.div,{className:"bg-white rounded-xl shadow-md p-2 md:p-4 ",style:{boxShadow:"0px 0px 6px 0px #00000040"},whileHover:{boxShadow:"0px 10px 25px 0px #00000020",scale:1.02},transition:{duration:.3},children:[i.jsxs("div",{className:"relative ",children:[e.discount!=null&&!isNaN(e.discount)&&i.jsxs("span",{className:"absolute top-2 right-2 bg-[#F93232] text-white text-base font-medium px-2 py-1 rounded-full",children:["-",Number(100-Number((e==null?void 0:e.discount)*100/(e==null?void 0:e.price))).toFixed(0),"%"]}),i.jsx(s.div,{className:"aspect-square rounded-lg overflow-hidden flex items-center justify-center p-0",transition:{type:"spring",stiffness:300,damping:20},children:i.jsx(s.img,{src:`/storage/images/item/${e.image}`,onError:a=>a.target.src="/api/cover/thumbnail/null",alt:e.name,className:"w-full h-full object-cover bg-slate-100",loading:"lazy",whileHover:{scale:1.1},transition:{duration:.3}})})]}),i.jsxs(s.div,{className:`hidden lg:flex overflow-hidden pb-4  gap-2 my-2 transform ${o?"lg:group-hover:-translate-y-1/2":""} max-h-0 opacity-1 group-hover:max-h-20 group-hover:opacity-100 transition-[max-height,opacity] duration-500 ease-in-out md:max-h-20 md:opacity-100 lg:max-h-0 lg:opacity-0`,initial:!1,children:[i.jsxs(s.a,{href:`/product/${e.slug}`,className:"flex-1 inline-flex items-center justify-center font-bold  text-sm bg-primary text-white py-2 md:py-3 rounded-xl shadow-lg transition-all duration-300 hover:opacity-90",whileHover:{scale:1.02},whileTap:{scale:.98},transition:{type:"spring",stiffness:400,damping:10},children:[i.jsx("span",{className:"hidden md:block",children:"Ver detalle"}),i.jsxs("span",{className:"md:hidden flex gap-2 text-sm items-center",children:[" Ver ",i.jsx(p,{width:"1.1rem"})]})]}),i.jsx(s.button,{"aria-label":"Agregar al carrito",className:"py-2 px-2.5 border border-primary rounded-lg customtext-primary transition-all duration-300  hover:opacity-90",onClick:()=>x(e),whileTap:{scale:.95},transition:{type:"spring",stiffness:400,damping:10},children:i.jsx(s.svg,{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",whileHover:{rotate:10},transition:{duration:.2},children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),i.jsxs(s.div,{className:`overflow-hidden pb-4 flex lg:hidden gap-2 my-2 transform ${o?"lg:group-hover:-translate-y-1/2":""}  group-hover:opacity-100 transition-[max-height,opacity] duration-500 ease-in-out md:max-h-20 md:opacity-100 lg:max-h-0 lg:opacity-0`,children:[i.jsx(s.a,{href:`/product/${e.slug}`,className:"flex-1 inline-flex items-center justify-center font-bold  text-sm bg-primary text-white py-2 md:py-3 rounded-xl shadow-lg transition-all duration-300 hover:opacity-90",children:i.jsxs("span",{className:"md:hidden flex gap-2 text-sm items-center",children:[" Ver ",i.jsx(p,{width:"1.1rem"})]})}),i.jsx(s.button,{"aria-label":"Agregar al carrito",className:"py-2 px-2.5 border border-primary rounded-lg customtext-primary transition-all duration-300  hover:opacity-90",onClick:()=>x(e),children:i.jsx(s.svg,{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",whileHover:{rotate:10},transition:{duration:.2},children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs customtext-neutral-light font-semibold mb-1",children:(d=e==null?void 0:e.brand)==null?void 0:d.name}),i.jsx("h3",{className:"customtext-neutral-dark text-lg font-semibold mb-2 line-clamp-3 h-20",children:e.name}),i.jsx("div",{className:"flex flex-col items-baseline gap-2 md:mb-4",children:e.static_price?i.jsxs("div",{className:"flex flex-col items-start gap-1",children:[i.jsx("span",{className:"customtext-neutral-dark text-[20px] md:text-2xl font-bold",children:e.static_price}),e.discount!=null&&!isNaN(e.discount)&&i.jsxs("span",{className:"text-xs customtext-neutral-light font-semibold1 line-through",children:["S/ ",e.price]})]}):i.jsxs(i.Fragment,{children:[e.discount!=null&&!isNaN(e.discount)&&i.jsxs("span",{className:"text-xs customtext-neutral-light font-semibold1 line-through",children:["S/ ",e.price]}),i.jsxs("span",{className:"customtext-neutral-dark text-[20px] md:text-2xl font-bold",children:["S/ ",e.final_price]})]})})]})]})},e.id),i.jsx(j,{data:g,cart:t,setCart:r,modalOpen:m,setModalOpen:l})]})};export{G as C};

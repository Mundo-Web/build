import{r as e,j as a}from"./vendor-react-DB2gWWlz.js";import s from"./SearchWidget-BHgdiL4b.js";import t from"./RoomCard-BxviF7cu.js";import{S as r}from"./CartKuchara-C7ZIDpxE.js";import"./vendor-swiper-Cr_RrIb_.js";import"./es-BnVhKMe9.js";import"./Number2Currency-BX4epFEo.js";import"./General-ClVW7qxN.js";const n=({data:n})=>{const[i,c]=e.useState([]),[o,l]=e.useState(null),[d,h]=e.useState(!1),[m,x]=e.useState(!1);return a.jsxs("div",{id:n?.element_id||null,className:"py-8 px-[5%] replace-max-w-here mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsx(s,{onSearch:async e=>{h(!0),x(!0);try{const a=await fetch("/api/hotels/rooms/search",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}),s=await a.json();if(200!==s.status)throw new Error(s.message||"Error al buscar habitaciones");c(s.data.rooms||[]),l({check_in:s.data.check_in,check_out:s.data.check_out,nights:s.data.nights,guests:s.data.guests}),0===s.data.rooms.length&&r.fire({icon:"info",title:"Sin resultados",text:"No se encontraron habitaciones disponibles para las fechas seleccionadas. Por favor, intenta con otras fechas.",confirmButtonText:"Entendido"})}catch(a){r.fire({icon:"error",title:"Error",text:a.message||"Ocurrió un error al buscar habitaciones",confirmButtonText:"Cerrar"})}finally{h(!1)}}})}),d&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-primary"}),a.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Buscando habitaciones disponibles..."})]}),!d&&m&&i.length>0&&o&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-800",children:[a.jsx("i",{className:"fas fa-check-circle mr-2"}),"Se encontraron ",a.jsx("strong",{children:i.length})," habitación(es) disponible(s)"," ","para ",a.jsx("strong",{children:o.nights})," noche(s)"," ","del ",a.jsx("strong",{children:new Date(o.check_in).toLocaleDateString("es-ES")})," ","al ",a.jsx("strong",{children:new Date(o.check_out).toLocaleDateString("es-ES")})]})}),!d&&i.length>0&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(e=>a.jsx(t,{room:e,searchParams:o},e.id))}),!d&&!m&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("i",{className:"fas fa-bed text-6xl text-gray-400 mb-4"}),a.jsx("h4",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Busca tu habitación ideal"}),a.jsx("p",{className:"text-gray-600",children:"Selecciona tus fechas y encuentra la habitación perfecta para tu estadía"})]}),!d&&m&&0===i.length&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("i",{className:"fas fa-calendar-times text-6xl text-gray-400 mb-4"}),a.jsx("h4",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No hay habitaciones disponibles"}),a.jsx("p",{className:"text-gray-600",children:"Intenta con otras fechas para encontrar disponibilidad"})]})]})};export{n as default};

import{j as r}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BH53Isel.js";import{t as b}from"./MobileMenu-dzM5z5Kk.js";import{T as w}from"./tag-BY9rARtP.js";import{C as j}from"./chevron-up-D78jyEhP.js";import{C as v}from"./chevron-down-DS-mdh9v.js";import"./index-yBjzXJbu.js";import"./main-BvVILmTO.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./BasicRest-B3rfI5GY.js";import"./index-CMHsc23u.js";import"./index-rimy3MAc.js";import"./index-fNjTmf9T.js";import"./createLucideIcon-Cy5Ya80P.js";const I=({pages:f=[],items:h,data:a,visible:m=!1})=>{const[n,u]=l.useState(!1),[t,x]=l.useState([]),i=l.useRef(null);l.useEffect(()=>{function e(s){i.current&&!i.current.contains(s.target)&&u(!1)}return document.addEventListener("pointerdown",e),()=>document.removeEventListener("pointerdown",e)},[]),l.useEffect(()=>{(async()=>{try{console.log("Fetching tags...");const s=await b.getTags();console.log("Tags response:",s),s!=null&&s.data&&(x(s.data),console.log("Tags set:",s.data))}catch(s){console.error("Error fetching tags:",s)}})()},[]);const c=window.innerWidth<1024,d=c?m&&t.length>0:!0,p=t.length>0&&c&&m;return console.log("items",a),console.log("tags",t),console.log("isMobile",c),console.log("shouldShowMenu",d),d?r.jsx("nav",{className:`${p?" block w-full relative md:block bg-primary font-paragraph text-sm":" relative w-full md:block bg-secondary font-paragraph text-sm"}`,ref:i,children:r.jsx("div",{className:"px-primary  2xl:px-0 2xl:max-w-7xl mx-auto",children:r.jsx("ul",{className:"flex items-center gap-4 lg:gap-6 text-sm justify-between",children:p?r.jsx("div",{className:"w-full overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:r.jsx("ul",{className:"flex py-2 items-center gap-4 text-sm min-w-max w-fit mx-auto",children:t.map((e,s)=>r.jsx("li",{className:"flex-shrink-0",children:r.jsxs("a",{href:`/catalogo?tag=${e.id}`,className:"font-medium bg-primary text-white rounded-full p-2 hover:brightness-105 cursor-pointer transition-all duration-300 relative flex items-center gap-2 whitespace-nowrap",title:e.description||e.name,children:[r.jsx(w,{size:16,className:"text-white"}),e.name]})},e.id))})}):r.jsxs(r.Fragment,{children:[r.jsxs("ul",{className:"flex items-center gap-4 lg:gap-6 text-sm",children:[(a==null?void 0:a.showCategories)&&r.jsxs("li",{className:"relative py-3",children:[r.jsxs("button",{className:"font-medium customtext-neutral-dark flex items-center gap-2 hover:customtext-primary pr-6 transition-colors duration-300 relative before:absolute before:right-0 before:top-1/2 before:-translate-y-1/2 before:h-3 before:w-[1px] before:bg-[#262624]",onClick:()=>u(!n),children:["Categorias",n?r.jsx(j,{size:20}):r.jsx(v,{size:20})]}),n&&r.jsx("div",{className:"absolute z-50 top-12 left-0 bg-white shadow-xl border-t rounded-xl transition-all duration-500 ease-in-out h-[70dvh] overflow-y-scroll w-[calc(60vw-6rem)]",children:r.jsx("div",{className:"p-8",children:r.jsx("div",{className:"columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-8",children:[...h].sort((e,s)=>e.name.localeCompare(s.name)).map((e,s)=>r.jsxs("div",{className:"w-full break-inside-avoid-column mb-8",children:[r.jsx("a",{href:`/catalogo?category=${e.slug}`,className:"customtext-neutral-dark font-bold text-base mb-4 cursor-pointer hover:customtext-primary transition-colors duration-300 w-full inline-block border-b pb-2",children:e.name}),r.jsx("ul",{className:"space-y-1",children:e.subcategories.map((o,g)=>r.jsx("li",{className:"w-full",children:r.jsx("a",{href:`/catalogo?subcategory=${o.slug}`,className:"customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300 cursor-pointer w-full inline-block line-clamp-2",children:o.name})},g))})]},s))})})})]}),f.filter(e=>e.menuable).map((e,s,o)=>r.jsx("li",{className:"py-3",children:r.jsx("a",{href:e.path,className:"font-medium hover:customtext-primary cursor-pointer transition-all duration-300"+(s!==o.length-1?" pr-6 relative before:absolute before:right-0 before:top-1/2 before:-translate-y-1/2 before:h-3 before:w-[1px] before:bg-[#262624]":" pr-6"),children:e.name})},s))]}),t.length>0&&r.jsx("div",{className:"flex items-center gap-4 lg:gap-4 text-sm",children:t.map((e,s)=>r.jsx("li",{className:"",children:r.jsxs("a",{href:`/catalogo?tag=${e.id}`,className:`font-medium ${e.background_color} ${e.text_color} rounded-full p-2 hover:brightness-105 cursor-pointer transition-all duration-300  relative flex items-center gap-2`,style:{backgroundColor:e.background_color||"#3b82f6",color:e.text_color||"#ffffff"},title:e.description||e.name,children:[e.icon&&r.jsx("img",{src:`/storage/images/tag/${e.icon}`,alt:e.name,className:"w-4 h-4",onError:o=>o.target.src="/api/cover/thumbnail/null"}),e.name]})},e.id))})]})})})}):null};export{I as default};

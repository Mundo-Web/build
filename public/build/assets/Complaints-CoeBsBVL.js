var e=Object.defineProperty,a=(a,s,r)=>((a,s,r)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[s]=r)(a,"symbol"!=typeof s?s+"":s,r);import{c as s,j as r,r as i,s as o}from"./vendor-react-CtPXetfm.js";import{B as c}from"./Base-B2hVq4yw.js";import{C as n}from"./CreateReactScript-Cjoo020C.js";import{T as l}from"./Table-CdAbWBID.js";import{D as t}from"./DxButton-C6FT_beP.js";import{R as d}from"./ReactAppend-RIOEhuYO.js";import{B as m}from"./BasicRest-xQKzLTAw.js";import{M as p}from"./Modal-CUkY7A3F.js";import{S as j}from"./CartKuchara-Bi-J8T1O.js";import{C as h,N as x}from"./Number2Currency-BX4epFEo.js";import"./vendor-swiper-Cr_RrIb_.js";import"./Footer-coriRrmf.js";import"./TippyButton-Dqi9Vaf_.js";import"./Logout-DQyEsGXW.js";import"./MenuItemContainer-UDNHvqM7.js";import"./Menu-BjIZNCK0.js";import"./General-ClVW7qxN.js";import"./LaravelSession-ByQnaUD3.js";import"./BooleanLimit-q2Ad9fGY.js";import"./OpenPayCardModal-DGeo-a3a.js";const u=new class extends m{constructor(){super(...arguments),a(this,"path","admin/complaints")}},b=()=>{const e=i.useRef(),a=i.useRef(),[s,c]=i.useState(null),n=e=>{c(e),$(a.current).modal("show")},m=e=>({dni:"DNI",ce:"Carné de Extranjería",pasaporte:"Pasaporte",ruc:"RUC"}[e]||e),b=e=>({reclamo:"Reclamo",queja:"Queja"}[e]||e);return r.jsxs(r.Fragment,{children:[r.jsx(l,{gridRef:e,title:"Reclamos y Quejas",rest:u,toolBar:a=>{a.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(e.current).dxDataGrid("instance").refresh()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"code",caption:"Código",width:150},{dataField:"nombre",caption:"Nombre",cellTemplate:(e,{data:a})=>{d(e,r.jsx("span",{style:{width:"100%",cursor:"pointer"},onClick:()=>n(a),children:a.nombre}))}},{dataField:"correo_electronico",caption:"Correo"},{dataField:"tipo_documento",caption:"Tipo Doc.",cellTemplate:(e,{data:a})=>{d(e,r.jsx("span",{children:m(a.tipo_documento)}))}},{dataField:"numero_identidad",caption:"Nº Identidad"},{dataField:"tipo_reclamo",caption:"Tipo",cellTemplate:(e,{data:a})=>{const s="reclamo"===a.tipo_reclamo?"bg-warning":"bg-info";d(e,r.jsx("span",{className:`badge ${s} rounded-pill`,children:b(a.tipo_reclamo)}))}},{dataField:"monto_reclamado",caption:"Monto",dataType:"number",cellTemplate:(e,{data:a})=>{e.html(o.renderToString(r.jsx(r.Fragment,{children:r.jsxs("small",{className:"d-block ",children:[h()," ",x(a?.monto_reclamado)]})})))}},{dataField:"created_at",caption:"Fecha",dataType:"datetime",format:"yyyy-MM-dd HH:mm:ss",sortOrder:"desc"},{caption:"Acciones",cellTemplate:(a,{data:s})=>{a.append(t({className:"btn btn-xs btn-soft-dark",title:"Ver reclamo",icon:"fa fa-eye",onClick:()=>n(s)})),a.append(t({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>(async a=>{const{isConfirmed:s}=await j.fire({title:"Eliminar reclamo",text:"¿Estas seguro de eliminar este reclamo?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});if(!s)return;await u.delete(a)&&$(e.current).dxDataGrid("instance").refresh()})(s.id)}))},allowFiltering:!1,allowExporting:!1}]}),r.jsxs(p,{modalRef:a,title:"Detalle del Reclamo/Queja",size:"lg",hideFooter:!0,children:[r.jsxs("div",{className:"row",children:[r.jsxs("div",{className:"col-md-6",children:[r.jsx("h6",{className:"mb-3",children:"Datos Personales"}),r.jsxs("p",{children:[r.jsx("b",{children:"Nombre"}),":",r.jsx("span",{className:"ms-1",children:s?.nombre})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Tipo de Documento"}),":",r.jsx("span",{className:"ms-1",children:m(s?.tipo_documento)})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Número de Identidad"}),":",r.jsx("span",{className:"ms-1",children:s?.numero_identidad})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Correo"}),":",r.jsx("span",{className:"ms-1",children:s?.correo_electronico||r.jsx("i",{className:"text-muted",children:"- Sin correo -"})})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Celular"}),":",r.jsx("span",{className:"ms-1",children:s?.celular||r.jsx("i",{className:"text-muted",children:"- Sin celular -"})})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Dirección"}),":",r.jsx("span",{className:"ms-1",children:s?.direccion})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Ubicación"}),":",r.jsxs("span",{className:"ms-1",children:[s?.distrito,", ",s?.provincia,", ",s?.departamento]})]})]}),r.jsxs("div",{className:"col-md-6",children:[r.jsx("h6",{className:"mb-3",children:"Datos del Reclamo"}),r.jsxs("p",{children:[r.jsx("b",{children:"Código"}),":",r.jsx("span",{className:"ms-1 badge bg-dark",children:s?.code||r.jsx("i",{children:"Sin código"})})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Tipo"}),":",r.jsx("span",{className:"ms-1",children:b(s?.tipo_reclamo)})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Tipo de Producto"}),":",r.jsx("span",{className:"ms-1",children:s?.tipo_producto})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Descripción del Producto"}),":",r.jsx("span",{className:"ms-1",children:s?.descripcion_producto})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Monto Reclamado"}),":",r.jsxs("span",{className:"ms-1",children:["S/ ",s?.monto_reclamado]})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Fecha de Ocurrencia"}),":",r.jsx("span",{className:"ms-1",children:s?.fecha_ocurrencia})]}),s?.numero_pedido&&r.jsxs("p",{children:[r.jsx("b",{children:"Número de Pedido"}),":",r.jsx("span",{className:"ms-1",children:s?.numero_pedido})]})]})]}),r.jsx("div",{className:"row mt-3",children:r.jsxs("div",{className:"col-12",children:[r.jsx("h6",{className:"mb-3",children:"Detalle del Reclamo"}),r.jsx("div",{className:"border rounded p-3 bg-light",children:s?.detalle_reclamo})]})})]})]})};n((e,a)=>{s.createRoot(e).render(r.jsx(c,{...a,title:"Reclamos y Quejas",children:r.jsx(b,{...a})}))});

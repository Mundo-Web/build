import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r}from"./index-BOnQTV8N.js";import{c as Oe}from"./ReactAppend-QR5TrZfj.js";import{B as Pe}from"./Base-GfEhzAjp.js";import{I as $e}from"./ItemsRest-BelP-LFB.js";import{A as Ae}from"./AmenitiesRest-CxHKy3lz.js";import{T as Ge}from"./Table-Cv1BshIS.js";import{M as Ve}from"./Modal-xDw9ufjg.js";import{I as x}from"./InputFormGroup-iZIO11ZN.js";import{S as ee}from"./SelectFormGroup-X8WqJHHl.js";import{T as We}from"./TextareaFormGroup-CliirJM1.js";import{I as ze}from"./ImageFormGroup-40MuGzez.js";import{S as se}from"./SwitchFormGroup-DXN0cwVk.js";import{Q as Be}from"./QuillFormGroup-BXX8qnUc.js";import{D as ae}from"./DxButton-DV0H-ZcL.js";import{C as Je,F as Le}from"./CreateReactScript-Bqovr-Zn.js";import{R as h}from"./ReactAppend-Vm5G2nof.js";import{S as Me}from"./CartKuchara-D9l7c7at.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-B6ujFmsw.js";import"./Global-CazroCzF.js";import"./tippy-react.esm-DmkRJDEW.js";import"./index-pSueRYGM.js";/* empty css              */import"./Logout-BpuTJ_83.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuItemContainer-DcxtOi47.js";import"./index.esm-C48oHfFw.js";import"./index-ngrFHoWO.js";import"./CanAccess-BlvzCYjQ.js";import"./BasicRest-BML1C-ua.js";import"./CardProductKatya-ncpmQ0JU.js";import"./BooleanLimit-D-OsQsek.js";/* empty css               */import"./General-apRuNwp7.js";import"./LaravelSession-Dz9cpV3l.js";const qe=()=>{const f=r.useRef(),j=r.useRef(),w=r.useRef(),S=r.useRef(),k=r.useRef(),I=r.useRef(),F=r.useRef(),C=r.useRef(),E=r.useRef(),T=r.useRef(),_=r.useRef(),O=r.useRef(),P=r.useRef(),A=r.useRef(),c=r.useRef(),G=r.useRef(),J=r.useRef(),L=r.useRef(),V=r.useRef(),[te,M]=r.useState(!1),[ie,le]=r.useState([]),[d,p]=r.useState([]),[m,g]=r.useState([]),[u,b]=r.useState([]),[v,W]=r.useState(null),[N,z]=r.useState(null),[y,B]=r.useState(null),D=new $e,re=new Ae;r.useEffect(()=>{ne()},[]);const ne=async()=>{const s=await re.paginate({page:1,per_page:100,filters:JSON.stringify([["status","=",1]])});le(s.data||[])},ce=s=>{const t=Array.from(s.target.files).map(i=>({file:i,url:URL.createObjectURL(i),toDelete:!1}));p([...d,...t])},oe=s=>{s.preventDefault();const i=Array.from(s.dataTransfer.files).filter(n=>n.type.startsWith("image/")).map(n=>({file:n,url:URL.createObjectURL(n),toDelete:!1}));p([...d,...i])},de=s=>{s.preventDefault()},me=(s,a)=>{s.preventDefault();const t=[...d];t[a].file?t.splice(a,1):t[a].toDelete=!0,p(t)},ue=(s,a)=>{W(a),s.dataTransfer.effectAllowed="move"},fe=()=>{W(null)},pe=s=>{s.preventDefault(),s.dataTransfer.dropEffect="move"},xe=(s,a)=>{if(s.preventDefault(),v===null||v===a)return;const t=[...d],i=t[v];t.splice(v,1),t.splice(a,0,i),p(t),W(null)},he=s=>{const t=Array.from(s.target.files).map(i=>({file:i,name:i.name,url:URL.createObjectURL(i),toDelete:!1}));g([...m,...t]),s.target.value=""},ge=(s,a)=>{s.preventDefault();const t=[...m];t[a].file?t.splice(a,1):t[a].toDelete=!0,g(t)},be=(s,a)=>{z(a)},je=()=>{z(null)},ve=s=>{s.preventDefault()},Ne=(s,a)=>{if(s.preventDefault(),N===null||N===a)return;const t=[...m],i=t[N];t.splice(N,1),t.splice(a,0,i),g(t),z(null)},ye=s=>{s.preventDefault();const a=V.current.value.trim();a&&(b([...u,{url:a,toDelete:!1}]),V.current.value="")},De=(s,a)=>{s.preventDefault();const t=[...u];t[a].url&&!t[a].id?t.splice(a,1):t[a].toDelete=!0,b(t)},Re=(s,a)=>{B(a)},we=()=>{B(null)},Se=s=>{s.preventDefault()},ke=(s,a)=>{if(s.preventDefault(),y===null||y===a)return;const t=[...u],i=t[y];t.splice(y,1),t.splice(a,0,i),b(t),B(null)},q=s=>{var t;s!=null&&s.id?M(!0):M(!1),c.current&&c.resetDeleteFlag&&c.resetDeleteFlag(),w.current.value=(s==null?void 0:s.id)??"",S.current.value=(s==null?void 0:s.name)??"",k.current.value=(s==null?void 0:s.sku)??"",F.current.value=(s==null?void 0:s.summary)??"",C.current.value=(s==null?void 0:s.description)??"",E.current.value=(s==null?void 0:s.max_occupancy)??2,T.current.value=(s==null?void 0:s.beds_count)??1,_.current.value=(s==null?void 0:s.size_m2)??0,O.current.value=(s==null?void 0:s.total_rooms)??1,P.current.value=(s==null?void 0:s.price)??0,A.current.value=(s==null?void 0:s.discount)??0,c.current&&c.image&&(c.image.src=s!=null&&s.image?`/storage/images/item/${s.image}`:"",c.current.value=null),setTimeout(()=>{$(I.current).val((s==null?void 0:s.room_type)||"standard").trigger("change")},100);const a=((t=s==null?void 0:s.amenities)==null?void 0:t.map(i=>i.id.toString()))||[];if(setTimeout(()=>{$(G.current).val(a).trigger("change")},100),s!=null&&s.gallery)try{const i=typeof s.gallery=="string"?JSON.parse(s.gallery):s.gallery;p(i.map(n=>({url:`/storage/images/item/${n}`,toDelete:!1})))}catch{p([])}else p([]);if(s!=null&&s.pdf)try{const i=typeof s.pdf=="string"?JSON.parse(s.pdf):s.pdf;g(i.map(n=>({name:n.split("/").pop(),url:`/storage/images/item/${n}`,toDelete:!1})))}catch{g([])}else g([]);if(s!=null&&s.linkvideo)try{const i=typeof s.linkvideo=="string"?JSON.parse(s.linkvideo):s.linkvideo;b(i.map(n=>({url:n,toDelete:!1})))}catch{b([])}else b([]);$(j.current).modal("show")},Ie=async s=>{s.preventDefault();const a={id:w.current.value||void 0,type:"room",name:S.current.value,sku:k.current.value,room_type:$(I.current).val(),summary:F.current.value,description:C.current.value,max_occupancy:E.current.value,beds_count:T.current.value,size_m2:_.current.value,total_rooms:O.current.value,price:P.current.value,discount:A.current.value},t=new FormData;for(const l in a)t.append(l,a[l]);if(c.current){const l=c.current.files[0];l&&t.append("image",l),c.getDeleteFlag&&c.getDeleteFlag()&&t.append("image_delete","DELETE")}let i=0,n=0;const R=[];d.forEach((l,o)=>{l.toDelete||(l.file?(t.append(`gallery[${i}]`,l.file),R.push({type:"new",index:i}),i++):l.id&&(t.append(`gallery_ids[${n}]`,l.id),R.push({type:"existing",id:l.id,index:n}),n++))}),R.length>0&&t.append("gallery_order",JSON.stringify(R));const H=d.filter(l=>l.toDelete&&l.id).map(l=>l.id);H.length>0&&H.forEach((l,o)=>{t.append(`deleted_images[${o}]`,l)});const U=m.filter(l=>!l.toDelete);let Q=0;U.forEach(l=>{l.file&&(t.append(`pdf[${Q}]`,l.file),Q++)});const K=U.map((l,o)=>({index:o,order:o+1,name:l.name||"Documento.pdf"}));K.length>0&&t.append("pdf_order",JSON.stringify(K));const X=m.map((l,o)=>l.toDelete?o:null).filter(l=>l!==null);X.length>0&&t.append("deleted_pdfs",JSON.stringify(X));const Y=u.filter(l=>!l.toDelete).map((l,o)=>({url:l.url,order:o+1}));Y.length>0&&t.append("linkvideo",JSON.stringify(Y));const Z=u.map((l,o)=>l.toDelete?o:null).filter(l=>l!==null);Z.length>0&&t.append("deleted_videos",JSON.stringify(Z));const _e=$(G.current).val()||[];t.append("amenities",JSON.stringify(_e)),await D.save(t)&&(c.current&&c.resetDeleteFlag&&c.resetDeleteFlag(),$(f.current).dxDataGrid("instance").refresh(),$(j.current).modal("hide"),p([]),g([]),b([]))},Fe=async({id:s,value:a})=>{await D.boolean({id:s,field:"visible",value:a})&&$(f.current).dxDataGrid("instance").refresh()},Ce=async({id:s,value:a})=>{await D.boolean({id:s,field:"status",value:a})&&$(f.current).dxDataGrid("instance").refresh()},Ee=async s=>{const{isConfirmed:a}=await Me.fire({title:"Eliminar habitación",text:"¿Estás seguro de eliminar esta habitación? Se eliminarán también las reservas asociadas.",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar"});!a||!await D.delete(s)||$(f.current).dxDataGrid("instance").refresh()},Te={standard:"Estándar",suite:"Suite",deluxe:"Deluxe",presidential:"Presidencial",family:"Familiar",executive:"Ejecutiva"};return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{gridRef:f,title:"Habitaciones",rest:D,restParams:{filters:JSON.stringify([["type","=","room"]])},toolBar:s=>{s.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(f.current).dxDataGrid("instance").refresh()}}),s.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nueva habitación",hint:"Nueva habitación",onClick:()=>q()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"image",caption:"Imagen",width:"80px",allowFiltering:!1,cellTemplate:(s,{data:a})=>{a.image?h(s,e.jsx("img",{src:`/storage/images/item/${a.image}`,alt:a.name,style:{width:"60px",height:"60px",objectFit:"cover",borderRadius:"8px"},onError:t=>t.target.src="/api/cover/thumbnail/null"})):h(s,e.jsx("div",{className:"bg-light d-flex align-items-center justify-content-center",style:{width:"60px",height:"60px",borderRadius:"8px"},children:e.jsx("i",{className:"mdi mdi-bed-double text-muted",style:{fontSize:"32px"}})}))}},{dataField:"name",caption:"Habitación",width:"20%",cellTemplate:(s,{data:a})=>{h(s,e.jsxs("div",{children:[e.jsx("strong",{children:a.name}),e.jsxs("div",{className:"small text-muted",children:[e.jsx("span",{className:"badge badge-soft-secondary",children:a.sku}),a.room_type&&e.jsx("span",{className:"badge badge-soft-info ml-1",children:Te[a.room_type]||a.room_type})]})]}))}},{dataField:"max_occupancy",caption:"Capacidad",width:"15%",cellTemplate:(s,{data:a})=>{h(s,e.jsxs("div",{children:[e.jsxs("div",{className:"small",children:[e.jsx("i",{className:"mdi mdi-account-multiple text-primary mr-1"}),a.max_occupancy||0," personas"]}),e.jsxs("div",{className:"small",children:[e.jsx("i",{className:"mdi mdi-bed text-success mr-1"}),a.beds_count||0," cama",a.beds_count!==1?"s":""]}),a.size_m2>0&&e.jsxs("div",{className:"small",children:[e.jsx("i",{className:"mdi mdi-ruler-square text-info mr-1"}),a.size_m2," m²"]})]}))}},{dataField:"total_rooms",caption:"Disponibles",width:"10%",cellTemplate:(s,{data:a})=>{h(s,e.jsxs("div",{className:"text-center",children:[e.jsx("h5",{className:"mb-0",children:e.jsx("span",{className:"badge badge-soft-primary",children:a.total_rooms||0})}),e.jsx("small",{className:"text-muted",children:"habitaciones"})]}))}},{dataField:"price",caption:"Precio/Noche",width:"12%",cellTemplate:(s,{data:a})=>{h(s,e.jsxs("div",{children:[e.jsxs("strong",{className:"text-success",children:["S/ ",Number(a.price||0).toFixed(2)]}),a.discount>0&&e.jsx("div",{className:"small",children:e.jsxs("span",{className:"badge badge-soft-danger",children:["-",a.discount,"%"]})})]}))}},{dataField:"visible",caption:"Visible",dataType:"boolean",cellTemplate:(s,{data:a})=>{$(s).empty(),h(s,e.jsx(se,{checked:a.visible==1,onChange:()=>Fe({id:a.id,value:!a.visible})}))}},{dataField:"status",caption:"Activo",dataType:"boolean",cellTemplate:(s,{data:a})=>{$(s).empty(),h(s,e.jsx(se,{checked:a.status==1,onChange:()=>Ce({id:a.id,value:!a.status})}))}},{caption:"Acciones",cellTemplate:(s,{data:a})=>{s.css("text-overflow","unset"),s.append(ae({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>q(a)})),s.append(ae({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>Ee(a.id)}))},allowFiltering:!1,allowExporting:!1}].filter(s=>!(!s||s.dataField==="image"&&!Le.has("items","image")))}),e.jsx(Ve,{modalRef:j,title:te?"Editar habitación":"Nueva habitación",onSubmit:Ie,size:"xl",children:e.jsxs("div",{id:"rooms-container",children:[e.jsx("input",{ref:w,type:"hidden"}),e.jsxs("ul",{className:"nav nav-pills nav-justified mb-4",role:"tablist",style:{backgroundColor:"#f8f9fa",borderRadius:"8px",padding:"4px",border:"1px solid #e9ecef"},children:[e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link active",id:"basic-info-tab","data-bs-toggle":"pill","data-bs-target":"#basic-info",type:"button",role:"tab",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"Información Básica"]})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link",id:"details-tab","data-bs-toggle":"pill","data-bs-target":"#details",type:"button",role:"tab",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-list-ul me-2"}),"Detalles"]})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link",id:"amenities-tab","data-bs-toggle":"pill","data-bs-target":"#amenities",type:"button",role:"tab",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-star me-2"}),"Amenidades"]})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link",id:"multimedia-tab","data-bs-toggle":"pill","data-bs-target":"#multimedia",type:"button",role:"tab",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-images me-2"}),"Multimedia"]})})]}),e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"tab-pane fade show active",id:"basic-info",role:"tabpanel",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-tag me-2"}),"Identificación"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(x,{eRef:S,label:"Nombre de la Habitación",required:!0,placeholder:"Ej: Habitación Doble Standard"}),e.jsx(x,{eRef:k,label:"SKU",required:!0,placeholder:"Ej: ROOM-001"}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label",children:["Tipo de Habitación ",e.jsx("span",{className:"text-danger",children:"*"})]}),e.jsxs(ee,{eRef:I,dropdownParent:"#rooms-container",required:!0,children:[e.jsx("option",{value:"standard",children:"Estándar"}),e.jsx("option",{value:"suite",children:"Suite"}),e.jsx("option",{value:"deluxe",children:"Deluxe"}),e.jsx("option",{value:"presidential",children:"Presidencial"}),e.jsx("option",{value:"family",children:"Familiar"}),e.jsx("option",{value:"executive",children:"Ejecutiva"})]})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-align-left me-2"}),"Descripción"]})}),e.jsx("div",{className:"card-body",children:e.jsx(We,{eRef:F,label:"Resumen",rows:3,placeholder:"Breve descripción..."})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-edit me-2"}),"Descripción Completa"]})}),e.jsx("div",{className:"card-body",children:e.jsx(Be,{eRef:C,label:"Descripción Detallada"})})]})})]})}),e.jsx("div",{className:"tab-pane fade",id:"details",role:"tabpanel",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-users me-2"}),"Capacidad"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(x,{eRef:E,label:"Capacidad Máxima",type:"number",required:!0,min:"1",max:"10",specification:"Número máximo de huéspedes"}),e.jsx(x,{eRef:T,label:"Número de Camas",type:"number",required:!0,min:"1",max:"5"}),e.jsx(x,{eRef:_,label:"Tamaño (m²)",type:"number",min:"0",step:"0.1"}),e.jsx(x,{eRef:O,label:"Total de Habitaciones",type:"number",required:!0,min:"1",specification:"Cantidad disponible de este tipo"})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-dollar-sign me-2"}),"Precios"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(x,{eRef:P,label:"Precio por Noche (S/)",type:"number",required:!0,min:"0",step:"0.01"}),e.jsx(x,{eRef:A,label:"Descuento (%)",type:"number",min:"0",max:"100",step:"0.01"})]})]})})]})}),e.jsx("div",{className:"tab-pane fade",id:"amenities",role:"tabpanel",children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-star me-2"}),"Amenidades Incluidas"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(ee,{eRef:G,label:"Selecciona las amenidades",dropdownParent:"#rooms-container",multiple:!0,children:ie.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))}),e.jsx("small",{className:"text-muted",children:"Selecciona las amenidades incluidas en esta habitación"})]})]})}),e.jsx("div",{className:"tab-pane fade",id:"multimedia",role:"tabpanel",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-image me-2"}),"Imagen Principal"]})}),e.jsx("div",{className:"card-body",children:e.jsx(ze,{eRef:c,name:"image",label:"Imagen Principal",aspect:16/9})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-images me-2"}),"Galería de Imágenes"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("label",{className:"form-label fw-semibold text-dark mb-3",children:[e.jsx("i",{className:"fas fa-images me-2 text-primary"}),"Galería de Imágenes",d.filter(s=>!s.toDelete).length>0&&e.jsx("span",{className:"badge bg-primary ms-2",children:d.filter(s=>!s.toDelete).length})]}),e.jsx("input",{ref:J,type:"file",multiple:!0,accept:"image/*",hidden:!0,onChange:ce}),e.jsxs("div",{className:"gallery-container",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"16px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"12px",border:"2px dashed #dee2e6",minHeight:"160px"},children:[d.filter(s=>!s.toDelete).map((s,a)=>{const t=d.findIndex(n=>n===s),i=a+1;return e.jsxs("div",{className:"gallery-item position-relative",draggable:!0,onDragStart:n=>ue(n,t),onDragEnd:fe,onDragOver:pe,onDrop:n=>xe(n,t),style:{aspectRatio:"1",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease",cursor:"grab",transform:v===t?"scale(1.05)":"scale(1)",opacity:v===t?.8:1,border:"3px solid transparent",background:"white"},children:[e.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:e.jsx("span",{className:"badge bg-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"24px",height:"24px",fontSize:"11px",fontWeight:"bold"},children:i})}),e.jsx("img",{src:s.url,alt:`Imagen ${i}`,className:"w-100 h-100",style:{objectFit:"cover",pointerEvents:"none"}}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,0.7)",opacity:0,transition:"opacity 0.3s ease"},onMouseEnter:n=>n.currentTarget.style.opacity=1,onMouseLeave:n=>n.currentTarget.style.opacity=0,children:e.jsx("div",{className:"d-flex gap-2",children:e.jsx("button",{type:"button",className:"btn btn-danger btn-sm rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},onClick:n=>me(n,t),title:"Eliminar imagen",children:e.jsx("i",{className:"fas fa-trash text-white"})})})})]},t)}),e.jsx("div",{className:"gallery-add-button d-flex flex-column align-items-center justify-content-center",style:{aspectRatio:"1",border:"3px dashed #0d6efd",borderRadius:"12px",backgroundColor:"rgba(13, 110, 253, 0.05)",cursor:"pointer",transition:"all 0.3s ease",minHeight:"120px"},onClick:()=>J.current.click(),onDrop:oe,onDragOver:de,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-2 bg-primary",style:{width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto"},children:e.jsx("i",{className:"fas fa-plus text-white fa-lg"})}),e.jsx("p",{className:"mb-0 text-primary fw-semibold",style:{fontSize:"12px"},children:"Agregar Imagen"}),e.jsx("small",{className:"text-muted",style:{fontSize:"10px"},children:"Arrastra o haz clic"})]})})]})]})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-file-pdf me-2 text-danger"}),"Documentos PDF"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("label",{className:"form-label fw-semibold text-dark mb-3",children:[e.jsx("i",{className:"fas fa-file-pdf me-2 text-danger"}),"Archivos PDF (Folletos / Planos)",m.filter(s=>!s.toDelete).length>0&&e.jsx("span",{className:"badge bg-danger ms-2",children:m.filter(s=>!s.toDelete).length})]}),e.jsx("input",{ref:L,type:"file",multiple:!0,accept:".pdf",hidden:!0,onChange:he}),e.jsx("div",{className:"list-group mb-3",children:m.filter(s=>!s.toDelete).map((s,a)=>{const t=m.findIndex(i=>i===s);return e.jsxs("div",{draggable:!0,onDragStart:i=>be(i,t),onDragEnd:je,onDragOver:ve,onDrop:i=>Ne(i,t),className:"list-group-item d-flex align-items-center justify-content-between",style:{cursor:"grab",opacity:N===t?.5:1,backgroundColor:N===t?"#f8f9fa":"white",transition:"all 0.2s ease"},children:[e.jsxs("div",{className:"d-flex align-items-center flex-grow-1",style:{minWidth:0},children:[e.jsx("span",{className:"badge bg-danger me-3",style:{minWidth:"28px"},children:a+1}),e.jsx("i",{className:"fas fa-grip-vertical text-muted me-3"}),e.jsx("i",{className:"fas fa-file-pdf text-danger me-2"}),e.jsx("span",{className:"text-truncate",style:{maxWidth:"250px"},children:s.name})]}),e.jsxs("div",{className:"d-flex gap-2 flex-shrink-0",children:[!s.file&&e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:i=>ge(i,t),children:e.jsx("i",{className:"fas fa-trash"})})]})]},t)})}),e.jsxs("button",{type:"button",className:"btn btn-outline-danger w-100",onClick:()=>L.current.click(),children:[e.jsx("i",{className:"fas fa-plus me-2"}),"Agregar PDFs"]})]})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-video me-2 text-success"}),"Videos"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("label",{className:"form-label fw-semibold text-dark mb-3",children:[e.jsx("i",{className:"fas fa-video me-2 text-success"}),"Links de Videos (Tour Virtual)",u.filter(s=>!s.toDelete).length>0&&e.jsx("span",{className:"badge bg-success ms-2",children:u.filter(s=>!s.toDelete).length})]}),e.jsx("div",{className:"list-group mb-3",children:u.filter(s=>!s.toDelete).map((s,a)=>{const t=u.findIndex(i=>i===s);return e.jsxs("div",{draggable:!0,onDragStart:i=>Re(i,t),onDragEnd:we,onDragOver:Se,onDrop:i=>ke(i,t),className:"list-group-item d-flex align-items-center justify-content-between",style:{cursor:"grab",opacity:y===t?.5:1,backgroundColor:y===t?"#f8f9fa":"white",transition:"all 0.2s ease"},children:[e.jsxs("div",{className:"d-flex align-items-center flex-grow-1",style:{minWidth:0,overflow:"hidden"},children:[e.jsx("span",{className:"badge bg-success me-3 flex-shrink-0",style:{minWidth:"28px"},children:a+1}),e.jsx("i",{className:"fas fa-grip-vertical text-muted me-3 flex-shrink-0"}),e.jsx("i",{className:"fas fa-video text-success me-2 flex-shrink-0"}),e.jsx("span",{className:"small",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},title:s.url,children:s.url})]}),e.jsxs("div",{className:"d-flex gap-2 flex-shrink-0 ms-2",children:[e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:e.jsx("i",{className:"fas fa-external-link-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:i=>De(i,t),children:e.jsx("i",{className:"fas fa-trash"})})]})]},t)})}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{ref:V,type:"url",className:"form-control",placeholder:"https://youtube.com/watch?v=..."}),e.jsxs("button",{type:"button",className:"btn btn-success",onClick:ye,children:[e.jsx("i",{className:"fas fa-plus me-2"}),"Agregar"]})]})]})]})})]})})]})]})})]})};Je((f,j)=>{Oe.createRoot(f).render(e.jsx(Pe,{...j,title:"Habitaciones",children:e.jsx(qe,{...j})}))});

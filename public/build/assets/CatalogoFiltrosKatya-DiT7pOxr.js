import{r as e,m as t,j as a,bb as s,bc as i,J as r,aI as l,bf as o,X as n,a5 as c,aq as d,bh as m,E as u,R as g}from"./vendor-react-CtPXetfm.js";import"./ProductDetailB-SK_tZlp9.js";import{I as h}from"./ItemsRest-BWs_Glww.js";import{A as x}from"./ArrayJoin-BdaqwNXM.js";import{S as p}from"./SelectForm-DCbCyjIZ.js";import b from"./CardProductBananaLab-SsBfPo_Z.js";import f from"./CardProductMultivet-BO__zhEa.js";import y from"./CardProductKatya-CastNWhI.js";import{G as w}from"./General-ClVW7qxN.js";import{C as j}from"./Number2Currency-BX4epFEo.js";import{m as v,A as N}from"./vendor-motion-CThzL09Q.js";import"./vendor-swiper-Cr_RrIb_.js";import"./OpenPayCardModal-Dy4WIZ0X.js";import"./CartKuchara-CLqHnhL7.js";import"./CartModal-D1PZOJvB.js";import"./CartItemRow-BsuK_3Dc.js";import"./Footer-coriRrmf.js";import"./BasicRest-DpoFkM_z.js";import"./BooleanLimit-q2Ad9fGY.js";import"./CartModalBananaLab-DhRmBLoO.js";import"./TippyButton-Dqi9Vaf_.js";const _=new h,C={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"}},k="backdrop-blur-xl bg-gradient-to-br from-white/95 via-white/90 to-white/85 border border-gray-200/60 rounded-2xl shadow-2xl shadow-gray-900/10",S=({delay:e=0})=>a.jsx(v.div,{className:"group w-full h-full",initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:e,duration:.6,ease:"easeOut"},children:a.jsx("div",{className:"px-2 h-full",children:a.jsx("div",{className:"bg-white rounded-3xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden h-full",children:a.jsxs("div",{className:"flex flex-col h-[400px] lg:h-[460px] xl:h-[400px] 2xl:h-[430px]",children:[a.jsxs("div",{className:"relative flex-1 bg-gray-100 rounded-t-3xl overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 via-gray-100 to-gray-200",children:[a.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2.5s_infinite] bg-gradient-to-r from-transparent via-white/70 to-transparent transform skew-x-12"}),a.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_3s_infinite] bg-gradient-to-r from-transparent via-blue-100/30 to-transparent transform skew-x-12",style:{animationDelay:"0.5s"}})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx(v.div,{animate:{scale:[1,1.1,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:a.jsx(c,{className:"w-12 h-12 text-gray-300"})})}),a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("div",{className:"h-6 w-16 bg-gray-300 rounded-full animate-pulse"})}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full animate-pulse"})})]}),a.jsxs("div",{className:"p-4 space-y-3 bg-white flex-shrink-0",children:[a.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded-full animate-pulse"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 w-full bg-gray-300 rounded animate-pulse"}),a.jsx("div",{className:"h-4 w-3/4 bg-gray-300 rounded animate-pulse"})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded animate-pulse"}),a.jsx("div",{className:"h-5 w-24 bg-gray-400 rounded animate-pulse"})]}),a.jsx("div",{className:"h-10 w-10 bg-gray-300 rounded-xl animate-pulse"})]}),a.jsxs("div",{className:"flex items-center space-x-1 pt-1",children:[[1,2,3,4,5].map(e=>a.jsx("div",{className:"h-3 w-3 bg-gray-200 rounded-full animate-pulse"},e)),a.jsx("div",{className:"h-3 w-8 bg-gray-200 rounded animate-pulse ml-2"})]})]})]})})})}),T=({items:h,data:T,filteredData:E,cart:M,setCart:A,setFavorites:G,favorites:I})=>{const B=(e,t)=>{const s={product:e,data:T,setFavorites:G,favorites:I,cart:M,setCart:A,...t};switch(T?.type_card_product||"katya"){case"multivet":return a.jsx(f,{...s});case"katya":return a.jsx(y,{...s});default:return a.jsx(b,{...s,widthClass:"w-full sm:w-full lg:w-full"})}},$=[{value:"created_at:desc",label:"Más reciente"},{value:"created_at:asc",label:"Mas antiguo"},{value:"final_price:asc",label:"Precio: Menor a Mayor"},{value:"final_price:desc",label:"Precio: Mayor a Menor"},{value:"name:asc",label:"Nombre: A-Z"},{value:"name:desc",label:"Nombre: Z-A"},{value:"most_sold:desc",label:"Más vendidos"},{value:"views:desc",label:"Más visitados"},{value:"best_discount:desc",label:"Mejores ofertas"},{value:"featured:desc",label:"Destacados"},{value:"offering:desc",label:"En oferta"}],[H,O]=e.useState(null),[R,F]=e.useState([]),[q,z]=e.useState([]),[Z,J]=e.useState([]),K=Z.map(e=>({...e,subcategories:q.filter(t=>t.category_id===e.id)})),[D,X]=e.useState([]),[U,W]=e.useState([]),[Y,V]=e.useState([]),[Q,ee]=e.useState([]),[te,ae]=e.useState(null);j(),j(),j(),j(),j(),j(),j(),j(),j(),j(),j(),j(),j(),j();const[se,ie]=e.useState(()=>("undefined"!=typeof window&&window.innerWidth,{marca:!1,precio:!1,categoria:!1,subcategoria:!1,colores:!1,coleccion:!1,tienda:!1})),[re,le]=e.useState({collection_id:[],category_id:[],brand_id:[],subcategory_id:[],store_id:[],tag_id:t.GET.tag?t.GET.tag.split(","):[],price:[],name:t.GET.search||null,sort:(()=>{if(t.GET.sortBy){const e=t.GET.sortBy;let a=$.find(t=>t.value===e);if(a||(a=$.find(t=>t.label.toLowerCase()===e.toLowerCase())),a){const[e,t]=a.value.split(":");return[{selector:e,desc:"desc"===t}]}}return[{selector:"final_price",desc:!0}]})()}),[oe,ne]=e.useState([]),[ce,de]=e.useState([]),[me,ue]=e.useState(!0),[ge,he]=e.useState(!1),[xe,pe]=e.useState(!1),[be,fe]=e.useState(!1),[ye,we]=e.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:24,from:0,to:0}),je=e=>{const t=[];if(e.sort&&Array.isArray(e.sort)){const a=["featured","offering","is_new","recommended"];e.sort.forEach(e=>{a.includes(e.selector)&&t.push([e.selector,"=",1])})}if(e.collection_id.length>0){const a=e.collection_id.map(e=>["collection.id","=",D.find(t=>t.slug===e)?.id||e]);t.push(x(a,"or"))}if(e.category_id.length>0){const a=e.category_id.map(e=>["category.id","=",e]);t.push(x(a,"or"))}if(e.subcategory_id.length>0){const a=e.subcategory_id.map(e=>["subcategory.id","=",e]);t.push(x(a,"or"))}if(e.brand_id.length>0){const a=e.brand_id.map(e=>{const t=R.find(t=>t.slug===e);return t?["brand.slug","=",t.slug]:["brand.slug","=",e]});t.push(x(a,"or"))}if(e.store_id.length>0){const a=e.store_id.map(e=>["store.id","=",U.find(t=>t.slug===e)?.id||e]);t.push(x(a,"or"))}if(e.tag_id&&e.tag_id.length>0){const a=e.tag_id.map(e=>["item_tag.tag_id","=",e]);t.push(x(a,"or"))}if(e.price&&e.price.length>0){const a=e.price.map(e=>["and",[["final_price",">=",e.min],"and",["final_price","<=",e.max]]]);t.push(x(a,"or"))}if(e.name){const a=[["name","contains",e.name],"or",["summary","contains",e.name],"or",["description","contains",e.name]];t.push(a)}return x(t,"and")},ve=e=>[["name","contains",e],"or",["summary","contains",e],"or",["description","contains",e]],[Ne,_e]=e.useState(!0),[Ce,ke]=e.useState(null),Se=e=>{if(!e||e.length<2||!Ne)return null;const t=e.toLowerCase().trim(),a=Z.filter(e=>e.name.toLowerCase().includes(t)||t.includes(e.name.toLowerCase())),s=R.filter(e=>e.name.toLowerCase().includes(t)||t.includes(e.name.toLowerCase())),i=q.filter(e=>e.name.toLowerCase().includes(t)||t.includes(e.name.toLowerCase())),r=D.filter(e=>e.name.toLowerCase().includes(t)||t.includes(e.name.toLowerCase()));U.filter(e=>e.name.toLowerCase().includes(t)||t.includes(e.name.toLowerCase()));return{categories:a,brands:s,subcategories:i,collections:r,hasMatches:a.length>0||s.length>0||i.length>0||r.length>0}},Te=e=>{const t=Se(e);if(!t||!t.hasMatches)return!1;const a=t.categories.some(e=>re.category_id.includes(e.id)),s=t.brands.some(e=>re.brand_id.includes(e.slug)),i=t.subcategories.some(e=>re.subcategory_id.includes(e.id)),r=t.collections.some(e=>re.collection_id.includes(e.slug));return a||s||i||r},Pe=e=>{if(!e||e.length<2)return;const t=Se(e);t&&t.hasMatches&&Ne?(ke(e),le(a=>{const s={...a,name:e};if(t.categories.length>0){const e=t.categories.map(e=>e.id);s.category_id=[...new Set([...s.category_id,...e])]}if(t.brands.length>0){const e=t.brands.map(e=>e.slug);s.brand_id=[...new Set([...s.brand_id,...e])]}if(t.subcategories.length>0){const e=t.subcategories.map(e=>e.id);s.subcategory_id=[...new Set([...s.subcategory_id,...e])]}if(t.collections.length>0){const e=t.collections.map(e=>e.slug);s.collection_id=[...new Set([...s.collection_id,...e])]}return s})):(le(t=>({...t,name:e})),ke(null))};window.debugCatalogSearch=async e=>{const t=Se(e),a={...re,name:e};t&&t.hasMatches&&(t.categories.length>0&&(a.category_id=[...new Set([...a.category_id,...t.categories.map(e=>e.id)])]),t.brands.length>0&&(a.brand_id=[...new Set([...a.brand_id,...t.brands.map(e=>e.slug)])]),t.subcategories.length>0&&(a.subcategory_id=[...new Set([...a.subcategory_id,...t.subcategories.map(e=>e.id)])]),t.collections.length>0&&(a.collection_id=[...new Set([...a.collection_id,...t.collections.map(e=>e.slug)])]));const s=je(a),i=ve(e);try{const e=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:i,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});await e.json(),await _.paginate({filter:s,sort:[{selector:"name",desc:!1}],skip:0,take:8,requireTotalCount:!1,with:"category,brand"})}catch(r){}},window.handleIntelligentSearch=Pe,window.toggleIntelligentSearch=()=>{_e(!Ne)},window.clearIntelligentFilters=()=>{if(Ce&&re.name){const e=Se(re.name);e&&e.hasMatches&&le(t=>{const a={...t};if(e.categories.length>0){const t=e.categories.map(e=>e.id);a.category_id=a.category_id.filter(e=>!t.includes(e))}if(e.brands.length>0){const t=e.brands.map(e=>e.slug);a.brand_id=a.brand_id.filter(e=>!t.includes(e))}if(e.subcategories.length>0){const t=e.subcategories.map(e=>e.id);a.subcategory_id=a.subcategory_id.filter(e=>!t.includes(e))}if(e.collections.length>0){const t=e.collections.map(e=>e.slug);a.collection_id=a.collection_id.filter(e=>!t.includes(e))}return a})}ke(null)},window.isIntelligentSearchActive=Te,window.detectIntelligentFilters=Se,window.testJBLSearch=()=>{const e=Se("JBL");e&&e.hasMatches&&Pe("JBL")},window.simulateHeaderSearch=e=>{le(t=>({...t,name:e}))},window.forceIntelligentSearch=e=>{const t=Ne;_e(!0),setTimeout(()=>{Pe(e),_e(t)},100)};const Le=async(e=1,t=!1)=>{fe(!1),t?he(!0):ue(!0);try{const t=je(re),a=24,s=["featured","offering","is_new","recommended"],i=re.sort.filter(e=>!s.includes(e.selector)),r={filter:t,sort:i.length>0?i:[{selector:"final_price",desc:!0}],skip:(e-1)*a,take:a,requireTotalCount:!0,filterSequence:oe},l=await _.paginate(r);if(200!==l.status)throw new Error(`API returned status ${l.status}`);de(l.data||[]),pe(!0),l.data&&0!==l.data.length||setTimeout(()=>{fe(!0)},300);const o=l.totalCount||0,n=Math.ceil(o/a);we({currentPage:e,totalPages:n,totalItems:o,itemsPerPage:a,from:o>0?(e-1)*a+1:0,to:Math.min(e*a,o)}),F(l?.summary?.brands||[]),J(l?.summary?.categories||[]),z(l?.summary?.subcategories||[]),X(l?.summary?.collections||[]),W(l?.summary?.stores||[]),V(l?.summary?.priceRanges||[]),ee(l?.summary?.tags||[])}catch(a){if(re.name&&0===re.category_id.length&&0===re.brand_id.length&&0===re.subcategory_id.length&&0===re.collection_id.length&&0===re.store_id.length&&0===re.tag_id.length&&0===re.price.length)try{const t={filter:ve(re.name),sort:re.sort,skip:24*(e-1),take:24,requireTotalCount:!0,with:"category,brand"},a=await _.paginate(t);if(200===a.status){de(a.data||[]),pe(!0),a.data&&0!==a.data.length||setTimeout(()=>{fe(!0)},300);const t=a.totalCount||0,s=Math.ceil(t/24);return void we({currentPage:e,totalPages:s,totalItems:t,itemsPerPage:24,from:t>0?24*(e-1)+1:0,to:Math.min(24*e,t)})}}catch(s){}setTimeout(()=>{fe(!0)},300)}finally{ue(!1),he(!1)}};e.useEffect(()=>{E&&(J(E.categories||[]),F(E.brands||[]),z(E.subcategories||[]),W(E.stores||[]),V(E.priceRanges||[]),setTimeout(()=>{(async()=>{try{const e={};if(t.GET.category&&(e.category_slugs=t.GET.category),t.GET.brand&&(e.brand_slugs=t.GET.brand),t.GET.subcategory&&(e.subcategory_slugs=t.GET.subcategory),t.GET.collection&&(e.collection_slugs=t.GET.collection),t.GET.store&&(e.store_slugs=t.GET.store),Object.keys(e).length>0){const a=await _.convertSlugs(e);if(200===a.status){const e={...re,category_id:Array.isArray(a.data.category_ids)?a.data.category_ids:a.data.category_ids?[a.data.category_ids]:[],brand_id:t.GET.brand?[t.GET.brand]:[],subcategory_id:Array.isArray(a.data.subcategory_ids)?a.data.subcategory_ids:a.data.subcategory_ids?[a.data.subcategory_ids]:[],collection_id:Array.isArray(a.data.collection_ids)?a.data.collection_ids:a.data.collection_ids?[a.data.collection_ids]:[],store_id:Array.isArray(a.data.store_ids)?a.data.store_ids:a.data.store_ids?[a.data.store_ids]:[]};le(e),a.data.store_ids}}}catch(e){}})()},50)),t.GET.search&&Ne&&setTimeout(()=>{Pe(t.GET.search)},150),Le(1,!1)},[E,Ne]),e.useEffect(()=>{Le(1,xe)},[re]),e.useEffect(()=>{if(re.name&&Ne&&R.length>0){Te(re.name)||setTimeout(()=>{const e=Se(re.name);e&&e.hasMatches&&(le(t=>{const a={...t};if(e.brands.length>0){const t=e.brands.map(e=>e.slug);a.brand_id=[...new Set([...a.brand_id,...t])]}if(e.categories.length>0){const t=e.categories.map(e=>e.id);a.category_id=[...new Set([...a.category_id,...t])]}if(e.subcategories.length>0){const t=e.subcategories.map(e=>e.id);a.subcategory_id=[...new Set([...a.subcategory_id,...t])]}if(e.collections.length>0){const t=e.collections.map(e=>e.slug);a.collection_id=[...new Set([...a.collection_id,...t])]}return a}),ke(re.name))},100)}},[re.name,Ne,R,Z,q,D]);const Ee=e=>{e>=1&&e<=ye.totalPages&&e!==ye.currentPage&&(window.scrollTo({top:0,behavior:"smooth"}),Le(e,!1))},Me=(e,t)=>{["is_new","offering","recommended","featured"].includes(e)?le(t=>({...t,[e]:!t[e]||!t[e]})):(le(a=>{const s=Array.isArray(a[e])?a[e]:[];let i;return i=s.includes(t)?s.filter(e=>e!==t):[...s,t],{...a,[e]:i}}),ne(a=>{if(!["brand_id","category_id","collection_id","store_id"].includes(e))return a;if(re[e]?.includes(t)){return 0===(re[e]?.filter(e=>e!==t)||[]).length?a.filter(t=>t!==e):a}return a.includes(e)?a:[...a,e]}))},[Ae,Ge]=e.useState(""),[Ie,Be]=e.useState(""),[$e,He]=e.useState(""),[Oe,Re]=e.useState(""),[Fe,qe]=e.useState("");Z.filter(e=>e.name.toLowerCase().includes(Ae.toLowerCase())),q.filter(e=>{let t;return t=re.category_id&&re.category_id.length>0?Z.filter(e=>re.category_id.includes(e.id)).map(e=>e.id):Z.map(e=>e.id),t.includes(e.category_id)&&e.name.toLowerCase().includes(Ie.toLowerCase())}),R.filter(e=>e.name.toLowerCase().includes($e.toLowerCase())),D.filter(e=>e.name.toLowerCase().includes(Oe.toLowerCase())),U.filter(e=>e.name.toLowerCase().includes(Fe.toLowerCase()));const[ze,Ze]=e.useState(!1);return e.useEffect(()=>(ze?(document.body.classList.add("filter-modal-open"),document.body.style.overflow="hidden"):(document.body.classList.remove("filter-modal-open"),document.body.style.overflow="unset"),()=>{document.body.classList.remove("filter-modal-open"),document.body.style.overflow="unset"}),[ze]),a.jsx("section",{id:T?.element_id||null,className:"py-4 lg:py-12 bg-gradient-to-br from-gray-50/50 via-white to-blue-50/30",children:a.jsxs("div",{className:"mx-auto px-primary 2xl:px-0 2xl:max-w-7xl",children:[a.jsxs(v.div,{className:"flex flex-col md:flex-row md:justify-between items-start md:items-center mb-6 lg:mb-8 lg:pb-6 lg:border-b-2 border-gradient-to-r from-blue-200 via-indigo-200 to-purple-200",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[a.jsx(v.div,{className:"md:w-6/12 mb-0 md:mb-0",whileHover:{scale:1.02},children:a.jsx("h2",{className:`text-2xl lg:text-[32px] md:text-4xl font-bold customtext-primary  lg:mb-2 ${T?.class_title}`,children:T?.title})}),a.jsx("div",{className:"hidden md:flex flex-col w-full items-start md:items-center justify-end gap-4 md:flex-row md:w-5/12",children:a.jsx(v.div,{className:"w-full md:w-6/12 relative",children:a.jsx(p,{options:$,placeholder:"Ordenar por",value:re.sort?.[0]?.selector&&void 0!==re.sort?.[0]?.desc?`${re.sort[0].selector}:${re.sort[0].desc?"desc":"asc"}`:"final_price:desc",onChange:e=>{const[t,a]=e.split(":"),s=[{selector:t,desc:"desc"===a}];le(e=>({...e,sort:s}));const i=new URL(window.location);i.searchParams.set("sortBy",e),window.history.pushState({},"",i)},labelKey:"label",valueKey:"value",className:"customtext-neutral-dark border-primary rounded-lg",generalIcon:a.jsx(s,{className:"w-5 h-5 mr-2 customtext-primary"})})})})]}),a.jsxs("div",{className:"relative flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"w-full flex lg:hidden lg:mb-6  items-stretch gap-3",children:[a.jsx(v.div,{className:"flex-1 max-w-max",children:a.jsx(P,{text:"Abrir panel de filtros avanzados",position:"bottom",children:a.jsxs(v.button,{className:"w-full h-12 flex items-center justify-center gap-2 px-4 bg-primary text-white rounded-2xl shadow-xl shadow-blue-500/25 hover:shadow-2xl hover:shadow-blue-500/40 transition-all duration-300 overflow-hidden relative",onClick:()=>Ze(!0),whileHover:{scale:1.02,y:-3},whileTap:{scale:.98},...C,children:[a.jsx(v.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),a.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[a.jsx(v.div,{className:"p-1.5 bg-white/20 rounded-lg backdrop-blur-sm",animate:{rotate:[0,10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:a.jsx(i,{className:"h-4 w-4"})}),a.jsx("span",{className:"text-sm font-bold",children:"Filtros"})]})]})})}),a.jsx(v.div,{className:"flex-1",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},children:a.jsx(p,{options:$,placeholder:"Ordenar",value:re.sort?.[0]?.selector&&void 0!==re.sort?.[0]?.desc?`${re.sort[0].selector}:${re.sort[0].desc?"desc":"asc"}`:"final_price:desc",onChange:e=>{const[t,a]=e.split(":"),s=[{selector:t,desc:"desc"===a}];le(e=>({...e,sort:s}));const i=new URL(window.location);i.searchParams.set("sortBy",e),window.history.pushState({},"",i)},labelKey:"label",valueKey:"value",className:"!w-full customtext-neutral-dark border-primary rounded-2xl text-sm h-12"})})]}),a.jsxs(v.div,{className:(ze?"fixed inset-0 backdrop-blur-md z-[999] flex flex-col mobile-filter-modal":"hidden")+" lg:block lg:w-3/12 lg:bg-transparent lg:h-max lg:relative lg:z-auto",...ze?C:{},initial:!!ze&&{opacity:0},animate:!!ze&&{opacity:1},exit:!!ze&&{opacity:0},transition:{duration:.3},onClick:ze?e=>{e.target===e.currentTarget&&Ze(!1)}:void 0,children:[a.jsx("div",{className:`${ze?"flex flex-col h-full bg-transparent":k} lg:backdrop-blur-xl lg:border lg:border-gray-200/60 lg:rounded-2xl lg:shadow-2xl lg:shadow-gray-900/10`,children:a.jsx("div",{className:""+(ze?" bg-white rounded-t-3xl shadow-2xl flex flex-col flex-1 overflow-hidden safe-area-top mobile-filter-content":""),children:a.jsxs("div",{className:"flex-1 overflow-y-auto  space-y-6 custom-scrollbar",style:{height:ze?"calc(100vh - 200px)":"auto",paddingBottom:ze?"1rem":"1.5rem"},children:[a.jsxs(v.div,{className:"bg-secondary rounded-2xl overflow-hidden shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:[a.jsx("div",{className:"bg-primary p-4 text-start",children:a.jsx("h3",{className:"text-2xl font-bold customtext-secondary",children:"Categorías"})}),a.jsx(v.div,{className:"bg-secondary hover:bg-secondary transition-colors duration-200",children:a.jsxs("button",{className:"w-full p-4 flex items-center justify-between text-white text-left",onClick:()=>{le(e=>({...e,subcategory_id:[]})),ie(e=>{const t={...e};return K.forEach(e=>{t[`category_${e.id}`]=!1}),t}),ne([])},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M1.66675 15.0003C1.66675 13.7167 1.66675 13.0747 1.95569 12.6032C2.11736 12.3394 2.33919 12.1176 2.60302 11.9559C3.07453 11.667 3.71638 11.667 5.00008 11.667C6.28378 11.667 6.92563 11.667 7.39714 11.9559C7.66097 12.1176 7.8828 12.3394 8.04447 12.6032C8.33341 13.0747 8.33341 13.7167 8.33341 15.0003C8.33341 16.284 8.33341 16.9259 8.04447 17.3974C7.8828 17.6612 7.66097 17.8831 7.39714 18.0447C6.92563 18.3337 6.28378 18.3337 5.00008 18.3337C3.71638 18.3337 3.07453 18.3337 2.60302 18.0447C2.33919 17.8831 2.11736 17.6612 1.95569 17.3974C1.66675 16.9259 1.66675 16.284 1.66675 15.0003Z",stroke:"white","stroke-width":"1.25"}),a.jsx("path",{d:"M11.6667 15.0003C11.6667 13.7167 11.6667 13.0747 11.9557 12.6032C12.1173 12.3394 12.3392 12.1176 12.603 11.9559C13.0745 11.667 13.7164 11.667 15.0001 11.667C16.2837 11.667 16.9257 11.667 17.3972 11.9559C17.661 12.1176 17.8828 12.3394 18.0445 12.6032C18.3334 13.0747 18.3334 13.7167 18.3334 15.0003C18.3334 16.284 18.3334 16.9259 18.0445 17.3974C17.8828 17.6612 17.661 17.8831 17.3972 18.0447C16.9257 18.3337 16.2837 18.3337 15.0001 18.3337C13.7164 18.3337 13.0745 18.3337 12.603 18.0447C12.3392 17.8831 12.1173 17.6612 11.9557 17.3974C11.6667 16.9259 11.6667 16.284 11.6667 15.0003Z",stroke:"white","stroke-width":"1.25"}),a.jsx("path",{d:"M1.66675 5.00033C1.66675 3.71663 1.66675 3.07478 1.95569 2.60327C2.11736 2.33943 2.33919 2.11761 2.60302 1.95593C3.07453 1.66699 3.71638 1.66699 5.00008 1.66699C6.28378 1.66699 6.92563 1.66699 7.39714 1.95593C7.66097 2.11761 7.8828 2.33943 8.04447 2.60327C8.33341 3.07478 8.33341 3.71663 8.33341 5.00033C8.33341 6.28403 8.33341 6.92588 8.04447 7.39738C7.8828 7.66122 7.66097 7.88304 7.39714 8.04472C6.92563 8.33366 6.28378 8.33366 5.00008 8.33366C3.71638 8.33366 3.07453 8.33366 2.60302 8.04472C2.33919 7.88304 2.11736 7.66122 1.95569 7.39738C1.66675 6.92588 1.66675 6.28403 1.66675 5.00033Z",stroke:"white","stroke-width":"1.25"}),a.jsx("path",{d:"M11.6667 5.00033C11.6667 3.71663 11.6667 3.07478 11.9557 2.60327C12.1173 2.33943 12.3392 2.11761 12.603 1.95593C13.0745 1.66699 13.7164 1.66699 15.0001 1.66699C16.2837 1.66699 16.9257 1.66699 17.3972 1.95593C17.661 2.11761 17.8828 2.33943 18.0445 2.60327C18.3334 3.07478 18.3334 3.71663 18.3334 5.00033C18.3334 6.28403 18.3334 6.92588 18.0445 7.39738C17.8828 7.66122 17.661 7.88304 17.3972 8.04472C16.9257 8.33366 16.2837 8.33366 15.0001 8.33366C13.7164 8.33366 13.0745 8.33366 12.603 8.04472C12.3392 7.88304 12.1173 7.66122 11.9557 7.39738C11.6667 6.92588 11.6667 6.28403 11.6667 5.00033Z",stroke:"white","stroke-width":"1.25"})]}),a.jsx("span",{className:"font-semibold text-sm",children:"Todos los productos"})]}),a.jsx(r,{className:"h-5 w-5 text-white"})]})}),a.jsx("div",{className:"space-y-0",children:a.jsx(N,{children:K.map((e,t)=>a.jsxs(v.div,{className:"",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.05*t},children:[a.jsxs(v.button,{className:"w-full p-4 flex items-center justify-between text-white text-left hover:bg-secondary/50 transition-colors duration-200",onClick:()=>{const t=`category_${e.id}`;ie(e=>({...e,[t]:!e[t]}))},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[e.image&&a.jsx("img",{src:`/storage/images/category/${e.image}`,alt:e.name,className:"w-5 h-5 filter brightness-0 invert",onError:e=>e.target.style.display="none"}),a.jsx("span",{className:"font-semibold text-sm",children:e.name})]}),a.jsx(v.div,{animate:{rotate:se[`category_${e.id}`]?90:0},transition:{duration:.2},children:a.jsx(r,{className:"h-5 w-5 text-white"})})]}),a.jsx(N,{children:se[`category_${e.id}`]&&a.jsx(v.div,{className:"bg-secondary",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},children:a.jsxs("div",{className:"p-4 space-y-1",children:[a.jsx(v.button,{className:"w-full text-left px-4 py-3 text-white bg-white/20 hover:bg-white/20 rounded-lg transition-colors duration-200",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},children:a.jsx("span",{className:"font-medium text-sm",children:"Todas"})}),e.subcategories&&e.subcategories.length>0?e.subcategories.map((e,t)=>a.jsx(v.button,{className:"w-full text-left px-4 py-3 text-white rounded-lg transition-colors duration-200 "+(re.subcategory_id?.includes(e.id)?"bg-white/20 font-semibold":"hover:bg-white/20"),onClick:()=>{Me("subcategory_id",e.id)},initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*t+.2},children:a.jsx("span",{className:"font-medium text-sm",children:e.name})},e.id)):a.jsx("div",{className:"px-4 py-3 text-white/70 text-sm",children:"No hay subcategorías disponibles"})]})})})]},e.id))})}),a.jsx("div",{className:"bg-secondary p-4  ",children:a.jsxs("div",{className:"text-white border-t border-white pt-4",children:[a.jsx("p",{className:"text-xs text-white/60  mb-1",children:"Escríbenos"}),a.jsxs("p",{className:"text-sm font-medium opacity-90",children:[" ",w.get("support_email")]})]})})]}),a.jsx(v.div,{className:"mt-6 pt-6 border-t border-gray-200/60",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:a.jsx(N,{children:re.subcategory_id?.length>0&&a.jsxs(v.div,{className:"mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[a.jsxs("h4",{className:"text-sm font-semibold customtext-neutral-dark mb-3 flex items-center gap-2",children:[a.jsx(l,{className:"h-4 w-4 customtext-primary"}),"Filtros Activos"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:re.subcategory_id?.map(e=>{const t=q.find(t=>t.id===e);return t?a.jsxs(L,{onClick:()=>Me("subcategory_id",e),children:[a.jsx(o,{className:"h-3 w-3"}),a.jsx("span",{children:t.name}),a.jsx(v.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:a.jsx(n,{className:"h-3 w-3"})})]},e):null})})]})})})]})})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-white via-white to-gray-50 border-t border-gray-200 p-4 shadow-2xl backdrop-blur-xl lg:hidden z-50",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(v.button,{className:"flex-1 bg-primary text-white py-3 px-6 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{Ze(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx(c,{className:"h-5 w-5"}),a.jsxs("span",{children:["Ver ",ye.totalItems," Productos"]})]})}),a.jsx(v.button,{className:"p-3 bg-gray-100 hover:bg-gray-200 customtext-neutral-dark rounded-xl transition-colors duration-200",onClick:()=>Ze(!1),whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(n,{className:"h-5 w-5"})})]})})]}),a.jsxs(v.div,{className:"w-full lg:w-9/12 py-4",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[a.jsx(N,{mode:"wait",children:me&&!xe||ge?a.jsxs(v.div,{className:"w-full",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95,transition:{duration:.3}},children:[a.jsxs(v.div,{className:"mb-8 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:[a.jsx(v.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{rotate:{duration:3,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"inline-block mb-4",children:a.jsx(d,{className:"h-8 w-8 customtext-primary"})}),a.jsx("h3",{className:"text-xl font-bold customtext-neutral-dark mb-2",children:ge?"Aplicando filtros...":"Cargando productos increíbles"}),a.jsx("p",{className:"customtext-neutral-dark",children:ge?"Encontrando los mejores resultados para ti...":"Preparando la mejor selección para ti..."})]}),a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-y-6  w-full",children:Array.from({length:12},(e,t)=>a.jsx("div",{className:"h-[400px] lg:h-[460px] xl:h-[400px] 2xl:h-[430px]",children:a.jsx(S,{delay:.08*t})},t))})]},"loading"):a.jsxs(v.div,{className:"flex items-center flex-wrap gap-y-8 transition-all duration-300 ease-in-out relative",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[ge&&a.jsx(v.div,{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-10 rounded-2xl",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(v.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:a.jsx(d,{className:"h-8 w-8 customtext-primary"})}),a.jsx("p",{className:"text-sm font-semibold customtext-primary",children:"Aplicando filtros..."})]})}),Array.isArray(ce)&&ce.length>0?ce.map((e,t)=>a.jsx(v.div,{className:"w-1/2 px-2 lg:w-1/3 xl:w-1/3 lg:h-[460px] lg:max-h-[500px] xl:h-[500px] xl:max-h-[500px] 2xl:h-[600px] 2xl:max-h-[600px] flex items-center justify-center",initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.1*t,duration:.5,type:"spring",stiffness:100},whileHover:{y:-5,transition:{duration:.2}},children:B(e)},e.id)):xe&&!me&&!ge&&be?a.jsx(v.div,{className:"w-full flex items-center justify-center py-16",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.6,type:"spring",stiffness:100},children:a.jsx("div",{className:"text-center space-y-6",children:a.jsxs(v.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[a.jsx("h3",{className:"text-xl font-bold customtext-neutral-dark",children:"¡Ups! No encontramos productos"}),a.jsx("p",{className:"customtext-neutral-dark max-w-md",children:"Intenta ajustar tus filtros o buscar términos diferentes."}),a.jsx(v.button,{className:"mt-4 px-6 py-3 bg-primary text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{le(e=>({collection_id:[],category_id:[],brand_id:[],subcategory_id:[],store_id:[],tag_id:[],price:[],name:null,sort:[{selector:"final_price",desc:!0}]})),ne([])},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(m,{className:"h-4 w-4"}),a.jsx("span",{children:"Limpiar filtros"})]})})]})})}):null]},"products")}),Array.isArray(ce)&&ce.length>0&&a.jsxs(v.div,{className:"flex flex-col md:flex-row justify-between items-center mb-4 w-full mt-12 gap-4 p-6 bg-gradient-to-r from-white via-gray-50/50 to-blue-50/50 rounded-2xl border border-gray-200/60 backdrop-blur-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[a.jsx("div",{className:"customtext-primary font-semibold w-full md:w-auto",children:a.jsx("div",{className:"overflow-x-auto pb-2",children:a.jsxs("nav",{className:"flex items-center gap-x-2 min-w-max",children:[a.jsxs(v.button,{className:"p-3 inline-flex items-center gap-2 rounded-xl transition-all duration-300 "+(1===ye.currentPage?"opacity-50 cursor-not-allowed bg-gray-100":"bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 customtext-primary border border-blue-200"),onClick:()=>Ee(ye.currentPage-1),disabled:1===ye.currentPage,whileTap:1!==ye.currentPage?{scale:.95}:{},children:[a.jsx(u,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Anterior"})]}),(()=>{const e=[],t=ye.totalPages,a=ye.currentPage;for(let s=1;s<=t;s++)1===s||s===t||s>=a-2&&s<=a+2?e.push(s):s!==a-2-1&&s!==a+2+1||e.push("...");return e.filter((e,t,a)=>"..."!==e||"..."!==a[t-1])})().map((e,t)=>a.jsx(g.Fragment,{children:"..."===e?a.jsx("span",{className:"w-10 h-10 bg-transparent p-2 inline-flex items-center justify-center rounded-full customtext-neutral-dark",children:"..."}):a.jsx(v.button,{className:"w-10 h-10 p-2 inline-flex items-center justify-center rounded-xl transition-all duration-300 font-semibold\n                                                        "+(e===ye.currentPage?" bg-primary text-white shadow-lg shadow-blue-500/25":"bg-white hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 customtext-primary border border-gray-200 hover:border-blue-300"),onClick:()=>Ee(e),whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:e})},t)),a.jsxs(v.button,{className:"p-3 inline-flex items-center gap-2 rounded-xl transition-all duration-300 "+(ye.currentPage===ye.totalPages?"opacity-50 cursor-not-allowed bg-gray-100":"bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 customtext-primary border border-blue-200"),onClick:()=>Ee(ye.currentPage+1),disabled:ye.currentPage===ye.totalPages,whileTap:ye.currentPage!==ye.totalPages?{scale:.95}:{},children:[a.jsx("span",{className:"hidden sm:inline",children:"Siguiente"}),a.jsx(r,{className:"h-4 w-4"})]})]})})}),a.jsx(v.div,{className:"w-full md:w-auto text-center md:text-right",whileHover:{scale:1.02},children:a.jsx("div",{className:"flex items-center justify-center md:justify-end gap-2 p-4",children:a.jsxs("p",{className:"font-semibold text-sm customtext-neutral-dark",children:[ye.from," - ",ye.to," de ",ye.totalItems," Resultados"]})})})]})]})]})]})})};if("undefined"!=typeof document){const e=document.createElement("style");e.type="text/css",e.innerText="\n    .custom-scrollbar {\n        scrollbar-width: thin;\n        scrollbar-color: #cbd5e1 #f1f5f9;\n    }\n    \n    .custom-scrollbar::-webkit-scrollbar {\n        width: 6px;\n        height: 6px;\n    }\n    \n    .custom-scrollbar::-webkit-scrollbar-track {\n        background: #f1f5f9;\n        border-radius: 10px;\n    }\n    \n    .custom-scrollbar::-webkit-scrollbar-thumb {\n        background: linear-gradient(135deg, #3b82f6, #6366f1);\n        border-radius: 10px;\n        border: 1px solid #e2e8f0;\n    }\n    \n    .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n        background: linear-gradient(135deg, #2563eb, #4f46e5);\n    }\n    \n    @keyframes shimmer {\n        0% {\n            transform: translateX(-100%) skew(-12deg);\n        }\n        100% {\n            transform: translateX(200%) skew(-12deg);\n        }\n    }\n    \n    .animate-shimmer {\n        animation: shimmer 2s infinite;\n    }\n    \n    @keyframes float {\n        0%, 100% {\n            transform: translateY(0px);\n        }\n        50% {\n            transform: translateY(-5px);\n        }\n    }\n    \n    .filter-shadow {\n        box-shadow: \n            0 4px 6px -1px rgba(0, 0, 0, 0.1),\n            0 2px 4px -1px rgba(0, 0, 0, 0.06),\n            0 0 0 1px rgba(59, 130, 246, 0.1),\n            0 0 20px rgba(59, 130, 246, 0.1);\n    }\n    \n    .gradient-border {\n        position: relative;\n        background: linear-gradient(white, white) padding-box,\n                    linear-gradient(135deg, #3b82f6, #6366f1, #8b5cf6) border-box;\n        border: 2px solid transparent;\n    }\n",document.head.appendChild(e)}const P=({children:t,text:s,position:i="top"})=>{const[r,l]=e.useState(!1);return a.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[t,a.jsx(N,{children:r&&a.jsxs(v.div,{className:`absolute z-50 px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-lg whitespace-nowrap ${{top:"-top-10 left-1/2 -translate-x-1/2",bottom:"-bottom-10 left-1/2 -translate-x-1/2",left:"-left-2 top-1/2 -translate-y-1/2 -translate-x-full",right:"-right-2 top-1/2 -translate-y-1/2 translate-x-full"}[i]}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},children:[s,a.jsx("div",{className:"absolute w-0 h-0 border-l-4 border-r-4 border-transparent "+("top"===i?"border-t-4 border-t-gray-900 top-full left-1/2 -translate-x-1/2":"bottom"===i?"border-b-4 border-b-gray-900 bottom-full left-1/2 -translate-x-1/2":"left"===i?"border-l-4 border-l-gray-900 left-full top-1/2 -translate-y-1/2":"border-r-4 border-r-gray-900 right-full top-1/2 -translate-y-1/2")})]})})]})},L=({children:e,color:t="blue",onClick:s,className:i=""})=>a.jsx(v.div,{className:`inline-flex items-center gap-2 px-3 py-1.5  ${{blue:"bg-gray-200 customtext-primary"}[t]} border rounded-full text-sm font-medium cursor-pointer select-none ${i}`,onClick:s,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},children:e});export{T as default};

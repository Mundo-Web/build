import{r as e,j as t,C as a}from"./vendor-react-SBvaUJTK.js";import{B as l}from"./BlogPostCardRainstar-CgR3giA-.js";import{b as i,m as s,A as r}from"./vendor-motion-DsSUWJCr.js";import{L as n}from"./Loading-DKFBdBQR.js";import"./vendor-swiper-Cr_RrIb_.js";const o=({data:a,headerPosts:r,filteredData:n})=>{const o=e.useRef(null),c=i(o,{once:!0});return t.jsxs("main",{className:"bg-white min-h-[50vh] pt-16 md:pt-24 pb-12 w-full px-4 md:px-6 2xl:px-0 2xl:max-w-7xl mx-auto",children:[t.jsxs(s.section,{ref:o,initial:"hidden",animate:c?"visible":"hidden",variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:"circOut"}}},className:"mb-20 text-center",children:[t.jsx("h1",{className:"text-5xl md:text-8xl font-black uppercase tracking-tighter leading-none text-black mb-8",children:a?.title||"Noticias Destacadas"}),t.jsx("div",{className:"w-32 h-2 bg-black mx-auto mb-12"}),t.jsx("p",{className:"max-w-4xl mx-auto text-lg md:text-2xl font-bold uppercase tracking-widest opacity-80 leading-relaxed",children:a?.description||"Mantente informado con las últimas novedades y actualizaciones. Información clara y directa."})]}),r&&r.length>0&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 mb-20",children:[t.jsx(s.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"h-full",children:t.jsx(l,{data:a,featured:!0,post:r[0]})}),t.jsx(s.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.4},className:"flex flex-col gap-8 h-full",children:r.slice(1,3).map((e,i)=>t.jsx("div",{className:"flex-1",children:t.jsx(l,{data:a,flex:!0,post:e})},e.id))})]})]})},c=({data:o,postsLatest:c,posts:d,loading:x,setLoading:p,isFilter:b,setIsFilter:h,filteredData:m})=>{const{categories:u}=m,[g,w]=e.useState("all"),[f,v]=e.useState("newest"),[y,j]=e.useState(1),[k,N]=e.useState(!1),[_,C]=e.useState([]),D=e.useRef(null),I=i(D,{once:!0}),S=[{value:"newest",label:"Más Recientes"},{value:"oldest",label:"Más Antiguos"},{value:"title-asc",label:"Título A-Z"},{value:"title-desc",label:"Título Z-A"}];e.useEffect(()=>{let e=b&&d.length>0?d:c||[];"all"!==g&&(e=e.filter(e=>e.category&&e.category.name===g)),e=[...e].sort((e,t)=>{switch(f){case"newest":return new Date(t.created_at)-new Date(e.created_at);case"oldest":return new Date(e.created_at)-new Date(t.created_at);case"title-asc":return(e.title||e.name||"").localeCompare(t.title||t.name||"");case"title-desc":return(t.title||t.name||"").localeCompare(e.title||e.name||"");default:return 0}}),C(e),j(1)},[g,f,d,c,b]);const L=Math.ceil(_.length/9),M=_.slice(9*(y-1),9*y);return t.jsx(s.section,{ref:D,className:"bg-white min-h-screen "+(b?"py-16":"py-24"),variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},initial:"hidden",animate:I?"visible":"hidden",children:t.jsxs("div",{className:"px-4 md:px-6 2xl:px-0 2xl:max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start justify-between mb-20 border-b-4 border-black pb-12",children:[t.jsxs("div",{className:"flex flex-wrap gap-4 flex-1",children:[t.jsx("button",{className:"px-6 py-3 font-black uppercase tracking-widest text-sm transition-all duration-300 border-4 border-black hover:-translate-y-1 "+("all"===g?"bg-black text-white shadow-[8px_8px_0px_0px_rgba(0,0,0,0.2)]":"bg-white text-black hover:bg-black hover:text-white"),onClick:()=>w("all"),children:"Todas"}),u?.map(e=>t.jsx("button",{className:"px-6 py-3 font-black uppercase tracking-widest text-sm transition-all duration-300 border-4 border-black hover:-translate-y-1 "+(g===e.name?"bg-black text-white shadow-[8px_8px_0px_0px_rgba(0,0,0,0.2)]":"bg-white text-black hover:bg-black hover:text-white"),onClick:()=>w(e.name),children:e.name},e.id))]}),t.jsxs("div",{className:"relative z-20",children:[t.jsxs("button",{className:"flex items-center gap-4 px-8 py-3 bg-white border-4 border-black font-black uppercase tracking-widest text-sm hover:bg-black hover:text-white transition-all duration-300 min-w-[240px] justify-between group",onClick:()=>N(!k),children:[t.jsx("span",{children:S.find(e=>e.value===f)?.label}),t.jsx(a,{className:"w-5 h-5 transition-transform duration-300 "+(k?"rotate-180":"")})]}),t.jsx(r,{children:k&&t.jsx(s.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full right-0 mt-4 w-full bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:S.map(e=>t.jsx("button",{className:"w-full px-6 py-4 text-left text-xs font-black uppercase tracking-widest hover:bg-black hover:text-white transition-colors duration-200 border-b-2 border-black/10 last:border-0 "+(f===e.value?"bg-black text-white":""),onClick:()=>{v(e.value),N(!1)},children:e.label},e.value))})})]})]}),t.jsx(s.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-12",initial:"hidden",whileInView:"visible",viewport:{once:!0},children:x?t.jsx("div",{className:"col-span-full py-20 text-center",children:t.jsx(n,{})}):M.length>0?M.map((e,a)=>t.jsx(s.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1*a},className:"h-full",children:t.jsx(l,{data:o,post:e})},a)):t.jsxs("div",{className:"col-span-full py-20 text-center border-4 border-black p-12",children:[t.jsx("h3",{className:"text-2xl font-black uppercase tracking-widest mb-4",children:"No hay resultados"}),t.jsx("p",{className:"font-bold uppercase tracking-wide opacity-60",children:"Intenta con otra búsqueda o categoría."})]})}),L>1&&t.jsxs("div",{className:"flex flex-wrap justify-center mt-24 gap-4",children:[t.jsx("button",{className:"w-12 h-12 border-4 border-black flex items-center justify-center font-black transition-all duration-300 "+(1===y?"opacity-20 cursor-not-allowed":"hover:bg-black hover:text-white hover:-translate-y-1"),onClick:()=>j(e=>Math.max(e-1,1)),disabled:1===y,children:"<"}),Array.from({length:L},(e,t)=>t+1).map(e=>t.jsx("button",{className:"w-12 h-12 border-4 border-black flex items-center justify-center font-black transition-all duration-300 hover:-translate-y-1 "+(y===e?"bg-black text-white shadow-[4px_4px_0px_0px_rgba(0,0,0,0.2)]":"bg-white hover:bg-black hover:text-white"),onClick:()=>j(e),children:e},e)),t.jsx("button",{className:"w-12 h-12 border-4 border-black flex items-center justify-center font-black transition-all duration-300 "+(y===L?"opacity-20 cursor-not-allowed":"hover:bg-black hover:text-white hover:-translate-y-1"),onClick:()=>j(e=>Math.min(e+1,L)),disabled:y===L,children:">"})]})]})})},d=({data:a,headerPosts:l,filteredData:i,postsLatest:s})=>{const[r,n]=e.useState([]),[d,x]=e.useState(!1),[p,b]=e.useState(!1);return t.jsxs("div",{id:a?.element_id||null,children:[t.jsx(o,{data:a,headerPosts:l,filteredData:i}),t.jsx(c,{data:a,postsLatest:s,posts:r,loading:d,setLoading:x,isFilter:p,setIsFilter:b,filteredData:i})]})};export{d as default};

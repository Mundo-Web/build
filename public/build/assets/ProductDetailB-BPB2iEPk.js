import{r as e,j as s,ak as t,al as a,E as r,J as l,C as i,be as n,w as c,P as o,bR as d,br as m,b3 as x,bS as u,N as h,f as p,X as g,H as f,a7 as b,bT as j,m as N}from"./vendor-react-CtPXetfm.js";import{I as y}from"./ItemsRest-ChbvlPS2.js";import{C as v}from"./CombosCartRest-BnGnwajg.js";import"./CartKuchara-Bi-J8T1O.js";import w from"./ProductInfinite-_VYAThoy.js";import{C as k}from"./CartModal-CVzP9hNx.js";import{N as C,P as F}from"./vendor-swiper-Cr_RrIb_.js";import{H as _}from"./HtmlContent-CjqdSt4A.js";import{C as M}from"./Number2Currency-BX4epFEo.js";import{m as E}from"./vendor-motion-CThzL09Q.js";import"./BasicRest-DtgqEuc9.js";import"./OpenPayCardModal-CbSnHq7o.js";import"./BooleanLimit-q2Ad9fGY.js";import"./ProductDetailB-YKQDJdz1.js";import"./Footer-coriRrmf.js";import"./CardProductKatya-BVaEYIqt.js";import"./General-ClVW7qxN.js";import"./adjustTextColor-69KGUbTd.js";import"./CartItemRow-DGY_lV8-.js";const S=({item:S,data:z,setCart:$,cart:q,generals:A})=>{const P=new y,H=new v,[L,R]=e.useState(!1),[T,I]=e.useState({url:S?.image,type:"main"}),[O,B]=e.useState(!1),[D,V]=e.useState({x:50,y:50}),[K,X]=e.useState(!1),[Y,U]=e.useState({x:0,y:0}),J=e.useRef(null),[G,W]=e.useState(1),[Z,Q]=e.useState(!1),[ee,se]=e.useState(!1),te=e.useRef(null),ae=e.useRef(null),[re,le]=e.useState(!1),[ie,ne]=e.useState(!1),[ce,oe]=e.useState(!1),[de,me]=e.useState(!1),[xe,ue]=e.useState([]),[he,pe]=e.useState(!1),ge=()=>{B(!O),O||V({x:50,y:50}),X(!1)},fe=A?.find(e=>"phone_whatsapp"===e.correlative),be=fe?.description,je=`https://wa.me/${be}?text=${encodeURIComponent(`¡Hola! Tengo dudas sobre este producto: ${S?.name}`)}`,Ne=()=>{window.open(je,"_blank")},ye=()=>{me(!0),0===xe.length&&(async()=>{pe(!0);try{const e=await fetch("/api/stores"),s=await e.json();s.status&&ue(s.data||[])}catch(e){ue([])}finally{pe(!1)}})()},ve=e=>{const s=structuredClone(q),t=s.findIndex(s=>s.id==e?.id);-1==t?s.push({...e,quantity:G}):s[t].quantity++,$(s),R(!L),setTimeout(()=>R(!1),3e3)},[we,ke]=e.useState([]),[Ce,Fe]=e.useState([]),[_e,Me]=e.useState([]);q?.find(e=>e.id==S?.id),e.useEffect(()=>{S?.id&&($e(S),ze(S),Se(S),Ee(S))},[S]),e.useEffect(()=>{const e=()=>{if(te.current){const e=te.current.scrollHeight;le(e>400)}if(ae.current){const e=ae.current.scrollHeight;ne(e>400)}};return setTimeout(e,100),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[S]);const Ee=async e=>{try{const s={id:e?.id};if(!(await P.updateViews(s)))return}catch(s){return}},Se=async e=>{try{const s=await H.getItemCombos(e.id);s&&s.data&&Fe(s.data)}catch(s){Fe([])}},ze=async e=>{try{const s={id:e?.id},t=await P.verifyCombo(s);if(!t)return;const a=t[0].associated_items;ke(Object.values(a))}catch(s){return}},$e=async e=>{try{const s={id:e?.id},t=await P.productsRelations(s);if(!t)return;const a=t;Me(Object.values(a))}catch(s){return}},qe=e=>{const s=structuredClone(q),t=s.findIndex(s=>s.id===e.id&&"combo"===s.type);-1===t?s.push({...e,type:"combo",quantity:1,image:e?.image,final_price:e?.final_price||e?.price,price:e?.price,discount:e?.discount||0,discount_percent:e?.discount_percent||0}):s[t].quantity++,$(s),R(!L),setTimeout(()=>R(!1),3e3)},Ae=we.reduce((e,s)=>e+parseFloat(s?.final_price),0);Ce.reduce((e,s)=>e+parseFloat(s?.price||0),0);const[Pe,He]=e.useState(!1),Le=e.useRef(null);e.useRef(null);const Re=e.useRef(null),Te=e.useRef(null);return e.useEffect(()=>{const e=()=>{X(!1)},s=e=>{if(K&&O&&J.current){const s=e.clientX-Y.x,t=e.clientY-Y.y;V(e=>({x:Math.max(5,Math.min(95,e.x-.25*s)),y:Math.max(5,Math.min(95,e.y-.25*t))})),U({x:e.clientX,y:e.clientY})}};return K&&(document.addEventListener("mouseup",e),document.addEventListener("mousemove",s)),()=>{document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",s)}},[K,O,Y]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{id:z?.element_id||null,className:"md:hidden bg-gray-50 min-h-screen",children:[s.jsx("div",{className:"sticky top-0 bg-white shadow-sm z-20",children:s.jsx("div",{className:"flex items-center p-4 gap-4 border-b",children:s.jsx("h1",{className:"text-lg font-bold flex-1 line-clamp-5",children:S?.name})})}),s.jsxs("div",{className:"p-4 pb-24",children:[s.jsxs("div",{className:"relative aspect-square mb-4 rounded-2xl overflow-hidden shadow-lg",children:[s.jsx(t,{ref:Le,modules:[C,F],navigation:{prevEl:Re.current,nextEl:Te.current},pagination:{clickable:!0,renderBullet:(e,s)=>`<span class="${s} !w-2 !h-2 !bg-white/50 !mx-1"></span>`},loop:!0,onSwiper:e=>{Le.current=e},className:"h-full",children:[S?.image,...S?.images||[]].filter((e,s,t)=>s===t.findIndex(s=>s?.url===e?.url)).map((e,t)=>s.jsx(a,{children:s.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:s.jsx("img",{src:`/storage/images/item/${e?.url||e}`,className:"w-full h-full object-cover aspect-square",loading:"lazy",onError:e=>e.target.src="/api/cover/thumbnail/null"})})},t))}),s.jsxs("div",{className:"absolute top-1/2 w-full flex justify-between px-2 transform -translate-y-1/2 z-10",children:[s.jsx("button",{ref:Re,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/80 shadow-lg hover:scale-110 transition-transform",children:s.jsx(r,{className:"text-gray-800",size:20})}),s.jsx("button",{ref:Te,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/80 shadow-lg hover:scale-110 transition-transform",children:s.jsx(l,{className:"text-gray-800",size:20})})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm mb-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-3xl font-bold customtext-primary",children:[M()," ",S?.final_price,S?.discount>0&&S?.price>S?.final_price&&s.jsxs("span",{className:"ml-2 text-sm line-through text-gray-400",children:[M()," ",S?.price]})]}),s.jsxs("div",{className:"text-xs customtext-neutral-light mt-1",children:["SKU: ",S?.sku]})]}),S?.discount>0&&S?.price>S?.final_price&&s.jsxs("div",{className:"bg-secondary customtext-primary px-3 py-1 rounded-full text-sm",children:[Number(S?.discount_percent).toFixed(0),"% OFF"]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm mb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:"Cantidad"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>W(Math.max(1,G-1)),className:"w-8 h-8 rounded-full bg-secondary customtext-primary flex items-center justify-center",children:"-"}),s.jsx("span",{className:"w-8 text-center font-medium",children:G}),s.jsx("button",{onClick:()=>W(Math.min(10,G+1)),className:"w-8 h-8 rounded-full bg-secondary customtext-primary flex items-center justify-center",children:"+"})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"border-b",children:s.jsxs("button",{onClick:()=>He(!Pe),className:"w-full p-4 flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:"Especificaciones técnicas"}),s.jsx(i,{className:"transform transition-transform "+(Pe?"rotate-180":"")})]})}),Pe&&s.jsx("div",{className:"p-4",children:S?.specifications.map((e,t)=>s.jsxs("div",{className:"flex items-start gap-3 text-sm mb-2",children:[s.jsx(n,{className:"min-w-4 min-h-4 max-w-4 max-h-4 mt-0.5 customtext-primary"}),s.jsx("span",{children:e.description})]},t))})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"border-b",children:s.jsxs("button",{onClick:()=>Q(!Z),className:"w-full p-4 flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:"Descripción del producto"}),s.jsx(i,{className:"transform transition-transform "+(Z?"rotate-180":"")})]})}),Z&&s.jsxs("div",{className:"p-4",children:[s.jsx("div",{dangerouslySetInnerHTML:{__html:S?.description}}),s.jsx("ul",{className:"list-disc pl-5 mt-2",children:S?.features?.map((e,t)=>s.jsx("li",{className:"text-sm",children:e.feature},t))})]})]})]}),(we.length>0||Ce.length>0)&&s.jsxs("div",{className:"mt-8",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(c,{className:"w-6 h-6 customtext-primary"}),s.jsx("h2",{className:"text-base font-semibold",children:"Completa tu compra con estos productos"})]}),Ce.length>0&&s.jsx("div",{className:"mb-6",children:Ce.map((e,t)=>s.jsxs("div",{className:"border rounded-lg p-4 mb-4 bg-gay-50",children:[s.jsx("div",{className:"flex gap-4 mb-4",children:s.jsx("div",{className:"w-full flex gap-2 overflow-x-auto",children:e.combo_items?.map((t,a)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:`/storage/images/item/${t.image}`,className:"rounded-lg aspect-square w-16 h-16 object-cover bg-white",onError:e=>e.target.src="/api/cover/thumbnail/null",alt:t.name}),a<e.combo_items.length-1&&s.jsx("span",{className:"text-lg font-bold customtext-primary flex items-center justify-center",children:s.jsx(o,{size:16})})]},a))})}),e.combo_items?.map((e,t)=>s.jsxs("div",{className:"flex mt-2 gap-4 p-3 border rounded-lg items-center bg-white",children:[s.jsx(d,{className:"w-4 h-4 customtext-primary"}),s.jsxs("div",{className:"flex-1 font-semibold",children:[s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:e.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Cantidad: ",e.quantity||1]})]}),s.jsxs("p",{className:"font-bold text-gray-700 text-sm",children:[M()," ",parseFloat(e.price).toFixed(2)]})]},t)),s.jsxs("div",{className:"w-full flex flex-col justify-start items-start bg-blue-100 p-4 rounded-lg mt-4",children:[e.discount>0&&s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-xs customtext-primary line-through",children:[M()," ",parseFloat(e.price).toFixed(2)]}),s.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-lg",children:["-",e.discount_percent,"%"]})]}),s.jsx("span",{className:"text-xs font-semibold customtext-primary",children:e.discount>0?"Precio con descuento":"Precio del combo"}),s.jsxs("p",{className:"font-bold mb-2 customtext-primary text-2xl ",children:[M()," ",parseFloat(e.final_price||e.price).toFixed(2)]}),s.jsx("button",{onClick:()=>qe(e),className:"bg-primary text-white text-sm font-semibold w-full py-3 px-6 rounded-xl hover:bg-primary transition-all duration-300 hover:shadow-md",children:"Agregar combo completo"})]})]},`combo-mobile-${e.id}`))})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden flex flex-col mt-8 justify-center",children:[s.jsx("button",{onClick:()=>oe(!0),className:"w-full p-6 hover:bg-gray-50 transition-colors duration-200 flex items-center gap-4",children:s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"bg-secondary min-w-12 min-h-12 rounded-full mx-auto mb-2 flex items-center justify-center",children:s.jsx(m,{className:"w-8 h-8 customtext-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-sm text-start customtext-neutral-dark",children:"Envío a domicilio"}),s.jsx("p",{className:"text-start text-xs customtext-neutral-light mt-1 underline",children:"Consultar"})]})]})}),s.jsx("button",{onClick:ye,className:"w-full p-6 hover:bg-gray-50 transition-colors duration-200 flex items-center gap-4",children:s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"bg-secondary min-w-12 min-h-12 rounded-full mx-auto mb-2 flex items-center justify-center",children:s.jsx(x,{className:"w-8 h-8 customtext-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-start text-sm customtext-neutral-dark",children:"Retiro en tienda"}),s.jsx("p",{className:"text-start text-xs customtext-neutral-light mt-1 underline",children:"Consultar tiendas disponibles"})]})]})}),s.jsx(E.div,{className:"w-full p-6 cursor-pointer hover:bg-gray-50 transition-colors duration-200 flex items-center  gap-4",children:s.jsxs(E.div,{className:" flex flex-row rounded-xl gap-3",children:[s.jsx("div",{className:"bg-secondary min-w-12 max-w-12 min-h-12 max-h-12 flex items-center justify-center rounded-full flex-shrink-0",children:s.jsx("svg",{className:"w-8 h-8 customtext-primary",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.531 3.488"})})}),s.jsx("div",{className:"font-semibold text-sm customtext-neutral-dark cursor-pointer",children:s.jsxs("p",{children:["¿Tienes dudas? Haz"," ",s.jsx("a",{className:"underline",onClick:Ne,children:"clic aquí"})," ","y chatea con nosotros"]})})]})})]})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-[99]",children:s.jsxs("div",{className:"p-4 flex gap-4",children:[s.jsx("button",{onClick:()=>{ve(S),window.location.href="/cart"},className:"flex-1 bg-primary text-white py-3 rounded-xl font-medium active:scale-95 transition-transform",children:"Comprar ahora"}),s.jsx("button",{onClick:()=>ve(S),className:"flex-1 bg-gray-100 customtext-primary py-3 rounded-xl font-medium border border-primary active:scale-95 transition-transform",children:"Añadir al carrito"})]})})]}),s.jsxs("div",{className:"px-primary mx-auto py-12 bg-[#F7F9FB] hidden md:block ",children:[s.jsx("div",{className:"bg-white rounded-xl p-4 md:p-8",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"mb-6 md:hidden",children:[s.jsx("p",{className:"customtext-neutral-light text-sm",children:S?.brand?.name?s.jsxs(s.Fragment,{children:["Marca:"," ",s.jsx("span",{className:"customtext-neutral-dark",children:S?.brand?.name})]}):S?.category?.name}),s.jsx("h1",{className:"customtext-neutral-dark text-[28px] md:text-[40px] font-bold mt-2",children:S?.name})]}),s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("button",{onClick:()=>I({url:S?.image,type:"main"}),className:"w-16 h-16  rounded-lg p-1 border-2 "+(T.url===S?.image?"border-primary ":"border-gray-200"),children:s.jsx("img",{src:`/storage/images/item/${S?.image}`,alt:"Main Thumbnail",className:"w-full h-full object-cover rounded-lg aspect-square",onError:e=>e.target.src="/api/cover/thumbnail/null"})}),S?.images.filter((e,s,t)=>s===t.findIndex(s=>s.url===e.url)).map((e,t)=>s.jsx("button",{onClick:()=>I({url:e?.url,type:"gallery"}),className:"w-16 h-16 border-2 rounded-lg p-1 "+(T.url===e.url?"border-primary":"border-gray-200"),children:s.jsx("img",{src:`/storage/images/item/${e?.url}`,alt:`Thumbnail ${t+1}`,className:"w-full h-full object-cover rounded-lg aspect-square",onError:e=>e.target.src="/api/cover/thumbnail/null"})},t))]}),s.jsxs("div",{className:"flex-1 relative group",children:[s.jsx("button",{onClick:ge,className:"absolute top-3 right-3 z-10 p-2 rounded-full shadow-lg transition-all duration-200 "+(O?"bg-primary text-white opacity-100":"bg-white/90 hover:bg-white text-gray-700 hover:text-primary group-hover:opacity-100 opacity-60"),title:O?"Desactivar zoom":"Activar zoom",children:s.jsx(u,{className:"w-5 h-5"})}),s.jsxs("div",{className:"relative overflow-hidden rounded-lg select-none "+(O?K?"cursor-grabbing":"cursor-grab":"cursor-pointer"),onMouseMove:e=>{if(O&&J.current)if(K){const s=e.clientX-Y.x,t=e.clientY-Y.y;V(e=>({x:Math.max(0,Math.min(100,e.x-.3*s)),y:Math.max(0,Math.min(100,e.y-.3*t))})),U({x:e.clientX,y:e.clientY})}else{const s=J.current.getBoundingClientRect(),t=(e.clientX-s.left)/s.width*100,a=(e.clientY-s.top)/s.height*100,r=Math.max(10,Math.min(90,t)),l=Math.max(10,Math.min(90,a));V(e=>({x:e.x+.1*(r-e.x),y:e.y+.1*(l-e.y)}))}},onMouseDown:e=>{O&&(X(!0),U({x:e.clientX,y:e.clientY}),e.preventDefault())},onMouseUp:()=>{X(!1)},onMouseLeave:()=>{X(!1)},onClick:()=>!O&&ge(),style:{height:"auto",position:"relative"},children:[s.jsx("img",{ref:J,src:(T.type,`/storage/images/item/${T?.url}`),onError:e=>e.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full rounded-lg object-cover aspect-square",style:{...O?{transform:"scale(2.5)",transformOrigin:`${D.x}% ${D.y}%`,transition:K?"none":"transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), transform-origin 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}:{transform:"scale(1)",transition:"transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)"},userSelect:"none",pointerEvents:"auto"},draggable:!1}),!O&&s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-300 rounded-lg flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/75 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg",children:"Click para activar zoom"})}),O&&s.jsx("div",{className:"absolute bottom-3 left-3 bg-primary text-white px-3 py-2 rounded-lg text-xs font-medium shadow-lg border border-white/20",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),s.jsx("span",{children:K?"Arrastrando vista...":"Mantén presionado y arrastra"})]})}),O&&s.jsx("div",{className:"absolute top-4 left-4 bg-black/20 text-white p-2 rounded-lg shadow-lg",children:s.jsx("div",{className:"flex flex-col items-center gap-2",children:s.jsx("div",{className:"relative w-12 h-12 bg-white/20 border border-white/40 rounded",children:s.jsx("div",{className:"absolute w-3 h-3 bg-primary border border-white rounded-sm shadow-sm transition-all duration-200",style:{left:D.x/100*36+"px",top:D.y/100*36+"px"}})})})})]})]})]}),s.jsxs("div",{className:"flex lg:hidden flex-col customtext-neutral-light justify-start items-start gap-2 text-sm mb-6",children:[s.jsxs("span",{className:"customtext-neutral-light text-sm",children:["SKU:"," ",s.jsx("span",{className:"customtext-neutral-dark",children:S?.sku})]}),s.jsxs("span",{className:"ustomtext-neutral-light text-sm",children:["Disponibilidad:"," ",s.jsx("span",{className:"customtext-neutral-dark",children:S?.stock>0?"En stock":"Agotado"})]})]}),s.jsx("div",{className:"flex lg:hidden gap-8 border-b-2 pb-8",children:s.jsxs("div",{className:" w-full ",children:[s.jsxs("p",{className:"text-sm customtext-neutral-light mb-1",children:["Precio:"," ",s.jsxs("span",{className:"line-through line-clamp-1",children:[M()," ",S?.price]})]}),s.jsxs("div",{className:"flex items-center gap-4 ",children:[s.jsxs("span",{className:"text-[40px] font-bold line-clamp-1",children:[M()," ",S?.final_price]}),s.jsxs("span",{className:"bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl",children:["-",Number(S?.discount_percent).toFixed(1),"%"]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"customtext-neutral-dark text-sm font-medium",children:"Cantidad"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden bg-white",children:[s.jsx("button",{onClick:()=>W(Math.max(1,G-1)),className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 active:bg-gray-200 transition-colors duration-200 customtext-neutral-dark font-semibold text-lg",disabled:G<=1,children:"−"}),s.jsx("div",{className:"w-12 h-10 flex items-center justify-center border-x border-gray-300 bg-gray-50",children:s.jsx("span",{className:"customtext-neutral-dark font-medium text-sm",children:G})}),s.jsx("button",{onClick:()=>W(Math.min(10,G+1)),className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 active:bg-gray-200 transition-colors duration-200 customtext-neutral-dark font-semibold text-lg",disabled:G>=10,children:"+"})]}),s.jsx("span",{className:"customtext-neutral-light text-xs",children:"Máximo 10 unidades"})]})]})}),s.jsx("button",{onClick:()=>{ve(S),R(!L)},className:`w-full bg-primary  py-3 font-bold shadow-lg rounded-xl hover:opacity-90 transition-all duration-300 mt-4 ${z?.class_button||"text-white"}`,children:"Agregar al carrito"})]})}),s.jsx("div",{className:"block lg:hidden flex-1 w-full ",children:s.jsxs("div",{className:"bg-[#F7F9FB] rounded-lg p-6",children:[s.jsx("h3",{className:"font-medium text-sm mb-4",children:"Especificaciones principales"}),s.jsx("ul",{className:"space-y-2  customtext-neutral-light mb-4 transition-all duration-300 "+(Pe?"max-h-full":"max-h-24 overflow-hidden"),style:{listStyleType:"disc"},children:S?.specifications.map((e,t)=>"principal"===e.type&&s.jsxs("li",{className:"flex gap-2",children:[s.jsx(n,{className:"customtext-primary"}),e.description]},t))}),s.jsxs("button",{className:"customtext-primary text-sm font-semibold hover:underline flex items-center gap-1 transition-all duration-300",onClick:()=>He(!Pe),children:[Pe?"Ver menos":"Ver más especificaciones",Pe?s.jsx(h,{className:"w-4 h-4"}):s.jsx(i,{className:"w-4 h-4"})]})]})}),s.jsxs("div",{className:"block lg:hidden mt-8 ",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(c,{className:"w-6 h-6 customtext-primary"}),s.jsx("h2",{className:"text-base font-semibold",children:"Completa tu compra con estos productos"})]}),Ce.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Combos recomendados"}),Ce.map((e,t)=>s.jsxs("div",{className:"border rounded-lg p-4 mb-4 bg-blue-50",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"bg-primary text-white rounded-full p-1",children:s.jsx(c,{size:14})}),s.jsxs("span",{className:"text-sm font-semibold customtext-primary",children:["COMBO: ",e.name]})]}),s.jsx("div",{className:"flex gap-4 mb-4",children:s.jsx("div",{className:"w-2/3 flex gap-2",children:e.combo_items?.map((t,a)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:`/storage/images/item/${t.image}`,className:"rounded-lg aspect-square w-16 h-16 object-cover bg-white",onError:e=>e.target.src="/api/cover/thumbnail/null",alt:t.name}),a<e.combo_items.length-1&&s.jsx("span",{className:"text-lg font-bold customtext-primary",children:s.jsx(o,{size:16})})]},a))})}),e.combo_items?.map((e,t)=>s.jsxs("div",{className:"flex mt-2 gap-4 p-3 border rounded-lg items-center bg-white",children:[s.jsx(d,{className:"w-4 h-4 customtext-primary"}),s.jsxs("div",{className:"flex-1 font-semibold",children:[s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:e.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Cantidad: ",e.quantity||1]})]}),s.jsxs("p",{className:"font-bold text-gray-700 text-sm",children:[M()," ",parseFloat(e.price).toFixed(2)]})]},t)),s.jsxs("div",{className:"w-full flex flex-col justify-start items-start bg-blue-100 p-4 rounded-lg mt-4",children:[e.discount>0&&s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-xs customtext-primary line-through",children:[M()," ",parseFloat(e.price).toFixed(2)]}),s.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded",children:["-",e.discount_percent,"%"]})]}),s.jsx("span",{className:"text-xs font-semibold customtext-primary",children:e.discount>0?"Precio con descuento":"Precio del combo"}),s.jsxs("p",{className:"font-bold mb-2 customtext-primary text-lg",children:[M()," ",parseFloat(e.final_price||e.price).toFixed(2)]}),s.jsx("button",{onClick:()=>qe(e),className:"bg-primary text-white text-sm font-semibold w-full py-3 px-6 rounded-xl hover:bg-primary transition-all duration-300 hover:shadow-md",children:"Agregar combo completo"})]})]},`combo-${e.id}`))]}),we.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:" flex gap-4",children:s.jsx("div",{className:"w-2/3 flex gap-2",children:we.map((e,t)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:`/storage/images/item/${e?.image}`,className:" rounded-lg aspect-square w-24 h-24 object-cover bg-[#F7F9FB]",onError:e=>e.target.src="/api/cover/thumbnail/null"}),t<we.length-1&&s.jsx("span",{className:"text-2xl font-bold",children:s.jsx(o,{})})]},t))})}),we.map((e,t)=>s.jsxs("div",{className:"flex mt-4 gap-4 p-4 border rounded-lg items-center",children:[s.jsx(d,{className:"w-5 h-5 customtext-primary"}),s.jsxs("div",{className:"flex-1 font-semibold",children:[s.jsx("span",{className:"text-[10px] customtext-neutral-dark block",children:e?.brand?.name}),s.jsx("p",{className:"text-sm customtext-neutral-light font-medium",children:e?.name})]}),s.jsxs("p",{className:"font-bold customtext-neutral-dark",children:[M()," ",parseFloat(e?.final_price).toFixed(2)]})]},t)),s.jsxs("div",{className:" w-full flex flex-col justify-start items-start bg-gray-50 p-4 rounded-lg mt-4",children:[s.jsx("span",{className:"text-xs font-semibold customtext-neutral-light",children:"Total"}),s.jsxs("p",{className:"font-bold mb-2 customtext-neutral-dark",children:[M()," ",Ae.toFixed(2)]}),s.jsx("button",{onClick:()=>($(e=>{const s=structuredClone(e);return[...we,S].forEach(e=>{const t=s.findIndex(s=>s.id===e?.id);-1===t?s.push({...e,quantity:G}):s[t].quantity++}),s}),void N.Notify.add({icon:"/assets/img/icon.svg",title:"Carrito de Compras",body:"Se agregaron con éxito los productos"})),className:`bg-primary text-xs font-semibold  w-max py-3 px-6 rounded-xl hover:opacity-90 transition-all duration-300 hover:shadow-md ${z?.class_button||"text-white"}`,children:"Agregar al carrito"})]})]})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden flex justify-center",children:[s.jsx("button",{onClick:()=>oe(!0),className:"w-full p-6 hover:bg-gray-50 transition-colors duration-200 flex items-center  gap-4",children:s.jsxs("div",{className:" flex gap-2 items-center",children:[s.jsx("div",{className:"bg-secondary min-w-10 min-h-10 rounded-full mx-auto  flex items-center justify-center",children:s.jsx(m,{className:"w-6 h-6 customtext-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-start text-sm customtext-neutral-dark",children:"Envío a domicilio"}),s.jsx("p",{className:"text-start text-xs customtext-neutral-light mt-1 underline",children:"Consultar "})]})]})}),s.jsx("button",{onClick:ye,className:"w-full p-6 hover:bg-gray-50 transition-colors duration-200 flex items-center gap-4",children:s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("div",{className:"bg-secondary min-w-10 min-h-10 rounded-full mx-auto flex items-center justify-center",children:s.jsx(x,{className:"w-6 h-6 customtext-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-start text-sm customtext-neutral-dark",children:"Retiro en tienda"}),s.jsx("p",{className:"text-start text-xs customtext-neutral-light mt-1 underline",children:"Consultar"})]})]})}),s.jsx(E.div,{className:"w-full p-6 cursor-pointer hover:bg-gray-50 transition-colors duration-200 flex items-center  gap-4",children:s.jsxs(E.div,{className:" flex flex-row rounded-xl gap-3",children:[s.jsx("div",{className:"bg-secondary min-w-10 max-w-10 min-h-10 max-h-10 flex items-center justify-center rounded-full flex-shrink-0",children:s.jsx("svg",{className:"w-6 h-6 customtext-primary",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.531 3.488"})})}),s.jsx("div",{className:"font-semibold text-sm customtext-neutral-dark cursor-pointer",children:s.jsxs("p",{children:["¿Tienes dudas? Haz"," ",s.jsx("a",{className:"underline",onClick:Ne,children:"clic aquí"})," "]})})]})})]})]}),s.jsxs("div",{className:"hidden md:block",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"customtext-neutral-light text-sm",children:S?.brand?.name?s.jsxs(s.Fragment,{children:["Marca:"," ",s.jsx("span",{className:"customtext-neutral-dark",children:S?.brand?.name})]}):S?.category?.name}),s.jsx("h1",{className:"customtext-neutral-dark text-[40px] font-bold mt-2",children:S?.name})]}),s.jsxs("div",{className:"flex customtext-neutral-light items-center gap-8 text-sm mb-6",children:[s.jsxs("span",{className:"customtext-neutral-light text-sm",children:["SKU:"," ",s.jsx("span",{className:"customtext-neutral-dark",children:S?.sku})]}),s.jsxs("span",{className:"ustomtext-neutral-light text-sm",children:["Disponibilidad:"," ",s.jsx("span",{className:"customtext-neutral-dark",children:S?.stock>0?"En stock":"Agotado"})]})]}),s.jsxs("div",{className:"flex gap-8 border-b-2 pb-8",children:[s.jsx("div",{className:"flex-1 w-7/12 ",children:s.jsxs("div",{className:"bg-[#F7F9FB] rounded-lg p-6",children:[s.jsx("h3",{className:"font-medium text-sm mb-4",children:"Especificaciones principales"}),s.jsx("ul",{className:"space-y-2  customtext-neutral-light mb-4 transition-all duration-300 "+(Pe?"max-h-full":"max-h-28 overflow-hidden"),style:{listStyleType:"disc"},children:S?.specifications.map((e,t)=>"principal"===e.type&&s.jsxs("li",{className:"flex gap-2 items-start",children:[s.jsx(n,{className:"customtext-primary min-w-5 min-h-5 max-w-5 max-h-5 mt-1"}),e.description]},t))}),s.jsxs("button",{className:"customtext-primary text-sm font-semibold hover:underline flex items-center gap-1 transition-all duration-300",onClick:()=>He(!Pe),children:[Pe?"Ver menos":"Ver más especificaciones",Pe?s.jsx(h,{className:"w-4 h-4"}):s.jsx(i,{className:"w-4 h-4"})]})]})}),s.jsxs("div",{className:" w-5/12 ",children:[S?.discount>0&&S?.price>S?.final_price&&s.jsxs("p",{className:"text-sm customtext-neutral-light mb-1",children:["Precio:"," ",s.jsxs("span",{className:"line-through",children:[M()," ",S?.price]})]}),s.jsxs("div",{className:"flex items-center gap-4 relative ",children:[s.jsxs("span",{className:"text-[36px] font-bold ",children:[M()," ",S?.final_price]}),S?.discount>0&&S?.price>S?.final_price&&s.jsxs("span",{className:" absolute text-sm -top-8 right-0 bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl",children:["-",Number(S?.discount_percent).toFixed(1),"%"]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx("span",{className:"customtext-neutral-dark text-sm font-medium",children:"Cantidad"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden bg-white",children:[s.jsx("button",{onClick:()=>W(Math.max(1,G-1)),className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 active:bg-gray-200 transition-colors duration-200 customtext-neutral-dark font-semibold text-lg",disabled:G<=1,children:"−"}),s.jsx("div",{className:"w-12 h-10 flex items-center justify-center border-x border-gray-300 bg-gray-50",children:s.jsx("span",{className:"customtext-neutral-dark font-medium text-sm",children:G})}),s.jsx("button",{onClick:()=>W(Math.min(10,G+1)),className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 active:bg-gray-200 transition-colors duration-200 customtext-neutral-dark font-semibold text-lg",disabled:G>=10,children:"+"})]}),s.jsx("span",{className:"customtext-neutral-light text-xs",children:"Máximo 10 unidades"})]})]})}),s.jsx("button",{onClick:()=>{ve(S),R(!L)},className:`w-full bg-primary py-3 font-bold shadow-lg rounded-xl hover:opacity-90 transition-all duration-300 mt-4 ${z?.class_button||"text-white"}`,children:"Agregar al carrito"})]})]}),(we.length>0||Ce.length>0)&&s.jsxs("div",{className:"mt-8 ",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsx(c,{className:"w-6 h-6 customtext-primary"}),s.jsx("h2",{className:"text-base font-semibold",children:"Completa tu compra con estos productos"})]}),Ce.length>0&&s.jsx("div",{className:"mb-6",children:Ce.map(e=>s.jsxs("div",{className:"border rounded-lg p-6 mb-4 bg-gray-50",children:[s.jsxs("div",{className:"flex gap-4 mb-4",children:[s.jsx("div",{className:"w-2/3 flex gap-2",children:e.combo_items?.map((t,a)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:`/storage/images/item/${t.image}`,className:"rounded-lg aspect-square w-24 h-24 object-cover bg-white",onError:e=>e.target.src="/api/cover/thumbnail/null",alt:t.name}),a<e.combo_items.length-1&&s.jsx("span",{className:"text-2xl font-bold customtext-primary",children:s.jsx(o,{})})]},a))}),s.jsxs("div",{className:"w-1/3 flex flex-col justify-between items-end bg-blue-100 p-4 rounded-lg",children:[e.discount>0&&s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"text-sm customtext-primary line-through",children:[M()," ",parseFloat(e.price).toFixed(2)]}),s.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-lg",children:["-",e.discount_percent,"%"]})]}),s.jsx("span",{className:"text-xs font-semibold customtext-primary",children:e.discount>0?"Precio con descuento":"Precio del combo"}),s.jsxs("p",{className:"font-bold mb-2 customtext-primary text-xl",children:[M()," ",parseFloat(e.final_price||e.price).toFixed(2)]}),s.jsx("button",{onClick:()=>qe(e),className:"bg-primary text-white text-sm font-semibold w-full py-3 rounded-xl hover:bg-accent transition-all duration-300 hover:shadow-md",children:"Agregar combo"})]})]}),e.combo_items?.map((e,t)=>s.jsxs("div",{className:"flex mt-2 gap-4 p-4 border rounded-lg items-center bg-white",children:[s.jsx(d,{className:"w-5 h-5 customtext-primary"}),s.jsxs("div",{className:"flex-1 font-semibold",children:[s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:e.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Cantidad: ",e.quantity||1]})]}),s.jsxs("p",{className:"font-bold text-gray-700",children:[M()," ",parseFloat(e.price).toFixed(2)]})]},t))]},`combo-desktop-${e.id}`))})]})]})]})}),s.jsxs("div",{className:" grid gap-32 md:grid-cols-2 bg-white rounded-xl p-8 mt-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-4",children:"Especificaciones"}),s.jsx("div",{ref:ae,className:"space-y-1 transition-all duration-300 "+(ee?"":"max-h-[400px] overflow-hidden"),children:S?.specifications.map((e,t)=>"general"===e.type&&s.jsxs("div",{className:"flex gap-4 px-4 py-1 "+(t%2==0?"bg-[#F7F9FB]":"bg-white"),children:[s.jsx("div",{className:"customtext-neutral-light min-w-56 max-w-56",children:e.title}),s.jsx("div",{className:"customtext-neutral-dark",children:e.description})]},t))}),ie&&s.jsxs("button",{className:"border-2 border-primary w-max px-5 py-3 my-8 rounded-xl flex items-center gap-2 customtext-primary font-semibold cursor-pointer hover:bg-primary hover:text-white transition-all duration-300",onClick:()=>se(!ee),children:[ee?"Ver menos":"Ver más especificaciones",s.jsx(i,{className:"transform transition-transform "+(ee?"rotate-180":"")})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-4",children:"Información adicional"}),s.jsxs("div",{ref:te,className:"space-y-2 transition-all duration-300 "+(Z?"":"max-h-[400px] overflow-hidden"),children:[s.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este artículo"}),s.jsx("div",{className:"customtext-neutral-dark prose prose-base",dangerouslySetInnerHTML:{__html:S?.description}}),s.jsx("div",{className:"pl-10",children:s.jsx("ul",{className:"list-disc pl-5 space-y-2",children:S?.features.map((e,t)=>s.jsx("li",{className:"customtext-neutral-dark",children:e.feature},t))})})]}),re&&s.jsxs("button",{className:"border-2 border-primary w-max px-5 py-3 my-8 rounded-xl flex items-center gap-2 customtext-primary font-semibold cursor-pointer hover:bg-primary hover:text-white transition-all duration-300",onClick:()=>Q(!Z),children:[Z?"Ver menos":"Ver más",s.jsx(i,{className:"transform transition-transform "+(Z?"rotate-180":"")})]})]})]})]}),_e.length>0&&s.jsx(w,{data:{...z,title:"Productos relacionados"},items:_e,cart:q,setCart:$}),ce&&s.jsx(p,{isOpen:ce,onRequestClose:()=>oe(!1),contentLabel:"Políticas de Envío",className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center p-4 z-50",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-[999]",ariaHideApp:!1,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 pr-4",children:"Políticas de Envío"}),s.jsx("button",{onClick:()=>oe(!1),className:"flex-shrink-0 text-gray-400 hover:text-red-500 transition-colors duration-200 p-1 hover:bg-gray-100 rounded-full","aria-label":"Cerrar modal",children:s.jsx(g,{size:24,strokeWidth:2})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx("div",{className:"prose prose-gray max-w-none",children:s.jsx(_,{html:A?.find(e=>"delivery_policy"===e.correlative)?.description})})}),s.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:s.jsx("button",{onClick:()=>oe(!1),className:"px-6 py-2 bg-primary text-white rounded-lg  transition-colors duration-200 font-medium",children:"Cerrar"})})]})}),de&&s.jsx(p,{isOpen:de,onRequestClose:()=>me(!1),contentLabel:"Tiendas Disponibles",className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center p-4 z-50",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-[999]",ariaHideApp:!1,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(x,{className:"w-8 h-8 text-primary"}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nuestras Tiendas"})]}),s.jsx("button",{onClick:()=>me(!1),className:"flex-shrink-0 text-gray-400 hover:text-red-500 transition-colors duration-200 p-1 hover:bg-gray-100 rounded-full","aria-label":"Cerrar modal",children:s.jsx(g,{size:24,strokeWidth:2})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:he?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-gray-600",children:"Cargando tiendas..."})]})}):0===xe.length?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx(x,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No hay tiendas disponibles"}),s.jsx("p",{className:"text-gray-500",children:"Por el momento no tenemos tiendas registradas."})]})}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:xe.map(e=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 hover:shadow-md transition-shadow duration-200",children:[s.jsxs("div",{className:"mb-4",children:[e.image?s.jsx("img",{src:`/storage/images/stores/${e.image}`,alt:e.name,className:"w-full h-32 object-cover rounded-lg",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,s.jsx("div",{className:"w-full h-32 bg-gray-200 rounded-lg flex items-center justify-center "+(e.image?"hidden":"flex"),children:s.jsx(x,{className:"w-12 h-12 text-gray-400"})})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-bold text-lg text-gray-900 flex-1",children:e.name}),s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("tienda"===e.type?"bg-green-100 text-green-800":"oficina"===e.type?"bg-blue-100 customtext-primary":"almacen"===e.type?"bg-yellow-100 text-yellow-800":"showroom"===e.type?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"),children:"tienda"===e.type?"Tienda":"oficina"===e.type?"Oficina":"almacen"===e.type?"Almacén":"showroom"===e.type?"Showroom":e.type||"Otro"})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(f,{className:"w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:e.address})]}),e.phone&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(b,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-gray-700",children:e.phone})]}),e.manager&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(j,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),s.jsxs("p",{className:"text-sm text-gray-700",children:["Encargado: ",e.manager]})]}),e.business_hours&&s.jsxs("div",{className:"bg-white rounded-md p-3 mt-3",children:[s.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Horarios de atención:"}),s.jsx("div",{className:"text-xs text-gray-600",children:(()=>{try{const t="string"==typeof e.business_hours?JSON.parse(e.business_hours):e.business_hours,a=(new Date).toLocaleDateString("es-PE",{weekday:"long"}),r={lunes:"Lunes",martes:"Martes","miércoles":"Miércoles",jueves:"Jueves",viernes:"Viernes","sábado":"Sábado",domingo:"Domingo"}[a.toLowerCase()]||a,l=t.find(e=>e.day.toLowerCase()===r.toLowerCase());if(l){const e=l.closed?"Hoy: Cerrado":`Hoy: ${l.open} - ${l.close}`,t=!l.closed&&(()=>{const e=new Date,s=60*e.getHours()+e.getMinutes(),[t,a]=l.open.split(":").map(Number),[r,i]=l.close.split(":").map(Number);return s>=60*t+a&&s<=60*r+i})();return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:e}),s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(t?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t?"Abierto":"Cerrado"})]})}return"Horarios disponibles"}catch(t){return"Horarios disponibles"}})()})]}),e.description&&s.jsx("div",{className:"pt-2 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:e.description})})]})]},e.id))})}),s.jsxs("div",{className:"flex justify-between items-center p-6 border-t border-gray-200 bg-gray-50",children:[s.jsx("p",{className:"text-sm text-gray-600",children:xe.length>0&&`${xe.length} tienda${1!==xe.length?"s":""} disponible${1!==xe.length?"s":""}`}),s.jsx("button",{onClick:()=>me(!1),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors duration-200 font-medium",children:"Cerrar"})]})]})}),s.jsx(k,{data:z,cart:q,setCart:$,modalOpen:L,setModalOpen:R})]})};export{S as default};

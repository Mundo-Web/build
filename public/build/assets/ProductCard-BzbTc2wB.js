import{j as e}from"./System-Bybt2Brn.js";import{N as l}from"./Number2Currency-DExzICY3.js";import{i as s}from"./tippy-react.esm-Cpb4mDDh.js";import{S as a}from"./sweetalert2.esm.all-DbJpIAEg.js";const t=({data:t,cart:i,item:n,setCart:r})=>{var o,d;const c=null==i?void 0:i.find((e=>e.id==(null==n?void 0:n.id))),m=(null==n?void 0:n.discount)>0?null==n?void 0:n.discount:null==n?void 0:n.price;return n?e.jsxs("div",{className:"w-full relative",children:[e.jsx("img",{src:`/storage/images/item/${null==n?void 0:n.image}`,alt:null==n?void 0:n.name,className:"border w-full object-cover mb-4 aspect-square rounded-2xl shadow-lg",onError:e=>e.target.src="/api/cover/thumbnail/null"}),(null==n?void 0:n.tags)&&e.jsx("div",{className:"absolute top-2 left-2 flex flex-col gap-1 text-xs font-bold",children:null==(o=null==n?void 0:n.tags)?void 0:o.map(((l,s)=>e.jsx("span",{className:"px-2 py-1 bg-secondary text-textPrimary rounded",children:l.name})))}),(null==n?void 0:n.category)&&e.jsx("h3",{className:"line-clamp-1 h-8",children:null==(d=null==n?void 0:n.category)?void 0:d.name}),e.jsx("a",{href:`/${null==t?void 0:t.path}/${n.slug}`,children:e.jsx("h2",{className:"text-2xl w-full line-clamp-2 h-16 font-bold mb-2",children:null==n?void 0:n.name})}),!1!==(null==t?void 0:t["bool:show_summary"])&&e.jsx("p",{className:"line-clamp-3 h-[72px] opacity-80 mb-4",children:null==n?void 0:n.summary}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{className:"h-[52px] flex flex-col items-start justify-end",children:[e.jsx("span",{className:"text-sm block opacity-80 line-through",children:(null==n?void 0:n.discount)>0?e.jsxs(e.Fragment,{children:["S/. ",l(null==n?void 0:n.price)]}):""}),e.jsxs("span",{className:"text-2xl font-bold customtext-primary",children:["S/. ",l(m)]})]}),e.jsx(s,{content:"Agregar al carrito",children:e.jsx("button",{className:"bg-primary text-white text-lg px-3 py-1 rounded disabled:cursor-not-allowed disabled:opacity-80",disabled:c,onClick:()=>(e=>{const l=structuredClone(i),s=l.findIndex((l=>l.id==e.id));-1==s?l.push({...e,quantity:1}):l[s].quantity++,r(l),a.fire({title:"Producto agregado",text:`Se agreg√≥ ${e.name} al carrito`,icon:"success",timer:1500})})(n),children:e.jsx("i",{className:"mdi mdi-cart-plus"})})})]})]}):e.jsxs("div",{className:"w-full ",children:[e.jsx("figure",{className:"w-full mb-4 aspect-square rounded-3xl shadow-lg bg-gray-200 animate-pulse"}),e.jsx("h3",{className:"line-clamp-1 h-8 animate-pulse bg-gray-200 w-32"}),e.jsx("h2",{className:"text-2xl w-full line-clamp-1 font-bold mb-2 h-8 animate-pulse bg-gray-200"}),e.jsx("p",{className:"line-clamp-3 h-[72px] opacity-80 mb-4 animate-pulse bg-gray-200"}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsxs("div",{className:"h-[52px] flex flex-col items-start justify-end",children:[e.jsx("span",{className:"text-sm block opacity-80 line-through h-5 animate-pulse bg-gray-200 w-16"}),e.jsx("span",{className:"text-2xl font-bold h-8 w-28 animate-pulse bg-gray-200"})]}),e.jsx("figure",{className:"text-lg px-3 py-1 rounded disabled:cursor-not-allowed disabled:opacity-80 animate-pulse bg-gray-200 text-gray-200",children:"xD"})]})]})};export{t as P};

import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r as h}from"./index-BOnQTV8N.js";import"./CartKuchara-D9l7c7at.js";import{I as d}from"./ItemsRest-aXRCH7e7.js";import{i as t}from"./tippy-react.esm-DmkRJDEW.js";/* empty css              */import{C as g}from"./Number2Currency-ld0bFawA.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./BasicRest-BML1C-ua.js";import"./CardProductKatya-ncpmQ0JU.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./BooleanLimit-D-OsQsek.js";import"./General-CE1RDd44.js";const M=({product:e,setCart:b,cart:r,textcolor:a="",fondo:o=""})=>{const c=new d,[l,m]=h.useState(e.variants),f=async i=>{try{const n={slug:i==null?void 0:i.slug,limit:999},x=await c.getVariations(n);if(!x){m([]);return}m(x.variants)}catch{m([]);return}};return h.useEffect(()=>{e!=null&&e.id&&f(e)},[e]),r==null||r.find(i=>i.id==(e==null?void 0:e.id)),(e==null?void 0:e.discount)>0?e==null||e.discount:e==null||e.price,s.jsx("div",{className:"group w-full rounded-xl lg:rounded-2xl transition-transform duration-300 group flex-shrink-0 font-paragraph customtext-primary cursor-pointer",children:s.jsxs("div",{className:`p-0 ${o!==""?o:"bg-white"} rounded-xl lg:rounded-2xl`,children:[s.jsx("a",{href:`/item/${e.slug}`,children:s.jsxs("div",{className:"relative",children:[e.discount!=null&&!isNaN(e.discount)&&s.jsxs("span",{className:"absolute top-8 right-0 bg-[#F93232] text-white text-base font-bold px-2 py-1 rounded-l-full",children:["-",Math.abs(Number(100-Number((e==null?void 0:e.discount)*100/(e==null?void 0:e.price)))).toFixed(0),"%"]}),s.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden bg-white",children:s.jsx("img",{src:`/storage/images/item/${e.image}`,onError:i=>i.target.src="/assets/img/noimage/no_img.jpg",alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})})]})}),s.jsxs("div",{className:"py-4",children:[s.jsx("p",{className:`text-sm sm:text-base font-medium mb-1 ${a!=null&&a.trim()?a:"customtext-neutral-light"}`,children:e.category.name}),s.jsxs("a",{href:`/item/${e.slug}`,children:[s.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-semibold mb-1 line-clamp-2 !leading-normal",children:e.name}),(l==null?void 0:l.length)>1&&s.jsxs("div",{className:"hidden md:flex gap-2 sm:gap-3 items-center justify-start w-full flex-wrap py-2",children:[l==null?void 0:l.slice(0,4).map(i=>s.jsx(t,{content:i.color,children:s.jsx("a",{href:`/item/${i.slug}`,className:"variant-option rounded-full border shadow-gray-500 object-fit-cover bg-[#F5F5F5]",children:s.jsx("img",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 object-fit-cover",src:`/storage/images/item/${i.texture||i.image}`,alt:i.color,onError:n=>n.target.src="/api/cover/thumbnail/null"})})},i.slug)),(l==null?void 0:l.length)>4&&s.jsx(t,{content:`+${l.length-4} colores más`,children:s.jsx("a",{href:`/item/${e.slug}`,className:"variant-option rounded-full border shadow-gray-500 object-fit-cover bg-primary text-white text-xs font-extrabold",children:s.jsxs("div",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 flex flex-col justify-center items-center",children:["+",l.length-4]})},e.slug)})]}),(l==null?void 0:l.length)>1&&s.jsxs("div",{className:"flex md:hidden gap-2 sm:gap-3 items-center justify-start w-full flex-wrap py-2",children:[l==null?void 0:l.slice(0,3).map(i=>s.jsx(t,{content:i.color,children:s.jsx("a",{href:`/item/${i.slug}`,className:"variant-option rounded-full border shadow-gray-500  object-fit-cover bg-[#F5F5F5]",children:s.jsx("img",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 object-fit-cover",src:`/storage/images/item/${i.texture||i.image}`,alt:i.color,onError:n=>n.target.src="/api/cover/thumbnail/null"})})},i.slug)),(l==null?void 0:l.length)>3&&s.jsx(t,{content:`+${l.length-3} colores más`,children:s.jsx("a",{href:`/item/${e.slug}`,className:"variant-option rounded-full border shadow-gray-500 object-fit-cover bg-primary text-white text-xs font-extrabold",children:s.jsxs("div",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 flex flex-col justify-center items-center",children:["+",l.length-3]})},e.slug)})]}),s.jsx("div",{className:"mt-3 mb-2",children:s.jsx("a",{href:`/item/${e.slug}`,className:"inline-block bg-secondary text-white px-4 py-3 rounded-full font-medium text-sm hover:bg-accent transition-colors duration-300 w-full text-center",children:"Ver detalle"})}),e.final_price&&e.final_price>0&&s.jsxs("div",{className:"flex items-baseline gap-4 mt-2",children:[s.jsxs("span",{className:"text-lg sm:text-xl md:text-2xl font-semibold",children:[g()," ",e.final_price]}),e.discount!=null&&!isNaN(e.discount)&&s.jsxs("span",{className:"text-xs sm:text-base font-semibold line-through opacity-60",children:[g()," ",e.price]})]})]})]})]})},e.id)};export{M as default};

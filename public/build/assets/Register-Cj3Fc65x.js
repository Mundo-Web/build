import{c as e,j as s,r,t as a,x as l}from"./vendor-react-LJZQRWVP.js";import{J as t}from"./JSEncrypt-ewRYZc2G.js";import{S as c}from"./CartKuchara-B42NOSvQ.js";import{A as i}from"./AuthRest-BuHmeBuW.js";import{S as n}from"./SelectFormGroup-DeQmdboA.js";import{M as o}from"./Modal-vo2KOb7R.js";import{C as m}from"./CreateReactScript-D7gKYEaw.js";import{H as d}from"./HtmlContent-DmABt4Tg.js";import"./vendor-swiper-Cr_RrIb_.js";import"./Footer-DCwBNfoi.js";import"./TippyButton-CwI1PIG0.js";import"./General-ClVW7qxN.js";import"./LaravelSession-ByQnaUD3.js";import"./Menu-JUCWgMAY.js";import"./BooleanLimit-q2Ad9fGY.js";const x=({PUBLIC_RSA_KEY:e,RECAPTCHA_SITE_KEY:m,token:x,terms:h="Terminos y condiciones",roles:u=[],specialties:j})=>{document.title="Registro | NetCoaching";const p=new t;p.setPublicKey(e);const[f,b]=r.useState(!0),[N,v]=r.useState(null),[g,y]=r.useState(!1),R=r.useRef(),w=r.useRef(),C=r.useRef(),k=r.useRef(),F=r.useRef(),S=r.useRef(),E=r.useRef(),T=r.useRef(),q=r.useRef();r.useEffect(()=>{b(!1)},[]);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"account-pages mt-5 mb-5",children:s.jsx("div",{className:"container",children:s.jsx("div",{className:"row justify-content-center",children:s.jsxs("div",{className:"col-md-8 col-lg-6 col-xl-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("a",{href:"/",children:s.jsx("img",{src:"/assets/img/logo-default.png",alt:"",className:"mx-auto",style:{height:"40px"}})}),s.jsx("p",{className:"text-muted mt-2 mb-4",children:"Bienvenido a Trasciende"})]}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body p-4",children:[s.jsx("div",{className:"text-center mb-4",children:s.jsx("h4",{className:"text-uppercase mt-0 font-bold",children:"Registrate"})}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault(),b(!0);const s=F.current.value,r=S.current.value;if(s!=r)return c.fire({icon:"warning",title:"Error",text:"Las contrase単as no coinciden",confirmButtonText:"Ok"});if(!N)return c.fire({icon:"warning",title:"Error",text:"Por favor, complete el captcha",confirmButtonText:"Ok"});const a={role:$(R.current).val(),name:w.current.value,lastname:C.current.value,email:k.current.value,password:p.encrypt(s),confirmation:p.encrypt(r),terms:E.current.checked,captcha:N,specialties:$(T.current).val()},l=await i.signup(a);if(!l)return b(!1);l&&(location.href=`./confirm-email/${l}`),b(!1)},className:"row",children:[s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"row justify-content-center",children:s.jsxs("div",{className:"col-sm-6 mb-2",children:[s.jsxs("label",{htmlFor:"role",className:"form-label",children:["Tipo de usuario ",s.jsx("b",{className:"text-danger",children:"*"})]}),s.jsx(n,{eRef:R,onChange:e=>{documentNumberRef.current.value="",y(!1)},required:!0,children:u.map((e,r)=>s.jsx("option",{value:e.relative_id,children:e.name}))})]})})}),s.jsx(n,{label:"Especialidad",eRef:T,required:!0,multiple:!0,children:j.map((e,r)=>s.jsx("option",{value:e.id,children:e.name},`specialty-${r}`))}),s.jsxs("div",{className:"col-sm-6 mb-2",children:[s.jsxs("label",{htmlFor:"name",className:"form-label",children:["Nombres ",s.jsx("b",{className:"text-danger",children:"*"})]}),s.jsx("input",{ref:w,className:"form-control",type:"text",id:"name",placeholder:"Ingrese su nombre",required:!0})]}),s.jsxs("div",{className:"col-sm-6 mb-2",children:[s.jsxs("label",{htmlFor:"lastname",className:"form-label",children:["Apellidos ",s.jsx("b",{className:"text-danger",children:"*"})]}),s.jsx("input",{ref:C,className:"form-control",type:"text",id:"lastname",placeholder:"Ingrese sus apellidos",required:!0})]}),s.jsxs("div",{className:"col-12 mb-2",children:[s.jsxs("label",{htmlFor:"email",className:"form-label",children:["Correo electronico ",s.jsx("b",{className:"text-danger",children:"*"})]}),s.jsx("input",{ref:k,className:"form-control",type:"email",id:"email",required:!0,placeholder:"Ingrese su correo electronico"})]}),s.jsxs("div",{className:"col-sm-6 mb-2",children:[s.jsxs("label",{htmlFor:"password",className:"form-label",children:["Contrase単a ",s.jsx("b",{className:"text-danger",children:"*"})]}),s.jsx("input",{ref:F,className:"form-control",type:"password",required:!0,id:"password",placeholder:"Ingrese su contrase単a"})]}),s.jsxs("div",{className:"col-sm-6 mb-3",children:[s.jsxs("label",{htmlFor:"confirmation",className:"form-label",children:["Confirmacion ",s.jsx("b",{className:"text-danger",children:"*"})]}),s.jsx("input",{ref:S,className:"form-control",type:"password",required:!0,id:"confirmation",placeholder:"Confirme su contrase単a"})]}),s.jsx("div",{className:"col-12 mb-3",children:s.jsxs("div",{className:"form-check mx-auto",style:{width:"max-content"},children:[s.jsx("input",{ref:E,type:"checkbox",className:"form-check-input",id:"checkbox-signup",required:!0}),s.jsxs("label",{className:"form-check-label",htmlFor:"checkbox-signup",children:["Acepto los",s.jsx("a",{href:"#terms",className:"ms-1 text-blue",onClick:()=>$(q.current).modal("show"),children:"terminos y condiciones"})]})]})}),s.jsx(a,{className:"m-auto mb-3",sitekey:m,onChange:v,style:{display:"block",width:"max-content"}}),s.jsx("div",{className:"mb-0 text-center d-grid",children:s.jsx("button",{className:"btn btn-primary",type:"submit",disabled:f,children:f?s.jsxs(s.Fragment,{children:[s.jsx("i",{className:"fa fa-spinner fa-spin"})," Verificando"]}):"Registrarme"})})]})]})}),s.jsx("div",{className:"row mt-3",children:s.jsx("div",{className:"col-12 text-center",children:s.jsxs("p",{className:"text-muted",children:["Ya tienes una cuenta? ",s.jsx(l,{href:"/login",className:"text-white ms-1",children:s.jsx("b",{children:"Iniciar sesion"})})]})})})]})})})}),s.jsx(o,{modalRef:q,title:"Terminos y condiciones",size:"lg",hideFooter:!0,children:s.jsx(d,{html:h})})]})};m((r,a)=>{e.createRoot(r).render(s.jsx(x,{...a}))});

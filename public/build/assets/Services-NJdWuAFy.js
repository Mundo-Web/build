var ze=Object.defineProperty;var Le=(g,m,f)=>m in g?ze(g,m,{enumerable:!0,configurable:!0,writable:!0,value:f}):g[m]=f;var U=(g,m,f)=>Le(g,typeof m!="symbol"?m+"":m,f);import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{B as We}from"./Base-BBEfqqc-.js";import{S as re}from"./SwitchFormGroup-DXN0cwVk.js";import{T as He}from"./TextareaFormGroup-CliirJM1.js";import{Q as qe}from"./QuillFormGroup-BXX8qnUc.js";import{r as l}from"./index-BOnQTV8N.js";import{c as Je}from"./ReactAppend-QR5TrZfj.js";import{s as te}from"./server.browser-Bf4gQIc7.js";import{S as Ue}from"./CartKuchara-D9l7c7at.js";import{B as Qe}from"./BasicRest-BML1C-ua.js";import{I as ie}from"./ImageFormGroup-40MuGzez.js";import{M as Ke}from"./Modal-xDw9ufjg.js";import{T as Xe}from"./Table-hR1LHIgy.js";import{D as le}from"./DxButton-DV0H-ZcL.js";import{C as Ye,F as c}from"./CreateReactScript-d60iGIqA.js";import{R as V}from"./ReactAppend-Vm5G2nof.js";import{I as ne}from"./InputFormGroup-iZIO11ZN.js";import{S as ce}from"./SelectFormGroup-X8WqJHHl.js";import"./index-yBjzXJbu.js";import"./Global-Bz6gVLc5.js";import"./tippy-react.esm-DmkRJDEW.js";import"./index-pSueRYGM.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-B6ujFmsw.js";/* empty css              */import"./Logout-BpuTJ_83.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuItemContainer-DcxtOi47.js";import"./index.esm-C48oHfFw.js";import"./index-ngrFHoWO.js";import"./CanAccess-D2C6GWbm.js";import"./CardProductKatya-ncpmQ0JU.js";import"./BooleanLimit-D-OsQsek.js";/* empty css               */import"./General-CE1RDd44.js";import"./LaravelSession-Dz9cpV3l.js";class Ze extends Qe{constructor(){super(...arguments);U(this,"path","admin/services");U(this,"hasFiles",!0)}}const T=new Ze,es=({service_categories:g=[],service_sub_categories:m=[]})=>{const f=l.useRef(),G=l.useRef(),I=l.useRef(),M=l.useRef(),B=l.useRef(),z=l.useRef(),L=l.useRef(),A=l.useRef(),D=l.useRef(),o=l.useRef(),d=l.useRef(),P=l.useRef(),[oe,Q]=l.useState(!1),[K,X]=l.useState(null),[u,y]=l.useState([]),Y=l.useRef(),[h,R]=l.useState([]),Z=l.useRef(),[x,C]=l.useState([]),O=l.useRef(),[N,S]=l.useState([]),[w,k]=l.useState([]),de=s=>{const r=Array.from(s.target.files).map((t,i)=>({file:t,preview:URL.createObjectURL(t),order:u.length+i,id:null}));y([...u,...r])},me=s=>{s.preventDefault();const t=Array.from(s.dataTransfer.files).filter(i=>i.type.startsWith("image/")).map((i,p)=>({file:i,preview:URL.createObjectURL(i),order:u.length+p,id:null}));y([...u,...t])},ue=s=>{s.preventDefault()},pe=(s,a)=>{s.preventDefault();const r=u[a];if(r.id){const t=document.createElement("input");t.type="hidden",t.name="deleted_images[]",t.value=r.id,t.className="deleted-image-input",s.target.closest("form").appendChild(t)}y(u.filter((t,i)=>i!==a))},[j,W]=l.useState(null),fe=(s,a)=>{W(a)},ge=()=>{W(null)},he=s=>{s.preventDefault()},xe=(s,a)=>{if(s.preventDefault(),j===null||j===a)return;const r=[...u],[t]=r.splice(j,1);r.splice(a,0,t),y(r.map((i,p)=>({...i,order:p}))),W(null)},be=s=>{const r=Array.from(s.target.files).map((t,i)=>({file:t,name:t.name,order:h.length+i}));R([...h,...r])},ve=(s,a)=>{s.preventDefault();const r=h[a];if(r.path){const t=document.createElement("input");t.type="hidden",t.name="deleted_pdfs[]",t.value=r.path,t.className="deleted-pdf-input",s.target.closest("form").appendChild(t)}R(h.filter((t,i)=>i!==a))},[F,H]=l.useState(null),je=(s,a)=>{H(a)},ye=()=>{H(null)},Ne=s=>{s.preventDefault()},we=(s,a)=>{if(s.preventDefault(),F===null||F===a)return;const r=[...h],[t]=r.splice(F,1);r.splice(a,0,t),R(r.map((i,p)=>({...i,order:p}))),H(null)},De=s=>{var r;s.preventDefault();const a=(r=O.current)==null?void 0:r.value;a&&a.trim()&&(C([...x,{url:a.trim(),order:x.length}]),O.current&&(O.current.value=""))},Re=(s,a)=>{if(s.preventDefault(),x[a].id){const t=document.createElement("input");t.type="hidden",t.name="deleted_videos[]",t.value=a,t.className="deleted-video-input",s.target.closest("form").appendChild(t)}C(x.filter((t,i)=>i!==a))},[_,q]=l.useState(null),Ce=(s,a)=>{q(a)},Se=()=>{q(null)},ke=s=>{s.preventDefault()},Fe=(s,a)=>{if(s.preventDefault(),_===null||_===a)return;const r=[...x],[t]=r.splice(_,1);r.splice(a,0,t),C(r.map((i,p)=>({...i,order:p}))),q(null)},_e=()=>{S([...N,{id:null,feature:""}])},Ee=(s,a)=>{const r=[...N];r[s].feature=a,S(r)},Te=s=>{S(N.filter((a,r)=>r!==s))},Ie=()=>{k([...w,{id:null,type:"general",title:"",description:""}])},J=(s,a,r)=>{const t=[...w];t[s][a]=r,k(t)},Ae=s=>{k(w.filter((a,r)=>r!==s))},ee=s=>{if(s!=null&&s.id?Q(!0):Q(!1),I.current.value=(s==null?void 0:s.id)??"",z.current.value=(s==null?void 0:s.name)??"",L.current.value=(s==null?void 0:s.summary)??"",D.current&&(D.current.value=(s==null?void 0:s.path)??""),P.current&&(P.current.value=(s==null?void 0:s.slug)??""),A.editor&&(A.editor.root.innerHTML=(s==null?void 0:s.description)??""),o.current&&(o.image.src=s!=null&&s.image?`/storage/images/service/${s.image}`:"",o.current.value=null,o.resetDeleteFlag&&o.resetDeleteFlag()),d.current&&(d.image.src=s!=null&&s.background_image?`/storage/images/service/${s.background_image}`:"",d.current.value=null,d.resetDeleteFlag&&d.resetDeleteFlag()),$(M.current).val((s==null?void 0:s.service_category_id)||null).trigger("change"),s!=null&&s.service_category_id&&X(Number(s.service_category_id)),$(B.current).val((s==null?void 0:s.service_subcategory_id)||null).trigger("change"),s!=null&&s.images&&Array.isArray(s.images)){const r=s.images.map(t=>({id:t.id,preview:`/storage/images/service/${t.image}`,order:t.order,file:null}));y(r)}else y([]);s!=null&&s.pdf&&Array.isArray(s.pdf)?R(s.pdf.map(r=>({name:r.name,path:r.path,order:r.order}))):R([]),s!=null&&s.linkvideo&&Array.isArray(s.linkvideo)?C(s.linkvideo.map(r=>({url:r.url,order:r.order}))):C([]),s!=null&&s.features&&Array.isArray(s.features)?S(s.features.map(r=>({id:r.id,feature:r.feature||""}))):S([]),s!=null&&s.specifications&&Array.isArray(s.specifications)?k(s.specifications.map(r=>({id:r.id,type:r.type||"general",title:r.title,description:r.description}))):k([]),document.querySelectorAll(".deleted-image-input, .deleted-pdf-input, .deleted-video-input").forEach(r=>r.remove()),$(G.current).modal("show")},Pe=async s=>{var ae;s.preventDefault();const a=new FormData;I.current.value&&a.append("id",I.current.value),a.append("name",z.current.value),a.append("summary",L.current.value),a.append("description",A.current.value);const r=M.current.value;r&&r!==""&&r!=="null"&&a.append("service_category_id",r);const t=B.current.value;if(t&&t!==""&&t!=="null"&&a.append("service_subcategory_id",t),D.current){const n=D.current.value;n&&n.trim()!==""&&a.append("path",n)}const i=(ae=P.current)==null?void 0:ae.value;if(i&&i.trim()!==""&&a.append("slug",i),o.current){const n=o.current.files[0];n&&a.append("image",n)}if(d.current){const n=d.current.files[0];n&&a.append("background_image",n)}o.current&&o.getDeleteFlag&&o.getDeleteFlag()&&a.append("image_delete","DELETE"),d.current&&d.getDeleteFlag&&d.getDeleteFlag()&&a.append("background_image_delete","DELETE"),u.forEach((n,Be)=>{n.file&&a.append("gallery[]",n.file)});const p=document.querySelectorAll(".deleted-image-input"),b=Array.from(p).map(n=>n.value);b.length>0&&a.append("deleted_images",JSON.stringify(b)),h.forEach((n,Be)=>{n.file&&a.append("pdf[]",n.file)});const v=document.querySelectorAll(".deleted-pdf-input"),E=Array.from(v).map(n=>n.value);E.length>0&&a.append("deleted_pdfs",JSON.stringify(E));const Ge=x.map(n=>n.url);a.append("linkvideo",JSON.stringify(Ge));const Me=document.querySelectorAll(".deleted-video-input"),se=Array.from(Me).map(n=>n.value);se.length>0&&a.append("deleted_videos",JSON.stringify(se)),a.append("features",JSON.stringify(N)),a.append("specifications",JSON.stringify(w)),await T.save(a)&&(o.current&&o.resetDeleteFlag&&o.resetDeleteFlag(),d.current&&d.resetDeleteFlag&&d.resetDeleteFlag(),$(f.current).dxDataGrid("instance").refresh(),$(G.current).modal("hide"))},$e=async({id:s,value:a})=>{await T.boolean({id:s,field:"visible",value:a})&&$(f.current).dxDataGrid("instance").refresh()},Oe=async({id:s,value:a})=>{await T.boolean({id:s,field:"featured",value:a})&&$(f.current).dxDataGrid("instance").refresh()},Ve=async s=>{const{isConfirmed:a}=await Ue.fire({title:"Eliminar registro",text:"¿Estas seguro de eliminar este registro?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!a||!await T.delete(s.id)||$(f.current).dxDataGrid("instance").refresh()};return e.jsxs(e.Fragment,{children:[e.jsx(Xe,{gridRef:f,title:"Servicios",rest:T,toolBar:s=>{s.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(f.current).dxDataGrid("instance").refresh()}}),s.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Agregar",hint:"Agregar",onClick:()=>ee()}})},exportable:!0,exportableName:"Servicios",columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"category.name",caption:"Categoría",width:"150px",cellTemplate:(s,{data:a})=>{var r,t;s.html(te.renderToString(e.jsxs(e.Fragment,{children:[e.jsx("b",{className:"d-block",children:((r=a.category)==null?void 0:r.name)||"Sin categoría"}),e.jsx("small",{className:"text-muted",children:((t=a.subcategory)==null?void 0:t.name)||""})]})))}},{dataField:"name",caption:"Servicio",minWidth:"300px",cellTemplate:(s,{data:a})=>{const r=(b,v)=>{if(!b)return"";const E=b.split(" ");return E.length>v?E.slice(0,v).join(" ")+"...":b},t=b=>{if(!b)return"";const v=document.createElement("div");return v.innerHTML=b,v.textContent||v.innerText||""},i=a.summary?a.summary:t(a.description),p=r(i,15);s.html(te.renderToString(e.jsxs(e.Fragment,{children:[e.jsx("b",{children:a.name}),(a.summary||a.description)&&p&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("span",{className:"text-muted",children:p})]})]})))}},c.has("services","image")&&{dataField:"image",caption:"Imagen",width:"90px",allowFiltering:!1,cellTemplate:(s,{data:a})=>{V(s,e.jsx("img",{src:`/storage/images/service/${a.image}`,style:{width:"80px",height:"48px",objectFit:"cover",objectPosition:"center",borderRadius:"4px"},onError:r=>r.target.src="/api/cover/thumbnail/null"}))}},c.has("services","background_image")&&{dataField:"background_image",caption:"Banner",width:"90px",allowFiltering:!1,cellTemplate:(s,{data:a})=>{V(s,e.jsx("img",{src:`/storage/images/service/${a.background_image}`,style:{width:"80px",height:"48px",objectFit:"cover",objectPosition:"center",borderRadius:"4px"},onError:r=>r.target.src="/api/cover/thumbnail/null"}))}},{dataField:"visible",caption:"Visible",dataType:"boolean",width:"90px",cellTemplate:(s,{data:a})=>{$(s).empty(),V(s,e.jsx(re,{checked:a.visible==1,onChange:()=>$e({id:a.id,value:!a.visible})}))}},{dataField:"featured",caption:"Destacado",dataType:"boolean",width:"110px",cellTemplate:(s,{data:a})=>{$(s).empty(),V(s,e.jsx(re,{checked:a.featured==1,onChange:()=>Oe({id:a.id,value:!a.featured})}))}},{caption:"Acciones",width:"120px",cellTemplate:(s,{data:a})=>{s.css("text-overflow","unset"),s.append(le({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>ee(a)})),s.append(le({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>Ve(a)}))},allowFiltering:!1,allowExporting:!1}]}),e.jsxs(Ke,{modalRef:G,title:oe?"Editar servicio":"Agregar servicio",onSubmit:Pe,size:"xl",children:[e.jsx("input",{ref:I,type:"hidden"}),e.jsx("input",{ref:P,type:"hidden"}),e.jsxs("div",{id:"principal-container",children:[e.jsxs("ul",{className:"nav nav-pills nav-justified mb-4",role:"tablist",style:{backgroundColor:"#f8f9fa",borderRadius:"8px",padding:"4px",border:"1px solid #e9ecef"},children:[e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link active",id:"basic-info-tab","data-bs-toggle":"pill","data-bs-target":"#basic-info",type:"button",role:"tab","aria-controls":"basic-info","aria-selected":"true",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"Información Básica"]})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link",id:"multimedia-tab","data-bs-toggle":"pill","data-bs-target":"#multimedia",type:"button",role:"tab","aria-controls":"multimedia","aria-selected":"false",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-images me-2"}),"Multimedia"]})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsxs("button",{className:"nav-link",id:"features-tab","data-bs-toggle":"pill","data-bs-target":"#features",type:"button",role:"tab","aria-controls":"features","aria-selected":"false",style:{borderRadius:"6px",fontWeight:"500",transition:"all 0.3s ease"},children:[e.jsx("i",{className:"fas fa-list-ul me-2"}),"Características"]})})]}),e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:"tab-pane fade show active",id:"basic-info",role:"tabpanel","aria-labelledby":"basic-info-tab",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-tag me-2"}),"Identificación"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(ne,{eRef:z,label:"Nombre del Servicio",required:!0,hidden:!c.has("services","name")}),e.jsx(ne,{eRef:D,label:"Ruta (Path)",placeholder:"/mi-servicio",hidden:!c.has("services","path")})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-sitemap me-2"}),"Categorización"]})}),e.jsxs("div",{className:"card-body",children:[e.jsx(ce,{eRef:M,label:"Categoría",dropdownParent:"#principal-container",onChange:s=>X(s.target.value?Number(s.target.value):null),hidden:!c.has("services","service_category_id"),children:g.map((s,a)=>e.jsx("option",{value:s.id,children:s.name},a))}),e.jsx(ce,{eRef:B,label:"Subcategoría",dropdownParent:"#principal-container",hidden:!c.has("services","service_subcategory_id"),children:m.filter(s=>!K||s.service_category_id===K).map((s,a)=>e.jsx("option",{value:s.id,children:s.name},a))})]})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-align-left me-2"}),"Descripción"]})}),e.jsx("div",{className:"card-body",children:e.jsx(He,{eRef:L,label:"Resumen Corto",rows:3,placeholder:"Breve descripción del servicio (1-2 líneas)",hidden:!c.has("services","summary")})})]})})]})}),e.jsx("div",{className:"tab-pane fade",id:"multimedia",role:"tabpanel","aria-labelledby":"multimedia-tab",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-image me-2"}),"Imágenes Principales"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[c.has("services","background_image")&&e.jsx(ie,{eRef:d,name:"background_image",label:"Banner",aspect:2/1,col:"col-12"}),c.has("services","image")&&e.jsx(ie,{eRef:o,name:"image",label:"Imagen Principal",aspect:1,col:"col-md-6"})]})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-photo-video me-2"}),"Galería y Multimedia"]})}),e.jsxs("div",{className:"card-body",children:[c.has("services","is_gallery")&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"form-label fw-semibold text-dark mb-3",children:[e.jsx("i",{className:"fas fa-images me-2 text-primary"}),"Galería de Imágenes",u.length>0&&e.jsx("span",{className:"badge bg-primary ms-2",children:u.length})]}),e.jsx("input",{id:"input-service-gallery",ref:Y,type:"file",multiple:!0,accept:"image/*",hidden:!0,onChange:de}),e.jsxs("div",{className:"gallery-container",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"16px",padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"12px",border:"2px dashed #dee2e6",minHeight:"160px"},children:[u.map((s,a)=>{const r=a+1;return e.jsxs("div",{className:"gallery-item position-relative",draggable:!0,onDragStart:t=>fe(t,a),onDragEnd:ge,onDragOver:he,onDrop:t=>xe(t,a),style:{aspectRatio:"1",borderRadius:"12px",overflow:"hidden",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",transition:"all 0.3s ease",cursor:"grab",transform:j===a?"scale(1.05)":"scale(1)",opacity:j===a?.8:1,border:"3px solid transparent",background:"white"},onMouseEnter:t=>{j===null&&(t.currentTarget.style.transform="scale(1.02)",t.currentTarget.style.boxShadow="0 6px 20px rgba(0,0,0,0.15)")},onMouseLeave:t=>{j===null&&(t.currentTarget.style.transform="scale(1)",t.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.1)")},children:[e.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:e.jsx("span",{className:"badge bg-primary rounded-circle d-flex align-items-center justify-content-center",style:{width:"24px",height:"24px",fontSize:"11px",fontWeight:"bold"},children:r})}),e.jsx("img",{src:s.preview,alt:`Imagen ${r}`,className:"w-100 h-100",style:{objectFit:"cover",pointerEvents:"none"}}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center",style:{background:"rgba(0,0,0,0.7)",opacity:0,transition:"opacity 0.3s ease"},onMouseEnter:t=>t.currentTarget.style.opacity=1,onMouseLeave:t=>t.currentTarget.style.opacity=0,children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{type:"button",className:"btn btn-light btn-sm rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},title:"Mover imagen",children:e.jsx("i",{className:"fas fa-arrows-alt text-dark"})}),e.jsx("button",{type:"button",className:"btn btn-danger btn-sm rounded-circle d-flex align-items-center justify-content-center",style:{width:"32px",height:"32px"},onClick:t=>pe(t,a),title:"Eliminar imagen",children:e.jsx("i",{className:"fas fa-trash text-white"})})]})})]},a)}),e.jsx("div",{className:"gallery-add-button d-flex flex-column align-items-center justify-content-center",style:{aspectRatio:"1",border:"3px dashed #71b6f9",borderRadius:"12px",backgroundColor:"rgba(13, 110, 253, 0.05)",cursor:"pointer",transition:"all 0.3s ease",minHeight:"120px"},onClick:()=>Y.current.click(),onDrop:me,onDragOver:ue,onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(13, 110, 253, 0.1)",s.currentTarget.style.borderColor="#0056b3",s.currentTarget.style.transform="scale(1.02)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="rgba(13, 110, 253, 0.05)",s.currentTarget.style.borderColor="#71b6f9",s.currentTarget.style.transform="scale(1)"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mb-2 bg-primary",style:{width:"48px",height:"48px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto"},children:e.jsx("i",{className:"fas fa-plus text-white fa-lg"})}),e.jsx("p",{className:"mb-0 text-primary fw-semibold",style:{fontSize:"12px"},children:"Agregar Imagen"}),e.jsx("small",{className:"text-muted",style:{fontSize:"10px"},children:"Arrastra o haz clic"})]})})]}),u.length===0&&e.jsxs("div",{className:"text-center py-4 text-muted",children:[e.jsx("i",{className:"fas fa-images fa-3x mb-3 opacity-50"}),e.jsx("p",{className:"mb-1",children:"No hay imágenes en la galería"}),e.jsx("small",{children:'Arrastra archivos aquí o haz clic en "Agregar Imagen"'})]})]}),c.has("services","pdf")&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"form-label fw-semibold text-dark mb-3",children:[e.jsx("i",{className:"fas fa-file-pdf me-2 text-danger"}),"Archivos PDF (Manuales / Catálogos)",h.length>0&&e.jsx("span",{className:"badge bg-danger ms-2",children:h.length})]}),e.jsx("input",{ref:Z,type:"file",multiple:!0,accept:".pdf",hidden:!0,onChange:be}),e.jsx("div",{className:"list-group mb-3",children:h.map((s,a)=>e.jsxs("div",{draggable:!0,onDragStart:r=>je(r,a),onDragEnd:ye,onDragOver:Ne,onDrop:r=>we(r,a),className:"list-group-item d-flex align-items-center justify-content-between",style:{cursor:"grab",opacity:F===a?.5:1,backgroundColor:F===a?"#f8f9fa":"white",transition:"all 0.2s ease"},children:[e.jsxs("div",{className:"d-flex align-items-center flex-grow-1",style:{minWidth:0},children:[e.jsx("span",{className:"badge bg-danger me-3",style:{minWidth:"28px"},children:a+1}),e.jsx("i",{className:"fas fa-grip-vertical text-muted me-3"}),e.jsx("i",{className:"fas fa-file-pdf text-danger me-2"}),e.jsx("span",{className:"text-truncate",style:{maxWidth:"250px"},children:s.name})]}),e.jsxs("div",{className:"d-flex gap-2 flex-shrink-0",children:[!s.file&&s.path&&e.jsx("a",{href:`/storage/pdfs/service/${s.path}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:r=>ve(r,a),children:e.jsx("i",{className:"fas fa-trash"})})]})]},a))}),e.jsxs("button",{type:"button",className:"btn btn-outline-danger w-100",onClick:()=>Z.current.click(),children:[e.jsx("i",{className:"fas fa-plus me-2"}),"Agregar PDFs"]})]}),c.has("services","linkvideo")&&e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label fw-semibold text-dark mb-3",children:[e.jsx("i",{className:"fas fa-video me-2 text-success"}),"Links de Videos",x.length>0&&e.jsx("span",{className:"badge bg-success ms-2",children:x.length})]}),e.jsx("div",{className:"list-group mb-3",children:x.map((s,a)=>e.jsxs("div",{draggable:!0,onDragStart:r=>Ce(r,a),onDragEnd:Se,onDragOver:ke,onDrop:r=>Fe(r,a),className:"list-group-item d-flex align-items-center justify-content-between",style:{cursor:"grab",opacity:_===a?.5:1,backgroundColor:_===a?"#f8f9fa":"white",transition:"all 0.2s ease"},children:[e.jsxs("div",{className:"d-flex align-items-center flex-grow-1",style:{minWidth:0,overflow:"hidden"},children:[e.jsx("span",{className:"badge bg-success me-3 flex-shrink-0",style:{minWidth:"28px"},children:a+1}),e.jsx("i",{className:"fas fa-grip-vertical text-muted me-3 flex-shrink-0"}),e.jsx("i",{className:"fas fa-video text-success me-2 flex-shrink-0"}),e.jsx("span",{className:"small",style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"100%"},title:s.url,children:s.url})]}),e.jsxs("div",{className:"d-flex gap-2 flex-shrink-0 ms-2",children:[e.jsx("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:e.jsx("i",{className:"fas fa-external-link-alt"})}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:r=>Re(r,a),children:e.jsx("i",{className:"fas fa-trash"})})]})]},a))}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{ref:O,type:"url",className:"form-control",placeholder:"https://youtube.com/watch?v=..."}),e.jsxs("button",{type:"button",className:"btn btn-success",onClick:De,children:[e.jsx("i",{className:"fas fa-plus me-2"}),"Agregar"]})]})]})]})]})})]})}),e.jsx("div",{className:"tab-pane fade",id:"features",role:"tabpanel","aria-labelledby":"features-tab",children:e.jsxs("div",{className:"row g-3",children:[c.has("services","is_features")&&e.jsx("div",{className:`${c.has("services","is_features")&&c.has("services","is_specifications")?"col-md-6":"col-12"}`,children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-list-ul me-2"}),"Características"]})}),e.jsxs("div",{className:"card-body",children:[N.length===0?e.jsxs("div",{className:"alert alert-info mb-0",children:[e.jsx("i",{className:"mdi mdi-information me-2"}),'No hay características agregadas. Haz clic en "Agregar" para comenzar.']}):N.map((s,a)=>e.jsx("div",{className:"card mb-3 border",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsxs("label",{className:"form-label mb-0",children:["Característica #",a+1]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Te(a),children:e.jsx("i",{className:"mdi mdi-delete"})})]}),e.jsx("textarea",{className:"form-control",rows:"2",value:s.feature,onChange:r=>Ee(a,r.target.value),placeholder:"Ej: Atención personalizada 24/7"})]})},a)),e.jsxs("button",{type:"button",className:"btn btn-primary w-100",onClick:_e,children:[e.jsx("i",{className:"mdi mdi-plus me-1"})," Agregar Característica"]})]})]})}),c.has("services","is_specifications")&&e.jsx("div",{className:`${c.has("services","is_features")&&c.has("services","is_specifications")?"col-md-6":"col-12"}`,children:e.jsxs("div",{className:"card border-0 shadow-sm h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-cogs me-2"}),"Especificaciones"]})}),e.jsxs("div",{className:"card-body",children:[w.length===0?e.jsxs("div",{className:"alert alert-info mb-0",children:[e.jsx("i",{className:"mdi mdi-information me-2"}),'No hay especificaciones agregadas. Haz clic en "Agregar" para comenzar.']}):w.map((s,a)=>e.jsx("div",{className:"card mb-3 border",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[e.jsxs("label",{className:"form-label mb-0",children:["Especificación #",a+1]}),e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>Ae(a),children:e.jsx("i",{className:"mdi mdi-delete"})})]}),e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-12",children:[e.jsx("label",{className:"form-label",children:"Tipo"}),e.jsxs("select",{className:"form-select",value:s.type,onChange:r=>J(a,"type",r.target.value),children:[e.jsx("option",{value:"principal",children:"Principal"}),e.jsx("option",{value:"general",children:"General"})]})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Título"}),e.jsx("input",{type:"text",className:"form-control",value:s.title,onChange:r=>J(a,"title",r.target.value),placeholder:"Ej: Certificaciones ISO"})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Descripción"}),e.jsx("textarea",{className:"form-control",rows:"2",value:s.description,onChange:r=>J(a,"description",r.target.value),placeholder:"Descripción detallada..."})]})]})]})},a)),e.jsxs("button",{type:"button",className:"btn btn-primary w-100",onClick:Ie,children:[e.jsx("i",{className:"mdi mdi-plus me-1"})," Agregar Especificación"]})]})]})}),c.has("services","description")&&e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-0 shadow-sm",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-edit me-2"}),"Descripción Detallada"]})}),e.jsx("div",{className:"card-body",children:e.jsx(qe,{eRef:A,label:"Descripción Completa"})})]})})]})})]})]})]})]})};Ye((g,m)=>{Je.createRoot(g).render(e.jsx(We,{...m,title:"Servicios",children:e.jsx(es,{...m})}))});

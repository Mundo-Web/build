import{r as e,m as s,j as t}from"./vendor-react-DD0uBW7s.js";import{A as a}from"./AuthClientRest-UCVKew9Y.js";import{J as r}from"./JSEncrypt-ewRYZc2G.js";import{S as i}from"./CartKuchara-BG_NtHiU.js";import{t as o}from"./GoogleSignInButton-BciphYP2.js";import{G as n}from"./Global-BAGAPG-V.js";import"./vendor-swiper-BQwfPLwm.js";function l({data:l}){const c=new r;c.setPublicKey(n.PUBLIC_RSA_KEY);const[d,m]=e.useState(!1),u=e.useRef();e.useEffect(()=>{s.GET.message&&i.fire({icon:"info",title:"Mensaje",text:s.GET.message,showConfirmButton:!1,timer:3e3})},[]);return t.jsx("div",{id:l?.element_id||null,className:"py-8 lg:py-0 lg:min-h-screen flex items-center justify-center bg-[#F7F9FB] px-primary 2xl:px-0  ",children:t.jsx("div",{className:"2xl:max-w-7xl w-full mx-auto",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:t.jsxs("div",{className:"flex flex-col lg:flex-row lg:min-h-[600px]",children:[t.jsxs("div",{className:"hidden lg:block lg:w-1/2 relative",children:[t.jsx("img",{src:`/assets/resources/reset.png?v=${crypto.randomUUID()}`,alt:n.APP_NAME,className:"absolute inset-0 w-full h-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="/assets/img/logo-bk.svg"}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]}),t.jsx("div",{className:"w-full lg:w-1/2 px-6 py-12 sm:px-12 lg:px-16",children:t.jsxs("div",{className:"max-w-md mx-auto  h-full flex flex-col justify-center",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h5",{className:"customtext-primary font-medium",children:"Olvidé"}),t.jsx("h1",{className:"text-3xl font-bold customtext-neutral-dark",children:"Ops, olvidé mi contraseña"}),t.jsx("p",{className:"customtext-neutral-light",children:"¡No pasa nada! Dinos qué dirección de correo usaste para registrarte y en unos minutos tendrás las instrucciones en tu bandeja de entrada para volver a entrar."})]}),t.jsxs("form",{className:"space-y-4",onSubmit:async e=>{e.preventDefault(),m(!0);const s=u.current.value,t={email:c.encrypt(s)},r=await a.forgotPassword(t);m(!1),r&&r.success?(o.success("¡Revisa tu correo!",{description:"Te hemos enviado las instrucciones para restablecer tu contraseña.",duration:4e3,position:"top-right",action:{label:"Ir al login",onClick:()=>{window.location.href="/iniciar-sesion"}},actionButtonStyle:{backgroundColor:n.APP_COLOR_PRIMARY||"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"}}),setTimeout(()=>{window.location.href="/iniciar-sesion"},4e3)):r&&!1===r.user_exists&&setTimeout(()=>{o.info("¿Ya tienes cuenta?",{description:"Puedes intentar iniciar sesión aquí",duration:4e3,position:"top-right",action:{label:"Ir al login",onClick:()=>{window.location.href="/iniciar-sesion"}},actionButtonStyle:{backgroundColor:n.APP_COLOR_PRIMARY||"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"}})},2e3)},children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",htmlFor:"email",children:"Email"}),t.jsx("input",{id:"email",ref:u,name:"email",type:"email",placeholder:"hola@mail.com",className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",required:!0,disabled:d})]}),t.jsxs("button",{disabled:d,type:"submit",className:"w-full rounded-xl font-semibold  bg-primary px-4 py-3 text-white hover:opacity-90 focus:outline-none focus:ring-2 transition-all duration-300 flex items-center justify-center",children:[d?t.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}):null,d?"Enviando...":"Enviar"]})]})]})})]})})})})}export{l as default};

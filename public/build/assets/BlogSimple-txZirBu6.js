import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as i}from"./index-BOnQTV8N.js";import{P as _}from"./PostsRest-ZrMMk0OC.js";import{B as C}from"./BlogCategoriesRest-Cu0lDmUR.js";import{S}from"./SelectForm-CPo74rd_.js";import{G as k}from"./Global-CazroCzF.js";import{S as E}from"./search-BQ59Robe.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-BML1C-ua.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./CardProductKatya-ncpmQ0JU.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./BooleanLimit-D-OsQsek.js";import"./chevron-down-uIVDLcM-.js";import"./createLucideIcon-DfjclApS.js";import"./check-D5vaIe6v.js";function h({data:l,flex:c=!1,post:t,featured:o=!1}){var m;return e.jsx("article",{className:`group relative lg:p-4 font-title ${o?"h-full":""}`,children:e.jsxs("a",{href:`/post/${t==null?void 0:t.slug}`,className:`block ${c&&"flex gap-4 "}`,children:[e.jsx("div",{className:`relative aspect-[3/2] overflow-hidden rounded-lg ${c&&"w-1/2"} `,children:e.jsx("img",{src:`/storage/images/post/${t==null?void 0:t.image}`,alt:t==null?void 0:t.name,fill:!0,className:"object-cover h-full transition-transform duration-300 group-hover:scale-105 w-full"})}),e.jsxs("div",{className:`flex flex-col justify-center py-2 space-y-1 ${c&&"w-1/2 mt-0 gap-1"}`,children:[e.jsx("span",{className:"customtext-neutral-light opacity-90 font-semibold text-base 2xl:text-lg line-clamp-1 ",children:(m=t==null?void 0:t.category)==null?void 0:m.name}),e.jsx("h3",{className:"text-base md:text-lg xl:text-xl line-clamp-3 lg:line-clamp-4 2xl:text-2xl font-semibold customtext-neutral-dark group-hover:customtext-primary leading-tight",children:t==null?void 0:t.name}),e.jsx("p",{className:"line-clamp-3  customtext-neutral-dark opacity-85 text-sm md:text-base font-title 2xl:text-xl !leading-snug",children:t==null?void 0:t.summary}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("time",{children:t==null?void 0:t.post_date}),(l==null?void 0:l["bool:show_seen"])&&e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"mdi mdi-circle-medium"}),e.jsx("span",{children:"Leído hace 5 minutos"})]})]})]})]})})}const $=new _,B=new C;function X({data:l,posts:c,setPosts:t,headerPosts:o,filteredData:m,loading:F,setLoading:x,isFilter:d,setIsFilter:u}){const[p,j]=i.useState([]),[n,g]=i.useState({category_id:"",post_date:"",name:""}),[y,N]=i.useState(!0),b=s=>{const r=[];return s.category_id&&r.push(["category_id","=",s.category_id]),s.post_date&&r.push(["post_date","=",s.post_date]),s.name&&r.push(["name","contains",s.name]),r},w=async()=>{x(!0);try{const s=b(n),r=n.category_id||n.post_date||n.name,a={with:"category",filter:s},v=await $.paginate(a);t(v.data),u(!!r)}catch(s){console.error("Error fetching posts:",s)}finally{x(!1)}};i.useEffect(()=>{(async()=>{try{const r={filter:[["visible","=",!0],["status","=",!0]]},a=await B.paginate(r);a&&a.data&&j(a.data)}catch(r){console.error("Error fetching categories:",r)}})()},[]),i.useEffect(()=>{y?N(!1):w()},[n]);const f=(s,r)=>{g(a=>({...a,[s]:r}))};return i.useEffect(()=>{},[c]),e.jsx("main",{className:"bg-white font-title",children:e.jsxs("section",{className:`px-primary 2xl:px-0 2xl:max-w-7xl mx-auto ${d?"pt-8":"py-8"}`,children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("span",{className:"customtext-primary",children:"BLOG"}),e.jsx("h1",{className:`font-title text-3xl md:text-5xl 2xl:text-6xl font-bold tracking-tight ${(l==null?void 0:l.class_title)||"customtext-primary"}`,children:l!=null&&l.title?e.jsx("span",{dangerouslySetInnerHTML:{__html:l.title},className:"leading-tight block",style:{lineHeight:"1.1"}}):e.jsxs(e.Fragment,{children:["Descubre lo mejor:",e.jsx("br",{}),"Publicaciones sobre el mundo de ",k.APP_NAME]})}),(l==null?void 0:l.description)&&e.jsx("p",{className:"customtext-neutral-dark opacity-80 text-base 2xl:text-xl font-title",children:l==null?void 0:l.description})]}),e.jsxs("div",{className:"mt-8 flex flex-col md:flex-row gap-4 justify-between",children:[e.jsxs("div",{className:"relative md:w-6/12 flex items-center",children:[e.jsx("input",{type:"search",placeholder:"Buscar publicación",className:"w-full px-4 relative py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",onChange:s=>f("name",s.target.value)}),e.jsx("div",{className:"absolute right-3 p-2 rounded-xl bg-primary",children:e.jsx(E,{className:" h-5 w-5 text-white"})})]}),e.jsxs("div",{className:"flex w-full gap-2 md:gap-4 md:w-5/12",children:[e.jsx("div",{className:"w-1/2 md:w-full",children:e.jsx(S,{options:p,placeholder:"Todas las categorías",onChange:s=>{g(r=>({...r,category_id:s}))},labelKey:"name",valueKey:"id"})}),e.jsx("input",{type:"date",className:"w-1/2 md:w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",onChange:s=>{f("post_date",s.target.value)}})]})]}),!d&&e.jsxs("div",{className:"mt-12 flex gap-8 py-[2.5%] rounded-2xl",children:[e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx(h,{data:l,featured:!0,post:o[0]})}),e.jsx("div",{className:"hidden md:flex space-y-4  flex-col w-1/2",children:o.slice(1,3).map(s=>e.jsx(h,{data:l,flex:!0,post:s},s.id))})]})]})})}export{h as B,X as a};

import{j as n}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BOnQTV8N.js";import{a as re}from"./adjustTextColor-DJKJvkxA.js";import{G as b}from"./Global-Bz6gVLc5.js";import{T as se}from"./TextWithHighlight-de4cdOrr.js";import{A as R}from"./index-BOogNdsm.js";import{m as p}from"./proxy-C3pwVgWq.js";import{T as oe}from"./tag-Dgi-uTqk.js";import{M as ie}from"./message-circle-t1YvztHi.js";import{C as le}from"./chevron-left-JcR9Fe4w.js";import{C as ae}from"./chevron-right-Cug7tVUE.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./resolve-elements-WL2ErOKm.js";import"./createLucideIcon-DfjclApS.js";const Ne=({items:w,data:t,generals:h=[]})=>{const k=(t==null?void 0:t.animation_slider)==="true"||(t==null?void 0:t.animation_slider)==="si"||(t==null?void 0:t.animation_slider)===!0?{initial:{scale:1,opacity:1},animate:{scale:[1,1.2,1],x:[1,-50,1],opacity:1,transition:{duration:20,repeat:1/0,repeatType:"loop"}},exit:{scale:1,opacity:.8,transition:{duration:.3,ease:"easeInOut"}}}:{initial:{scale:1,opacity:1},animate:{scale:[1,1,1],opacity:1,transition:{duration:20}},exit:{scale:1,opacity:.8,transition:{duration:.3,ease:"easeInOut"}}},X={initial:{opacity:0,y:60,scale:.8},animate:{opacity:1,y:0,scale:1,transition:{duration:.8,delay:.8,ease:"easeOut"}},exit:{opacity:0,y:-30,scale:.9,transition:{duration:.4,ease:"easeInOut"}}},D={initial:{opacity:0,y:40,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)",transition:{duration:.7,delay:1.3,ease:"easeOut"}},exit:{opacity:0,y:-20,filter:"blur(8px)",transition:{duration:.3,ease:"easeInOut"}}},S={initial:{opacity:0,y:40,scale:.9},animate:{opacity:1,y:0,scale:1,transition:{duration:.6,delay:1.6,ease:"easeOut"}},exit:{opacity:0,y:20,scale:.8,transition:{duration:.2,ease:"easeInOut"}}},L={initial:{},animate:{transition:{staggerChildren:.1}},exit:{}},O=(e=>{const r=["true","si"],s=["false","no"];return r.includes(e==null?void 0:e.toLowerCase())?!0:(s.includes(e==null?void 0:e.toLowerCase()),!1)})(t==null?void 0:t.infiniteLoop),v=h==null?void 0:h.find(e=>e.correlative==="phone_whatsapp"),_=h==null?void 0:h.find(e=>e.correlative==="message_whatsapp"),N=(v==null?void 0:v.description)??null,V=(_==null?void 0:_.description)??null,[o,f]=l.useState(1),i=l.useRef(null),a=l.useRef(!1),d=l.useRef(0),c=l.useRef(0),g=(w==null?void 0:w.sort((e,r)=>(e.order_index||0)-(r.order_index||0)))||[],u=[g[g.length-1],...g,g[0]],B=["center","left","right"],W=["yes","true","si"],T=B.includes(t==null?void 0:t.paginationAlignment),C=T?t==null?void 0:t.paginationAlignment:"center",I=W.includes(t==null?void 0:t.showNavigation);I&&(t==null||t.navigationAlignment);const y=()=>{f(e=>(e+1)%u.length)},j=()=>{f(e=>e===0?u.length-1:e-1)},M=e=>{let r=e.target;for(;r;){if(r.tagName==="A"||r.tagName==="BUTTON")return!0;r=r.parentElement}return!1},z=e=>{M(e)||(a.current=!0,d.current=e.touches[0].pageX,i.current.style.transition="none")},U=e=>{if(!a.current)return;const r=e.touches[0].pageX-d.current;c.current=-o*100+r/window.innerWidth*100,i.current.style.transform=`translateX(${c.current}%)`},H=e=>{if(!a.current)return;a.current=!1,i.current.style.transition="transform 0.5s ease-in-out",Math.abs((c.current+o*100)*(window.innerWidth/100))>20?c.current>-o*100?j():y():f(o),i.current.style.transform=`translateX(-${o*100}%)`},q=e=>{M(e)||(a.current=!0,d.current=e.pageX,i.current.style.transition="none",e.preventDefault())},G=e=>{if(!a.current)return;e.preventDefault();const r=e.pageX-d.current;c.current=-o*100+r/window.innerWidth*100,i.current&&(i.current.style.transform=`translateX(${c.current}%)`)},A=e=>{if(!a.current||(a.current=!1,!i.current))return;i.current.style.transition="transform 0.5s ease-in-out",Math.abs((c.current+o*100)*(window.innerWidth/100))>50?c.current>-o*100?j():y():i.current.style.transform=`translateX(-${o*100}%)`,c.current=0},J=e=>{a.current&&A()};O&&l.useEffect(()=>{const e=setInterval(()=>{y()},5e3);return()=>clearInterval(e)},[o]),l.useEffect(()=>{o===0?setTimeout(()=>{i.current.style.transition="none",f(u.length-2),requestAnimationFrame(()=>{i.current.style.transform=`translateX(-${(u.length-2)*100}%)`,setTimeout(()=>{i.current.style.transition="transform 0.5s ease-in-out"},50)})},500):o===u.length-1&&setTimeout(()=>{i.current.style.transition="none",f(1),requestAnimationFrame(()=>{i.current.style.transform="translateX(-100%)",setTimeout(()=>{i.current.style.transition="transform 0.5s ease-in-out"},50)})},500)},[o]);const E=l.useRef([]);l.useEffect(()=>{E.current.forEach(e=>{e&&re(e)})},[g]);const[$,K]=l.useState(!1),Q=e=>{const r=new window.Image;r.crossOrigin="Anonymous",r.src=e,r.onload=function(){const s=document.createElement("canvas");s.width=r.width,s.height=r.height;const P=s.getContext("2d");P.drawImage(r,0,0,r.width,r.height);const x=P.getImageData(0,0,s.width,s.height);let F=0;for(let m=0;m<x.data.length;m+=4){const Z=x.data[m],ee=x.data[m+1],te=x.data[m+2],ne=(Z*299+ee*587+te*114)/1e3;F+=ne}const Y=F/(x.data.length/4);K(Y<128)}};return l.useEffect(()=>{const e=u[o];e!=null&&e.bg_image&&Q(`/storage/images/slider/${e.bg_image}`)},[o,u]),n.jsxs("div",{className:`relative w-full mx-auto ${(t==null?void 0:t.class_slider_section)||""}`,children:[n.jsx("div",{className:`overflow-hidden relative ${a.current?"cursor-grabbing":"cursor-grab"} ease`,onMouseDown:q,onMouseMove:G,onMouseUp:A,onMouseLeave:J,onTouchStart:z,onTouchMove:U,onTouchEnd:H,style:{userSelect:"none"},children:n.jsx("div",{ref:i,className:`flex ${(t==null?void 0:t.class_slider)||""}`,style:{transform:`translateX(-${o*100}%)`,transition:"transform 0.5s ease-in-out"},children:u.map((e,r)=>n.jsxs("div",{className:"w-full min-h-[calc(100dvh-20dvh)] lg:h-auto flex-shrink-0 relative",children:[n.jsx(R,{children:o===r&&n.jsxs(n.Fragment,{children:[n.jsx(p.img,{src:`/storage/images/slider/${e.bg_image||"undefined"}`,alt:e.name,loading:"lazy",className:`hidden md:block absolute top-0 left-0 h-full md:h-full w-screen md:w-full object-cover ${(t==null?void 0:t.imageBgPosition)||"object-right-25"} md:object-center z-0 md:mr-20 lg:mr-0`,variants:k,initial:"initial",animate:"animate",exit:"exit",onClick:s=>window.location=e==null?void 0:e.button_link},`image-desktop-${r}`),n.jsx(p.img,{src:`/storage/images/slider/${e.bg_image_mobile||e.bg_image||"undefined"}`,alt:e.name,loading:"lazy",className:`block md:hidden absolute top-0 left-0 h-full w-screen object-cover ${(t==null?void 0:t.imageBgPosition)||"object-right-25"} z-0`,variants:k,initial:"initial",animate:"animate",exit:"exit",onClick:s=>window.location=e==null?void 0:e.button_link},`image-mobile-${r}`)]})}),(e==null?void 0:e.show_overlay)!==!1&&(e==null?void 0:e.show_overlay)!==0&&n.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(${(e==null?void 0:e.overlay_direction)==="to-r"?"to right":(e==null?void 0:e.overlay_direction)==="to-l"?"to left":(e==null?void 0:e.overlay_direction)==="to-t"?"to top":(e==null?void 0:e.overlay_direction)==="to-b"?"to bottom":(e==null?void 0:e.overlay_direction)==="to-tr"?"to top right":(e==null?void 0:e.overlay_direction)==="to-tl"?"to top left":(e==null?void 0:e.overlay_direction)==="to-br"?"to bottom right":(e==null?void 0:e.overlay_direction)==="to-bl"?"to bottom left":"to bottom"}, ${(e==null?void 0:e.overlay_color)||"#000000"}${Math.round(((e==null?void 0:e.overlay_opacity)??50)*2.55).toString(16).padStart(2,"0")}, transparent)`}}),((e==null?void 0:e.show_overlay)===!1||(e==null?void 0:e.show_overlay)===0)&&n.jsxs(n.Fragment,{children:[(t==null?void 0:t.class_overlay)&&n.jsx("div",{className:`absolute inset-0 ${t==null?void 0:t.class_overlay}`}),(t==null?void 0:t.overlayMobile)&&n.jsx("div",{className:"md:hidden absolute inset-0 bg-gradient-to-b from-transparent to-white"}),(t==null?void 0:t.overlayMobileDark)&&n.jsx("div",{className:"md:hidden absolute inset-0 bg-gradient-to-b from-transparent to-black"}),(t==null?void 0:t.overlayDesktop)&&n.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-transparent via-black/60 to-black/80"})]}),(t==null?void 0:t.only_image)&&n.jsx(n.Fragment,{children:n.jsx("div",{className:`relative w-full px-primary 2xl:px-0 2xl:max-w-7xl  mx-auto  h-[calc(100dvh-20dvh)] md:h-[600px] flex flex-col items-start justify-center md:justify-center ${$?"text-white":"customtext-neutral-dark"} ${(t==null?void 0:t.class_slider_container)||""}`,children:n.jsx(R,{mode:"wait",children:n.jsxs(p.div,{variants:L,initial:"initial",animate:"animate",exit:"exit",className:`${b.APP_CORRELATIVE==="stechperu"?"py-10":"py-20"} flex flex-col gap-5 lg:gap-10 h-full lg:h-auto  lg:py-0 items-start justify-between lg:justify-normal lg:items-start w-full`,children:[n.jsxs("div",{children:[n.jsx(p.h2,{variants:X,className:`${b.APP_CORRELATIVE==="stechperu"?"w-6/12  md:w-full md:max-w-md text-[30px]  ":"w-full  md:w-full text-[40px]  md:max-w-lg "} font-title leading-tight sm:text-5xl md:text-6xl tracking-normal font-bold ${t==null?void 0:t.class_title}`,style:{color:e.title_color||($?"#FFFFFF":"#000000"),textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:n.jsx(se,{text:e.name,color:""})}),n.jsx(p.p,{variants:D,className:`${b.APP_CORRELATIVE==="stechperu"?"w-8/12":"w-full"} md:w-full md:max-w-md text-lg leading-tight font-paragraph ${t==null?void 0:t.class_description}`,style:{color:e.description_color||($?"#FFFFFF":"#000000"),textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:e.description})]}),e.button_text&&e.button_link&&n.jsxs(p.div,{variants:S,className:`flex flex-row gap-5 md:gap-10  w-full  ${b.APP_CORRELATIVE==="stechperu"?"justify-center lg:justify-start items-center lg:items-start":"items-start"}`,children:[n.jsxs("a",{href:e.button_link,ref:s=>E.current[r]=s,className:`bg-primary border-none flex flex-row items-center gap-3 px-10 py-4 text-base rounded-xl tracking-wide font-bold text-white ${(t==null?void 0:t.class_button_primary)||"text-white"}`,onClick:s=>{s.stopPropagation()},onMouseDown:s=>s.stopPropagation(),onTouchStart:s=>s.stopPropagation(),children:[e.button_text,n.jsx(oe,{width:"1.25rem",className:`transform rotate-90 ${(t==null?void 0:t.class_icon_primary)||""}`})]}),(t==null?void 0:t.whatsapp_info)&&N&&n.jsxs("a",{href:`https://wa.me/${N.replace(/\D/g,"")}?text=${encodeURIComponent(V||"¡Hola! Me interesa obtener más información sobre sus productos.")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-white border-2 border-neutral-dark backdrop-blur-sm text-gray-800 flex flex-row items-center gap-3 px-6 lg:px-8 py-3 lg:py-4 text-sm lg:text-base rounded-xl tracking-wide font-bold",onClick:s=>{s.stopPropagation()},onMouseDown:s=>s.stopPropagation(),onTouchStart:s=>s.stopPropagation(),children:[n.jsx(ie,{width:"1.25rem",className:"customtext-neutral-dark"}),"Hablar con un asesor"]})]})]},`content-${o}-${e.name}`)})})})]},`slide-${r}`))})}),I&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 ",children:n.jsx("button",{onClick:j,className:"bg-secondary rounded-r-lg text-white w-12 h-12 flex items-center justify-center",children:n.jsx(le,{width:"1rem"})})}),n.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 ",children:n.jsx("button",{onClick:y,className:"bg-secondary rounded-l-lg text-white w-12 h-12 flex items-center justify-center",children:n.jsx(ae,{width:"1rem"})})})]}),T&&n.jsx("div",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto ",children:n.jsx("div",{className:"relative",children:n.jsx("div",{className:`absolute bottom-4 ${C==="left"?"inset-x-0 left-0":C==="right"?"right-0":"left-1/2 transform -translate-x-1/2"}`,children:g.map((e,r)=>n.jsx("div",{className:`inline-flex mx-1 w-3 h-3 rounded-full ${o===r+1?"bg-white h-5 w-5 lg:w-6 lg:h-6 items-center justify-center border-2 border-primary":"bg-secondary"}`,onClick:()=>f(r+1),children:o===r+1&&n.jsx("div",{className:"w-3 h-3 bg-primary rounded-full items-center justify-center"})},`dot-${r}`))})})})]})};export{Ne as default};

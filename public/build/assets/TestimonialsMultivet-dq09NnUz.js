import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r as x}from"./index-BOnQTV8N.js";import{Q as v}from"./quote-Dsy8RbQK.js";import{C as j}from"./chevron-left-JcR9Fe4w.js";import{C as $}from"./chevron-right-Cug7tVUE.js";import{S as y}from"./star-DU-S9B50.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./createLucideIcon-DfjclApS.js";const q=({items:h=[],data:e})=>{const[t,m]=x.useState(0),[u,g]=x.useState({}),l=h.length>0?h:[],p=r=>r?r.split(/(\*[^*]+\*)/g).map((i,c)=>i.startsWith("*")&&i.endsWith("*")?s.jsx("span",{className:`font-bold ${(e==null?void 0:e.highlight_color)||"text-brand-gold"}`,children:i.slice(1,-1)},c):s.jsx("span",{children:i},c)):"";x.useEffect(()=>{if(l.length>1){const r=setInterval(()=>{m(o=>(o+1)%l.length)},(e==null?void 0:e.autoplay_delay)||5e3);return()=>clearInterval(r)}},[l.length,e==null?void 0:e.autoplay_delay]);const b=()=>{m(r=>(r+1)%l.length)},f=()=>{m(r=>(r-1+l.length)%l.length)},_=r=>{const o=parseInt(r)||5;return Array.from({length:5},(i,c)=>s.jsx(y,{className:`w-6 h-6 ${c<o?(e==null?void 0:e.star_color)||"customtext-accent fill-current":"text-gray-300"}`},c))};if(!l||l.length===0)return null;const n=l[t];return s.jsx("section",{className:`py-16 ${(e==null?void 0:e.section_background)||"bg-primary"} text-white ${(e==null?void 0:e.class_section)||""}`,children:s.jsxs("div",{className:"max-w-7xl mx-auto px-primary",children:[s.jsxs("div",{className:`text-center mb-12 ${(e==null?void 0:e.class_header)||""}`,children:[s.jsx("h2",{className:`text-3xl font-title md:text-5xl font-bold mb-4 font-montserrat ${(e==null?void 0:e.title_color)||"text-white"} ${(e==null?void 0:e.class_title)||""}`,children:(e==null?void 0:e.title)||"Lo que dicen nuestros clientes"}),s.jsx("p",{className:`max-w-2xl mx-auto text-lg  ${(e==null?void 0:e.subtitle_color)||"text-gray-300"} ${(e==null?void 0:e.class_subtitle)||""}`,children:(e==null?void 0:e.subtitle)||"Veterinarios y productores de todo el país confían en Multivet"})]}),s.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[s.jsxs("div",{className:`rounded-2xl p-8 md:p-12 relative overflow-hidden ${(e==null?void 0:e.testimonials_background)||"bg-white"} ${(e==null?void 0:e.testimonials_text_color)||"text-gray-800"} ${(e==null?void 0:e.class_testimonials_card)||""}`,children:[s.jsx(v,{className:`absolute top-6 right-6 w-12 h-12 opacity-20 ${(e==null?void 0:e.quote_color)||"customtext-accent"}`}),s.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex gap-1 items-center mb-4",children:_(n.rating)}),s.jsxs("p",{className:`text-lg md:text-xl leading-relaxed mb-6 ${(e==null?void 0:e.testimonial_color)||"customtext-neutral-light"} ${(e==null?void 0:e.class_testimonial_text)||""}`,children:['"',p(n.description||n.content),'"']}),s.jsxs("div",{children:[s.jsx("h4",{className:`text-xl font-bold font-montserrat ${(e==null?void 0:e.client_name_color)||"customtext-primary"} ${(e==null?void 0:e.class_client_name)||""}`,children:n.name}),n.title&&s.jsx("p",{className:`${(e==null?void 0:e.client_title_color)||"customtext-neutral-light"} ${(e==null?void 0:e.class_client_title)||""}`,children:n.title})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:u[t]?"/api/cover/thumbnail/null":n.image?`/storage/images/testimony/${n.image}`:"/api/cover/thumbnail/null",alt:n.name,className:`w-24 h-24 md:w-32 md:h-32 rounded-full object-cover border-4 ${(e==null?void 0:e.avatar_border)||"border-accent"}`,onError:r=>{console.log("Image failed to load:",n.image),g(o=>({...o,[t]:!0}))}})})]})]}),l.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:f,className:`hidden lg:flex absolute -left-16 top-1/2 transform -translate-y-1/2 p-3 rounded-full transition-colors shadow-lg ${(e==null?void 0:e.nav_button_bg)||"bg-accent hover:bg-secondary"} ${(e==null?void 0:e.nav_button_color)||"text-primary-800"}`,"aria-label":"Testimonio anterior",children:s.jsx(j,{className:"w-6 h-6"})}),s.jsx("button",{onClick:b,className:`hidden lg:flex absolute -right-16 top-1/2 transform -translate-y-1/2 p-3 rounded-full transition-colors shadow-lg ${(e==null?void 0:e.nav_button_bg)||"bg-accent hover:bg-secondary"} ${(e==null?void 0:e.nav_button_color)||"text-primary-800"}`,"aria-label":"Siguiente testimonio",children:s.jsx($,{className:"w-6 h-6"})})]}),l.length>1&&s.jsx("div",{className:"flex justify-center space-x-2 mt-8",children:l.map((r,o)=>s.jsx("button",{onClick:()=>m(o),className:`w-3 h-3 rounded-full transition-all duration-300 ${o===t?`${(e==null?void 0:e.active_dot)||"bg-accent"} scale-125`:`${(e==null?void 0:e.inactive_dot)||"bg-gray-400 hover:bg-gray-300"}`}`,"aria-label":`Ir al testimonio ${o+1}`},o))})]})]})})};export{q as default};

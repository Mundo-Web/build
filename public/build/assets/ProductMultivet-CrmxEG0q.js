import{j as i}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BOnQTV8N.js";import{C}from"./CardProductMultivet-DEJJ6aW6.js";import"./CardProductKatya-ncpmQ0JU.js";import{u as w}from"./use-in-view-DtBxy-1R.js";import{m as r}from"./proxy-B0QLMKEh.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./circle-chevron-right-Cragr8lM.js";import"./createLucideIcon-DfjclApS.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";const T=({product:e,data:s,favorites:v=[],setFavorites:u})=>{var g;const[m,y]=a.useState(!1);console.log("CardProductKatya product:",e),v.some(t=>t.id===(e==null?void 0:e.id));const x=()=>{const t=(e==null?void 0:e.slug)||(e==null?void 0:e.id);window.location.href=`/item/${t}`},l=parseFloat((e==null?void 0:e.price)||0),o=parseFloat((e==null?void 0:e.final_price)||0);parseFloat((e==null?void 0:e.discount)||0);const b=parseFloat((e==null?void 0:e.discount_percent)||0),h=l>0&&o>0&&l>o||b>0,d=(h&&l>0?Math.round((l-o)/l*100):b)>=20||(e==null?void 0:e.offering)===!0&&h;return i.jsxs("div",{className:"bg-white group rounded-3xl shadow-lg border-2 overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer flex flex-col h-full relative max-w-sm mx-auto",onClick:x,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[d&&i.jsx("div",{className:"absolute top-0 right-0 z-20",children:i.jsx("div",{className:"customtext-secondary bg-primary text-base font-bold px-6 py-2 rounded-bl-3xl rounded-tr-3xl",children:"SuperAhorro"})}),i.jsxs("div",{className:"relative bg-gray-50 flex items-center justify-center p-8 h-80 ",children:[i.jsx("img",{src:e!=null&&e.image?`/api/items/media/${e.image}`:"/assets/img/noimage/no_img.jpg",alt:(e==null?void 0:e.name)||"Producto",className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-500",onError:t=>{t.target.src="/assets/img/noimage/no_img.jpg"}}),i.jsx("div",{className:"absolute inset-0  transition-all duration-300 flex items-end justify-center",children:i.jsx("button",{onClick:t=>{t.stopPropagation(),x()},className:"opacity-0 w-10/12 group-hover:opacity-100 bg-neutral-dark text-white px-6 py-3.5 rounded-full font-bold shadow-lg transition-all duration-300 transform scale-100 group-hover:scale-100 hover:bg-secondary",children:"VER PRODUCTO"})})]}),i.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[i.jsx("div",{className:"mb-3",children:i.jsx("span",{className:"text-sm font-bold customtext-neutral-light uppercase line-clamp-1 tracking-wide",children:((g=e==null?void 0:e.brand)==null?void 0:g.name)||(e==null?void 0:e.brand)||"ARO"})}),i.jsx("h3",{className:"text-2xl font-bold line-clamp-2 customtext-neutral-dark mb-2 leading-tight",children:(e==null?void 0:e.name)||"Filete de tilapia 5-7 Aro"}),i.jsx("div",{className:"customtext-neutral-dark line-clamp-2 text-lg mb-6",children:e!=null&&e.description?i.jsx("div",{dangerouslySetInnerHTML:{__html:e.description.substring(0,100)+"..."}}):i.jsx("p",{children:(e==null?void 0:e.extract)||(e==null?void 0:e.presentation)||"Bolsa x 1kg."})}),i.jsx("div",{className:"space-y-4",children:i.jsx(i.Fragment,{children:i.jsx("div",{className:"text-left",children:i.jsxs("div",{className:"text-3xl font-bold customtext-secondary",children:["S/ ",o>0?o.toFixed(2):l.toFixed(2)]})})})})]})]})},K=({items:e,data:s,favorites:v=[],setFavorites:u})=>{const[m,y]=a.useState("Todos"),x=a.useRef(null),l=a.useRef(null),o=a.useRef(null),b=w(x,{once:!0}),h=w(l,{once:!0}),N=w(o,{once:!0});console.log("ProductMultivet items:",e),console.log("ProductMultivet data:",s);const d=(s==null?void 0:s.cardType)||"multivet",g=a.useMemo(()=>{if(!e||e.length===0)return["Todos"];const n=["Todos"],f=new Set;return e.forEach(c=>{if(c.category){const j=c.category.name||c.category;f.has(j)||(f.add(j),n.push(j))}}),n},[e]),t=a.useMemo(()=>!e||e.length===0?[]:m==="Todos"?e:e.filter(n=>{var c;return(((c=n.category)==null?void 0:c.name)||n.category)===m}),[e,m]),p={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut",staggerChildren:.2}}},_={hidden:{opacity:0,x:-50},visible:{opacity:1,x:0,transition:{duration:.7,ease:"easeOut"}}},P={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,delay:.2,ease:"easeOut",staggerChildren:.1}}},k={hidden:{opacity:0,y:40,scale:.9},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:"easeOut"}}};return!e||e.length===0?i.jsx("div",{className:"hidden w-full px-primary p-4 mx-auto"}):i.jsx(r.section,{ref:x,variants:p,initial:"hidden",animate:b?"visible":"hidden",className:`py-16 bg-gray-50 ${(s==null?void 0:s.class_section)||""}`,children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[i.jsxs(r.div,{ref:l,className:"text-center mb-12",children:[i.jsx(r.h2,{variants:_,initial:"hidden",animate:h?"visible":"hidden",className:"text-3xl md:text-5xl font-bold customtext-secondary mb-4 font-title",children:(s==null?void 0:s.title)||"Productos Destacados"}),i.jsx(r.p,{variants:_,initial:"hidden",animate:h?"visible":"hidden",className:"customtext-neutral-light text-lg max-w-2xl mx-auto",children:(s==null?void 0:s.description)||"Descubre nuestra selecciÃ³n de productos veterinarios de las mejores marcas nacionales e internacionales"})]}),(s==null?void 0:s.show_categories)&&g.length>1&&i.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:g.map(n=>i.jsx("button",{onClick:()=>y(n),className:`px-6 py-3 rounded-full font-medium transition-all duration-300 ${m===n?"bg-secondary text-white shadow-lg":"bg-white customtext-neutral-light hover:bg-primary hover:text-white border border-gray-300"}`,children:n},n))}),(s==null?void 0:s.button_top)&&(s==null?void 0:s.link_catalog)&&i.jsx("div",{className:"text-center mt-12",children:i.jsx(r.a,{href:s.link_catalog,className:`inline-flex items-center gap-3 px-8 py-4 bg-primary font-bold customtext-primary  rounded-lg hover:bg-secondary hover:text-white transform hover:scale-105 transition-all duration-300 ${(s==null?void 0:s.class_button)||""}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:(s==null?void 0:s.text_button)||"Ver todos los productos"})}),i.jsx(r.div,{ref:o,variants:P,initial:"hidden",animate:N?"visible":"hidden",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:t.map((n,f)=>i.jsx(r.div,{variants:k,className:"flex",children:d==="katya"?i.jsx(T,{product:n,data:s,favorites:v,setFavorites:u}):i.jsx(C,{product:n,data:s,favorites:v,setFavorites:u})},n.id||f))}),(s==null?void 0:s.button_bottom)&&(s==null?void 0:s.link_catalog)&&i.jsx("div",{className:"text-center mt-12",children:i.jsx(r.a,{href:s.link_catalog,className:`inline-flex items-center gap-3 px-8 py-4 bg-primary font-bold customtext-primary  rounded-lg hover:bg-secondary hover:text-white transform hover:scale-105 transition-all duration-300 ${(s==null?void 0:s.class_button)||""}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:(s==null?void 0:s.text_button)||"Ver todos los productos"})})]})})};export{K as default};

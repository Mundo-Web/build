var B=Object.defineProperty;var S=(t,o,n)=>o in t?B(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n;var m=(t,o,n)=>S(t,typeof o!="symbol"?o+"":o,n);import{W as E}from"./index.esm-BaU9YRy4.js";import{m as g}from"./main-iQpBVKTZ.js";import{G as A}from"./Global-Bz6gVLc5.js";/* empty css               *//* empty css              */import{G}from"./General-apRuNwp7.js";import{L as P}from"./LaravelSession-Dz9cpV3l.js";import{C as R}from"./CanAccess-Awo4qb4C.js";import{B as b}from"./BooleanLimit-D-OsQsek.js";const c=class c{static get(o){return this.values[o]??null}static set(o,n){this.models=[...new Set([...this.models,o])],this.values[o]=n}};m(c,"models",[]),m(c,"values",{}),m(c,"has",(o,n)=>{var s;return(s=c.values[o])==null?void 0:s[n]});let f=c,C=[];const j=(...t)=>{const o=[];return Array.isArray(t)?o.push(...t):o.push(t),!!C.find(n=>o.includes(n.name))},V=t=>{E({resolve:o=>`/${o}.jsx`,setup:({el:o,props:n})=>{var d;const s=n.initialPage.props;for(const e in s.fillable??{})s.fillable[e]&&f.set(e,s.fillable[e]);b.hydrate(s.boolean_limits??{});for(const e of s.can_access??[])R[e.menu]=e.can_access==1;if(s!=null&&s.global)for(const e in s.global)A.set(e,s.global[e]);if(s!=null&&s.generals)for(const e in s.generals){const{correlative:i,description:r}=s.generals[e];G.set(i,r)}const u={...s==null?void 0:s.session};for(const e in u)P.set(`${e}`,u[e]);const k=(e,...i)=>{var h,p,v,y;const r=[];if(Array.isArray(e))for(const a of e)r.push(...i.map(l=>`${a}.${l}`));else r.push(...i.map(a=>`${e}.${a}`));if((p=(h=s==null?void 0:s.session)==null?void 0:h.permissions)!=null&&p.find(a=>r.includes(a.name)||a.name=="general.root"))return!0;const $=((v=s==null?void 0:s.session)==null?void 0:v.roles)??[];for(const a of $)if((y=a==null?void 0:a.permissions)!=null&&y.find(l=>r.includes(l.name)||l.name=="general.root"))return!0;return!1};C=((d=s==null?void 0:s.session)==null?void 0:d.roles)??[],g.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(g.Cookies.get("XSRF-TOKEN"))},t(o,{...s,can:k,hasRole:j}),A.APP_ENV==="local"&&document.querySelectorAll(".modal-backdrop").forEach(i=>{i.textContent||i.remove()})}})};export{V as C,f as F,j as h};

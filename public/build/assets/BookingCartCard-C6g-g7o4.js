import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import"./index-BOnQTV8N.js";import{A as f}from"./index.esm-BaU9YRy4.js";import{S as d}from"./CartKuchara-CVImXKD8.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-B9ygI19o.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";const E=({booking:s,cart:n,setCart:m})=>{const h={standard:"Estándar",suite:"Suite",deluxe:"Deluxe",presidential:"Presidencial",family:"Familiar",executive:"Ejecutiva"},l=a=>{const i=new Date(a),t={day:"2-digit",month:"short",year:"numeric"};return i.toLocaleDateString("es-ES",t)},c=((a,i)=>{const t=new Date(a),j=new Date(i);return Math.ceil((j-t)/(1e3*60*60*24))})(s.check_in,s.check_out),r=s.final_price||s.price,x=r*c,o=()=>{d.fire({title:"¿Eliminar reserva?",html:`
                <p class="mb-2">¿Deseas eliminar esta reserva del carrito?</p>
                <p class="text-sm text-gray-600">
                    ${s.name}<br/>
                    ${l(s.check_in)} - ${l(s.check_out)}
                </p>
            `,icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#dc3545"}).then(a=>{if(a.isConfirmed){const i=n.filter(t=>!(t.type==="booking"&&t.id===s.id&&t.check_in===s.check_in&&t.check_out===s.check_out));m(i),d.fire({icon:"success",title:"Reserva eliminada",text:"La reserva ha sido eliminada del carrito",timer:2e3,showConfirmButton:!1})}})},u=()=>{f.visit(`/habitaciones/${s.slug||s.id}`,{data:{check_in:s.check_in,check_out:s.check_out,guests:s.guests}})};return e.jsxs("div",{className:"card border-0 shadow-sm mb-3 booking-cart-card",children:[e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-3 col-4",children:e.jsxs("div",{className:"position-relative",style:{paddingTop:"75%"},children:[e.jsx("img",{src:s.image?`/api/items/media/${s.image}`:"/images/placeholder-room.jpg",alt:s.name,className:"position-absolute top-0 start-0 w-100 h-100",style:{objectFit:"cover",borderRadius:"8px"}}),e.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:e.jsxs("span",{className:"badge bg-primary",children:[e.jsx("i",{className:"fas fa-bed me-1"}),h[s.room_type]||"Habitación"]})})]})}),e.jsxs("div",{className:"col-md-6 col-8",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-start mb-2",children:e.jsxs("div",{children:[e.jsx("h5",{className:"mb-1 fw-bold",children:s.name}),e.jsxs("div",{className:"d-flex flex-wrap gap-2 text-muted small",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-users me-1 text-primary"}),s.guests," ",s.guests===1?"huésped":"huéspedes"]}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-bed me-1 text-success"}),s.beds_count," ",s.beds_count===1?"cama":"camas"]})]})]})}),e.jsxs("div",{className:"border-start border-3 border-primary ps-3 mb-3",children:[e.jsxs("div",{className:"row g-2 mb-1",children:[e.jsxs("div",{className:"col-auto",children:[e.jsx("i",{className:"fas fa-calendar-check text-success me-2"}),e.jsx("strong",{children:"Check-in:"})]}),e.jsx("div",{className:"col",children:l(s.check_in)})]}),e.jsxs("div",{className:"row g-2 mb-1",children:[e.jsxs("div",{className:"col-auto",children:[e.jsx("i",{className:"fas fa-calendar-times text-danger me-2"}),e.jsx("strong",{children:"Check-out:"})]}),e.jsx("div",{className:"col",children:l(s.check_out)})]}),e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-auto",children:[e.jsx("i",{className:"fas fa-moon text-info me-2"}),e.jsx("strong",{children:"Noches:"})]}),e.jsxs("div",{className:"col",children:[c," ",c===1?"noche":"noches"]})]})]}),s.amenities&&s.amenities.length>0&&e.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[s.amenities.slice(0,3).map(a=>e.jsxs("span",{className:"badge bg-light text-dark border",children:[e.jsx("i",{className:`${a.icon||"fas fa-check"} me-1`}),a.name]},a.id)),s.amenities.length>3&&e.jsxs("span",{className:"badge bg-light text-dark border",children:["+",s.amenities.length-3," más"]})]})]}),e.jsx("div",{className:"col-md-3 col-12",children:e.jsxs("div",{className:"d-flex flex-column h-100 justify-content-between",children:[e.jsxs("div",{className:"text-md-end mb-3",children:[e.jsxs("div",{className:"text-muted small mb-1",children:["S/ ",r.toFixed(2)," x ",c," ",c===1?"noche":"noches"]}),s.discount>0&&e.jsxs("div",{className:"text-decoration-line-through text-muted small mb-1",children:["S/ ",(s.price*c).toFixed(2)]}),e.jsxs("div",{className:"fs-4 fw-bold text-primary",children:["S/ ",x.toFixed(2)]})]}),e.jsxs("div",{className:"d-flex gap-2 flex-md-column",children:[e.jsxs("button",{className:"btn btn-outline-primary btn-sm flex-fill",onClick:u,title:"Editar fechas",children:[e.jsx("i",{className:"fas fa-edit me-1"}),"Editar"]}),e.jsxs("button",{className:"btn btn-outline-danger btn-sm flex-fill",onClick:o,title:"Eliminar reserva",children:[e.jsx("i",{className:"fas fa-trash-alt me-1"}),"Eliminar"]})]})]})})]})}),e.jsx("div",{className:"card-footer bg-light border-0",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Las reservas no requieren envío. Puedes cancelar hasta 24h antes del check-in."]})})]})};export{E as default};

import{r as e,j as t,ak as s,al as a,bW as r,aI as l,E as n,J as i}from"./vendor-react-BX-OgZ1w.js";import{N as o,A as c}from"./vendor-swiper-Cr_RrIb_.js";import{T as d}from"./TextWithHighlight-Dtm1FT0T.js";const m=({data:m,items:x})=>{const[u,h]=e.useState(0),[g,p]=e.useState(0),b=e.useRef(null),f=e=>{if(!e||!x)return;const t=Math.round(e.params.slidesPerView),s=Math.ceil(x.length/t),a=Math.floor(e.realIndex/t);h(s),p(a)};if(!x||0===x.length)return null;const j=x,y=m?.title||"Lo Que Dicen Nuestros Huéspedes",v=m?.subtitle||"Las experiencias de quienes nos visitaron hablan por sí solas";return t.jsxs("section",{id:m?.element_id||null,className:"py-20 md:py-20 px-4 bg-sections-color relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-0 left-0 w-80 h-80 bg-accent rounded-full blur-3xl opacity-5 -translate-x-1/2 -translate-y-1/2"}),t.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-secondary rounded-full blur-3xl opacity-5 translate-x-1/2 translate-y-1/2"}),t.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[t.jsxs("div",{className:"text-center mb-14 md:mb-14",children:[t.jsx("h2",{className:"text-3xl md:text-5xl font-bold customtext-primary mb-5",children:y}),t.jsx("div",{className:"w-20 h-1 mx-auto mb-6 bg-accent rounded-full"}),t.jsx("p",{className:"customtext-neutral-light text-lg max-w-2xl mx-auto leading-relaxed",children:v})]}),t.jsxs("div",{className:"relative md:px-14 py-4",children:[t.jsx(s,{modules:[o,c],spaceBetween:24,slidesPerView:1,loop:j.length>2,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},navigation:{nextEl:".testimonial-next",prevEl:".testimonial-prev"},onSwiper:e=>{b.current=e,f(e)},onSlideChange:e=>f(e),onResize:e=>f(e),breakpoints:{768:{slidesPerView:1.2,spaceBetween:24},1024:{slidesPerView:1.5,spaceBetween:20},1280:{slidesPerView:2,spaceBetween:24}},className:"testimonials-swiper !py-5",children:j.map((e,s)=>t.jsx(a,{className:"!h-auto  !p-4",children:t.jsxs("div",{className:"group relative h-full cursor-pointer",children:[t.jsxs("div",{className:"bg-white p-7 rounded-2xl shadow-sm h-full flex flex-col border border-gray-100 transition-all duration-500 ease-out group-hover:opacity-0 group-hover:scale-95",children:[t.jsx(r,{size:32,className:"customtext-accent mb-4"}),e.rating&&t.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(Number(e.rating)||5)].map((e,s)=>t.jsx(l,{size:16,className:"customtext-warning fill-current"},s))}),t.jsx("p",{className:"customtext-neutral-light leading-relaxed flex-grow mb-6 line-clamp-4",children:t.jsx(d,{text:e.testimonial||e.text||e.description,color:"bg-primary font-bold"})}),t.jsxs("div",{className:"flex items-center gap-4 pt-5 border-t border-gray-100",children:[e.image?t.jsx("img",{src:`/storage/images/testimony/${e.image}`,alt:e.name,className:"w-12 h-12 rounded-full object-cover flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,t.jsx("div",{className:"w-12 h-12 rounded-full bg-accent items-center justify-center text-white font-bold text-lg flex-shrink-0 "+(e.image?"hidden":"flex"),children:e.name?.charAt(0).toUpperCase()}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold customtext-primary",children:e.name}),e.location&&t.jsx("p",{className:"text-sm customtext-secondary",children:e.location})]})]})]}),t.jsx("div",{className:"absolute inset-0 z-30 opacity-0 scale-95 group-hover:opacity-100 group-hover:scale-105 transition-all duration-500 ease-out pointer-events-none group-hover:pointer-events-auto origin-center",children:t.jsxs("div",{className:"bg-white p-7 rounded-2xl shadow-xl flex flex-col h-full ring-2 ring-accent",children:[e.rating&&t.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(Number(e.rating)||5)].map((e,s)=>t.jsx(l,{size:16,className:"customtext-warning fill-current"},s))}),t.jsx("p",{className:"customtext-neutral-light leading-relaxed mb-6",children:t.jsx(d,{text:e.testimonial||e.text||e.description,color:"bg-primary font-bold"})}),t.jsxs("div",{className:"flex items-center gap-4 pt-5 border-t border-gray-100 mt-auto",children:[e.image?t.jsx("img",{src:`/storage/images/testimony/${e.image}`,alt:e.name,className:"w-12 h-12 rounded-full object-cover flex-shrink-0",onError:e=>{e.target.onerror=null,e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,t.jsx("div",{className:"w-12 h-12 rounded-full bg-accent items-center justify-center text-white font-bold text-lg flex-shrink-0 "+(e.image?"hidden":"flex"),children:e.name?.charAt(0).toUpperCase()}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold customtext-primary",children:e.name}),e.location&&t.jsx("p",{className:"text-sm customtext-secondary",children:e.location})]})]})]})})]})},e.id||s))}),j.length>2&&t.jsxs(t.Fragment,{children:[t.jsx("button",{className:"testimonial-prev hidden md:flex absolute left-0 top-1/2 -translate-y-1/2 z-20 w-11 h-11 rounded-full bg-white shadow-lg hover:shadow-xl border border-gray-100 hover:border-accent items-center justify-center transition-all duration-300 hover:scale-105 disabled:opacity-30",children:t.jsx(n,{size:20,className:"customtext-primary"})}),t.jsx("button",{className:"testimonial-next hidden md:flex absolute right-0 top-1/2 -translate-y-1/2 z-20 w-11 h-11 rounded-full bg-white shadow-lg hover:shadow-xl border border-gray-100 hover:border-accent items-center justify-center transition-all duration-300 hover:scale-105 disabled:opacity-30",children:t.jsx(i,{size:20,className:"customtext-primary"})})]})]}),u>1&&t.jsx("div",{className:"flex justify-center items-center mt-8 gap-2",children:Array.from({length:u}).map((e,s)=>t.jsx("button",{onClick:()=>{if(b.current){const e=Math.round(b.current.params.slidesPerView),t=s*e;j.length>2?b.current.slideToLoop(t):b.current.slideTo(t)}},className:"transition-all duration-300 rounded-full "+(s===g?"w-8 h-2.5 bg-accent shadow-lg shadow-accent/50":"w-2.5 h-2.5 bg-secondary hover:bg-secondary/50"),"aria-label":`Página ${s+1}`},s))})]})]})};export{m as default};

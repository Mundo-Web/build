var r=Object.defineProperty,e=(e,o,s)=>((e,o,s)=>o in e?r(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s)(e,"symbol"!=typeof o?o+"":o,s);import{m as o}from"./vendor-react-LJZQRWVP.js";import{t as s}from"./OpenPayCardModal-CIqEZuEl.js";import{G as t}from"./Footer-DCwBNfoi.js";class a{}e(a,"login",async r=>{try{const{status:e,result:a}=await o.Fetch("./api/login-client",{method:"POST",body:JSON.stringify(r)});return e&&200===a.status?(s.success("¡Inicio de sesión exitoso!",{description:`Bienvenido${a?.data?.name?`, ${a.data.name}`:""} a ${t.APP_NAME}.`,duration:3e3,position:"top-right",richColors:!0}),a):(s.error("Error al iniciar sesión",{description:a.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),!1)}catch(e){return s.error("Error al iniciar sesión",{description:e.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),!1}}),e(a,"signup",async r=>{try{const{status:e,result:a}=await o.Fetch("./api/signup-client",{method:"POST",body:JSON.stringify(r)});if(!e)throw new Error(a?.message||"Error al registrar el usuario");return s.success("¡Registro exitoso!",{description:`Bienvenido${a?.data?.name?`, ${a.data.name}`:""} a ${t.APP_NAME}. Tu cuenta ha sido creada correctamente.`,duration:3e3,position:"top-right",richColors:!0}),a.data}catch(e){return s.error("¡Registro fallido!",{description:e.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),null}}),e(a,"forgotPassword",async r=>{try{const{status:e,result:a}=await o.Fetch("./api/forgot-password-client",{method:"POST",body:JSON.stringify(r)});if(!e)throw new Error(a?.message||"Error al solicitar el restablecimiento de contraseña");return a.data&&!1===a.data.user_exists?(s.warning("Cuenta no encontrada",{description:"No tienes una cuenta registrada con este correo. ¿Deseas crear una cuenta?",duration:5e3,position:"top-right",richColors:!0,action:{label:"Crear cuenta",onClick:()=>{window.location.href="/crear-cuenta"}},actionButtonStyle:{backgroundColor:t.APP_COLOR_PRIMARY||"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"}}),{success:!1,user_exists:!1,message:"Email no registrado"}):(s.success("¡Correo enviado!",{description:"Se ha enviado un enlace para restablecer tu contraseña a tu correo electrónico.",duration:3e3,position:"top-right",richColors:!0}),{success:!0,user_exists:!0,message:a.message})}catch(e){return s.error("Error al solicitar el restablecimiento de contraseña",{description:e.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),{success:!1,user_exists:null,message:e.message}}}),e(a,"resetPassword",async r=>{try{const{status:e,result:t}=await o.Fetch("./api/reset-password-client",{method:"POST",body:JSON.stringify(r)});if(!e)throw new Error(t?.message||"Error al restablecer la contraseña");return s.success("¡Contraseña restablecida!",{description:"Tu contraseña ha sido restablecida correctamente. Puedes iniciar sesión con tu nueva contraseña.",duration:3e3,position:"top-right",richColors:!0}),!0}catch(e){return s.error("Error al restablecer la contraseña",{description:e.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),!1}});export{a as A};

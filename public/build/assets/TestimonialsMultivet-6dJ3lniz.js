import{r as t,j as e,bW as a,J as l,K as s,aI as n}from"./vendor-react-SBvaUJTK.js";import"./vendor-swiper-Cr_RrIb_.js";const r=({items:r=[],data:i})=>{const[o,c]=t.useState(0),[d,m]=t.useState({}),x=r.length>0?r:[];t.useEffect(()=>{if(x.length>1){const t=setInterval(()=>{c(t=>(t+1)%x.length)},i?.autoplay_delay||5e3);return()=>clearInterval(t)}},[x.length,i?.autoplay_delay]);if(!x||0===x.length)return null;const h=x[o];return e.jsx("section",{id:i?.element_id||null,className:`py-16 ${i?.section_background||"bg-primary"} text-white ${i?.class_section||""}`,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-primary",children:[e.jsxs("div",{className:`text-center mb-12 ${i?.class_header||""}`,children:[e.jsx("h2",{className:`text-3xl font-title md:text-5xl font-bold mb-4 font-montserrat ${i?.title_color||"text-white"} ${i?.class_title||""}`,children:i?.title||"Lo que dicen nuestros clientes"}),e.jsx("p",{className:`max-w-2xl mx-auto text-lg  ${i?.subtitle_color||"text-gray-300"} ${i?.class_subtitle||""}`,children:i?.subtitle||"Veterinarios y productores de todo el país confían en Multivet"})]}),e.jsxs("div",{className:"relative max-w-4xl mx-auto",children:[e.jsxs("div",{className:`rounded-2xl p-8 md:p-12 relative overflow-hidden ${i?.testimonials_background||"bg-white"} ${i?.testimonials_text_color||"text-gray-800"} ${i?.class_testimonials_card||""}`,children:[e.jsx(a,{className:`absolute top-6 right-6 w-12 h-12 opacity-20 ${i?.quote_color||"customtext-accent"}`}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex gap-1 items-center mb-4",children:(t=>{const a=parseInt(t)||5;return Array.from({length:5},(t,l)=>e.jsx(n,{className:`w-6 h-6 ${l<a?i?.star_color||"customtext-accent fill-current":"text-gray-300"}`},l))})(h.rating)}),e.jsxs("p",{className:`text-lg md:text-xl leading-relaxed mb-6 ${i?.testimonial_color||"customtext-neutral-light"} ${i?.class_testimonial_text||""}`,children:['"',(t=>{if(!t)return"";return t.split(/(\*[^*]+\*)/g).map((t,a)=>t.startsWith("*")&&t.endsWith("*")?e.jsx("span",{className:`font-bold ${i?.highlight_color||"text-brand-gold"}`,children:t.slice(1,-1)},a):e.jsx("span",{children:t},a))})(h.description||h.content),'"']}),e.jsxs("div",{children:[e.jsx("h4",{className:`text-xl font-bold font-montserrat ${i?.client_name_color||"customtext-primary"} ${i?.class_client_name||""}`,children:h.name}),h.title&&e.jsx("p",{className:`${i?.client_title_color||"customtext-neutral-light"} ${i?.class_client_title||""}`,children:h.title})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:d[o]?"/api/cover/thumbnail/null":h.image?`/storage/images/testimony/${h.image}`:"/api/cover/thumbnail/null",alt:h.name,className:`w-24 h-24 md:w-32 md:h-32 rounded-full object-cover border-4 ${i?.avatar_border||"border-accent"}`,onError:t=>{m(t=>({...t,[o]:!0}))}})})]})]}),x.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{c(t=>(t-1+x.length)%x.length)},className:`hidden lg:flex absolute -left-16 top-1/2 transform -translate-y-1/2 p-3 rounded-full transition-colors shadow-lg ${i?.nav_button_bg||"bg-accent hover:bg-secondary"} ${i?.nav_button_color||"text-primary-800"}`,"aria-label":"Testimonio anterior",children:e.jsx(l,{className:"w-6 h-6"})}),e.jsx("button",{onClick:()=>{c(t=>(t+1)%x.length)},className:`hidden lg:flex absolute -right-16 top-1/2 transform -translate-y-1/2 p-3 rounded-full transition-colors shadow-lg ${i?.nav_button_bg||"bg-accent hover:bg-secondary"} ${i?.nav_button_color||"text-primary-800"}`,"aria-label":"Siguiente testimonio",children:e.jsx(s,{className:"w-6 h-6"})})]}),x.length>1&&e.jsx("div",{className:"flex justify-center space-x-2 mt-8",children:x.map((t,a)=>e.jsx("button",{onClick:()=>c(a),className:"w-3 h-3 rounded-full transition-all duration-300 "+(a===o?`${i?.active_dot||"bg-accent"} scale-125`:`${i?.inactive_dot||"bg-gray-400 hover:bg-gray-300"}`),"aria-label":`Ir al testimonio ${a+1}`},a))})]})]})})};export{r as default};

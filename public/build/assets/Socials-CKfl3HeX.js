var e=Object.defineProperty,a=(a,i,n)=>((a,i,n)=>i in a?e(a,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[i]=n)(a,"symbol"!=typeof i?i+"":i,n);import{c as i,j as n,r as t,O as r,Q as s,V as o,W as c,Y as l,Z as d,_ as m,$ as f,a0 as u,a1 as p,a2 as h,a3 as b,s as j}from"./vendor-react-CZUvQwNQ.js";import{B as x}from"./Base-BE1X8Lb3.js";import{I as g}from"./InputFormGroup-BuXn3s3l.js";import{S as v}from"./SelectFormGroup-DX1jNHQ1.js";import{S as R}from"./SwitchFormGroup-BPmRxEC1.js";import{T as w}from"./TextareaFormGroup-dfKTDx8M.js";import{S as k}from"./CartKuchara-C7vqSevl.js";import{B as S}from"./BasicRest-K-34csnH.js";import{M as T}from"./Modal-MmI0jF6v.js";import{T as N}from"./Table-C5YdCL4x.js";import{D as F}from"./DxButton-C6FT_beP.js";import{C as y}from"./CreateReactScript-DMiuD_MQ.js";import{R as C}from"./ReactAppend-Db2K6xCH.js";import"./vendor-swiper-Cr_RrIb_.js";import"./Footer-DAm0kDL9.js";import"./TippyButton-Gia9IjJq.js";import"./Logout-D6byb_Ua.js";import"./MenuItemContainer-BaCqn8PU.js";import"./Menu-DboRETzC.js";import"./OpenPayCardModal-BHkRoVZ6.js";import"./BooleanLimit-q2Ad9fGY.js";import"./General-ClVW7qxN.js";import"./LaravelSession-ByQnaUD3.js";const B=new class extends S{constructor(){super(...arguments),a(this,"path","admin/socials")}},E=[{id:"facebook",name:"Facebook",icon:r,iconRef:"fab fa-facebook"},{id:"instagram",name:"Instagram",icon:s,iconRef:"fab fa-instagram"},{id:"twitter",name:"Twitter/X",icon:o,iconRef:"fab fa-twitter"},{id:"linkedin",name:"LinkedIn",icon:c,iconRef:"fab fa-linkedin"},{id:"youtube",name:"YouTube",icon:l,iconRef:"fab fa-youtube"},{id:"tiktok",name:"TikTok",icon:d,iconRef:"fab fa-tiktok"},{id:"whatsapp",name:"WhatsApp",icon:m,iconRef:"fab fa-whatsapp"},{id:"telegram",name:"Telegram",icon:f,iconRef:"fab fa-telegram"},{id:"discord",name:"Discord",icon:u,iconRef:"fab fa-discord"},{id:"snapchat",name:"Snapchat",icon:p,iconRef:"fab fa-snapchat"},{id:"pinterest",name:"Pinterest",icon:h,iconRef:"fab fa-pinterest"},{id:"reddit",name:"Reddit",icon:b,iconRef:"fab fa-reddit"}],D=({})=>{const e=t.useRef(),a=t.useRef(),i=t.useRef(),r=t.useRef(),s=t.useRef(),o=t.useRef(),[c,l]=t.useState(!1),[d,m]=t.useState(null);t.useEffect(()=>{const e=()=>{r.current&&$(r.current).on("change",function(){(e=>{const a=E.find(a=>a.id===e);m(a)})($(this).val())})};return $(a.current).on("shown.bs.modal",e),()=>{r.current&&$(r.current).off("change"),$(a.current).off("shown.bs.modal",e)}},[]);const f=e=>{l(!!e?.id),i.current.value=e?.id??"",s.current.value=e?.name??"",o.current.value=e?.link??"";const n=E.find(a=>a.name===e?.description||a.iconRef===e?.icon);n?(m(n),setTimeout(()=>{$(r.current).val(n.id).trigger("change")},100)):(m(null),setTimeout(()=>{$(r.current).val("").trigger("change")},100)),$(a.current).modal("show")};return n.jsxs(n.Fragment,{children:[n.jsx(N,{gridRef:e,title:"Redes Sociales",rest:B,toolBar:a=>{a.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(e.current).dxDataGrid("instance").refresh()}}),a.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nuevo registro",hint:"Nuevo registro",onClick:()=>f()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"name",caption:"Usuario"},{dataField:"description",caption:"Red Social",cellTemplate:(e,{data:a})=>{const i=E.find(e=>e.name===a.description||e.iconRef===a.icon);if(i){const t=i.icon;e.html(j.renderToString(n.jsxs("span",{className:"d-flex align-items-center",children:[n.jsx(t,{className:"me-2",size:16}),a.description]})))}else e.html(j.renderToString(n.jsxs(n.Fragment,{children:[n.jsx("i",{className:`fab ${a.icon} me-1`}),a.description]})))}},{dataField:"link",caption:"Link"},{dataField:"visible",caption:"Visible",dataType:"boolean",cellTemplate:(a,{data:i})=>{$(a).empty(),C(a,n.jsx(R,{checked:1==i.visible,onChange:()=>(async({id:a,value:i})=>{await B.boolean({id:a,field:"visible",value:i})&&$(e.current).dxDataGrid("instance").refresh()})({id:i.id,value:!i.visible})}))}},{caption:"Acciones",cellTemplate:(a,{data:i})=>{a.css("text-overflow","unset"),a.append(F({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>f(i)})),a.append(F({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>(async a=>{const{isConfirmed:i}=await k.fire({title:"Eliminar registro",text:"Â¿Estas seguro de eliminar este registro?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});if(!i)return;await B.delete(a)&&$(e.current).dxDataGrid("instance").refresh()})(i.id)}))},allowFiltering:!1,allowExporting:!1}]}),n.jsx(T,{modalRef:a,title:c?"Editar red social":"Agregar red social",onSubmit:async n=>{if(n.preventDefault(),!d)return void k.fire("Error","Por favor selecciona una red social","error");const t={id:i.current.value||void 0,icon:d.iconRef,name:s.current.value,description:d.name,link:o.current.value};await B.save(t)&&($(e.current).dxDataGrid("instance").refresh(),$(a.current).modal("hide"))},size:"md",children:n.jsxs("div",{className:"row",id:"socials-container",children:[n.jsx("input",{ref:i,type:"hidden"}),n.jsxs("div",{className:"col-12 mb-3",children:[n.jsxs("label",{className:"form-label",children:["Red Social ",n.jsx("span",{className:"text-danger",children:"*"})]}),n.jsxs(v,{eRef:r,dropdownParent:"#socials-container",required:!0,children:[n.jsx("option",{value:"",children:"Seleccionar red social..."}),E.map(e=>n.jsx("option",{value:e.id,children:e.name},e.id))]})]}),d&&n.jsx("div",{className:"col-12 mb-3",children:n.jsxs("div",{className:"alert alert-info d-flex align-items-center",children:[n.jsx(d.icon,{className:"me-2",size:20}),n.jsxs("span",{children:["Red social seleccionada: ",n.jsx("strong",{children:d.name})]})]})}),n.jsx(g,{eRef:s,label:"Usuario/Nombre de cuenta",col:"col-12",required:!0}),n.jsx(w,{eRef:o,label:"Enlace (https://...)",col:"col-12",rows:2,required:!0})]})})]})};y((e,a)=>{i.createRoot(e).render(n.jsx(x,{...a,title:"Redes Sociales",children:n.jsx(D,{...a})}))});

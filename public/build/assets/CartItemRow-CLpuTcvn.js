import{j as s}from"./System-Bybt2Brn.js";import{N as e}from"./Number2Currency-DExzICY3.js";import{i as t}from"./tippy-react.esm-Cpb4mDDh.js";import{m as r}from"./proxy-BmPRG09w.js";import{T as a}from"./trash-2-CDXts6on.js";import{M as i}from"./minus-BhdGy6sP.js";import{P as n}from"./plus-4JHYG4O1.js";const o=({setCart:o,index:m,...c})=>{const l=()=>o((s=>s.filter((s=>s.id!==c.id)))),d=s=>{if(s<1)return l();o((e=>e.map((e=>e.id===c.id?{...e,quantity:s}:e))))};return s.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:50},transition:{delay:.05*m},className:"flex gap-4 p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{src:`/storage/images/item/${c.image}`,onError:s=>s.target.src="/assets/img/noimage/no_img.jpg",className:"w-20 h-20 rounded-lg object-cover border border-gray-100",alt:c.name})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex justify-between gap-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:c.name}),s.jsx(t,{content:"Eliminar",children:s.jsx("button",{onClick:l,className:"text-gray-400 hover:text-red-500 transition-colors",children:s.jsx(a,{size:18})})})]}),(null==c?void 0:c.discount)>0&&s.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[s.jsx("span",{className:"line-through mr-2",children:e(c.price)}),s.jsxs("span",{className:"text-red-500",children:["-",Number(c.discount_percent).toFixed(0),"%"]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center border border-gray-200 rounded-lg",children:[s.jsx("button",{onClick:()=>d(c.quantity-1),className:"p-2 hover:bg-gray-50 transition-colors",children:s.jsx(i,{size:16,className:"text-gray-600"})}),s.jsx("span",{className:"w-8 text-center font-medium",children:c.quantity}),s.jsx("button",{onClick:()=>d(c.quantity+1),className:"p-2 hover:bg-gray-50 transition-colors",children:s.jsx(n,{size:16,className:"text-gray-600"})})]}),s.jsxs("span",{className:"font-semibold text-gray-900",children:["S/. ",e(c.final_price*c.quantity)]})]})]})]})};export{o as C};

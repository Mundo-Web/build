var k=Object.defineProperty;var y=(s,o,a)=>o in s?k(s,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[o]=a;var b=(s,o,a)=>y(s,typeof o!="symbol"?o+"":o,a);import{j as t}from"./AboutSimple-Cf8x2fCZ.js";import{B as I}from"./Base-DgH7qD9M.js";import{S as G}from"./SwitchFormGroup-DXN0cwVk.js";import{r}from"./index-BOnQTV8N.js";import{c as N}from"./ReactAppend-QR5TrZfj.js";import"./ProductCard-D9l7c7at.js";import{B as V}from"./BasicRest-BML1C-ua.js";import{W as M}from"./WebDetailsRest-DsgeLSDz.js";import{B as L}from"./BasicEditing-TVz-VY9q.js";import{M as O}from"./Modal-BYL-UsqM.js";import{T as P}from"./Table-f0SLEWPZ.js";import{D as H}from"./DxButton-DV0H-ZcL.js";import{I as m}from"./InputFormGroup-iZIO11ZN.js";import{S as Q}from"./SelectFormGroup-X8WqJHHl.js";import{A as W}from"./ArrayDetails2Object-DR0Igcn7.js";import{C as _}from"./CreateReactScript--Wm4SzCR.js";import{R as D}from"./ReactAppend-Vm5G2nof.js";import{I as z}from"./ImageFormGroup-DkVgPNU5.js";import{Q as J}from"./QuillFormGroup-ShbNmC_h.js";import"./index-yBjzXJbu.js";import"./Global-DWbVqTT_.js";import"./tippy-react.esm-DmkRJDEW.js";import"./index-pSueRYGM.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-B6ujFmsw.js";/* empty css              */import"./Logout-BpuTJ_83.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuItemContainer-DcxtOi47.js";import"./index.esm-C48oHfFw.js";import"./index-ngrFHoWO.js";import"./CanAccess-DgL4m2bH.js";import"./CardProductKatya-ncpmQ0JU.js";import"./BooleanLimit-D-OsQsek.js";import"./em-Dm5QugzS.js";import"./HtmlContent-ghmllTyl.js";/* empty css               */import"./General-BmbBKdsB.js";import"./LaravelSession-Dz9cpV3l.js";class K extends V{constructor(){super(...arguments);b(this,"path","admin/aboutus");b(this,"hasFiles",!0)}}const x=new K,U=new M,S=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.hostname.includes(".local")||window.location.hostname.includes(".test"),X=[{value:"section-hero",text:"🦸‍♂️ Hero Principal - Sección principal con título e imagen"},{value:"section-mision",text:"🎯 Misión - Sección de misión de la empresa"},{value:"section-vision",text:"🔭 Visión - Sección de visión de la empresa"},{value:"section-valores",text:"⭐ Valores - Grid de valores empresariales"},{value:"section-equipo",text:"👥 Nuestro Equipo - Presentación del equipo"},{value:"section-historia",text:"📚 Nuestra Historia - Historia de la empresa"},{value:"section-cta",text:"📞 Call to Action - Sección de contacto final"}],Y=({details:s})=>{const o=r.useRef(),a=r.useRef(),p=r.useRef(),u=r.useRef(),f=r.useRef(),d=r.useRef(),v=r.useRef(),g=r.useRef(),n=r.useRef(),[E,h]=r.useState(!1),R=e=>{e!=null&&e.id?h(!0):h(!1),n.resetDeleteFlag&&n.resetDeleteFlag(),p.current.value=(e==null?void 0:e.id)??"",u.current.value=(e==null?void 0:e.correlative)??"",f.current.value=(e==null?void 0:e.name)??"",d.editor.root.innerHTML=(e==null?void 0:e.description)??"",v.current.value=(e==null?void 0:e.title)??"",g.current.value=(e==null?void 0:e.link)??"",n.current.value=null,n.image.src=e!=null&&e.image?`/storage/images/aboutus/${e.image}`:"",$(a.current).modal("show")},C=async e=>{e.preventDefault();const i={id:p.current.value||void 0,correlative:u.current.value,name:f.current.value,description:d.current.value,title:v.current.value,link:g.current.value},l=new FormData;for(const F in i)l.append(F,i[F]);const w=n.current.files[0];w&&l.append("image",w),n.getDeleteFlag&&n.getDeleteFlag()&&l.append("image_delete","DELETE"),await x.save(l)&&(n.resetDeleteFlag&&n.resetDeleteFlag(),$(o.current).dxDataGrid("instance").refresh(),$(a.current).modal("hide"))},T=async({id:e,value:i})=>{await x.boolean({id:e,field:"visible",value:i})&&$(o.current).dxDataGrid("instance").refresh()},[c,q]=r.useState(W(s)),[A,j]=r.useState(!1),B=async e=>{U.save({page:"about",name:"video",description:e.target.value})&&(q(l=>({...l,"about.video":e.target.value})),j(!1))};return t.jsxs(t.Fragment,{children:[t.jsx(P,{gridRef:o,title:t.jsxs(t.Fragment,{children:[t.jsx(L,{correlative:"about",details:s}),A?t.jsx("input",{className:"form-control form-control-sm mb-1",defaultValue:c==null?void 0:c["about.video"],onBlur:B,autoFocus:!0}):t.jsx("smal",{className:"header-title mt-1",onClick:()=>j(!0),children:(c==null?void 0:c["about.video"])||"Sin video"})]}),rest:x,toolBar:e=>{e.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(o.current).dxDataGrid("instance").refresh()}}),S&&e.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nuevo About",hint:"Agregar nuevo about",onClick:()=>R()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"correlative",caption:"Correlativo",width:150},{dataField:"name",caption:"Sección"},{dataField:"title",caption:"Título"},{dataField:"image",caption:"Imagen",cellTemplate:(e,{data:i})=>{D(e,t.jsx("img",{src:`/storage/images/aboutus/${i.image}`,style:{width:"80px",height:"80px",objectFit:"cover",objectPosition:"center",borderRadius:"4px"},onError:l=>l.target.src="/api/cover/thumbnail/null"}))}},{dataField:"visible",caption:"Visible",dataType:"boolean",cellTemplate:(e,{data:i})=>{$(e).empty(),D(e,t.jsx(G,{checked:i.visible==1,onChange:()=>T({id:i.id,value:i.visible==1?0:1})}))}},{caption:"Acciones",cellTemplate:(e,{data:i})=>{e.append(H({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>R(i)}))},allowFiltering:!1,allowExporting:!1}]}),t.jsx(O,{modalRef:a,title:E?"Editar about":"Agregar about",onSubmit:C,size:"md",children:t.jsxs("div",{className:"row",id:"aboutuses-container",children:[t.jsx("input",{ref:p,type:"hidden"}),S?t.jsxs(Q,{eRef:u,label:"Tipo de Bloque (Correlativo)",col:"col-12",required:!0,dropdownParent:"#aboutuses-container",helpText:"Selecciona el tipo de bloque que quieres crear",children:[t.jsx("option",{value:"",children:"Selecciona un bloque"}),X.map(e=>t.jsx("option",{value:e.value,children:e.text},e.value))]}):t.jsx(m,{eRef:u,label:"Correlativo",col:"col-12",required:!0}),t.jsx(m,{eRef:f,label:"Sección",col:"col-12",required:!0}),t.jsx(m,{eRef:v,label:"Título",col:"col-12"}),t.jsx(m,{eRef:g,label:"Link",col:"col-12"}),t.jsx(J,{eRef:d,label:"Descripción"}),t.jsx(z,{eRef:n,name:"image",label:"Imagen",col:"col-12",rows:3})]})})]})};_((s,o)=>{N.createRoot(s).render(t.jsx(I,{...o,title:"Nosotros",children:t.jsx(Y,{...o})}))});

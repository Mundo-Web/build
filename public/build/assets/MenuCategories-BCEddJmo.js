import{r as e,j as n,E as a,ag as t,ah as r,J as s}from"./vendor-react-CZUvQwNQ.js";import{N as o,M as i,h as l}from"./vendor-swiper-Cr_RrIb_.js";import"./Footer-DAm0kDL9.js";import{t as c}from"./MobileMenu-DviT89cW.js";import"./OpenPayCardModal-BHkRoVZ6.js";import"./BasicRest-K-34csnH.js";import"./BooleanLimit-q2Ad9fGY.js";const m=({pages:m=[],items:d,data:p,visible:u=!1})=>{const[g,h]=e.useState([]),[f,x]=e.useState(0),[b,v]=e.useState(null),[w,y]=e.useState(!0),[j,N]=e.useState(!1);e.useRef(null);const k=e.useRef(null),E=e.useRef(null),C={modules:[o,i,l],spaceBetween:8,slidesPerView:"auto",freeMode:{enabled:!0,momentum:!0,momentumRatio:.5,momentumVelocityRatio:.5},mousewheel:{enabled:!0,forceToAxis:!0,sensitivity:.5},navigation:{prevEl:k.current,nextEl:E.current},onSwiper:e=>{v(e),setTimeout(()=>{k.current&&E.current&&(e.params.navigation.prevEl=k.current,e.params.navigation.nextEl=E.current,e.navigation.init(),e.navigation.update())},100)},onSlideChange:e=>{y(e.isBeginning),N(e.isEnd)},breakpoints:{320:{spaceBetween:4},768:{spaceBetween:8},1024:{spaceBetween:12}}};e.useEffect(()=>{const e=document.createElement("style");return e.textContent="\n            .categories-swiper {\n                overflow: hidden !important;\n                padding: 8px 0;\n                margin: 0 40px;\n            }\n            \n            .categories-swiper .swiper-slide {\n                width: auto !important;\n                flex-shrink: 0;\n            }\n            \n            .swiper-nav-btn {\n                position: absolute;\n                top: 50%;\n                transform: translateY(-50%);\n                z-index: 10;\n                background: rgba(255, 255, 255, 0.95);\n                border: 1px solid rgba(0, 0, 0, 0.1);\n                border-radius: 50%;\n                width: 32px;\n                height: 32px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                cursor: pointer;\n                transition: all 0.3s ease;\n                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n            }\n            \n            .swiper-nav-btn:hover {\n                background: rgba(255, 255, 255, 1);\n                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n                transform: translateY(-50%) scale(1.05);\n            }\n            \n            .swiper-nav-btn.swiper-button-disabled {\n                opacity: 0.3;\n                cursor: not-allowed;\n                pointer-events: none;\n            }\n            \n            .swiper-nav-prev {\n                left: 0;\n            }\n            \n            .swiper-nav-next {\n                right: 0;\n            }\n            \n            @keyframes slideInFromBottom {\n                from {\n                    opacity: 0;\n                    transform: translateY(12px) scale(0.995);\n                }\n                to {\n                    opacity: 1;\n                    transform: translateY(0) scale(1);\n                }\n            }\n            \n            @keyframes shimmer {\n                0% {\n                    background-position: -200% 0;\n                }\n                100% {\n                    background-position: 200% 0;\n                }\n            }\n            \n            @keyframes pulse-glow {\n                0%, 100% {\n                    box-shadow: 0 0 0 0 rgba(99, 102, 241, 0);\n                }\n                50% {\n                    box-shadow: 0 0 20px 0 rgba(99, 102, 241, 0.1);\n                }\n            }\n            \n            .category-item {\n                opacity: 0;\n                transform: translateY(12px) scale(0.995);\n                transition: transform 0.9s cubic-bezier(0.22, 1, 0.36, 1), opacity 0.9s cubic-bezier(0.22, 1, 0.36, 1);\n                will-change: transform, opacity;\n            }\n\n            .category-item.visible {\n                opacity: 1;\n                transform: translateY(0) scale(1);\n            }\n            \n            .category-hover-effect {\n                will-change: transform, box-shadow;\n                backface-visibility: hidden;\n                transform: translateZ(0);\n                transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);\n            }\n            \n            .category-hover-effect:hover {\n                animation: pulse-glow 2s infinite;\n                box-shadow: \n                    0 10px 25px -5px rgba(0, 0, 0, 0.1),\n                    0 0 0 1px rgba(99, 102, 241, 0.1),\n                    0 0 20px rgba(99, 102, 241, 0.1);\n            }\n            \n            .category-hover-effect:hover span {\n                background: linear-gradient(\n                    90deg,\n                    currentColor 40%,\n                    rgba(99, 102, 241, 0.8) 50%,\n                    currentColor 60%\n                );\n                background-size: 200% 100%;\n                background-clip: text;\n                -webkit-background-clip: text;\n                animation: shimmer 1.5s ease-in-out infinite;\n            }\n            \n            .enhanced-underline {\n                background: linear-gradient(90deg, \n                    rgba(99, 102, 241, 0.8) 0%, \n                    rgba(139, 92, 246, 0.8) 50%, \n                    rgba(99, 102, 241, 0.8) 100%\n                );\n                box-shadow: 0 0 8px rgba(99, 102, 241, 0.3);\n            }\n        ",document.head.appendChild(e),()=>{try{document.head.removeChild(e)}catch(n){}}},[]);const[_,B]=e.useState({}),S=e.useRef([]);e.useEffect(()=>{if(S.current.forEach(e=>clearTimeout(e)),S.current=[],!d||0===d.length)return void B({});const e=[...d].sort((e,n)=>e.name.localeCompare(n.name)),n={};e.forEach(e=>{const a=e.id??e.slug??e.name;n[a]=!1}),B(n);const a=n=>{if(n>=e.length)return;const t=e[n].id??e[n].slug??e[n].name,r=setTimeout(()=>{B(e=>({...e,[t]:!0})),a(n+1)},400);S.current.push(r)};return a(0),()=>{S.current.forEach(e=>clearTimeout(e)),S.current=[]}},[d]),e.useEffect(()=>{(async()=>{try{const e=await c.getTags();if(e?.data){const n=e.data.filter(e=>"permanent"===e.promotional_status||"active"===e.promotional_status).sort((e,n)=>"active"===e.promotional_status&&"active"!==n.promotional_status?-1:"active"===n.promotional_status&&"active"!==e.promotional_status?1:e.name.localeCompare(n.name));h(n);const a=n.filter(e=>"active"===e.promotional_status).length;n.filter(e=>"permanent"===e.promotional_status).length;if(a>0){n.filter(e=>"active"===e.promotional_status)}}}catch(e){}})()},[]),e.useEffect(()=>{if(g.length>2&&window.innerWidth<1024){const e=setInterval(()=>{x(e=>{const n=e+2;return n>=g.length?0:n})},3e3);return()=>clearInterval(e)}},[g.length]);window.innerWidth;return g.length,n.jsx("nav",{id:p?.element_id||null,className:" relative w-full md:block bg-secondary font-paragraph text-sm",children:n.jsx("div",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto w-full",children:n.jsx("div",{className:"flex items-center gap-4 lg:gap-6 text-sm w-full overflow-hidden",children:n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-4 w-full overflow-hidden",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Categorías:"})}),d&&d.length>0?n.jsxs("div",{className:"relative flex-1 overflow-hidden",children:[n.jsx("button",{ref:k,className:"swiper-nav-btn swiper-nav-prev "+(w?"swiper-button-disabled":""),"aria-label":"Categoría anterior",children:n.jsx(a,{className:"w-4 h-4 text-gray-600"})}),n.jsx("div",{className:"",children:n.jsx(t,{...C,className:"categories-swiper",children:[...d].sort((e,n)=>e.name.localeCompare(n.name)).map((e,a)=>{const t=e.id??e.slug??e.name;return n.jsx(r,{children:n.jsx("div",{className:"category-item "+(_[t]?"visible":""),onMouseEnter:e=>e.currentTarget.classList.add(""),onMouseLeave:e=>e.currentTarget.classList.remove(""),children:n.jsx("a",{href:`/catalogo?category=${e.slug}`,className:"relative font-medium text-gray-700 hover:customtext-primary transition-all duration-500 cursor-pointer px-4 py-2.5 rounded-lg   whitespace-nowrap transform hover:scale-110 hover:-translate-y-1  ",children:n.jsxs("span",{className:"relative",children:[e.name,n.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 enhanced-underline transition-all duration-500 group-hover/item:w-full rounded-full"}),n.jsx("span",{className:"absolute inset-0 opacity-0 bg-gradient-to-r from-transparent via-primary/5 to-transparent group-hover/item:opacity-100 transition-opacity duration-700 rounded-lg"})]})})})},t)})})}),n.jsx("button",{ref:E,className:"swiper-nav-btn swiper-nav-next "+(j?"swiper-button-disabled":""),"aria-label":"Categoría siguiente",children:n.jsx(s,{className:"w-4 h-4 text-gray-600"})})]}):n.jsx("div",{className:"py-3",children:n.jsx("span",{className:"text-sm text-gray-500",children:"No hay categorías disponibles"})})]}),g.length>0&&n.jsx("div",{className:"flex items-center gap-4 lg:gap-4 text-sm",children:g.map((e,a)=>n.jsx("li",{className:"",children:n.jsxs("a",{href:`/catalogo?tag=${e.id}`,className:"font-medium rounded-full p-2 hover:brightness-105 cursor-pointer transition-all duration-300 relative flex items-center gap-2",style:{backgroundColor:e.background_color||"#3b82f6",color:e.text_color||"#ffffff"},title:e.description||e.name,children:[e.icon&&n.jsx("img",{src:`/storage/images/tag/${e.icon}`,alt:e.name,className:"w-4 h-4",onError:e=>e.target.src="/api/cover/thumbnail/null"}),e.name]})},e.id))})]})})})})};export{m as default};

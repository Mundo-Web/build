import{r as e,j as a}from"./vendor-react-DD0uBW7s.js";import s from"./SearchWidget-BecP5qwZ.js";import t from"./RoomCard-BI2cX2v4.js";import{S as r}from"./CartKuchara-BG_NtHiU.js";import"./vendor-swiper-BQwfPLwm.js";import"./es-ClO7yDf1.js";import"./Number2Currency-BX4epFEo.js";import"./General-ClVW7qxN.js";const n=()=>{const[n,i]=e.useState([]),[c,o]=e.useState(null),[l,d]=e.useState(!1),[h,m]=e.useState(!1);return a.jsxs("div",{className:"py-8 px-[5%] replace-max-w-here mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsx(s,{onSearch:async e=>{d(!0),m(!0);try{const a=await fetch("/api/hotels/rooms/search",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}),s=await a.json();if(200!==s.status)throw new Error(s.message||"Error al buscar habitaciones");i(s.data.rooms||[]),o({check_in:s.data.check_in,check_out:s.data.check_out,nights:s.data.nights,guests:s.data.guests}),0===s.data.rooms.length&&r.fire({icon:"info",title:"Sin resultados",text:"No se encontraron habitaciones disponibles para las fechas seleccionadas. Por favor, intenta con otras fechas.",confirmButtonText:"Entendido"})}catch(a){r.fire({icon:"error",title:"Error",text:a.message||"Ocurrió un error al buscar habitaciones",confirmButtonText:"Cerrar"})}finally{d(!1)}}})}),l&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-primary"}),a.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Buscando habitaciones disponibles..."})]}),!l&&h&&n.length>0&&c&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-800",children:[a.jsx("i",{className:"fas fa-check-circle mr-2"}),"Se encontraron ",a.jsx("strong",{children:n.length})," habitación(es) disponible(s)"," ","para ",a.jsx("strong",{children:c.nights})," noche(s)"," ","del ",a.jsx("strong",{children:new Date(c.check_in).toLocaleDateString("es-ES")})," ","al ",a.jsx("strong",{children:new Date(c.check_out).toLocaleDateString("es-ES")})]})}),!l&&n.length>0&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(e=>a.jsx(t,{room:e,searchParams:c},e.id))}),!l&&!h&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("i",{className:"fas fa-bed text-6xl text-gray-400 mb-4"}),a.jsx("h4",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Busca tu habitación ideal"}),a.jsx("p",{className:"text-gray-600",children:"Selecciona tus fechas y encuentra la habitación perfecta para tu estadía"})]}),!l&&h&&0===n.length&&a.jsxs("div",{className:"text-center py-16",children:[a.jsx("i",{className:"fas fa-calendar-times text-6xl text-gray-400 mb-4"}),a.jsx("h4",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No hay habitaciones disponibles"}),a.jsx("p",{className:"text-gray-600",children:"Intenta con otras fechas para encontrar disponibilidad"})]})]})};export{n as default};

import{r as e,j as t,i as a,bb as s,N as r,C as l}from"./vendor-react-LJZQRWVP.js";import{I as o}from"./ItemsRest-9WdC5Nqa.js";import{S as i}from"./CartKuchara-B42NOSvQ.js";import"./vendor-swiper-Cr_RrIb_.js";import"./ProductDetailB-CN4HFD7p.js";import"./OpenPayCardModal-CIqEZuEl.js";import{C as n}from"./Number2Currency-BX4epFEo.js";import{C as c}from"./CartModal-CqjKtjgw.js";import"./TippyButton-CwI1PIG0.js";import d from"./ProductNavigationSwiper-DXxkForQ.js";import"./BasicRest-C0KpfN6w.js";import"./BooleanLimit-q2Ad9fGY.js";import"./Footer-DCwBNfoi.js";import"./vendor-motion-DfhQzoWf.js";import"./General-ClVW7qxN.js";import"./CartItemRow-CCJz2pTp.js";import"./adjustTextColor-69KGUbTd.js";import"./ProductCardColors-BxPvqMvD.js";function m({item:m,data:x,setCart:u,cart:p,textstatic:h,contacts:g}){const f=new o,[b,j]=e.useState(!1),[y,v]=e.useState({url:m?.image,type:"main"}),[w,N]=e.useState(1),[k,C]=e.useState(m?.slug),[$,_]=e.useState(m),S=e=>g.find(t=>t.correlative===e)?.description||"";h.find(e=>"detailproduct-relation-title"==e.correlative);const[F,P]=e.useState(!1),z=e=>{const t=L.find(e=>e.slug===k)||$||e,a=structuredClone(p),s=a.findIndex(e=>e.id==t.id);-1==s?a.push({...t,quantity:w}):a[s].quantity++,u(a),i.fire({title:"Producto agregado",text:`Se agreg칩 ${$.name||e.name} al carrito`,icon:"success",showCancelButton:!0,confirmButtonText:"Abrir mini carrito",cancelButtonText:"Seguir comprando",reverseButtons:!0,timer:5e3}).then(e=>{e.isConfirmed&&j(!b)})},[B,M]=e.useState([]),[T,I]=e.useState([]),[E,H]=e.useState([]),[L,R]=e.useState([]);p?.find(e=>e.id==m?.id),e.useEffect(()=>{m?.id&&(q(m),U(m),A(m),O(m),K(m),C(m.slug))},[m]);const A=async e=>{try{const t={id:e?.id};if(!(await f.updateViews(t)))return}catch(t){return}},U=async e=>{try{const t={id:e?.id},a=await f.verifyCombo(t);if(!a)return;const s=a[0].associated_items;M(Object.values(s))}catch(t){return}},q=async e=>{try{const t={id:e?.id},a=await f.productsRelations(t);if(!a)return;const s=a;I(Object.values(s))}catch(t){return}},O=async e=>{try{const t={slug:e?.slug},a=await f.getColors(t);if(!a)return;H(a.variants)}catch(t){return}},K=async e=>{try{const t={slug:e?.slug},a=await f.getSizes(t);if(!a)return;R(a)}catch(t){return}};B.reduce((e,t)=>e+parseFloat(t.final_price),0);const[V,W]=e.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{id:x?.element_id||null,className:"px-primary 2xl:max-w-7xl 2xl:px-0 mx-auto pb-4 md:pb-6 xl:pb-8 bg-white",children:[t.jsx("div",{className:"bg-white rounded-xl py-4 md:py-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 xl:gap-20 2xl:gap-16",children:[t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[t.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 order-2 lg:order-1 lg:w-20",children:[t.jsx("button",{onClick:()=>v({url:m?.image,type:"main"}),className:"rounded-xl p-1 border-2 flex-shrink-0 "+(y.url===m?.image?"border-primary ":"border-gray-200"),children:t.jsx("img",{src:`/storage/images/item/${m?.image}`,alt:"Main Thumbnail",className:"w-16 lg:w-20  aspect-[3/4] rounded-lg object-cover",onError:e=>e.target.src="/api/cover/thumbnail/null"})}),m?.images.map((e,a)=>t.jsx("button",{onClick:()=>v({url:e.url,type:"gallery"}),className:"w-16 h-16 lg:w-20 lg:h-20 border-2 rounded-lg p-1 flex-shrink-0 "+(y.url===e.url?"border-primary":"border-gray-200"),children:t.jsx("img",{src:`/storage/images/item/${e.url}`||"/api/cover/thumbnail/null",alt:`Thumbnail ${a+1}`,className:"w-full h-full object-cover",onError:e=>e.target.src="/api/cover/thumbnail/null"})},a))]}),t.jsx("div",{className:"flex-1 order-1 lg:order-2",children:t.jsx("img",{src:(y.type,`/storage/images/item/${y.url}`),onError:e=>e.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full h-auto rounded-xl object-contain"})})]})}),t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"font-paragraph",children:[m?.brand&&t.jsxs("p",{className:"customtext-neutral-light text-sm 2xl:text-lg",children:["Marca:"," ",t.jsx("span",{className:"customtext-neutral-dark",children:m?.brand.name})]}),t.jsx("h1",{className:"customtext-neutral-dark text-3xl lg:text-4xl 2xl:text-5xl font-bold mt-2",children:m?.name})]}),t.jsxs("div",{className:"flex flex-wrap customtext-neutral-light items-center gap-y-2 gap-x-8 text-sm font-paragraph",children:[t.jsxs("span",{className:"customtext-neutral-dark text-base 2xl:text-lg",children:["SKU:"," ",t.jsx("span",{className:"customtext-neutral-dark font-bold",children:m?.sku})]}),t.jsxs("span",{className:"customtext-neutral-dark text-base 2xl:text-lg",children:["Disponibilidad:"," ",t.jsx("span",{className:"customtext-neutral-dark font-bold",children:$?.stock>0?"En stock":"Agotado"})]})]}),($?.price>0||$?.final_price>0)&&t.jsxs("div",{className:"flex flex-col w-full xl:w-1/2 font-paragraph max-w-xl mt-5",children:[t.jsxs("p",{className:"text-base 2xl:text-lg customtext-neutral-dark opacity-70 font-medium",children:["Precio:"," ",t.jsxs("span",{className:"line-through",children:[n()," ",$?.price]})]}),t.jsxs("div",{className:"flex flex-row items-center gap-4 relative",children:[t.jsxs("span",{className:"text-[40px] font-bold customtext-neutral-dark",children:[n()," ",$?.final_price]}),t.jsxs("span",{className:"bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl text-base",children:["-",(D=$?.price,G=$?.final_price,!D||D<=G?0:Math.round((D-G)/D*100)),"%"]})]})]}),m?.summary&&t.jsx("div",{className:"flex flex-col customtext-neutral-dark font-paragraph text-base 2xl:text-lg my-3",children:t.jsx("p",{children:m?.summary})}),E.length>1&&t.jsxs("div",{className:"variants-color flex flex-col gap-4",children:[t.jsx("h3",{className:"w-full block font-medium customtext-neutral-dark text-base 2xl:text-lg",children:"Colores"}),t.jsx("div",{className:"flex gap-3 items-center justify-start w-full flex-wrap",children:E.map(e=>t.jsx(a,{content:e.color,children:t.jsx("a",{href:`/item/${e.slug}`,className:"variant-option rounded-full object-fit-cover transition-all duration-200 hover:scale-105 "+(e.color===m.color?"active p-[2px] border-[2px] border-primary shadow-lg":"p-[2px] border-[2px] border-gray-200 hover:border-gray-400"),children:t.jsx("img",{className:"color-box rounded-full h-10 w-10 lg:h-12 lg:w-12 object-cover",src:`/storage/images/item/${e.texture||e.image}`,onError:e=>e.target.src="/api/cover/thumbnail/null",alt:`Color ${e.color}`})})},e.slug))})]}),L.length>0&&t.jsxs("div",{className:"variants-color flex flex-col gap-4",children:[t.jsx("h3",{className:"w-full block font-medium customtext-neutral-dark text-base 2xl:text-lg",children:"Tallas"}),t.jsx("div",{className:"flex gap-3 items-center justify-start w-full flex-wrap",children:L.map(e=>t.jsx("button",{onClick:()=>(e=>{const t=L.find(t=>t.slug===e)||m;_(t),C(e),window.history.pushState({},"",`/item/${e}`)})(e.slug),className:"relative min-w-12 h-12 px-3 flex items-center justify-center text-center font-medium rounded-xl border-2 transition-all duration-200 hover:shadow-md "+(k===e.slug?"border-primary bg-primary text-white shadow-lg transform scale-105":"border-gray-200 bg-white customtext-neutral-dark hover:border-gray-300 hover:bg-gray-50"),children:e.size},e.slug))})]}),t.jsxs("div",{className:"flex items-center mt-8 gap-4",children:[t.jsx("h3",{className:"font-medium customtext-neutral-dark text-base 2xl:text-lg",children:"Cantidad"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center border-2 border-gray-200 rounded-xl overflow-hidden bg-white",children:[t.jsx("button",{type:"button",onClick:()=>N(Math.max(1,w-1)),disabled:w<=1,className:"w-12 h-12 flex items-center justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:t.jsx("svg",{className:"w-4 h-4 customtext-neutral-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),t.jsx("input",{type:"number",value:w,onChange:e=>{let t=parseInt(e.target.value,10);(isNaN(t)||t<1)&&(t=1),t>10&&(t=10),N(t)},min:"1",max:"10",className:"w-16 h-12 customtext-neutral-dark text-center bg-white outline-none appearance-none font-medium text-lg border-none"}),t.jsx("button",{type:"button",onClick:()=>N(Math.min(10,w+1)),disabled:w>=10,className:"w-12 h-12 flex items-center justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:t.jsx("svg",{className:"w-4 h-4 customtext-neutral-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),t.jsx("span",{className:"text-sm customtext-neutral-light",children:"M치ximo 10 unidades"})]})]}),x?.button_buy&&t.jsx("button",{onClick:()=>{z(m)},disabled:$?.stock<=0,className:"hidden lg:block w-full font-paragraph text-base 2xl:text-lg py-3 font-semibold rounded-3xl transition-all duration-300 mt-3 "+($?.stock>0?"bg-accent text-white hover:opacity-90 hover:shadow-lg transform hover:scale-[1.02]":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:$?.stock>0?"Agregar al carrito":"Producto agotado"}),x?.button_consultation&&t.jsx("a",{href:`https://api.whatsapp.com/send?phone=${S("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo cotizar el siguiente producto:\n\n游닍 Producto: ${m?.name}\n游댝 SKU: ${m?.sku}\n${m?.color?`游꿛 Color: ${m?.color}\n`:""}${$?.size?`游늺 Talla: ${$?.size}\n`:""}游늵 Cantidad: ${w}\n\n쯇odr칤an enviarme m치s informaci칩n y el precio?`)}`,target:"_blank",className:"hidden lg:flex w-full font-paragraph py-3 text-base 2xl:text-lg font-semibold rounded-3xl transition-all duration-300 mt-3 bg-primary text-white hover:bg-primary hover:shadow-lg transform hover:scale-[1.02] items-center justify-center gap-2",children:"Cotizar este producto"}),m?.specifications?.length>0&&t.jsx("div",{className:"flex-1 w-full mt-5 2xl:mt-8",children:t.jsxs("div",{className:"bg-[#F7F9FB] rounded-xl p-6",children:[t.jsx("h3",{className:"font-semibold text-lg xl:text-xl 2xl:text-2xl mb-4 customtext-neutral-dark font-paragraph",children:"Especificaciones principales"}),t.jsx("ul",{className:"space-y-1  customtext-neutral-light  mb-4 list-disc transition-all duration-300 "+(V?"max-h-full":"max-h-20 overflow-hidden"),style:{listStyleType:"disc"},children:m?.specifications.map((e,a)=>"principal"===e.type&&t.jsxs("li",{className:"gap-2  customtext-primary opacity-85 flex flex-row items-start",children:[t.jsx(s,{className:"customtext-primary mt-1 min-w-4 min-h-4 max-w-4 max-h-4"}),t.jsxs("span",{className:"first-letter:uppercase",children:[" ",e?.description?.toLowerCase()]})]},a))}),t.jsxs("button",{className:"font-semibold flex flex-row gap-2 items-center text-base xl:text-[17px] 2xl:text-xl mb-4 customtext-neutral-dark font-paragraph pb-2 border-b border-neutral-dark",onClick:()=>W(!V),children:[V?"Ver menos":"Ver m치s especificaciones",V?t.jsx(r,{className:"w-4 h-4"}):t.jsx(l,{className:"w-4 h-4"})]})]})}),t.jsx("div",{className:"w-full mt-5",children:t.jsx("a",{href:`https://api.whatsapp.com/send?phone=${S("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo mayor informaci칩n acerca del producto: ${m?.name}`)}`,target:"_blank",children:t.jsxs("div",{className:"bg-[#F7F9FB] flex flex-row rounded-xl p-5 gap-3",children:[t.jsx("img",{src:"/assets/img/salafabulosa/whatsapp.png",onError:e=>e.target.src="assets/img/noimage/no_imagen_circular.png",className:"w-12 h-12 object-contain",loading:"lazy"}),t.jsx("div",{className:"customtext-neutral-dark font-paragraph text-base  2xl:text-xl font-semibold",children:t.jsxs("p",{children:["쯊ienes dudas sobre este producto? Haz",t.jsx("span",{className:"underline"}),"clic aqu칤 y chatea con nosotros por WhatsApp"]})})]})})})]})]})}),t.jsxs("div",{className:"grid gap-10 lg:gap-20 md:grid-cols-2 bg-white rounded-xl p-4 sm:p-8 font-paragraph",children:[m?.specifications?.length>0&&m.specifications.some(e=>"general"===e.type)&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Especificaciones"}),t.jsx("div",{className:"space-y-1",children:m.specifications.map((e,a)=>"general"===e.type&&t.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 "+(a%2==0?"bg-[#F7F9FB]":"bg-white"),children:[t.jsx("div",{className:"customtext-neutral-dark ",children:e.title}),t.jsx("div",{className:"customtext-neutral-dark opacity-75",children:e.description})]},a))})]}),x?.show_additional_info&&t.jsxs("div",{className:"font-paragraph",children:[m?.description?.replace(/<[^>]+>/g,"")&&t.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Informaci칩n adicional"}),t.jsxs("div",{className:"space-y-2 "+(F?"":"max-h-none overflow-hidden"),children:[m?.description?.replace(/<[^>]+>/g,"")&&t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este art칤culo"}),t.jsx("div",{className:"customtext-neutral-dark",dangerouslySetInnerHTML:{__html:m?.description}})]}),m?.features?.length>0&&t.jsx("div",{className:"pl-10",children:t.jsx("ul",{className:"list-disc pl-5 space-y-2",children:m?.features.map((e,a)=>t.jsx("li",{className:"customtext-neutral-dark",children:e.feature},a))})})]})]})]})]}),t.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50 shadow-lg",children:t.jsxs("div",{className:"flex gap-3",children:[x?.button_buy&&t.jsx("button",{onClick:()=>{z(m)},disabled:$?.stock<=0,className:"flex-1 font-paragraph text-sm py-3 font-semibold rounded-2xl transition-all duration-300 "+($?.stock>0?"bg-accent text-white hover:opacity-90":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:$?.stock>0?"Agregar al carrito":"Producto agotado"}),x?.button_consultation&&t.jsx("a",{href:`https://api.whatsapp.com/send?phone=${S("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo cotizar el siguiente producto:\n\n游닍 Producto: ${m?.name}\n游댝 SKU: ${m?.sku}\n${m?.color?`游꿛 Color: ${m?.color}\n`:""}${$?.size?`游늺 Talla: ${$?.size}\n`:""}游늵 Cantidad: ${w}\n\n쯇odr칤an enviarme m치s informaci칩n y el precio?`)}`,target:"_blank",className:"font-paragraph text-base py-3 font-semibold rounded-xl transition-all duration-300 bg-primary text-white hover:opacity-90 flex items-center justify-center gap-2 "+(x?.button_buy?"flex-1":"w-full"),children:"Cotizar este producto"})]})}),t.jsx("div",{className:"lg:hidden h-20"}),T.length>0&&t.jsx("div",{className:"-mt-10 mb-10 p-4",children:t.jsx(d,{data:{title:"Productos relacionados",link_catalog:"/catalogo"},items:T,cart:p,setCart:u})}),t.jsx(c,{cart:p,data:x,setCart:u,modalOpen:b,setModalOpen:j})]});var D,G}export{m as default};

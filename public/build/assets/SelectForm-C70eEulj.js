import{r as e,j as l,C as a,S as s,e as t}from"./vendor-react-LJZQRWVP.js";const n=({options:n=[],placeholder:r="Select an option",onChange:o,valueKey:u,labelKey:c,label:i,labelClass:d,className:m,disabled:b=!1,value:p=null})=>{const[x,v]=e.useState(!1),[f,h]=e.useState(null),[j,y]=e.useState(""),g=e.useRef(null),w=n.length>0&&"object"==typeof n[0],N=w?u||Object.keys(n[0])[0]:null,k=w?c||Object.keys(n[0])[1]:null,C=e.useMemo(()=>n.map(e=>w?{value:e[N],label:e[k]}:{value:e,label:e}),[n,w,N,k]),S=e.useMemo(()=>C.filter(e=>e.label.toLowerCase().includes(j.toLowerCase())),[C,j]);e.useEffect(()=>{if(p&&C.length>0){const e=C.find(e=>e.value===p);!e||f&&f.value===e.value||h(e)}else!p&&f&&h(null)},[p,C]),e.useEffect(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&v(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return l.jsxs("div",{className:"relative w-full",ref:g,children:[i&&l.jsx("label",{className:`block text-sm mb-1 customtext-neutral-dark ${d}`,children:i}),l.jsxs("button",{type:"button",className:`w-full relative text-start  px-4 py-3 border customtext-neutral-dark   rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300 ${m}`,onClick:()=>v(!x),"aria-haspopup":"listbox","aria-expanded":x,disabled:b,children:[l.jsx("span",{className:"block truncate",children:f?f.label:r}),l.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center justify-center py-3 pr-2 pointer-events-none",children:l.jsx(a,{className:"w-5 h-5 customtext-neutral-dark transition-transform duration-200 "+(x?"rotate-180":"")})})]}),x&&l.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg max-h-60 overflow-auto",children:[l.jsx("div",{className:"sticky top-0 bg-white p-2",children:l.jsxs("div",{className:"relative",children:[l.jsx(s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),l.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search options...",value:j,onChange:e=>y(e.target.value)})]})}),l.jsx("ul",{className:"py-1",role:"listbox",children:S.map(e=>l.jsxs("li",{className:"px-4 py-2 cursor-pointer flex items-center justify-between \n                                    "+(f&&f.value===e.value?"bg-blue-500 text-white":"hover:bg-gray-100"),onClick:()=>(e=>{h(e),o(e.value),v(!1)})(e),role:"option","aria-selected":f&&f.value===e.value,children:[l.jsx("span",{className:"block truncate",children:e.label}),f&&f.value===e.value&&l.jsx(t,{className:"w-5 h-5"})]},e.value))})]})]})};export{n as S};

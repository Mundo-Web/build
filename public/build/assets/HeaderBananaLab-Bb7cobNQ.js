import{r as e,j as t,b as s}from"./System-Bybt2Brn.js";import"./CartModal-Db_dBOJN.js";import{C as a,L as r,D as i}from"./Logout-Cj21RfLh.js";import{C as o}from"./CartModalBananaLab-CzbnPykF.js";import{m as n}from"./proxy-BmPRG09w.js";import{X as l}from"./x-DWgXNABc.js";import{c}from"./createLucideIcon-oahCLV50.js";import{S as m}from"./search--TD4pUuj.js";import{A as x}from"./index-Da4AP4wO.js";import{H as d}from"./heart-CyPg-ZZw.js";import{S as u}from"./shopping-cart-D6rW5WdX.js";import{U as h}from"./user-DFpSHQmU.js";import"./vendor-BiOv2i5T.js";import"./index-Cmhjy_Bv.js";import"./index-Bx5UHif0.js";import"./CartItemRow-CLpuTcvn.js";import"./Number2Currency-DExzICY3.js";import"./tippy-react.esm-Cpb4mDDh.js";import"./trash-2-CDXts6on.js";import"./minus-BhdGy6sP.js";import"./plus-4JHYG4O1.js";import"./arrow-right-CoVebBW_.js";
/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=c("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),j=({items:c,data:j,cart:y,setCart:f,isUser:N,pages:w,generals:v=[]})=>{const g=v.find((e=>"phone_whatsapp"===e.correlative)),b=v.find((e=>"message_whatsapp"===e.correlative));g&&g.description,b&&b.description;const[k,C]=e.useState(!1),[T,H]=e.useState(!1),[S,F]=e.useState(!1),M=y.reduce(((e,t)=>Number(e)+Number(t.quantity)),0),A=y.reduce(((e,t)=>{const s=t.discount?t.discount:t.price;return e+Number(t.quantity)*s}),0),[E,L]=e.useState(!1),I=e.useRef(null),U=e.useRef(null);e.useEffect((()=>{function e(e){I.current&&!I.current.contains(e.target)&&H(!1),U.current&&!U.current.contains(e.target)&&L(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const[B,R]=e.useState("");return t.jsxs(n.nav,{className:"bg-[#F8F9FA] shadow-md fonts-paragraph",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},children:[t.jsx("div",{className:"max-w-7xl mx-auto px-primary lg:px-0",children:t.jsxs("div",{className:"flex items-center justify-between h-20 lg:h-16",children:[t.jsx("div",{className:"flex md:hidden",children:t.jsx(n.button,{onClick:()=>H(!T),className:"inline-flex items-center justify-center py-2 rounded-md customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileTap:{scale:.9},children:T?t.jsx(l,{className:"h-6 w-6"}):t.jsx(p,{className:"h-6 w-6"})})}),t.jsx(n.a,{href:"/",className:"flex-shrink-0",whileHover:{scale:1.03},whileTap:{scale:.97},children:t.jsx("img",{className:"h-8 w-auto",src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:s.APP_NAME,onError:e=>e.target.src="/api/thumbnail/null"})}),t.jsx("div",{className:"-mr-2 flex md:hidden",children:t.jsx(n.button,{className:"inline-flex items-center justify-center p-2 rounded-md customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileTap:{scale:.9},children:t.jsx(m,{className:"h-6 w-6"})})}),t.jsx("div",{className:"hidden md:block",children:t.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:t.jsxs(n.div,{className:"relative w-[450px] mx-auto",whileHover:{scale:1.01},children:[t.jsx("input",{type:"search",placeholder:"Buscar productos",value:B,onChange:e=>R(e.target.value),className:"w-full pr-14 py-3 pl-4 border-0 rounded-full focus:ring-0 focus:outline-none ring-0 bg-sections-color"}),t.jsx(n.a,{href:B.trim()?`/catalogo?search=${encodeURIComponent(B)}`:"#",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 customtext-neutral-dark rounded-lg","aria-label":"Buscar",whileTap:{scale:.9},children:t.jsx(m,{})})]})})}),t.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[t.jsxs("div",{className:"relative",ref:U,children:[N?t.jsxs(n.button,{className:"customtext-neutral-light flex gap-2 hover:customtext-primary transition-colors duration-200",onClick:()=>L(!E),whileHover:{scale:1.03},whileTap:{scale:.97},children:[t.jsx(a,{className:"customtext-primary"}),t.jsx("span",{className:"hidden md:inline",children:N.name})]}):t.jsx(n.a,{href:"/iniciar-sesion",className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileHover:{scale:1.03},whileTap:{scale:.97},children:t.jsx(a,{className:"h-5 w-5"})}),t.jsx(x,{children:E&&t.jsx(n.div,{className:"absolute z-50 right-0 mt-2 bg-white shadow-xl rounded-xl w-48",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:t.jsx("div",{className:"p-2",children:t.jsxs("ul",{className:"space-y-2",children:[t.jsx(n.li,{whileHover:{x:3},children:t.jsxs("a",{href:"/mi-cuenta",className:"flex items-center gap-2 px-3 py-2 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300 cursor-pointer",children:[t.jsx(a,{className:"customtext-primary",height:"1rem"}),t.jsx("span",{children:"Mi cuenta"})]})}),t.jsx(n.li,{whileHover:{x:3},children:t.jsxs("button",{onClick:r,className:"w-full flex items-center gap-2 px-3 py-2 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300 cursor-pointer",children:[t.jsx(i,{className:"customtext-primary",height:"1rem"}),t.jsx("span",{children:"Cerrar sesión"})]})})]})})})})]}),t.jsxs(n.button,{className:"relative customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx(d,{className:"h-5 w-5"}),t.jsx(n.span,{className:"h-3 w-3 bg-secondary absolute -top-1 -right-2 text-[10px] flex items-center justify-center text-white rounded-full",whileHover:{scale:1.2},children:"0"})]}),t.jsxs(n.button,{onClick:()=>C(!0),className:"relative customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileHover:{scale:1.05},whileTap:{scale:.95},children:[t.jsx(u,{className:"h-5 w-5"}),t.jsx(n.span,{className:"h-3 w-3 bg-secondary absolute -top-1 -right-2 text-[10px] flex items-center justify-center text-white rounded-full",animate:M>0?{scale:[1,1.2,1]}:{},transition:{repeat:1/0,duration:1.5},children:M})]}),t.jsxs("div",{className:"hidden md:block ml-2 text-left",children:[t.jsx("p",{className:"text-xs font-medium",children:"Tu carrito"}),t.jsxs("p",{className:"text-sm font-bold",children:["S/ ",A.toFixed(2)]})]})]})]})}),t.jsx(n.div,{className:"md:hidden "+(T?"block":"hidden"),initial:{opacity:0,height:0},animate:{opacity:T?1:0,height:T?"auto":0},transition:{duration:.2},ref:I,children:t.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-[#F8F9FA]",children:[[{name:"Inicio",href:"/"},{name:"Productos",href:"/catalog"},{name:"Colecciones",href:"/collections"},{name:"Nosotros",href:"/about"},{name:"Contacto",href:"/contact"}].map(((e,s)=>t.jsx(n.a,{href:e.href,className:"fonts-paragraph customtext-neutral-dark hover:customtext-primaryy block px-3 py-2 rounded-md text-base font-medium transition-colors duration-200",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.05*s},children:e.name},e.name))),t.jsxs("div",{className:"flex items-center space-x-4 px-3 py-2",children:[t.jsx(n.button,{className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileTap:{scale:.9},children:t.jsx(m,{className:"h-5 w-5"})}),t.jsxs("div",{className:"relative",ref:U,children:[N?t.jsx(n.button,{className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200",onClick:()=>L(!E),whileTap:{scale:.9},children:t.jsx(a,{className:"customtext-primary"})}):t.jsx(n.a,{href:"/iniciar-sesion",className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200",whileTap:{scale:.9},children:t.jsx(h,{className:"h-5 w-5"})}),t.jsx(x,{children:E&&t.jsx(n.div,{className:"fixed z-[9999] right-4 mt-2 bg-white shadow-xl rounded-xl w-48",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:t.jsx("div",{className:"p-2",children:t.jsxs("ul",{className:"space-y-2",children:[t.jsx(n.li,{whileHover:{x:3},children:t.jsxs("a",{href:"/mi-cuenta",className:"flex items-center gap-2 px-3 py-2 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300 cursor-pointer",children:[t.jsx(h,{className:"customtext-primary",height:"1rem"}),t.jsx("span",{children:"Mi cuenta"})]})}),t.jsx(n.li,{whileHover:{x:3},children:t.jsxs("button",{onClick:r,className:"w-full flex items-center gap-2 px-3 py-2 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300 cursor-pointer",children:[t.jsx(i,{className:"customtext-primary",height:"1rem"}),t.jsx("span",{children:"Cerrar sesión"})]})})]})})})})]}),t.jsxs(n.button,{className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200 relative",whileTap:{scale:.9},children:[t.jsx(d,{className:"h-5 w-5"}),t.jsx("span",{className:"h-3 w-3 bg-secondary absolute -top-1 -right-2 text-[10px] flex items-center justify-center text-white rounded-full",children:"0"})]}),t.jsxs(n.button,{onClick:()=>C(!0),className:"customtext-neutral-light hover:customtext-primary transition-colors duration-200 relative",whileTap:{scale:.9},children:[t.jsx(u,{className:"h-5 w-5"}),t.jsx(n.span,{className:"h-3 w-3 bg-secondary absolute -top-1 -right-2 text-[10px] flex items-center justify-center text-white rounded-full",animate:M>0?{scale:[1,1.2,1]}:{},transition:{repeat:1/0,duration:1.5},children:M})]})]})]})}),t.jsx(o,{data:j,cart:y,setCart:f,modalOpen:k,setModalOpen:C})]})};export{j as default};

var e=Object.defineProperty,t=(t,r,s)=>((t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s)(t,"symbol"!=typeof r?r+"":r,s);import{m as r}from"./vendor-react-LJZQRWVP.js";import{B as s}from"./BasicRest-BX2nxOrK.js";class a extends s{constructor(){super(...arguments),t(this,"path","admin/system"),t(this,"savePage",async(e={})=>{try{const{status:t,result:s}=await r.Fetch(`/api/${this.path}/page`,{method:"POST",body:JSON.stringify(e)});if(!t)throw new Error(s?.message||"Ocurrio un error inesperado");return s.data??[]}catch(t){return r.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:t.message,type:"danger"}),null}}),t(this,"updateOrder",async e=>{try{const{status:t,result:s}=await r.Fetch(`/api/${this.path}/order`,{method:"PATCH",body:JSON.stringify(e)});if(!t)throw new Error(s?.message??"Ocurrio un error inesperado");return!0}catch(t){r.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:t.message,type:"danger"})}}),t(this,"deletePage",async e=>{try{const{status:t,result:s}=await r.Fetch(`/api/${this.path}/page/${e}`,{method:"DELETE"});if(!t)throw new Error(s?.message||"Ocurrio un error inesperado");return s.data??!0}catch(t){return r.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:t.message,type:"danger"}),!1}}),t(this,"exportBK",async()=>{try{const{status:e,result:t}=await r.Fetch(`/api/${this.path}/backup`);if(!e)throw new Error(t?.message||"Ocurrio un error inesperado");return t}catch(e){return r.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:e.message,type:"danger"}),null}}),t(this,"importBK",async e=>{try{const t=await fetch(`/api/${this.path}/backup`,{method:"POST",headers:{"X-Xsrf-Token":decodeURIComponent(r.Cookies.get("XSRF-TOKEN"))},body:e}),s=JSON.parseable(await t.text());if(!t.ok)throw new Error(s?.message||"Ocurrio un error inesperado");return s??!0}catch(t){return r.Notify.add({icon:"/assets/img/icon.svg",title:"Error",body:t.message,type:"danger"}),null}}),t(this,"hasRemoteChanges",async()=>await this.simpleGet(`/api/${this.path}/has-remote-changes`)),t(this,"fetchRemoteChanges",async()=>await this.simpleGet(`/api/${this.path}/fetch-remote-changes`))}}export{a as S};

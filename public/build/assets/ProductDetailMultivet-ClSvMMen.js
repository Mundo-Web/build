import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as o}from"./index-BOnQTV8N.js";import"./BlogCarousel-DCQ9UYu0.js";/* empty css               */import"./BlogCarrusel-klwTVD05.js";import"./thumbs-l0sNRNKZ.js";/* empty css                  */import{t as O}from"./CardProductKatya-ncpmQ0JU.js";import{I as Ue}from"./ItemsRest-Dp5IKigO.js";import"./ProductMakita-CuTJk-0k.js";import"./ProductNavigation-CVBe6bo0.js";import{G as Xe}from"./General-apRuNwp7.js";import Ye from"./ProductMultivet-DUJhtC3k.js";import{u as se,a as te,b as ae,c as re,d as oe,F as le,o as ne,f as ce,s as ie}from"./floating-ui.react-h8x3UwNO.js";import{Z as He}from"./zoom-out-DUAqyJbD.js";import{Z as Qe}from"./zoom-in-DjAbuZ1Y.js";import{S as Ve}from"./share-2-DAFE7yVK.js";import{F as L}from"./file-text-BGNfKLm5.js";import{C as de}from"./chevron-down-uIVDLcM-.js";import{D as xe}from"./download-CbXRWltS.js";import{C as Ge}from"./circle-check-big-CYWUGR3Z.js";import{C as Je}from"./chevron-right-Cug7tVUE.js";import{S as me}from"./shopping-cart-DLRnxGTD.js";import{Q as he}from"./quote-Dsy8RbQK.js";import{A as Ke}from"./index-BZvh78jk.js";import{m as ue}from"./proxy-B0QLMKEh.js";import{X as es}from"./x-fof_H3Vv.js";import{a as pe}from"./floating-ui.dom-CID5cQpR.js";import{S as ss}from"./star-DU-S9B50.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./BasicRest-BML1C-ua.js";import"./BooleanLimit-D-OsQsek.js";import"./ProductCard-D9l7c7at.js";import"./HeaderSearch-j9L8kXPt.js";import"./PolicyModal-C80IvD61.js";import"./index-Chjiymov.js";import"./CartItemRow-Dd2JdCJX.js";import"./Number2Currency-jIsa99f9.js";import"./tippy-react.esm-DmkRJDEW.js";import"./package-DBFPPBi1.js";import"./createLucideIcon-DfjclApS.js";import"./trash-2-DU7LB6-f.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./eye-ScgfreHn.js";import"./CardProductMultivet-C3xfakY_.js";import"./circle-chevron-right-Cragr8lM.js";import"./CardProductKatya-De2Wipnd.js";import"./use-in-view-DtBxy-1R.js";const it=({item:s,data:i,setCart:M,cart:m,generals:E,favorites:S,setFavorites:ts})=>{const B=new Ue,[g,fe]=o.useState({url:s==null?void 0:s.image,type:"main"}),[d,T]=o.useState(!1),[W,F]=o.useState({x:50,y:50}),[j,$]=o.useState(!1),[P,Z]=o.useState({x:0,y:0}),U=o.useRef(null),[c,w]=o.useState(1),[D,A]=o.useState([]),[as,rs]=o.useState(!1),[y,ge]=o.useState(!1),[os,be]=o.useState(!1),R=o.useRef(null),I=o.useRef(null),[ls,je]=o.useState(!1),[we,ye]=o.useState(!1),[ve,X]=o.useState(!1);o.useRef(null),o.useRef(null);const[ns,cs]=o.useState(null),[h,b]=o.useState(!1),[u,Y]=o.useState("consult"),[p,H]=o.useState(!1),{refs:Q,floatingStyles:Ne,context:v}=se({open:h&&u==="quote",onOpenChange:t=>{(!t||u==="quote")&&b(t)},placement:"bottom-start",middleware:[ne(10),ce({fallbackPlacements:["top-start","bottom-end","top-end"]}),ie({padding:8})],whileElementsMounted:pe}),{refs:V,floatingStyles:ke,context:N}=se({open:h&&u==="quote-mobile",onOpenChange:t=>{(!t||u==="quote-mobile")&&b(t)},placement:"top-end",middleware:[ne(10),ce({fallbackPlacements:["top-start","bottom-end","bottom-start"]}),ie({padding:8})],whileElementsMounted:pe}),Ce=te(v),Me=ae(v),Ee=re(v),Se=te(N),Fe=ae(N),$e=re(N),{getReferenceProps:Pe,getFloatingProps:De}=oe([Ce,Me,Ee]),{getReferenceProps:Ae,getFloatingProps:Re}=oe([Se,Fe,$e]),n=Xe.whatsapp_advisors||[],_=E==null?void 0:E.find(t=>t.correlative==="phone_whatsapp"),q=_==null?void 0:_.description;o.useEffect(()=>{S&&s&&be(S.some(t=>t.id===s.id))},[S,s]),o.useEffect(()=>{s!=null&&s.id&&(ze(s),Oe(s))},[s]),o.useEffect(()=>{const a=setTimeout(()=>{if(R.current){const r=R.current.scrollHeight>150;je(r)}if(I.current){const r=I.current.scrollHeight>150;ye(r)}},100);return()=>clearTimeout(a)},[s,s==null?void 0:s.specifications]);const Ie=()=>{d?(T(!1),F({x:50,y:50})):T(!0)},_e=t=>{d&&($(!0),Z({x:t.clientX,y:t.clientY}))},z=t=>{if(d&&!j){const a=U.current.getBoundingClientRect(),r=(t.clientX-a.left)/a.width*100,l=(t.clientY-a.top)/a.height*100;F({x:Math.max(0,Math.min(100,r)),y:Math.max(0,Math.min(100,l))})}else if(j&&d){const a=t.clientX-P.x,r=t.clientY-P.y;F(l=>({x:Math.max(0,Math.min(100,l.x-a/3)),y:Math.max(0,Math.min(100,l.y-r/3))})),Z({x:t.clientX,y:t.clientY})}},G=()=>{$(!1)},qe=()=>{$(!1)};o.useEffect(()=>{if(j)return document.addEventListener("mousemove",z),document.addEventListener("mouseup",G),()=>{document.removeEventListener("mousemove",z),document.removeEventListener("mouseup",G)}},[j,d,P]);const ze=async t=>{try{await B.viewUpdate(t.id)}catch(a){console.error("Error updating view:",a)}},Oe=async t=>{try{const a={id:t==null?void 0:t.id},r=await B.productsRelations(a);if(!r){A([]);return}const Ze=Object.values(r);A(Ze)}catch(a){console.error("Error fetching related products:",a),A([])}},Le=t=>{t.preventDefault(),t.stopPropagation(),n&&n.length>1?(Y("quote"),b(!h)):k((n==null?void 0:n[0])||{phone:q})},Be=t=>{t.preventDefault(),t.stopPropagation(),n&&n.length>1?(Y("quote-mobile"),b(!h)):k((n==null?void 0:n[0])||{phone:q})},k=t=>{const a=(t==null?void 0:t.phone)||q,r=encodeURIComponent(`¡Hola! Me gustaría cotizar este producto para mi mascota: ${s==null?void 0:s.name}

Cantidad: ${c} unidades

¿Podrían enviarme más información y precios?`),l=`https://wa.me/${a}?text=${r}`;window.open(l,"_blank"),b(!1)},J=t=>{if(!m||!M){O.error("Error al agregar al carrito");return}const a=structuredClone(m),r=a.findIndex(l=>l.id==(t==null?void 0:t.id));r==-1?a.push({...t,quantity:c}):a[r].quantity+=c,M(a),O.success("Producto agregado al carrito",{description:`${t==null?void 0:t.name} (${c} ${c===1?"unidad":"unidades"})`,duration:2e3})},f=t=>t?new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(t):"Consultar precio",Te=t=>{const a=parseFloat(t)||0;return Array.from({length:5},(r,l)=>e.jsx(ss,{className:`w-4 h-4 ${l<Math.floor(a)?"text-yellow-400 fill-current":"text-gray-300"}`},l))},C=(s==null?void 0:s.price)&&(s==null?void 0:s.final_price)&&parseFloat(s.price)>parseFloat(s.final_price),We=C?Math.round((parseFloat(s.price)-parseFloat(s.final_price))/parseFloat(s.price)*100):0,x=m==null?void 0:m.find(t=>t.id==(s==null?void 0:s.id)),K=(x==null?void 0:x.quantity)||0,ee=[{url:s==null?void 0:s.image,type:"main",alt:"Imagen principal"},...((s==null?void 0:s.images)||[]).filter((t,a,r)=>a===r.findIndex(l=>l.url===t.url)).map((t,a)=>({url:t.url,type:"gallery",index:a,alt:`Imagen ${a+1}`}))];return e.jsxs("div",{className:"bg-gray-50 min-h-screen overflow-x-hidden",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 lg:py-8",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-12",children:[e.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[e.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:`aspect-square flex items-center justify-center p-4 lg:p-8 relative ${d?"cursor-zoom-out":"cursor-zoom-in"}`,onClick:Ie,onMouseDown:_e,onMouseMove:z,onMouseLeave:qe,children:[e.jsx("img",{ref:U,src:g.url?`/storage/images/item/${g.url}`:"/api/cover/thumbnail/null",alt:(s==null?void 0:s.name)||"Producto",className:`w-full h-full object-contain transition-transform duration-300 ${d?"scale-150":"scale-100"}`,style:d?{transformOrigin:`${W.x}% ${W.y}%`}:{},onError:t=>{t.target.src="/api/cover/thumbnail/null"}}),e.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white px-2 py-2 rounded text-sm",children:d?e.jsx(He,{className:"w-4 h-4"}):e.jsx(Qe,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"absolute top-4 right-4 space-y-2",children:[C&&e.jsxs("div",{className:"bg-red-500 text-white px-3 py-2 rounded-full text-sm font-bold",children:["-",We,"% OFF"]}),(s==null?void 0:s.is_new)&&e.jsx("div",{className:"bg-accent customtext-primary px-3 py-2 rounded-full text-sm font-bold",children:"¡Nuevo!"})]}),e.jsx("div",{className:"absolute bottom-4 right-4 flex space-x-2",children:e.jsx("button",{onClick:()=>{var t;(t=navigator.share)!=null&&t.call(navigator,{title:s==null?void 0:s.name,text:s==null?void 0:s.description,url:window.location.href})||navigator.clipboard.writeText(window.location.href),O.success("Enlace copiado al portapapeles")},className:"w-10 h-10 bg-secondary  backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-lg",children:e.jsx(Ve,{className:"w-5 h-5 text-white"})})})]}),ee.length>1&&e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2",children:ee.map((t,a)=>e.jsx("button",{onClick:()=>fe(t),className:`aspect-square bg-white rounded-lg overflow-hidden border-2 transition-all hover:border-primary ${g.url===t.url?"border-primary":"border-gray-200"}`,children:e.jsx("img",{src:`/storage/images/item/${t.url}`,alt:t.alt,className:"w-full h-full object-contain p-2",onError:r=>{r.target.src="/api/cover/thumbnail/null"}})},a))}),(s==null?void 0:s.pdf)&&Array.isArray(s.pdf)&&s.pdf.length>0&&e.jsxs("div",{className:"relative mt-4 hidden lg:block",children:[e.jsxs("button",{onClick:()=>H(!p),className:"w-full sm:w-auto bg-white border-2 border-primary text-primary py-4 px-6 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-primary hover:text-white transition-all shadow-md hover:shadow-lg group",children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Fichas Técnicas"}),e.jsx(de,{className:`w-4 h-4 transition-transform duration-300 ${p?"rotate-180":""}`})]}),p&&e.jsxs("div",{className:"absolute top-full left-0 right-0 sm:right-auto sm:min-w-[320px] mt-2 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-20",children:[e.jsxs("div",{className:"bg-primary p-3 text-white",children:[e.jsx("h4",{className:"font-bold text-sm",children:"Documentos disponibles"}),e.jsxs("p",{className:"text-xs text-white opacity-90 mt-0.5",children:[s.pdf.length," ",s.pdf.length===1?"archivo":"archivos"]})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.pdf.map((t,a)=>e.jsxs("a",{href:`/storage/images/item/${t.url||t}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 transition-colors border-b  last:border-b-0 group",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10  rounded-lg flex items-center justify-center transition-colors",children:e.jsx(L,{className:"w-5 h-5 customtext-secondary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold max-w-36 customtext-neutral-dark text-sm truncate",children:t.name||(typeof t=="string"?t.split("/").pop().replace(".pdf",""):"Documento")}),e.jsx("p",{className:"text-xs cusomtext-neutral-light",children:"Documento PDF"})]}),e.jsx(xe,{className:"w-4 h-4 customtext-neutral-light group-hover:text-primary transition-colors"})]},a))})]})]})]}),e.jsx("div",{className:"lg:hidden ",children:e.jsxs("div",{className:"text-start",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold font-title customtext-neutral-dark",children:f((s==null?void 0:s.final_price)||(s==null?void 0:s.price))}),C&&e.jsxs("div",{className:"flex items-center justify-start space-x-2 mt-2",children:[e.jsx("span",{className:"text-base customtext-neutral-light line-through",children:f(s.price)}),e.jsxs("span",{className:"bg-red-100 customtext-secondary px-2 py-1 rounded-full text-xs font-bold",children:["Ahorras ",f(parseFloat(s.price)-parseFloat(s.final_price))]})]})]})}),e.jsxs("div",{className:"space-y-4 lg:space-y-6 pb-20 lg:pb-0 overflow-x-hidden",children:[e.jsxs("div",{className:"flex flex-row  items-center justify-between gap-3",children:[(s==null?void 0:s.category)&&e.jsx("span",{className:"bg-accent bg-opacity-10 customtext-primary font-bold px-3 py-1 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm",children:s.category.name}),(s==null?void 0:s.brand)&&e.jsx("img",{src:s.brand.image?`/api/brands/media/${s.brand.image}`:"/assets/img/noimage/no_img.jpg",alt:s.brand.name||"Marca",className:"max-h-12 sm:max-h-16 lg:max-h-20 max-w-24 lg:max-w-40 object-contain",onError:t=>{t.target.src="/assets/img/noimage/no_img.jpg"}})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-title font-bold customtext-neutral-dark mb-3",children:s==null?void 0:s.name}),e.jsx("div",{className:"flex items-center space-x-4 mb-4",children:(s==null?void 0:s.rating)&&e.jsxs("div",{className:"flex items-center space-x-1",children:[Te(s.rating),e.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",parseFloat(s.rating).toFixed(1),")"]})]})})]}),e.jsx("div",{className:" ",children:e.jsx("div",{ref:R,className:"prose max-w-none customtext-neutral-light transition-all duration-300 ",dangerouslySetInnerHTML:{__html:(s==null?void 0:s.description)||"<p>Sin descripción disponible.</p>"}})}),(s==null?void 0:s.specifications)&&Array.isArray(s.specifications)&&s.specifications.length>0&&e.jsxs("div",{className:"",children:[e.jsx("div",{ref:I,className:`space-y-3 transition-all duration-300 ${y?"":"max-h-40 overflow-hidden"}`,children:s.specifications.map((t,a)=>t.type==="general"&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(Ge,{className:"customtext-secondary w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"font-bold customtext-neutral-dark",children:[t.title||"Especificación",":"]}),e.jsx("span",{className:"customtext-neutral-light",children:t.description||t.value||"No especificado"})]},a))}),we&&e.jsxs("button",{onClick:()=>ge(!y),className:"mt-4 customtext-secondary hover:customtext-neutral-dark font-medium transition-colors flex items-center gap-2 text-sm",children:[y?"Ver menos":"Ver más características",e.jsx(Je,{className:`w-4 h-4 transform transition-transform ${y?"rotate-90":""}`})]})]}),(s==null?void 0:s.pdf)&&Array.isArray(s.pdf)&&s.pdf.length>0&&e.jsxs("div",{className:"lg:hidden bg-white rounded-2xl shadow-sm overflow-hidden mt-6 max-w-full",children:[e.jsx("div",{className:"border-b",children:e.jsxs("button",{onClick:()=>H(!p),className:"w-full p-4 flex justify-between items-center",children:[e.jsxs("span",{className:"font-medium",children:["Fichas Técnicas (",s.pdf.length,")"]}),e.jsx(de,{className:`transform transition-transform ${p?"rotate-180":""}`})]})}),p&&e.jsx("div",{className:"p-4 space-y-2 max-w-full",children:s.pdf.map((t,a)=>e.jsxs("a",{href:`/storage/images/item/${t.url||t}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 w-full border border-gray-200 rounded-xl hover:border-primary hover:shadow-md transition-all group max-w-full",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-200 transition-colors",children:e.jsx(L,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate break-words",children:t.name||(typeof t=="string"?t.split("/").pop().replace(".pdf",""):"Documento")}),e.jsx("p",{className:"text-xs cusomtext-neutral-light",children:"Documento PDF"})]}),e.jsx(xe,{className:"w-4 h-4 flex-shrink-0 text-gray-400 group-hover:text-primary transition-colors"})]},a))})]}),e.jsxs("div",{className:"hidden lg:block bg-white rounded-lg p-6 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold font-title customtext-neutral-dark",children:f((s==null?void 0:s.final_price)||(s==null?void 0:s.price))}),C&&e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-lg customtext-neutral-light line-through",children:f(s.price)}),e.jsxs("span",{className:"bg-red-100 customtext-secondary px-2 py-1 rounded-full text-sm font-bold",children:["Ahorras ",f(parseFloat(s.price)-parseFloat(s.final_price))]})]})]}),e.jsx("div",{className:"space-y-4 mt-4",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border border-gray-200 p-1",children:[e.jsx("button",{onClick:()=>w(Math.max(1,c-1)),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-xl",disabled:c<=1,children:"−"}),e.jsx("div",{className:"w-16 h-10 flex items-center justify-center",children:e.jsx("span",{className:"customtext-neutral-dark font-bold text-lg",children:c})}),e.jsx("button",{onClick:()=>w(Math.min(10,c+1)),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-xl",disabled:c>=10,children:"+"})]})})})]}),e.jsxs("div",{className:"space-y-3 mt-6",children:[(i==null?void 0:i.buyButton)&&e.jsxs("button",{onClick:()=>J(s),className:`w-full py-4 px-6 rounded-xl font-bold flex items-center justify-center space-x-2 hover:scale-105 transition-all shadow-lg hover:shadow-xl transform duration-500 ${x?"bg-accent text-white":"bg-primary text-white"}`,children:[e.jsx(me,{className:"w-5 h-5"}),e.jsx("span",{children:x?`En carrito (${K})`:"Comprar ahora"})]}),e.jsxs("button",{ref:Q.setReference,...Pe(),onClick:Le,className:"w-full bg-secondary text-white py-4 px-6 rounded-xl font-bold flex items-center justify-center space-x-2 hover:bg-accent hover:customtext-primary transition-all shadow-lg hover:shadow-xl transform duration-500",children:[e.jsx(he,{className:"w-5 h-5"}),e.jsx("span",{children:"Solicitar Cotización"})]}),h&&u==="quote"&&n&&n.length>1&&e.jsx(le,{context:v,modal:!1,children:e.jsxs("div",{ref:Q.setFloating,style:Ne,...De(),className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100 z-[1000]",children:[e.jsxs("div",{className:"bg-primary p-4 text-white",children:[e.jsx("h3",{className:"font-bold text-base",children:"Elige un asesor"}),e.jsx("p",{className:"text-xs text-white mt-1",children:"¿Con quién quieres cotizar?"})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",style:{minWidth:"280px",maxWidth:"320px"},children:n.map((t,a)=>{var r;return e.jsxs("button",{onClick:()=>k(t),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 text-left",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-primary",children:t.photo?e.jsx("img",{src:`/assets/resources/${t.photo}`,alt:t.name,className:"w-full h-full object-cover",onError:l=>{l.target.src="/assets/img/placeholder-user.png"}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-lg font-bold",children:(r=t.name)==null?void 0:r.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs cusomtext-neutral-light truncate",children:t.position||"Asesor"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]},a)})})]})})]})]})]})]}),D&&D.length>0&&e.jsx(Ye,{items:D,data:{title:"Productos relacionados",description:"Descubre otros productos cuidadosamente seleccionados que complementan perfectamente tu compra. Nuestra selección incluye productos de alta calidad de las mejores marcas veterinarias para el cuidado integral de tu mascota.",link_catalog:"/catalogo",class_content:"",class_header:"",class_button:"bg-secondary text-white hover:bg-accent hover:customtext-primary"},setCart:M,cart:m})]}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-40 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border border-gray-200 p-1",children:[e.jsx("button",{onClick:()=>w(Math.max(1,c-1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:c<=1,children:"−"}),e.jsx("div",{className:"w-12 h-8 flex items-center justify-center",children:e.jsx("span",{className:"customtext-neutral-dark font-bold text-sm",children:c})}),e.jsx("button",{onClick:()=>w(Math.min(10,c+1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:c>=10,children:"+"})]}),(i==null?void 0:i.buyButton)&&e.jsxs("button",{onClick:()=>J(s),className:`flex-1 py-3 px-4 rounded-xl font-bold flex items-center justify-center space-x-2 transition-all shadow-lg active:scale-95 ${x?"bg-secondary text-white":"bg-primary customtext-neutral-dark hover:bg-accent"}`,children:[e.jsx(me,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:x?`En carrito (${K})`:"Comprar"})]}),e.jsxs("button",{ref:V.setReference,...Ae(),onClick:Be,className:`${i!=null&&i.buyButton?"w-auto":"flex-1"} bg-secondary text-white py-3 px-4 rounded-xl font-bold flex items-center justify-center space-x-2 hover:bg-accent hover:customtext-primary transition-all shadow-lg active:scale-95`,children:[e.jsx(he,{className:"w-4 h-4"}),!(i!=null&&i.buyButton)&&e.jsx("span",{className:"text-sm",children:"Solicitar Cotización"})]}),h&&u==="quote-mobile"&&n&&n.length>1&&e.jsx(le,{context:N,modal:!1,children:e.jsxs("div",{ref:V.setFloating,style:ke,...Re(),className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100 z-[1000]",children:[e.jsxs("div",{className:"bg-primary p-4 text-white",children:[e.jsx("h3",{className:"font-bold text-base",children:"Elige un asesor"}),e.jsx("p",{className:"text-xs text-white mt-1",children:"¿Con quién quieres cotizar?"})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",style:{minWidth:"280px",maxWidth:"320px"},children:n.map((t,a)=>{var r;return e.jsxs("button",{onClick:()=>k(t),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 text-left",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-primary",children:t.photo?e.jsx("img",{src:`/assets/resources/${t.photo}`,alt:t.name,className:"w-full h-full object-cover",onError:l=>{l.target.src="/assets/img/placeholder-user.png"}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-lg font-bold",children:(r=t.name)==null?void 0:r.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs cusomtext-neutral-light truncate",children:t.position||"Asesor"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]},a)})})]})})]})}),e.jsx(Ke,{children:ve&&e.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>X(!1),children:e.jsxs(ue.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},className:"relative max-w-4xl max-h-full",onClick:t=>t.stopPropagation(),children:[e.jsx("button",{onClick:()=>X(!1),className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition-all z-10",children:e.jsx(es,{className:"w-6 h-6"})}),e.jsx("img",{src:g.url?`/storage/images/item/${g.url}`:"/api/cover/thumbnail/null",alt:s==null?void 0:s.name,className:"max-w-full max-h-full object-contain rounded-lg",onError:t=>{t.target.src="/api/cover/thumbnail/null"}})]})})})]})};export{it as default};

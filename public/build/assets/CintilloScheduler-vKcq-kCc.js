class t{static shouldShow(t){if("string"==typeof t)return""!==t.trim();if(!t||!1===t.enabled)return!1;if(!t.text||""===t.text.trim())return!1;if(!t.schedule)return!0;const e=new Date,r=this.getCurrentDayKey(e),n=this.getCurrentTimeString(e),i=t.schedule[r];return!(!i||!i.enabled)&&this.isTimeInRange(n,i.start,i.end)}static getCurrentDayKey(t=new Date){return["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][t.getDay()]}static getCurrentTimeString(t=new Date){return t.toTimeString().slice(0,5)}static isTimeInRange(t,e,r){if(!e||!r)return!0;const n=this.timeToMinutes(t),i=this.timeToMinutes(e),s=this.timeToMinutes(r);return s<i?n>=i||n<=s:n>=i&&n<=s}static timeToMinutes(t){const[e,r]=t.split(":").map(Number);return 60*e+r}static filterActiveCintillos(t){return Array.isArray(t)?t.filter(t=>this.shouldShow(t)):[]}static getText(t){return"string"==typeof t?t:t?.text||""}static getDebugInfo(t){const e=new Date,r=this.getCurrentDayKey(e),n=this.getCurrentTimeString(e);if("string"==typeof t)return{type:"legacy",shouldShow:""!==t.trim(),text:t,currentDay:r,currentTime:n};const i=t.schedule?.[r];return{type:"scheduled",enabled:t.enabled,hasText:!(!t.text||!t.text.trim()),currentDay:r,currentTime:n,dayEnabled:i?.enabled||!1,daySchedule:i||null,timeInRange:!i||this.isTimeInRange(n,i.start,i.end),shouldShow:this.shouldShow(t)}}static getNextSchedule(t){if("string"==typeof t||!t.schedule)return null;const e=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],r=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"];for(let n=0;n<7;n++){const i=e[n],s=t.schedule[i];if(s&&s.enabled)return`${r[n]}: ${s.start} - ${s.end}`}return"Sin programación activa"}}export{t as C};

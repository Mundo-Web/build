import{r as e,j as t,X as r,E as s,J as a,u as n,H as o,v as i,S as l,y as c,w as d,z as u}from"./vendor-react-C1oWoR6m.js";import{G as m}from"./Footer-Cr_V_wDJ.js";import{C as h}from"./CartModal-vUQV03sk.js";import{L as x}from"./Logout-CvUqt5iR.js";import"./MobileMenu-Ce2WsJuT.js";import{P as p}from"./ProfileImage-DgmIlMTR.js";import{N as g,C as f}from"./Number2Currency-BX4epFEo.js";import j from"./MenuSimple-DTfVANjR.js";import{A as b,m as v}from"./vendor-motion-ClwJ7emS.js";import"./vendor-swiper-Cr_RrIb_.js";import"./CartItemRow-6_7fk-Ly.js";import"./CartKuchara-BuGNrbqJ.js";import"./OpenPayCardModal-DoDTV5Bn.js";import"./BasicRest-DnRFj80Z.js";import"./BooleanLimit-q2Ad9fGY.js";import"./General-ClVW7qxN.js";function y({search:n,setSearch:o,pages:i,items:l,onClose:c}){const[d,u]=e.useState("main"),[m,h]=e.useState(null),[x,p]=e.useState(null),[g,f]=e.useState([]),[b,v]=e.useState("right");e.useRef(null),e.useRef(null);const y=(e,t="right",r=null)=>{v(t),r&&h(r),setTimeout(()=>{u(e)},50)};return e.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),e.useEffect(()=>{const e=e=>{"Escape"===e.key&&(n.trim()?o(""):c())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n,c,o]),t.jsxs("div",{className:"fixed inset-0 z-[99999] flex flex-col touch-none overscroll-none",children:[t.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:c}),t.jsx("div",{className:"relative w-full md:w-[400px] md:mx-auto flex flex-col h-[100dvh]",children:t.jsxs("div",{className:"mt-auto bg-white shadow-2xl flex flex-col max-h-[85vh] rounded-t-3xl overflow-hidden border-t border-gray-200",children:[t.jsxs("div",{className:"p-5 bg-gradient-to-r from-white to-gray-50 flex justify-between items-center border-b border-gray-100",children:[t.jsx("h1",{className:"text-xl font-bold cusomtext-neutral-dark",children:"Menú principal"}),t.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100 active:bg-gray-200 transition-all duration-200",onClick:c,"aria-label":"Cerrar menú",children:t.jsx(r,{className:"h-6 w-6 cusomtext-neutral-dark"})})]}),t.jsxs("div",{className:"overflow-y-auto flex-1 overscroll-contain",children:["main"!==d&&t.jsx("div",{className:"px-5 pb-3",children:t.jsxs("button",{onClick:()=>{if(g.length>0){const e=g[g.length-1];y(e.level,"left"),f(e=>e.slice(0,-1))}else"subcategories"===d?y("categories","left"):"categories"===d&&y("main","left")},className:"flex items-center cusomtext-neutral-dark font-semibold hover:text-primary/80 active:text-primary/60 transition-all duration-200",children:[t.jsx(s,{className:"h-5 w-5 mr-2"}),t.jsx("span",{children:"categories"===d?"Categorías":m})]})}),t.jsx("div",{className:"px-5 pb-20",children:(()=>{if("main"===d)return t.jsxs("div",{className:"animate-fade-in animate-duration-300",children:[t.jsxs("button",{className:"px-4 py-3 mb-4 w-full flex justify-between items-center  hover:from-gray-100 hover:to-gray-200 active:from-gray-200 active:to-gray-300 transition-all duration-200 ",onClick:()=>(f([...g,{level:d,name:"Menú principal"}]),void y("categories","right")),children:[t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-semibold cusomtext-neutral-dark",children:"Categorías"})}),t.jsx(a,{className:"h-5 w-5 cusomtext-neutral-dark"})]}),t.jsx("div",{className:"space-y-3",children:i.map((e,r)=>e.menuable&&t.jsx("a",{href:e.path,className:"flex items-center px-4 py-3 bg-white  active:bg-gray-100 transition-all duration-200 ",children:t.jsx("span",{className:"font-medium cusomtext-neutral-dark",children:e.name})},r))})]});if("categories"===d){const e=[...l].sort((e,t)=>e.name.localeCompare(t.name,"es",{sensitivity:"base"}));return t.jsx("div",{className:"right"===b?"animate-slide-in-right animate-duration-300":"animate-slide-in-left animate-duration-300",children:t.jsx("div",{className:"space-y-3",children:e.map(e=>t.jsxs("button",{className:"w-full px-4 py-3 bg-white hover:bg-gray-50 active:bg-gray-100 transition-all duration-200 rounded-2xl  flex justify-between items-center",onClick:()=>(e=>{p(e.name),f([...g,{level:d,name:"main"===d?"Menú principal":"Categorías"}]),y("subcategories","right",e.name)})(e),children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"w-8 h-8 bg-secondary rounded-full flex items-center justify-center mr-3",children:e.image&&t.jsx("img",{src:`/storage/images/category/${e.image}`,alt:e.name,className:"w-4 h-4 ",onError:e=>e.target.style.display="none"})}),t.jsx("span",{className:"font-medium cusomtext-neutral-dark",children:e.name})]}),t.jsx(a,{className:"h-5 w-5 cusomtext-neutral-dark"})]},e.id))})})}if("subcategories"===d&&m){const e=l.find(e=>e.name===m),r=e.subcategories?[...e.subcategories].sort((e,t)=>e.name.localeCompare(t.name,"es",{sensitivity:"base"})):[];return t.jsx("div",{className:"right"===b?"animate-slide-in-right animate-duration-300":"animate-slide-in-left animate-duration-300",children:t.jsx("div",{className:"space-y-3",children:r.map((e,r)=>t.jsx("a",{href:`/catalogo?subcategory=${e.slug}`,className:"flex items-center w-full px-4 py-3 bg-white hover:bg-gray-50 active:bg-gray-100 transition-all",children:t.jsx("span",{className:"font-medium cusomtext-neutral-dark",children:e.name})},r))})})}})()})]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-white border-t border-gray-100 p-4",children:t.jsx(j,{visible:!0})})]})})]})}const w=({items:s,data:a,cart:j,setCart:w,isUser:k,pages:N,generals:C=[]})=>{const M=C.find(e=>"phone_whatsapp"===e.correlative),S=C.find(e=>"message_whatsapp"===e.correlative),L=M?.description??null,E=S?.description??null,[R,T]=e.useState(!1),[B,z]=e.useState(!1),[P,D]=e.useState(!1),[H,$]=e.useState(""),[_,A]=e.useState(!1),[F,I]=e.useState(!1),[q,U]=e.useState([]),[O,K]=e.useState(!1),[W,Z]=e.useState(!1),[V,X]=e.useState(-1),J=e.useRef([]),[G,Y]=e.useState(!1),[Q,ee]=e.useState({slug:"",name:"Categorías"}),te=e.useRef(null),re=e.useRef(null),se=e.useRef(null),ae=e.useRef(null),ne=e.useRef(null),oe=e.useRef(null),ie=e.useRef(null),le=e.useRef([]),ce=j.reduce((e,t)=>Number(e)+Number(t.quantity),0),de=j.reduce((e,t)=>e+t.final_price*t.quantity,0),[ue,me]=e.useState(!1),he=async e=>{if(!e.trim()||e.length<2)return U([]),void K(!1);Z(!0);try{let t=[["name","contains",e],"or",["summary","contains",e],"or",["description","contains",e]],r=[];if(Q.slug){const e=s?.find(e=>e.slug===Q.slug);if(e){const s=[...t,"and",["category_id","=",e.id]],a=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:s,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(a.ok){const e=await a.json();200===e.status&&Array.isArray(e.data)&&(r=e.data)}}if(0===r.length){const e=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:t,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(e.ok){const t=await e.json();200===t.status&&Array.isArray(t.data)&&(r=t.data)}}}else{const e=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:t,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(e.ok){const t=await e.json();200===t.status&&Array.isArray(t.data)&&(r=t.data)}}U(r),K(r.length>0)}catch(t){U([]),K(!1)}finally{Z(!1)}},xe=e=>{$(e),X(-1),ie.current&&clearTimeout(ie.current),ie.current=setTimeout(()=>{he(e)},300)},pe=()=>{K(!1),U([]),X(-1)},ge=e=>{if(!e)return;K(!1),D(!1);const t=e.slug?`/product/${e.slug}`:`/catalogo?search=${encodeURIComponent(e.name)}`;window.location.href=t};e.useEffect(()=>{const e=e=>{if(te.current&&!te.current.contains(e.target)&&A(!1),re.current&&!re.current.contains(e.target)&&Y(!1),se.current&&!se.current.contains(e.target)){e.target.closest("[data-suggestion-button]")||pe()}};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[H]),e.useEffect(()=>{const e=()=>{window.scrollY>0?I(!0):I(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e.useEffect(()=>{const e=e=>{"Escape"===e.key&&(O?pe():P&&(D(!1),$("")))};return(P||O)&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[P,O]),e.useEffect(()=>()=>{ie.current&&clearTimeout(ie.current)},[]),e.useEffect(()=>{V>=0&&le.current[V]&&oe.current&&le.current[V].scrollIntoView({block:"nearest",behavior:"smooth"})},[V]),e.useEffect(()=>{H.trim().length>=2&&O&&(ie.current&&clearTimeout(ie.current),ie.current=setTimeout(()=>{he(H)},100))},[Q.slug]);const fe={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},je=[{icon:t.jsx(c,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:t.jsx(d,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:t.jsx(u,{size:16}),label:"Configuración",href:"/account"},{icon:t.jsx(i,{size:16}),label:"Cerrar Sesión",onClick:x}],be=e=>{e.preventDefault(),pe();const t=new FormData(e.target),r=t.get("search")?.trim()||H.trim(),s=Q.slug;if(r||s){const e=new URLSearchParams;r&&e.append("search",r),s&&e.append("category",s),window.location.href=`/catalogo?${e.toString()}`}return!1},ve=e=>{if(e.preventDefault(),pe(),H.trim()){const e=H.trim();D(!1),window.location.href=`/catalogo?search=${encodeURIComponent(e)}`}return!1};function ye(e){const t=oe.current,r=J.current[e];if(!t||!r)return;const s=t.getBoundingClientRect(),a=r.getBoundingClientRect();a.top<s.top?t.scrollTop-=s.top-a.top:a.bottom>s.bottom&&(t.scrollTop+=a.bottom-s.bottom)}const we=e=>{if(O&&0!==q.length)switch(e.key){case"ArrowDown":e.preventDefault(),X(e=>{const t=e<q.length-1?e+1:e;return setTimeout(()=>ye(t),0),t});break;case"ArrowUp":e.preventDefault(),X(e=>{const t=e>0?e-1:0;return setTimeout(()=>ye(t),0),t});break;case"Enter":e.preventDefault(),V>=0&&V<q.length?ge(q[V]):H.trim()&&be(e);break;case"Escape":K(!1)}},ke=({suggestions:e,isLoading:r,onSelect:a,selectedIndex:n})=>{if(!O)return null;const o=Q.slug?s?.find(e=>e.slug===Q.slug)?.id:null,i=e.some(e=>e.category_id===o),l=e.some(e=>e.category_id!==o);return t.jsx(v.div,{ref:oe,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-[60] max-h-80 overflow-y-auto mt-1",children:r?t.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Buscando..."]})}):e.length>0?t.jsxs("div",{children:[Q.slug&&l&&!i&&t.jsx("div",{className:"px-4 py-3 bg-primary border-b customtext-neutral-light",children:t.jsxs("p",{className:"text-xs customtext-neutral-dark",children:[t.jsxs("span",{className:"font-medium",children:['No se encontraron productos en "',Q.name,'"']}),t.jsx("br",{}),"Mostrando resultados de otras categorías"]})}),t.jsx("ul",{className:"py-2",children:e.map((e,r)=>{const s=o&&e.category_id===o;return t.jsx("li",{ref:e=>J.current[r]=e,children:t.jsxs("button",{"data-suggestion-button":!0,onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),setTimeout(()=>a(e),0)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 ${r===n?"bg-primary/10 border-l-4 border-primary":""} ${s?"bg-green-50":""}`,type:"button",children:[t.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 rounded-lg overflow-hidden",children:e.image?t.jsx("img",{src:`/api/items/media/${e.image}`,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}}):t.jsx("img",{src:e?.image?`/api/items/media/${e.image}`:"/assets/img/noimage/no_img.jpg",alt:e?.name||"Producto",className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-500",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium customtext-neutral-dark truncate flex items-center gap-2",children:e.name}),e.category&&t.jsx("div",{className:"text-sm customtext-neutral-dark truncate",children:e.category.name}),e.final_price&&t.jsxs("div",{className:"text-sm font-semibold customtext-primary",children:[f()," ",parseFloat(e.final_price).toFixed(2)]})]})]})},e.id)})})]}):t.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:Q.slug?t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium",children:['No se encontraron productos en "',Q.name,'"']}),t.jsx("p",{className:"text-sm customtext-neutral-dark mt-1",children:'Intenta buscar en "Todas las categorías"'})]}):"No se encontraron productos"})})},Ne=()=>{const e=s&&s.length>0?[...s].sort((e,t)=>e.name.localeCompare(t.name)):[];return t.jsxs("div",{ref:re,className:"absolute right-0 flex-shrink-0",children:[t.jsxs("button",{type:"button",onClick:()=>Y(!G),className:"flex items-center justify-between min-w-[150px] max-w-[150px] text-sm py-3.5 px-4 font-semibold focus:ring-0 customtext-neutral-dark bg-secondary focus:outline-none border-0  text-white rounded-full hover:bg-primary hover:customtext-neutral-dark transition-colors duration-500","aria-label":"Seleccionar categoría","aria-expanded":G,children:[t.jsx("span",{className:"truncate",children:Q.name}),t.jsx("svg",{className:"w-4 h-4 ml-2 transition-transform duration-200 "+(G?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t.jsx(b,{children:G&&t.jsx(v.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute top-full right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-[70] min-w-[220px] max-h-80 overflow-y-auto",children:t.jsxs("div",{className:"py-2",children:[t.jsxs("button",{type:"button",onClick:()=>{ee({slug:"",name:"Categorías"}),Y(!1),H.trim().length>=2&&setTimeout(()=>{he(H)},150)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 "+(""===Q.slug?"bg-primary/10 text-primary font-medium":"customtext-neutral-dark"),children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),t.jsx("span",{className:"truncate",children:"Categorías"}),""===Q.slug&&t.jsx("div",{className:"ml-auto",children:t.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),e.map(e=>t.jsxs("button",{type:"button",onClick:()=>{ee({slug:e.slug,name:e.name}),Y(!1),H.trim().length>=2&&setTimeout(()=>{he(H)},150)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 "+(Q.slug===e.slug?"bg-primary/10 text-primary font-medium":"customtext-neutral-dark"),children:[t.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-secondary p-2 rounded-full overflow-hidden",children:e.image?t.jsx("img",{src:`/api/categories/media/${e.image}`,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none",e.target.parentNode.innerHTML='\n                                                            <div class="w-full h-full flex items-center justify-center customtext-neutral-dark">\n                                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>\n                                                                </svg>\n                                                            </div>\n                                                        '}}):t.jsx("div",{className:"w-full h-full flex items-center justify-center customtext-neutral-dark",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})})}),t.jsx("span",{className:"truncate",children:e.name}),Q.slug===e.slug&&t.jsx("div",{className:"ml-auto",children:t.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},e.id))]})})})]})};let Ce=!1;if(k&&Array.isArray(k.roles)){const e=k.roles.map(e=>e.name?.toLowerCase());Ce=!e.includes("admin")&&!e.includes("root")}return t.jsxs("header",{id:a?.element_id||null,className:"w-full top-0 left-0 z-50 transition-all duration-300 "+(F?"fixed bg-primary shadow-lg":"relative bg-primary"),children:[t.jsxs("div",{className:"px-primary  bg-primary 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51]",children:t.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:m.APP_NAME,className:`min-h-10 max-h-10 lg:max-h-max lg:h-14 object-contain object-center ${a?.class_logo||""}`,onError:e=>{e.target.onerror=null,e.target.src="/assets/img/logo-bk.svg"}})}),a?.showLoginCart&&t.jsxs("div",{className:"flex gap-3 justify-end lg:hidden",children:[t.jsx("div",{className:"flex items-center",children:t.jsx("button",{onClick:()=>me(!ue),children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M17 17L21 21",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19C15.4183 19 19 15.4183 19 11Z",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})})}),t.jsx("div",{className:(P?"hidden":"flex")+" items-center gap-4",children:k?t.jsxs("div",{ref:te,className:"relative",children:[t.jsx("button",{"aria-label":"user",className:"flex items-center customtext-neutral-dark gap-2 hover:customtext-primary transition-all duration-300 relative group",onClick:()=>A(!_),children:t.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:k.uuid?t.jsxs("div",{className:"relative",children:[t.jsx(p,{uuid:k.uuid,name:k.name,lastname:k.lastname,classCircleUser:"customtext-neutral-dark stroke-[1.5] border-neutral-dark ",className:"w-6 h-6 rounded-full object-cover   border-2 border-secondary ring-secondary transition-all duration-300"}),t.jsx("div",{className:"relative",style:{display:"none"},children:t.jsx(n,{className:"customtext-neutral-dark  border-neutral-dark rounded-full   ring-neutral-dark transition-all duration-300",width:"1.5rem"})}),t.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-primary border-2 border-white rounded-full animate-pulse",children:[t.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),t.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):t.jsxs("div",{className:"relative",children:[t.jsx(n,{className:"customtext-neutral-dark border-2 border-neutral-dark rounded-full  ring-neutral-dark  transition-all duration-300",width:"1.5rem"}),t.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-primary border-2 border-white rounded-full animate-pulse",children:[t.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),t.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})})}),t.jsx(b,{children:_&&t.jsx(v.div,{initial:"hidden",animate:"visible",exit:"exit",variants:fe,className:"absolute z-50 top-full -left-20 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:t.jsx("div",{className:"p-4",children:t.jsx("ul",{className:"space-y-3",children:Ce?je.map((e,r)=>t.jsx("li",{children:e.onClick?t.jsxs("button",{"aria-label":"menu-items",onClick:t=>{t.preventDefault(),t.stopPropagation(),A(!1),setTimeout(()=>{e.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.icon,t.jsx("span",{children:e.label})]}):t.jsxs("a",{href:e.href,onClick:e=>{e.stopPropagation(),A(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.icon,t.jsx("span",{children:e.label})]})},r)):t.jsxs(t.Fragment,{children:[t.jsx("li",{children:t.jsxs("a",{href:"/admin/home",onClick:e=>{e.stopPropagation(),A(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.jsx(o,{size:16}),t.jsx("span",{children:"Dashboard"})]})}),t.jsx("li",{children:t.jsxs("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),A(!1),setTimeout(()=>{x()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.jsx(i,{size:16}),t.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}):t.jsx("a",{href:"/iniciar-sesion",className:"flex items-center customtext-neutral-dark hover:customtext-primary transition-all duration-300",children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M17 8.5C17 5.73858 14.7614 3.5 12 3.5C9.23858 3.5 7 5.73858 7 8.5C7 11.2614 9.23858 13.5 12 13.5C14.7614 13.5 17 11.2614 17 8.5Z",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M19 20.5C19 16.634 15.866 13.5 12 13.5C8.13401 13.5 5 16.634 5 20.5",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})})}),t.jsxs("button",{"aria-label":"cart",onClick:()=>T(!0),className:"flex min-w-max items-center gap-2 font-medium text-sm relative hover:customtext-secondary transition-colors duration-300",children:[t.jsxs("div",{className:" text-sm leading-4 text-end inline",children:[t.jsx("span",{className:"block",children:"Carrito"}),t.jsx("strong",{children:`S/ ${g(de)}`})]}),t.jsx("div",{children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M8 16L16.7201 15.2733C19.4486 15.046 20.0611 14.45 20.3635 11.7289L21 6",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),t.jsx("path",{d:"M6 6H22",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),t.jsx("path",{d:"M6 22C7.10457 22 8 21.1046 8 20C8 18.8954 7.10457 18 6 18C4.89543 18 4 18.8954 4 20C4 21.1046 4.89543 22 6 22Z",stroke:"currentColor","stroke-width":"1.5"}),t.jsx("path",{d:"M17 22C18.1046 22 19 21.1046 19 20C19 18.8954 18.1046 18 17 18C15.8954 18 15 18.8954 15 20C15 21.1046 15.8954 22 17 22Z",stroke:"currentColor","stroke-width":"1.5"}),t.jsx("path",{d:"M8 20H15",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),t.jsx("path",{d:"M2 2H2.966C3.91068 2 4.73414 2.62459 4.96326 3.51493L7.93852 15.0765C8.08887 15.6608 7.9602 16.2797 7.58824 16.7616L6.63213 18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})]})}),t.jsx("span",{className:"absolute bg-secondary -right-2 -top-3 inline-flex items-center justify-center w-5 h-5 text-xs  text-white rounded-md",children:ce})]}),t.jsx("button",{"aria-label":"Menú",onClick:()=>z(!B),className:"flex md:hidden items-center justify-center bg-primary rounded-lg w-auto h-auto  customtext-neutral-dark fill-neutral-dark transition-all duration-300 ",children:B?t.jsx(r,{}):t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M4 5H20",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M4 12H20",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M4 19H20",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})})]}),t.jsxs("div",{className:"hidden md:block relative w-full max-w-sm ",ref:se,children:[t.jsxs("form",{onSubmit:be,role:"search",className:"flex items-center gap-0 bg-white rounded-full border ",children:[t.jsx("button",{type:"submit",className:"pl-3  customtext-neutral-dark rounded-full  hover:scale-105 transition-all duration-300 flex-shrink-0","aria-label":"Buscar",children:t.jsx(l,{size:20})}),t.jsx("input",{ref:ne,type:"search",name:"search",placeholder:"Buscar",value:H,onChange:e=>xe(e.target.value),onKeyDown:we,onFocus:()=>{H.trim().length>=2&&he(H)},className:"flex-1 py-3 pl-2 pr-4 font-medium text-sm focus:ring-0 customtext-neutral-dark placeholder:text-gray-500 focus:outline-none bg-transparent border-0",enterKeyHint:"search",inputMode:"search",autoComplete:"on",role:"searchbox","aria-label":"Estoy buscando..."}),t.jsx(Ne,{})]}),t.jsx(b,{children:t.jsx(ke,{suggestions:q,isLoading:W,onSelect:ge})})]}),a?.showLoginCart?t.jsxs("div",{className:"hidden md:flex items-center  gap-8 relative text-sm",children:[t.jsx("p",{className:"cursor-pointer leading-4 text-sm customtext-neutral-dark whitespace-pre-line hover:customtext-secondary font-medium  transition-all duration-500 ",children:(()=>{const e=C.find(e=>"opening_hours"===e.correlative)?.description||"",[r,...s]=e.split("\n");return t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:r}),s.length>0?t.jsxs(t.Fragment,{children:[t.jsx("br",{}),s.join("\n")]}):null]})})()}),t.jsxs("p",{className:"cursor-pointer leading-4  text-end text-sm customtext-neutral-dark font-medium whitespace-pre-line hover:customtext-secondary transition-all duration-500",children:[t.jsx("span",{children:"Soporte 24/7"}),t.jsx("br",{}),t.jsxs("strong",{children:["  ",C.find(e=>"support_phone"===e.correlative)?.description||""]})]}),t.jsxs("div",{ref:te,children:[k?t.jsxs("button",{"aria-label":"user",className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-secondary pr-6 transition-all duration-300 relative group",onClick:()=>A(!_),children:[t.jsx("span",{className:"hidden md:inline",children:k.name}),t.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:k.uuid?t.jsxs("div",{className:"relative",children:[t.jsx(p,{uuid:k.uuid,name:k.name,lastname:k.lastname,classCircleUser:"customtext-neutral-dark stroke-[1.5] border-neutral-dark ",className:"w-8 h-8 rounded-full object-cover   border-2 border-secondary ring-secondary transition-all duration-300"}),t.jsxs("div",{className:"absolute -bottom-[-0.115rem] -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[t.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),t.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):t.jsxs("div",{className:"relative",children:[t.jsx(n,{className:"customtext-primary border-2 border-primary rounded-full  ring-secondary group-hover:ring-green-300 transition-all duration-300"}),t.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[t.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),t.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})})]}):t.jsxs("a",{href:"/iniciar-sesion",className:"flex customtext-neutral-dark font-medium leading-4 items-center gap-2 text-sm hover:customtext-secondary transition-colors duration-300",children:[t.jsxs("span",{className:"hidden md:inline",children:["Iniciar ",t.jsx("br",{})," ",t.jsx("strong",{children:"Sesión"})]}),t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M17 8.5C17 5.73858 14.7614 3.5 12 3.5C9.23858 3.5 7 5.73858 7 8.5C7 11.2614 9.23858 13.5 12 13.5C14.7614 13.5 17 11.2614 17 8.5Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M19 20.5C19 16.634 15.866 13.5 12 13.5C8.13401 13.5 5 16.634 5 20.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})]}),t.jsx(b,{children:_&&t.jsx(v.div,{initial:"hidden",animate:"visible",exit:"exit",variants:fe,className:"absolute z-50 top-full right-10 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:t.jsx("div",{className:"p-4",children:t.jsx("ul",{className:"space-y-4",children:Ce?je.map((e,r)=>t.jsx("li",{children:e.onClick?t.jsxs("button",{"aria-label":"menu-items",onClick:t=>{t.preventDefault(),t.stopPropagation(),A(!1),setTimeout(()=>{e.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-secondary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.icon,t.jsx("span",{children:e.label})]}):t.jsxs("a",{href:e.href,onClick:e=>{e.stopPropagation(),A(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-secondary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.icon,t.jsx("span",{children:e.label})]})},r)):t.jsxs(t.Fragment,{children:[t.jsx("li",{children:t.jsxs("a",{href:"/admin/home",onClick:e=>{e.stopPropagation(),A(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-secondary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.jsx(o,{size:16}),t.jsx("span",{children:"Dashboard"})]})}),t.jsx("li",{children:t.jsxs("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),A(!1),setTimeout(()=>{x()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-secondary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.jsx(i,{size:16}),t.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}),t.jsxs("button",{"aria-label":"cart",onClick:()=>T(!0),className:"flex items-center gap-2 font-medium text-sm relative hover:customtext-secondary transition-colors duration-300",children:[t.jsxs("div",{className:"hidden text-sm leading-4 text-end md:inline",children:[t.jsx("span",{className:"block",children:"Mi Carrito"}),t.jsx("strong",{children:`S/ ${g(de)}`})]}),t.jsx("div",{children:t.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M8 16L16.7201 15.2733C19.4486 15.046 20.0611 14.45 20.3635 11.7289L21 6",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),t.jsx("path",{d:"M6 6H22",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),t.jsx("path",{d:"M6 22C7.10457 22 8 21.1046 8 20C8 18.8954 7.10457 18 6 18C4.89543 18 4 18.8954 4 20C4 21.1046 4.89543 22 6 22Z",stroke:"currentColor","stroke-width":"1.5"}),t.jsx("path",{d:"M17 22C18.1046 22 19 21.1046 19 20C19 18.8954 18.1046 18 17 18C15.8954 18 15 18.8954 15 20C15 21.1046 15.8954 22 17 22Z",stroke:"currentColor","stroke-width":"1.5"}),t.jsx("path",{d:"M8 20H15",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),t.jsx("path",{d:"M2 2H2.966C3.91068 2 4.73414 2.62459 4.96326 3.51493L7.93852 15.0765C8.08887 15.6608 7.9602 16.2797 7.58824 16.7616L6.63213 18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})]})}),t.jsx("span",{className:"absolute bg-secondary -right-5 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs  text-white rounded-lg",children:ce})]})]}):t.jsxs(t.Fragment,{children:[t.jsx("p",{className:"cursor-pointer text-sm customtext-neutral-dark whitespace-pre-line hover:customtext-secondary font-normal  transition-all duration-500 ",children:(()=>{const e=C.find(e=>"opening_hours"===e.correlative)?.description||"",[r,...s]=e.split("\n");return t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:r}),s.length>0?t.jsxs(t.Fragment,{children:[t.jsx("br",{}),s.join("\n")]}):null]})})()}),t.jsxs("p",{className:"cursor-pointer text-sm customtext-neutral-dark font-normal whitespace-pre-line hover:customtext-secondary transition-all duration-500",children:[t.jsx("span",{children:"Soporte 24/7"}),t.jsx("br",{}),t.jsxs("strong",{children:["  ",C.find(e=>"support_phone"===e.correlative)?.description||""]})]}),t.jsx("a",{"aria-label":"primary-button",className:`${a.class?a.class:"bg-secondary"} hidden lg:block px-6 py-2.5 text-white font-medium rounded-3xl hover:brightness-125 transition-colors duration-300`,target:"_blank",rel:"noopener noreferrer",href:L&&E?`https://api.whatsapp.com/send?phone=${encodeURIComponent(L)}&text=${encodeURIComponent(E)}`:"#",children:"Haz tu pedido"}),t.jsx("div",{className:"md:hidden relative w-full max-w-xl mx-auto",children:P?t.jsxs("div",{className:"relative w-full",children:[t.jsxs("form",{onSubmit:ve,role:"search",children:[t.jsx("input",{ref:ae,type:"search",name:"search",placeholder:"Buscar productos",value:H,onChange:e=>xe(e.target.value),onKeyDown:we,onFocus:()=>{H.trim().length>=2&&he(H)},className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none",autoFocus:!0,enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos",onBlur:()=>{setTimeout(()=>{H.trim()||O||D(!1)},200)}}),t.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex gap-2",children:[t.jsx("button",{type:"button",onClick:()=>{$(""),pe(),D(!1)},className:"p-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-colors","aria-label":"Cerrar búsqueda",children:t.jsx(r,{size:16})}),t.jsx("button",{type:"submit",className:`p-2 ${a?.backgroundColor||"bg-primary"} text-white rounded-lg hover:bg-primary transition-colors`,"aria-label":"Buscar",children:t.jsx(l,{size:16})})]})]}),t.jsx(b,{children:t.jsx(ke,{suggestions:q,isLoading:W,onSelect:ge,selectedIndex:V})})]}):t.jsx("button",{"aria-label":"Buscar productos",onClick:()=>{D(!0),setTimeout(()=>{ae.current&&ae.current.focus()},100)},className:"flex items-center justify-end w-full px-0 py-3",children:t.jsx(l,{className:"customtext-primary",size:28})})})]})]}),ue&&!(()=>{try{const e=window.location.pathname||"";return["/cart","/checkout"].some(t=>e.includes(t))}catch(e){return!1}})()&&t.jsx("div",{className:"block md:hidden mt-6 space-y-4",children:t.jsxs("div",{className:"w-full relative",children:[t.jsxs("form",{onSubmit:ve,role:"search",className:"relative w-full",children:[t.jsx("input",{type:"search",name:"search",placeholder:"Buscar",value:H,onChange:e=>xe(e.target.value),onKeyDown:we,onFocus:()=>{H.trim().length>=2&&he(H)},className:"w-full pr-14 py-3 font-medium text-sm pl-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent focus:outline-none bg-gray-50",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),t.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-secondary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:t.jsx(l,{size:18})})]}),t.jsx(b,{children:t.jsx(ke,{suggestions:q,isLoading:W,onSelect:ge,selectedIndex:V})})]})})]}),t.jsx(b,{children:B&&t.jsx(v.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"lg:hidden bg-transparent text-textWhite shadow-lg w-full min-h-screen absolute z-10 top-20",children:t.jsx(y,{search:H,setSearch:$,pages:N,items:s,onClose:()=>z(!B)})})}),t.jsx(h,{data:a,cart:j,setCart:w,modalOpen:R,setModalOpen:T})]})};export{w as default};

import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as n}from"./index-BOnQTV8N.js";import{G as Ne}from"./Global-Bz6gVLc5.js";import{C as ke}from"./HeaderSearch-B5tniknh.js";import{L as X}from"./Logout-BpuTJ_83.js";import{M as Ce}from"./MobileMenu-egRBzfV_.js";import{P as de}from"./ProfileImage-BUTf_N98.js";import{C as Se}from"./Number2Currency-jIsa99f9.js";import{C as S}from"./circle-user-C5EdAREK.js";import{A as j}from"./index-BOogNdsm.js";import{m as P}from"./proxy-C3pwVgWq.js";import{H as pe}from"./house-DDB4Ooi5.js";import{D as G}from"./door-closed-DkeGYjpO.js";import{S as V}from"./shopping-cart-DLRnxGTD.js";import{X as he}from"./x-fof_H3Vv.js";import{S as R}from"./search-BQ59Robe.js";import{U as Re}from"./user-BZB1h7Cv.js";import{S as Me}from"./settings-jey665c1.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./PolicyModal-C80IvD61.js";import"./index-B6ujFmsw.js";import"./index-Chjiymov.js";import"./CartItemRow-BpIqZcEi.js";import"./tippy-react.esm-DmkRJDEW.js";import"./index-pSueRYGM.js";import"./CartKuchara-D9l7c7at.js";import"./bed-D_dyLoh5.js";import"./createLucideIcon-DfjclApS.js";import"./trash-2-DU7LB6-f.js";import"./calendar-BSC6xbA7.js";import"./moon-BU5XInRR.js";import"./users-w-WaEtvX.js";import"./package-DBFPPBi1.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuSimple-eF3Gua6U.js";import"./MobileMenu-pOsYkBXS.js";import"./CardProductKatya-ncpmQ0JU.js";import"./BasicRest-BML1C-ua.js";import"./BooleanLimit-D-OsQsek.js";import"./tag-Dgi-uTqk.js";import"./chevron-up-Mt3xll-e.js";import"./chevron-down-uIVDLcM-.js";import"./chevron-left-JcR9Fe4w.js";import"./chevron-right-Cug7tVUE.js";import"./General-apRuNwp7.js";import"./resolve-elements-WL2ErOKm.js";const Rr=({items:fe,data:t,cart:q,setCart:xe,isUser:a,pages:ge,generals:J=[]})=>{const T=J.find(r=>r.correlative==="phone_whatsapp"),B=J.find(r=>r.correlative==="message_whatsapp"),Y=(T==null?void 0:T.description)??null,Z=(B==null?void 0:B.description)??null,[be,F]=n.useState(!1),[M,Q]=n.useState(!1),[y,p]=n.useState(!1),[i,E]=n.useState(""),[$,c]=n.useState(!1),[je,U]=n.useState(!1),[h,v]=n.useState([]),[g,f]=n.useState(!1),[H,ee]=n.useState(!1),[u,L]=n.useState(-1),re=n.useRef([]),_=n.useRef(null),te=n.useRef(null),D=n.useRef(null),se=n.useRef(null),w=n.useRef(null),N=n.useRef(null),oe=n.useRef([]),ne=q.reduce((r,s)=>Number(r)+Number(s.quantity),0),ye=()=>{try{const r=window.location.pathname||"";return["/cart","/checkout"].some(o=>r.includes(o))}catch(r){return console.warn("Error checking path:",r),!1}},z=async r=>{if(!r.trim()||r.length<2){v([]),f(!1);return}ee(!0);try{const s=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:[["name","contains",r],"or",["summary","contains",r],"or",["description","contains",r],"or",["sku","contains",r]],requireTotalCount:!1,with:"category,brand"})});if(!s.ok)throw new Error("Error en la búsqueda");const o=await s.json();o.status===200&&Array.isArray(o.data)?(v(o.data),f(o.data.length>0)):(v([]),f(!1))}catch(s){console.error("Error fetching search suggestions:",s),v([]),f(!1)}finally{ee(!1)}},A=r=>{E(r),L(-1),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{z(r)},300)},k=()=>{f(!1),v([]),L(-1)},I=r=>{if(!r)return;f(!1),p(!1);const s=r.slug?`/product/${r.slug}`:`/catalogo?search=${encodeURIComponent(r.name)}`;window.location.href=s};n.useEffect(()=>{function r(s){var o,m;_.current&&!_.current.contains(s.target)&&c(!1),te.current&&!te.current.contains(s.target)&&(i.trim()||p(!1)),w.current&&!w.current.contains(s.target)&&!((o=se.current)!=null&&o.contains(s.target))&&!((m=D.current)!=null&&m.contains(s.target))&&k()}return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[i]),n.useEffect(()=>{const r=()=>{window.scrollY>0?U(!0):U(!1)};return window.addEventListener("scroll",r),()=>window.removeEventListener("scroll",r)},[]),n.useEffect(()=>{const r=s=>{s.key==="Escape"&&(g?k():y&&(p(!1),E("")))};return(y||g)&&document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[y,g]),n.useEffect(()=>()=>{N.current&&clearTimeout(N.current)},[]),n.useEffect(()=>{u>=0&&oe.current[u]&&w.current&&oe.current[u].scrollIntoView({block:"nearest",behavior:"smooth"})},[u]);const ie={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},ae=[{icon:e.jsx(Re,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:e.jsx(V,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:e.jsx(Me,{size:16}),label:"Configuración",href:"/account"},{icon:e.jsx(G,{size:16}),label:"Cerrar Sesión",onClick:X}],le=r=>{if(r.preventDefault(),k(),i.trim()){const s=i.trim();window.location.href=`/catalogo?search=${encodeURIComponent(s)}`}return!1},ce=r=>{if(r.preventDefault(),k(),i.trim()){const s=i.trim();p(!1),window.location.href=`/catalogo?search=${encodeURIComponent(s)}`}return!1};function ue(r){const s=w.current,o=re.current[r];if(!s||!o)return;const m=s.getBoundingClientRect(),b=o.getBoundingClientRect();b.top<m.top?s.scrollTop-=m.top-b.top:b.bottom>m.bottom&&(s.scrollTop+=b.bottom-m.bottom)}const K=r=>{if(!(!g||h.length===0))switch(r.key){case"ArrowDown":r.preventDefault(),L(s=>{const o=s<h.length-1?s+1:s;return setTimeout(()=>ue(o),0),o});break;case"ArrowUp":r.preventDefault(),L(s=>{const o=s>0?s-1:0;return setTimeout(()=>ue(o),0),o});break;case"Enter":r.preventDefault(),u>=0&&u<h.length?I(h[u]):i.trim()&&le(r);break;case"Escape":f(!1);break}},O=({suggestions:r,isLoading:s,onSelect:o,selectedIndex:m})=>{if(!g)return null;const b=(l,C)=>{if(!l||!C)return l;const d=C.trim().toLowerCase().split(/\s+/).filter(x=>x.length>=2),ve=new RegExp(`(${d.map(x=>x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|")})`,"gi");return l.split(ve).map((x,me)=>d.some(we=>x.toLowerCase()===we)?e.jsx("strong",{className:"font-bold customtext-primary",children:x},me):e.jsx("span",{children:x},me))};return e.jsx(P.div,{ref:w,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-[60] max-h-80 overflow-y-auto mt-1",children:s?e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Buscando..."]})}):r.length>0?e.jsx("ul",{className:"py-2",children:r.map((l,C)=>e.jsx("li",{ref:d=>re.current[C]=d,children:e.jsxs("button",{"data-suggestion-button":!0,onMouseDown:d=>{d.preventDefault(),d.stopPropagation(),setTimeout(()=>o(l),0)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 ${C===m?"bg-primary border-l-4 border-primary":""}`,type:"button",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 rounded-lg overflow-hidden",children:l.image?e.jsx("img",{src:`/api/items/media/${l.image}`,alt:l.name,className:"w-full h-full object-cover",onError:d=>{d.target.style.display="none"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center customtext-neutral-dark",children:e.jsx(R,{size:16})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium customtext-neutral-dark truncate",children:b(l.name,i)}),l.category&&e.jsx("div",{className:"text-sm customtext-neutral-dark truncate",children:l.category.name}),l.final_price&&e.jsxs("div",{className:"text-sm font-semibold customtext-primary",children:[Se()," ",parseFloat(l.final_price).toFixed(2)]})]})]})},l.id))}):e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:"No se encontraron productos"})})};let W=!1;if(a&&Array.isArray(a.roles)){const r=a.roles.map(s=>{var o;return(o=s.name)==null?void 0:o.toLowerCase()});W=!r.includes("admin")&&!r.includes("root")}return e.jsxs("header",{className:`w-full top-0 left-0 z-50 transition-all duration-300 ${je?"fixed shadow-lg":"relative "} ${t.backgroundColor||"bg-white"}`,children:[e.jsxs("div",{className:`px-primary   2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold ${t.backgroundColor||"bg-white"}`,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51]",children:e.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:Ne.APP_NAME,className:`h-14 object-contain object-center ${(t==null?void 0:t.class_logo)||""}`,onError:r=>{r.target.onerror=null,r.target.src="/assets/img/logo-bk.svg"}})}),(t==null?void 0:t.showLoginCart)&&e.jsxs("div",{className:"flex gap-8 lg:hidden",children:[e.jsxs("div",{className:`${y?"hidden":"flex"} items-center gap-4`,children:[a?e.jsxs("div",{ref:_,className:"relative",children:[e.jsx("button",{"aria-label":"user",className:"flex items-center gap-2 hover:customtext-primary transition-all duration-300 relative group",onClick:()=>c(!$),children:e.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:a.uuid?e.jsxs("div",{className:"relative",children:[e.jsx(de,{uuid:a.uuid,name:a.name,lastname:a.lastname,className:"!w-6 !h-6 rounded-full object-cover border-2 border-primary ring-secondary transition-all duration-300"}),e.jsx("div",{className:"relative",style:{display:"none"},children:e.jsx(S,{className:"customtext-primary  border-primary rounded-full   ring-secondary transition-all duration-300",width:"1.5rem"})}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"customtext-primary border-2 border-primary rounded-full  ring-secondary  transition-all duration-300",width:"1.5rem"}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})})}),e.jsx(j,{children:$&&e.jsx(P.div,{initial:"hidden",animate:"visible",exit:"exit",variants:ie,className:"absolute z-50 top-full -left-20 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-3",children:W?ae.map((r,s)=>e.jsx("li",{children:r.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:o=>{o.preventDefault(),o.stopPropagation(),c(!1),setTimeout(()=>{r.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[r.icon,e.jsx("span",{children:r.label})]}):e.jsxs("a",{href:r.href,onClick:o=>{o.stopPropagation(),c(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[r.icon,e.jsx("span",{children:r.label})]})},s)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",onClick:r=>{r.stopPropagation(),c(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(pe,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:r=>{r.preventDefault(),r.stopPropagation(),c(!1),setTimeout(()=>{X()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(G,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}):e.jsx("a",{href:"/iniciar-sesion",className:"flex items-center",children:e.jsx(S,{className:"customtext-primary",width:"1.5rem"})}),e.jsxs("button",{"aria-label":"",onClick:()=>F(!0),className:"flex items-center relative",children:[e.jsx(V,{className:"customtext-primary",width:"1.5rem"}),e.jsx("span",{className:"absolute -right-2 -top-2 inline-flex items-center justify-center w-4 h-4 bg-primary text-white rounded-full text-[8px]",children:ne})]})]}),e.jsx("button",{"aria-label":"Menú",onClick:()=>Q(!M),className:"flex md:hidden items-center justify-center bg-primary rounded-lg w-auto h-auto p-2 text-white fill-white transition-all duration-300 ",children:M?e.jsx(he,{}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M10 5H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 12H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 19H14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),e.jsxs("div",{className:"hidden md:block relative w-full max-w-xl mx-auto",children:[e.jsxs("form",{onSubmit:le,role:"search",children:[e.jsx("input",{ref:se,type:"search",name:"search",placeholder:`${(t==null?void 0:t.input_search_placeholder)||"Estoy buscando..."}`,value:i,onChange:r=>A(r.target.value),onKeyDown:K,onFocus:()=>{i.trim().length>=2&&z(i)},className:`w-full pr-14 py-4 pl-4 border rounded-full font-normal focus:ring-0 customtext-neutral-dark placeholder:customtext-neutral-dark focus:outline-none bg-white ${t==null?void 0:t.input_search_class}`,enterKeyHint:"search",inputMode:"search",autoComplete:"on",role:"searchbox","aria-label":`${(t==null?void 0:t.input_search_placeholder)||"Estoy buscando..."}`}),e.jsx("button",{type:"submit",className:`absolute right-3 top-1/2 transform -translate-y-1/2 p-2 ${t!=null&&t.backgroundColor?t==null?void 0:t.backgroundColor:"bg-primary"} text-white rounded-lg hover:bg-primary hover:scale-105  transition-all duration-300`,"aria-label":"Buscar",children:e.jsx(R,{})})]}),e.jsx(j,{children:e.jsx(O,{suggestions:h,isLoading:H,onSelect:I})})]}),t!=null&&t.showLoginCart?e.jsxs("div",{className:"hidden md:flex items-center gap-4 relative text-sm",children:[e.jsxs("div",{ref:_,children:[a?e.jsxs("button",{"aria-label":"user",className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-primary pr-6 transition-all duration-300 relative group",onClick:()=>c(!$),children:[e.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:a.uuid?e.jsxs("div",{className:"relative",children:[e.jsx(de,{uuid:a.uuid,name:a.name,lastname:a.lastname,className:"w-8 h-8 rounded-full object-cover border-2 border-primary ring-secondary transition-all duration-300"}),e.jsxs("div",{className:"absolute -bottom-[-0.115rem] -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"customtext-primary border-2 border-primary rounded-full  ring-secondary group-hover:ring-green-300 transition-all duration-300"}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})}),e.jsx("span",{className:"hidden md:inline",children:a.name})]}):e.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(S,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:"Iniciar Sesión"})]}),e.jsx(j,{children:$&&e.jsx(P.div,{initial:"hidden",animate:"visible",exit:"exit",variants:ie,className:"absolute z-50 top-full left-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-4",children:W?ae.map((r,s)=>e.jsx("li",{children:r.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:o=>{o.preventDefault(),o.stopPropagation(),c(!1),setTimeout(()=>{r.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[r.icon,e.jsx("span",{children:r.label})]}):e.jsxs("a",{href:r.href,onClick:o=>{o.stopPropagation(),c(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[r.icon,e.jsx("span",{children:r.label})]})},s)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",onClick:r=>{r.stopPropagation(),c(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(pe,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:r=>{r.preventDefault(),r.stopPropagation(),c(!1),setTimeout(()=>{X()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(G,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}),e.jsxs("button",{"aria-label":"cart",onClick:()=>F(!0),className:"flex items-center gap-2 text-sm relative hover:customtext-primary transition-colors duration-300",children:[e.jsx("div",{className:"customtext-primary",children:e.jsx(V,{})}),e.jsx("span",{className:"hidden md:inline",children:"Mi Carrito"}),e.jsx("span",{className:"absolute -right-6 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs bg-primary text-white rounded-full",children:ne})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("a",{"aria-label":"primary-button",className:`${t.class?t.class:"bg-primary"} hidden lg:block px-6 py-2.5 text-white font-medium rounded-3xl hover:brightness-125 transition-colors duration-300`,target:"_blank",rel:"noopener noreferrer",href:Y&&Z?`https://api.whatsapp.com/send?phone=${encodeURIComponent(Y)}&text=${encodeURIComponent(Z)}`:"#",children:"Haz tu pedido"}),e.jsx("div",{className:"md:hidden relative w-full max-w-xl mx-auto",children:y?e.jsxs("div",{className:"relative w-full",children:[e.jsxs("form",{onSubmit:ce,role:"search",children:[e.jsx("input",{ref:D,type:"search",name:"search",placeholder:`${(t==null?void 0:t.input_search_placeholder)||"Buscar productos"}`,value:i,onChange:r=>A(r.target.value),onKeyDown:K,onFocus:()=>{i.trim().length>=2&&z(i)},className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none",autoFocus:!0,enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":`${(t==null?void 0:t.input_search_label)||"Buscar productos"}`,onBlur:()=>{setTimeout(()=>{!i.trim()&&!g&&p(!1)},200)}}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{E(""),k(),p(!1)},className:"p-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-colors","aria-label":"Cerrar búsqueda",children:e.jsx(he,{size:16})}),e.jsx("button",{type:"submit",className:`p-2 ${(t==null?void 0:t.backgroundColor)||"bg-primary"} text-white rounded-lg hover:bg-primary transition-colors`,"aria-label":"Buscar",children:e.jsx(R,{size:16})})]})]}),e.jsx(j,{children:e.jsx(O,{suggestions:h,isLoading:H,onSelect:I,selectedIndex:u})})]}):e.jsx("button",{"aria-label":`${(t==null?void 0:t.input_search_placeholder)||"Buscar productos"}`,onClick:()=>{p(!0),setTimeout(()=>{D.current&&D.current.focus()},100)},className:"flex items-center justify-end w-full px-0 py-3",children:e.jsx(R,{className:"customtext-primary",size:28})})})]})]}),(t==null?void 0:t.mobileSearch)&&!ye()&&e.jsx("div",{className:"block md:hidden mt-6 space-y-4",children:e.jsxs("div",{className:"w-full relative",children:[e.jsxs("form",{onSubmit:ce,role:"search",className:"relative w-full",children:[e.jsx("input",{type:"search",name:"search",placeholder:`${(t==null?void 0:t.input_search_placeholder)||"Buscar productos"}`,value:i,onChange:r=>A(r.target.value),onKeyDown:K,onFocus:()=>{i.trim().length>=2&&z(i)},className:"w-full pr-14 py-3 font-normal pl-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent focus:outline-none bg-gray-50",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":`${(t==null?void 0:t.input_search_placeholder)||"Buscar productos"}`}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(R,{size:18})})]}),e.jsx(j,{children:e.jsx(O,{suggestions:h,isLoading:H,onSelect:I,selectedIndex:u})})]})})]}),e.jsx(j,{children:M&&e.jsx(P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"lg:hidden bg-transparent text-textWhite shadow-lg w-full min-h-screen absolute z-10 top-20",children:e.jsx(Ce,{search:i,setSearch:E,pages:ge,items:fe,onClose:()=>Q(!M),data:t})})}),e.jsx(ke,{data:t,cart:q,setCart:xe,modalOpen:be,setModalOpen:F})]})};export{Rr as default};

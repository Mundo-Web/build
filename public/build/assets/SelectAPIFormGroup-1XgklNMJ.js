import{j as r}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BOnQTV8N.js";import{m as i}from"./main-DKOTUah5.js";const I=({id:e,col:f,label:x,eRef:s,required:m=!1,dropdownParent:p,searchAPI:j,searchBy:n,multiple:g=!1,filter:o=null,onChange:N=()=>{},templateResult:E,templateSelection:S,tags:d,hidden:u})=>(s||(s=l.useRef()),e||(e=`select-${crypto.randomUUID()}`),l.useEffect(()=>{$(s.current).select2({dropdownParent:p,minimumInputLength:0,tags:d,ajax:{url:j,headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(i.Cookies.get("XSRF-TOKEN"))},type:"POST",quietMillis:50,data:function({term:t,page:a}){return i.JSON.stringify({sort:[{selector:n,desc:!1}],skip:((a??1)-1)*10,take:10,filter:o?[[n,"contains",t||""],"and",o]:[n,"contains",t||""]})},processResults:function(t,{page:a}){return{results:((t==null?void 0:t.data)??[]).map(c=>{const b=i.JSON.flatten(c);return{id:c.id,text:b[n],data:c}}),pagination:{more:(a??1)*10<t.totalCount}}}},templateResult:E,templateSelection:S})},[p,o]),l.useEffect(()=>{$(s.current).on("change",N)},[o]),r.jsxs("div",{className:`form-group ${f} mb-2`,hidden:u,children:[r.jsxs("label",{htmlFor:e,className:"mb-1",children:[x," ",m&&r.jsx("b",{className:"text-danger",children:"*"})]}),r.jsx("select",{ref:s,id:e,required:m&&!u,className:"form-control",style:{width:"100%"},multiple:g})]}));export{I as S};

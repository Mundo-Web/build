import{b as e,r as s,m as t,j as r}from"./System-Bybt2Brn.js";import{J as a,A as l}from"./AuthClientRest-BY2KkP18.js";import{S as n}from"./sweetalert2.esm.all-DbJpIAEg.js";import"./vendor-BiOv2i5T.js";function o(){const o=new a;o.setPublicKey(e.PUBLIC_RSA_KEY);const[i,c]=s.useState(!0),u=s.useRef(),m=s.useRef(),d=s.useRef(),x=s.useRef();s.useEffect((()=>{t.GET.message&&n.fire({icon:"info",title:"Mensaje",text:t.GET.message,showConfirmButton:!1,timer:3e3})}),[null]),s.useEffect((()=>{const e=new URLSearchParams(window.location.search),s=e.get("token"),t=e.get("email");s&&(d.current=s,x.current=t)}),[]);return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F7F9FB] px-primary 2xl:px-0  ",children:r.jsx("div",{className:"2xl:max-w-7xl w-full mx-auto ",children:r.jsx("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:r.jsxs("div",{className:"flex flex-col lg:flex-row lg:min-h-[600px] ",children:[r.jsxs("div",{className:"hidden lg:block lg:w-1/2 relative",children:[r.jsx("img",{src:`/assets/${e.APP_CORRELATIVE}/restore.png`||"/build/assets/reset-password-C32hbeXc.png",alt:"Imagen decorativa",className:"absolute inset-0 w-full  h-full object-cover"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]}),r.jsx("div",{className:"w-full lg:w-1/2 px-6 py-12 sm:px-12 lg:px-16",children:r.jsxs("div",{className:"max-w-md mx-auto h-full flex flex-col justify-center",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("h5",{className:"customtext-primary font-medium",children:"Nueva contraseña"}),r.jsx("h1",{className:"text-3xl font-bold",children:"Restaurar contraseña"}),r.jsx("p",{className:"customtext-neutral-light",children:"Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos."})]}),r.jsxs("form",{className:"space-y-4 mt-4",onSubmit:async e=>{e.preventDefault(),c(!0);const s=u.current.value,t=d.current,r=m.current.value,a=x.current;if(s!==r)return n.fire({icon:"error",title:"Error",text:"Las contraseñas no coinciden",showConfirmButton:!1,timer:3e3});const i={email:o.encrypt(a),password:o.encrypt(s),token:t,confirmation:o.encrypt(r)};if(!(await l.resetPassword(i)))return c(!1);window.location.href="/"},children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",htmlFor:"password",children:"Contraseña"}),r.jsx("input",{id:"password",name:"password",ref:u,type:"password",className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",htmlFor:"confirm-password",children:"Confirmar contraseña"}),r.jsx("input",{id:"confirm-password",name:"confirm-password",ref:m,type:"password",className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",required:!0})]}),r.jsx("button",{type:"submit",className:"w-full rounded-xl font-semibold  bg-primary px-4 py-3 text-white hover:opacity-90 focus:outline-none focus:ring-2 transition-all duration-300",children:"Restablecer contraseña"})]})]})})]})})})})}export{o as default};

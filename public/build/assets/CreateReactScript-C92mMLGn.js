var e=Object.defineProperty,s=(s,o,a)=>((s,o,a)=>o in s?e(s,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[o]=a)(s,"symbol"!=typeof o?o+"":o,a);import{bX as o,m as a}from"./vendor-react-DD0uBW7s.js";import{G as n}from"./Global-BAGAPG-V.js";import"./vendor-swiper-BQwfPLwm.js";import"./TippyButton-BXJTBPrK.js";import{G as r}from"./General-ClVW7qxN.js";import{L as t}from"./LaravelSession-ByQnaUD3.js";import{C as i}from"./Menu-Cmvatiox.js";import{B as l}from"./BooleanLimit-q2Ad9fGY.js";const c=class{static get(e){return this.values[e]??null}static set(e,s){this.models=[...new Set([...this.models,e])],this.values[e]=s}};s(c,"models",[]),s(c,"values",{}),s(c,"has",(e,s)=>c.values[e]?.[s]);let m=c,p=[];const f=(...e)=>{const s=[];return Array.isArray(e)?s.push(...e):s.push(e),Boolean(p.find(e=>s.includes(e.name)))},u=e=>{o({resolve:e=>`/${e}.jsx`,setup:({el:s,props:o})=>{const c=o.initialPage.props;for(const e in c.fillable??{})c.fillable[e]&&m.set(e,c.fillable[e]);l.hydrate(c.boolean_limits??{});for(const e of c.can_access??[])i[e.menu]=1==e.can_access;if(c?.global)for(const e in c.global)n.set(e,c.global[e]);if(c?.generals)for(const e in c.generals){const{correlative:s,description:o}=c.generals[e];r.set(s,o)}const u={...c?.session};for(const e in u)t.set(`${e}`,u[e]);if(p=c?.session?.roles??[],a.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(a.Cookies.get("XSRF-TOKEN"))},e(s,{...c,can:(e,...s)=>{const o=[];if(Array.isArray(e))for(const n of e)o.push(...s.map(e=>`${n}.${e}`));else o.push(...s.map(s=>`${e}.${s}`));if(c?.session?.permissions?.find(e=>o.includes(e.name)||"general.root"==e.name))return!0;const a=c?.session?.roles??[];for(const n of a)if(n?.permissions?.find(e=>o.includes(e.name)||"general.root"==e.name))return!0;return!1},hasRole:f}),"local"===n.APP_ENV){document.querySelectorAll(".modal-backdrop").forEach(e=>{e.textContent||e.remove()})}}})};export{u as C,m as F,f as h};

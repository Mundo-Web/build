import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as h}from"./index-BOnQTV8N.js";import{P as M}from"./PostsRest-ZrMMk0OC.js";import{B as T}from"./BlogCategoriesRest-Cu0lDmUR.js";import{S as k}from"./SelectForm-CPo74rd_.js";import{C as _}from"./calendar-BSC6xbA7.js";import{C}from"./clock-BLXQcN-l.js";import{U as $}from"./user-BZB1h7Cv.js";import{A as S}from"./arrow-right-MB8dWH_Y.js";import{m as f}from"./proxy-B0QLMKEh.js";import{S as R}from"./search-BQ59Robe.js";import{F as B}from"./filter-BEzH_gaL.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-BML1C-ua.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./CardProductKatya-ncpmQ0JU.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./BooleanLimit-D-OsQsek.js";import"./chevron-down-uIVDLcM-.js";import"./createLucideIcon-DfjclApS.js";import"./check-D5vaIe6v.js";function E({data:s,flex:N=!1,post:a,featured:m=!1}){var x,y,j,l;const b=t=>t?new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"",v=(t,n=150)=>{if(!t)return"";const c=document.createElement("div");c.innerHTML=t;const g=c.textContent||c.innerText||"";return g.length>n?g.substring(0,n)+"...":g},u=t=>{if(!t)return"5 min";const n=200,c=t.split(" ").length;return`${Math.ceil(c/n)} min`},d=t=>{if(!t)return"bg-primary/20 text-primary";const n={innovación:"bg-blue-100 text-blue-800",innovacion:"bg-blue-100 text-blue-800",prevención:"bg-green-100 text-green-800",prevencion:"bg-green-100 text-green-800",nutrición:"bg-orange-100 text-orange-800",nutricion:"bg-orange-100 text-orange-800",bioseguridad:"bg-red-100 text-red-800",diagnóstico:"bg-purple-100 text-purple-800",diagnostico:"bg-purple-100 text-purple-800",regulación:"bg-gray-100 text-gray-800",regulacion:"bg-gray-100 text-gray-800",salud:"bg-emerald-100 text-emerald-800",medicina:"bg-indigo-100 text-indigo-800",veterinaria:"bg-cyan-100 text-cyan-800",animales:"bg-amber-100 text-amber-800",cuidado:"bg-pink-100 text-pink-800",tratamiento:"bg-violet-100 text-violet-800"},c=t.toLowerCase().trim();return n[c]||"bg-accent customtext-primary"};return N?e.jsx("article",{className:"group relative font-title h-full",children:e.jsx("a",{href:`/post/${a==null?void 0:a.slug}`,className:"block h-full",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 group cursor-pointer h-full flex",children:[e.jsxs("div",{className:"relative overflow-hidden w-1/2",children:[e.jsx("img",{src:a!=null&&a.image?`/storage/images/post/${a==null?void 0:a.image}`:"/assets/img/noimage/no_img.jpg",alt:a==null?void 0:a.name,className:"w-full h-full aspect-[3/2] object-cover group-hover:scale-110 transition-transform duration-500",onError:t=>{t.target.src="/assets/img/noimage/no_img.jpg"}}),(a==null?void 0:a.category)&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:`px-3 py-2 rounded-full text-xs font-semibold ${d((x=a.category)==null?void 0:x.name)}`,children:(y=a.category)==null?void 0:y.name})})]}),e.jsxs("div",{className:"p-6 w-1/2 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{children:b((a==null?void 0:a.created_at)||(a==null?void 0:a.post_date))})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:u((a==null?void 0:a.description)||(a==null?void 0:a.summary))})]})]}),e.jsx("h3",{className:"text-lg font-title font-bold mb-3 group-hover:customtext-primary transition-colors line-clamp-2 customtext-primary",children:a==null?void 0:a.name}),e.jsx("p",{className:"text-sm mb-4 line-clamp-3 customtext-neutral-light",children:v((a==null?void 0:a.description)||(a==null?void 0:a.summary))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[(a==null?void 0:a.autor)&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm customtext-neutral-light",children:a.autor})]}),e.jsxs("button",{className:"customtext-secondary hover:customtext-primary font-semibold text-sm flex items-center space-x-1 group-hover:translate-x-1 transition-transform",children:[e.jsx("span",{children:"Leer más"}),e.jsx(S,{className:"w-4 h-4"})]})]})]})]})})}):e.jsx("article",{className:`group relative font-title ${m?"h-full":""}`,children:e.jsx("a",{href:`/post/${a==null?void 0:a.slug}`,className:"block h-full",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 group cursor-pointer h-full",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:a!=null&&a.image?`/storage/images/post/${a==null?void 0:a.image}`:"/assets/img/noimage/no_img.jpg",alt:a==null?void 0:a.name,className:`w-full  object-cover group-hover:scale-110 transition-transform duration-500 ${m?"h-full aspect-[4/2]":"h-48"}`,onError:t=>{t.target.src="/assets/img/noimage/no_img.jpg"}}),a!=null&&a.category?e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:`px-3 py-2 rounded-full text-xs font-semibold ${d((j=a.category)==null?void 0:j.name)}`,children:(l=a.category)==null?void 0:l.name})}):e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-600",children:"Sin categoría"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{children:b((a==null?void 0:a.created_at)||(a==null?void 0:a.post_date))})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:u((a==null?void 0:a.description)||(a==null?void 0:a.summary))})]})]}),e.jsx("h3",{className:"text-lg font-title font-bold mb-3 group-hover:customtext-primary transition-colors line-clamp-2 customtext-primary",children:a==null?void 0:a.name}),e.jsx("p",{className:"text-sm mb-4 line-clamp-3 customtext-neutral-light",children:v((a==null?void 0:a.description)||(a==null?void 0:a.summary))}),e.jsxs("div",{className:"flex items-center justify-between",children:[(a==null?void 0:a.autor)&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"text-sm customtext-neutral-light",children:a.autor})]}),e.jsxs("button",{className:"customtext-secondary hover:customtext-primary font-semibold text-sm flex items-center space-x-1 group-hover:translate-x-1 transition-transform",children:[e.jsx("span",{children:"Leer más"}),e.jsx(S,{className:"w-4 h-4"})]})]}),(s==null?void 0:s["bool:show_seen"])&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-3 pt-3 border-t border-gray-100",children:[e.jsx("i",{className:"mdi mdi-circle-medium"}),e.jsx("span",{children:"Leído hace 5 minutos"})]})]})]})})})}const D=new M,z=new T;function ce({data:s,posts:N,setPosts:a,headerPosts:m,filteredData:b,loading:v,setLoading:u,isFilter:d,setIsFilter:x}){const[y,j]=h.useState([]),[l,t]=h.useState({category_id:"",post_date:"",name:""}),[n,c]=h.useState(!0),g=r=>{const i=[];return r.category_id&&i.push(["category_id","=",r.category_id]),r.post_date&&(console.log("Fecha seleccionada:",r.post_date),i.push(["post_date","=",r.post_date])),r.name&&(console.log("Nombre seleccionado:",r.name),i.push(["name","contains",r.name])),i},L=async()=>{u(!0);try{const r=g(l),i=l.category_id||l.post_date||l.name,o={with:"category",filter:r};console.log(o);const w=await D.paginate(o);console.log(w),a(w.data),x(!!i)}catch(r){console.error("Error fetching posts:",r)}finally{u(!1)}};h.useEffect(()=>{(async()=>{try{const i={filter:[["visible","=",!0],["status","=",!0]]},o=await z.paginate(i);o&&o.data&&j(o.data)}catch(i){console.error("Error fetching categories:",i)}})()},[]),h.useEffect(()=>{n?c(!1):L()},[l]);const p=(r,i)=>{t(o=>({...o,[r]:i}))},F=()=>{t({category_id:"",post_date:"",name:""}),x(!1)};return e.jsx("main",{className:`relative bg-gray-50 ${d?"":"min-h-screen"} font-title`,children:e.jsxs("section",{className:`relative bg-gradient-to-br from-primary to-secondary overflow-visible z-10 ${d?"pt-16 pb-8":"py-16"}`,children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-20 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-40 h-40 bg-accent rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/2 left-1/3 w-24 h-24 bg-white rounded-full blur-2xl"})]}),e.jsxs("div",{className:"relative px-4 2xl:px-0 2xl:max-w-7xl mx-auto",children:[e.jsxs(f.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center space-y-6",children:[e.jsx(f.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:` text-4xl md:text-6xl 2xl:text-5xl max-w-6xl mx-auto font-bold customtext-secondary font-title leading-tight ${(s==null?void 0:s.class_title)||""}`,children:s!=null&&s.title?e.jsx("span",{dangerouslySetInnerHTML:{__html:s.title},className:"block font-title"}):e.jsxs(e.Fragment,{children:["Conocimiento Veterinario",e.jsx("br",{}),e.jsx("span",{className:"text-accent",children:"para tu Mascota"})]})}),(s==null?void 0:s.description)&&e.jsx(f.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"text-white/90 text-lg 2xl:text-xl font-medium max-w-3xl mx-auto",children:s.description})]}),e.jsx(f.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"mt-12 bg-white rounded-2xl shadow-xl p-6 relative overflow-visible",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 relative",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"search",placeholder:"Buscar artículos veterinarios...",className:"w-full px-6 py-4 pl-12 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 focus:outline-0 transition-all duration-300 text-gray-700 placeholder-gray-400",onChange:r=>p("name",r.target.value)}),e.jsx(R,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 lg:w-auto",children:[e.jsx("div",{className:"relative flex-1 lg:w-64 z-[9999]",children:e.jsx(k,{options:y,placeholder:"Todas las categorías",value:l.category_id,onChange:r=>{t(i=>({...i,category_id:r}))},labelKey:"name",valueKey:"id",className:"border-2 py-4 border-gray-200 focus:border-primary"})}),e.jsx("div",{className:"flex-1 lg:w-48",children:e.jsx("input",{type:"date",value:l.post_date,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-xl focus:border-primary focus:ring-0 focus:outline-0 transition-all duration-300 text-gray-700",onChange:r=>{p("post_date",r.target.value)}})}),(l.name||l.category_id||l.post_date)&&e.jsxs("button",{onClick:F,className:"px-4 py-4 bg-gray-100 hover:bg-gray-200 text-gray-600 rounded-xl transition-all duration-300 flex items-center gap-2 whitespace-nowrap",children:[e.jsx(B,{className:"w-4 h-4"}),"Limpiar"]})]})]})}),!d&&m&&m.length>0&&e.jsxs(f.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-16",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Artículos Destacados"}),e.jsx("p",{className:"text-white/80",children:"Los contenidos más importantes para el cuidado de tu mascota"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx(E,{data:s,featured:!0,post:m[0]})}),e.jsx("div",{className:"hidden lg:flex flex-col gap-6",children:m.slice(1,3).map(r=>e.jsx(E,{data:s,flex:!0,post:r},r.id))})]})]})]})]})})}export{E as B,ce as a};

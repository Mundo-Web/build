import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r}from"./index-BH53Isel.js";import{G as P}from"./Global-ErywZRdd.js";import{C as H}from"./HeaderSearch-DLU9BXLK.js";import{L as O}from"./Logout-jUU_tfUq.js";import{S as N}from"./search-TwiiKGP5.js";import{C as W}from"./chevron-left-B2s3ZsB7.js";import{C as U}from"./chevron-right-Ckt5D2ka.js";import{X as A}from"./x-DBMwyD6F.js";import{C as y,D as _}from"./door-closed-Z4GbcMb-.js";import{A as v}from"./index-CFtDjG4d.js";import{m as w}from"./proxy-BTYtmp9V.js";import{S as I}from"./shopping-cart-CZEUxbmv.js";import{U as D}from"./user-BvYmyGTY.js";import{c as V}from"./createLucideIcon-Cy5Ya80P.js";import"./index-yBjzXJbu.js";import"./main-BSEyQEJW.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./PaymentModal-BB1JXzaZ.js";import"./index-fNjTmf9T.js";import"./index-Chjiymov.js";import"./CartItemRow-BhtCHp_j.js";import"./tippy-react.esm-BWiGTO87.js";import"./index-rimy3MAc.js";import"./Number2Currency-e57Tgsuk.js";import"./minus-jyhodMPN.js";import"./plus-Bot15Khs.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function G({search:c,setSearch:k,pages:f,items:j}){const[i,n]=r.useState("main"),[d,m]=r.useState(null),[u,C]=r.useState(null),S=s=>{C(s),console.log(u),m(s),n("subcategories")},M=()=>{i==="subcategories"?n("categories"):i==="categories"&&n("main")},x=s=>{n("categories")},[h,$]=r.useState(),o=()=>{if(i==="main")return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" customtext-neutral-dark",children:e.jsxs("button",{className:"py-4 border-b border-gray-100 w-full flex justify-between items-center",onClick:()=>x(),children:[e.jsx("span",{children:"Categorias"}),e.jsx(U,{className:"h-5 w-5 customtext-neutral-dark"})]})}),f.map((s,a)=>s.menuable&&e.jsx("button",{className:"customtext-neutral-dark py-4 border-b border-gray-100 flex justify-between items-center",href:s.path,children:e.jsx("span",{children:s.name})},a))]});if(i==="categories")return j.map(s=>e.jsxs("div",{className:" py-4 border-b customtext-neutral-dark border-gray-100 flex justify-between items-center",onClick:()=>S(s.name),children:[e.jsx("a",{href:`/catalogo?category=${s.slug}`,children:s.name}),e.jsx(U,{className:"h-5 w-5 customtext-neutral-dark"})]},s.id));if(i==="subcategories"&&d)return j.find(a=>a.name===d).subcategories.map((a,p)=>e.jsx("a",{href:`/catalogo?subcategory=${a.slug}`,className:"block py-4 customtext-neutral-dark border-b border-gray-100",children:e.jsx("span",{children:a.name})},p))};return e.jsx("div",{className:"w-full fixed h-screen customtext-neutral-dark bg-black/20  max-w-md mx-auto  ",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-lg z-[999]",children:[e.jsx("div",{className:"p-4 bg-white flex justify-between items-center border-b border-gray-200",children:e.jsx("h1",{className:"text-xl font-medium customtext-neutral-dark",children:"Menú principal"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"relative mb-4",children:e.jsxs("div",{className:" relative w-full max-w-xl mx-auto",children:[e.jsx("input",{type:"search",placeholder:"Buscar productos",value:c,onChange:s=>k(s.target.value),className:"w-full pr-14 py-4  pl-4 border rounded-full focus:ring-0 focus:outline-none"}),e.jsx("a",{href:c.trim()?`/catalogo?search=${encodeURIComponent(c)}`:"#",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg","aria-label":"Buscar",children:e.jsx(N,{})})]})}),i!=="main"&&e.jsxs("button",{onClick:M,className:"flex items-center customtext-primary mb-4 font-semibold",children:[e.jsx(W,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"Atrás"})]}),e.jsx("div",{className:"space-y-0 max-h-[350px]  overflow-scroll",children:o()})]})]})})}const be=({items:c,data:k,cart:f,setCart:j,isUser:i,pages:n,generals:d=[]})=>{const m=d.find(t=>t.correlative==="phone_whatsapp"),u=d.find(t=>t.correlative==="message_whatsapp"),C=(m==null?void 0:m.description)??null,S=(u==null?void 0:u.description)??null,[M,x]=r.useState(!1),[h,$]=r.useState(!1),[o,s]=r.useState(!1),[a,p]=r.useState(""),[g,z]=r.useState(!1),b=r.useRef(null),L=r.useRef(null),B=f.reduce((t,l)=>Number(t)+Number(l.quantity),0);r.useEffect(()=>{function t(l){b.current&&!b.current.contains(l.target)&&z(!1),L.current&&!L.current.contains(l.target)&&s(!1)}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const R={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},E=[{icon:e.jsx(D,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:e.jsx(I,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:e.jsx(q,{size:16}),label:"Configuración",href:"/account"},{icon:e.jsx(_,{size:16}),label:"Cerrar Sesión",onClick:O}];return e.jsxs("header",{className:`w-full ${h?"fixed w-screen h-screen bg-white z-50":"relative"}`,children:[e.jsxs("div",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51]",children:e.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:P.APP_NAME,className:"h-14 object-contain object-center",onError:t=>{t.target.onerror=null,t.target.src="/assets/img/logo-bk.svg"}})}),e.jsx("button",{onClick:()=>$(!h),className:"flex md:hidden items-center justify-center bg-primary rounded-lg w-auto h-auto p-2 text-white fill-white transition-all duration-300 z-[51]",children:h?e.jsx(A,{}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M10 5H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 12H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 19H14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsxs("div",{className:"hidden md:block relative w-full max-w-xl mx-auto",children:[e.jsx("input",{type:"search",placeholder:"Buscar productos",value:a,onChange:t=>p(t.target.value),className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none"}),e.jsx("a",{href:a.trim()?`/catalogo?search=${encodeURIComponent(a)}`:"#",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(N,{})})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-4 relative text-sm",children:[e.jsxs("div",{ref:b,children:[i?e.jsxs("button",{className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-primary pr-6 transition-colors duration-300",onClick:()=>z(!g),children:[e.jsx(y,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:i.name})]}):e.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(y,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:"Iniciar Sesión"})]}),e.jsx(v,{children:g&&e.jsx(w.div,{initial:"hidden",animate:"visible",exit:"exit",variants:R,className:"absolute z-50 top-full left-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-3",children:E.map((t,l)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{onClick:t.onClick,className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]})},l))})})})})]}),e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 text-sm relative hover:customtext-primary transition-colors duration-300",children:[e.jsx("div",{className:"customtext-primary",children:e.jsx(I,{})}),e.jsx("span",{className:"hidden md:inline",children:"Mi Carrito"}),e.jsx("span",{className:"absolute -right-6 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs bg-primary text-white rounded-full",children:B})]})]})]}),e.jsx("div",{className:"flex justify-between items-center mt-4",children:e.jsxs("div",{ref:L,className:"flex md:hidden relative w-full",children:[e.jsxs("div",{className:"flex w-full items-center justify-between gap-4",children:[e.jsx("button",{onClick:()=>s(!o),className:`${o?"hidden":"block"} px-3 py-2 bg-primary text-white rounded-lg`,"aria-label":"Buscar",children:e.jsx(N,{width:"1rem"})}),e.jsxs("div",{className:`${o?"hidden":"flex"} items-center gap-4`,children:[i?e.jsxs("div",{ref:b,className:"relative",children:[e.jsx("button",{className:"flex items-center gap-2 hover:customtext-primary transition-colors duration-300",onClick:()=>z(!g),children:e.jsx(y,{className:"customtext-primary",width:"1.3rem"})}),e.jsx(v,{children:g&&e.jsx(w.div,{initial:"hidden",animate:"visible",exit:"exit",variants:R,className:"absolute z-50 top-full right-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-3",children:E.map((t,l)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{onClick:t.onClick,className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]})},l))})})})})]}):e.jsx("a",{href:"/iniciar-sesion",className:"flex items-center",children:e.jsx(y,{className:"customtext-primary",width:"1.3rem"})}),e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center relative",children:[e.jsx(I,{className:"customtext-primary",width:"1.3rem"}),e.jsx("span",{className:"absolute -right-2 -top-2 inline-flex items-center justify-center w-4 h-4 bg-primary text-white rounded-full text-[8px]",children:B})]})]})]}),e.jsx(v,{children:o&&e.jsx(w.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"fixed top-24 left-0 right-0 bg-white p-4 z-50",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:"search",placeholder:"Buscar productos",value:a,onChange:t=>p(t.target.value),className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none"}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex gap-2",children:[e.jsx("button",{onClick:()=>s(!1),className:"p-2 bg-gray-200 text-gray-600 rounded-lg",children:e.jsx(A,{size:20})}),e.jsx("a",{href:a.trim()?`/catalogo?search=${encodeURIComponent(a)}`:"#",className:"p-2 bg-primary text-white rounded-lg","aria-label":"Buscar",children:e.jsx(N,{})})]})]})})})]})})]}),e.jsx(v,{children:h&&e.jsx(w.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"lg:hidden bg-white text-textWhite shadow-lg w-full min-h-screen absolute z-10 top-20",children:e.jsx(G,{search:a,setSearch:p,pages:n,items:c})})}),e.jsx(H,{data:k,cart:f,setCart:j,modalOpen:M,setModalOpen:x}),e.jsx("div",{className:"flex justify-end w-full mx-auto z-[100] relative",children:e.jsx("div",{className:"fixed bottom-6 sm:bottom-[2rem] lg:bottom-[4rem] z-20 cursor-pointer",children:e.jsx("a",{target:"_blank",id:"whatsapp-toggle",href:`https://api.whatsapp.com/send?phone=${C}&text=${S}`,children:e.jsx("img",{src:"/assets/img/whatsapp.svg",alt:"whatsapp",className:"mr-3 w-16 h-16 md:w-[100px] md:h-[100px] animate-bounce duration-300"})})})})]})};export{be as default};

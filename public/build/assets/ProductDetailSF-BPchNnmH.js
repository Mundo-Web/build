import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r as o}from"./index-BOnQTV8N.js";import{I as Z}from"./ItemsRest-DvgvOR-1.js";import{S as V}from"./ProductCard-D_AgkLlk.js";import"./main-B6F2O9-U.js";import"./BlogCarousel-DCQ9UYu0.js";/* empty css               */import"./BlogCarrusel-klwTVD05.js";import"./ProductMakita-CuTJk-0k.js";import"./ProductNavigation-Cc2sVw8o.js";import"./CardProductKatya-ncpmQ0JU.js";import{C as F}from"./Number2Currency-D9Rjvh76.js";import{C as ss}from"./HeaderSearch-CLQ4L3XU.js";import{i as as}from"./tippy-react.esm-DmkRJDEW.js";/* empty css              */import es from"./ProductNavigationSwiper-BGSuiSfv.js";import{C as rs}from"./circle-check-DW_TmQ0Z.js";import{C as ts}from"./chevron-up-Mt3xll-e.js";import{C as ls}from"./chevron-down-uIVDLcM-.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-BqhZrBN0.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./proxy-B0QLMKEh.js";import"./eye-ScgfreHn.js";import"./createLucideIcon-DfjclApS.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./General-BmbBKdsB.js";import"./PolicyModal-C80IvD61.js";import"./index-Chjiymov.js";import"./CartItemRow-Lh5OenLf.js";import"./package-DBFPPBi1.js";import"./trash-2-DU7LB6-f.js";import"./plus-CTIomuuF.js";import"./index-BZvh78jk.js";import"./adjustTextColor-DJKJvkxA.js";import"./ProductCardColors-CBPwFRtL.js";import"./navigation-BIDIUzpb.js";import"./create-element-if-not-defined-DUWlnlug.js";import"./arrow-left-n6ltb6Cc.js";import"./arrow-right-MB8dWH_Y.js";function Js({item:a,data:E,setCart:h,cart:c,textstatic:_,contacts:T}){var w,k,S,C,$,I;const d=new Z,[g,m]=o.useState(!1),[i,f]=o.useState({url:a==null?void 0:a.image,type:"main"}),[b,q]=o.useState(1),[j,N]=o.useState(a==null?void 0:a.slug),[t,z]=o.useState(a),A=e=>{let r=parseInt(e.target.value,10);(isNaN(r)||r<1)&&(r=1),r>10&&(r=10),q(r)},B=e=>{var r;return((r=T.find(l=>l.correlative===e))==null?void 0:r.description)||""};(w=_.find(e=>e.correlative=="detailproduct-relation-title"))==null||w.title;const[M,os]=o.useState(!1),R=e=>{const r=p.find(x=>x.slug===j)||t||e,l=structuredClone(c),n=l.findIndex(x=>x.id==r.id);n==-1?l.push({...r,quantity:b}):l[n].quantity++,h(l),V.fire({title:"Producto agregado",text:`Se agregÃ³ ${t.name||e.name} al carrito`,icon:"success",showCancelButton:!0,confirmButtonText:"Abrir mini carrito",cancelButtonText:"Seguir comprando",reverseButtons:!0,timer:5e3}).then(x=>{x.isConfirmed&&m(!g)})},[P,D]=o.useState([]),[v,O]=o.useState([]),[y,U]=o.useState([]),[p,H]=o.useState([]);c==null||c.find(e=>e.id==(a==null?void 0:a.id)),o.useEffect(()=>{a!=null&&a.id&&(G(a),W(a),Q(a),J(a),X(a),N(a.slug))},[a]);const K=e=>{const r=p.find(l=>l.slug===e)||a;z(r),N(e),window.history.pushState({},"",`/item/${e}`)},L=(e,r)=>!e||e<=r?0:Math.round((e-r)/e*100),Q=async e=>{try{const r={id:e==null?void 0:e.id};if(console.log(r),!await d.updateViews(r))return}catch{return}},W=async e=>{try{const r={id:e==null?void 0:e.id},l=await d.verifyCombo(r);if(!l)return;const n=l[0].associated_items;D(Object.values(n))}catch{return}},G=async e=>{try{const r={id:e==null?void 0:e.id},l=await d.productsRelations(r);if(!l)return;O(Object.values(l))}catch{return}},J=async e=>{try{const r={slug:e==null?void 0:e.slug},l=await d.getColors(r);if(!l)return;U(l.variants)}catch{return}},X=async e=>{try{const r={slug:e==null?void 0:e.slug},l=await d.getSizes(r);if(!l)return;H(l)}catch{return}};P.reduce((e,r)=>e+parseFloat(r.final_price),0);const[u,Y]=o.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"px-primary mx-auto pb-4 md:pb-6 xl:pb-8 bg-white",children:[s.jsx("div",{className:"bg-white rounded-xl p-4 md:p-8",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 xl:gap-20 2xl:gap-32",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx("div",{className:"flex-1",children:s.jsx("img",{src:i.type==="main"?`/storage/images/item/${i.url}`:`/storage/images/item/${i.url}`,onError:e=>e.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full h-auto object-contain"})}),s.jsxs("div",{className:"flex flex-row gap-2",children:[s.jsx("button",{onClick:()=>f({url:a==null?void 0:a.image,type:"main"}),className:`w-16 h-16  rounded-lg p-1 border-2 ${i.url===(a==null?void 0:a.image)?"border-primary ":"border-gray-200"}`,children:s.jsx("img",{src:`/storage/images/item/${a==null?void 0:a.image}`,alt:"Main Thumbnail",className:"w-full h-full object-cover",onError:e=>e.target.src="/api/cover/thumbnail/null"})}),a==null?void 0:a.images.map((e,r)=>s.jsx("button",{onClick:()=>f({url:e.url,type:"gallery"}),className:`w-16 h-16 border-2 rounded-lg p-1 ${i.url===e.url?"border-primary":"border-gray-200"}`,children:s.jsx("img",{src:`/storage/images/item/${e.url}`||"/api/cover/thumbnail/null",alt:`Thumbnail ${r+1}`,className:"w-full h-full object-cover",onError:l=>l.target.src="/api/cover/thumbnail/null"})},r))]})]})}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("div",{className:"font-paragraph",children:[(a==null?void 0:a.brand)&&s.jsxs("p",{className:"customtext-neutral-light text-sm 2xl:text-lg",children:["Marca:"," ",s.jsx("span",{className:"customtext-neutral-dark",children:a==null?void 0:a.brand.name})]}),s.jsx("h1",{className:"customtext-neutral-dark text-3xl lg:text-4xl 2xl:text-5xl font-bold mt-2",children:a==null?void 0:a.name})]}),s.jsxs("div",{className:"flex flex-wrap customtext-neutral-light items-center gap-y-2 gap-x-8 text-sm font-paragraph",children:[s.jsxs("span",{className:"customtext-neutral-dark text-base 2xl:text-lg",children:["SKU:"," ",s.jsx("span",{className:"customtext-neutral-dark font-bold",children:a==null?void 0:a.sku})]}),s.jsxs("span",{className:"customtext-neutral-dark text-base 2xl:text-lg",children:["Disponibilidad:"," ",s.jsx("span",{className:"customtext-neutral-dark font-bold",children:(t==null?void 0:t.stock)>0?"En stock":"Agotado"})]})]}),s.jsxs("div",{className:"flex flex-col w-full xl:w-1/2 font-paragraph max-w-xl mt-5",children:[s.jsxs("p",{className:"text-base 2xl:text-lg customtext-neutral-dark opacity-70 font-medium",children:["Precio:"," ",s.jsxs("span",{className:"line-through",children:[F()," ",t==null?void 0:t.price]})]}),s.jsxs("div",{className:"flex flex-row items-center gap-4 relative",children:[s.jsxs("span",{className:"text-[40px] font-bold customtext-neutral-dark",children:[F()," ",t==null?void 0:t.final_price]}),s.jsxs("span",{className:"bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl text-base",children:["-",L(t==null?void 0:t.price,t==null?void 0:t.final_price),"%"]})]})]}),(a==null?void 0:a.summary)&&s.jsx("div",{className:"flex flex-col customtext-neutral-dark font-paragraph text-base 2xl:text-lg my-3",children:s.jsx("p",{children:a==null?void 0:a.summary})}),y.length>0&&s.jsxs("div",{className:"variants-color flex flex-col gap-3",children:[s.jsx("h3",{className:"w-full block opacity-85 customtext-neutral-dark text-base 2xl:text-lg",children:"Colores"}),s.jsx("div",{className:"flex gap-3 items-center justify-start w-full flex-wrap",children:y.map(e=>s.jsx(as,{content:e.color,children:s.jsx("a",{href:`/item/${e.slug}`,className:`variant-option rounded-full object-fit-cover ${e.color===a.color?"active p-[2px] border-[1.5px] border-neutral-dark":""}`,children:s.jsx("img",{className:"color-box rounded-full h-9 w-9 object-fit-cover ",src:`/storage/images/item/${e.texture||e.image}`})},e.slug)}))})]}),p.length>0&&s.jsxs("div",{className:"variants-color flex flex-col gap-3",children:[s.jsx("h3",{className:"w-full block opacity-85 customtext-neutral-dark text-base 2xl:text-lg",children:"Tallas"}),s.jsx("div",{className:"flex gap-3 items-center justify-start w-full flex-wrap",children:p.map(e=>s.jsx("button",{onClick:()=>K(e.slug),className:`variant-option rounded-md min-w-9 px-2 w-auto h-9 flex flex-col justify-center items-center text-center bg-slate-200 ${j===e.slug?"active p-[2px] border-[1.5px] border-neutral-dark":""}`,children:e.size},e.slug))})]}),s.jsx("div",{className:"flex flex-col mt-8",children:s.jsx("div",{className:"flex items-center gap-4 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-4 customtext-neutral-dark text-base 2xl:text-lg",children:[s.jsx("span",{className:"opacity-85",children:"Cantidad"}),s.jsx("div",{className:"relative flex items-center border rounded-md px-2 py-1",children:s.jsx("input",{type:"number",value:b,onChange:A,min:"1",max:"10",className:"w-10 py-1 customtext-neutral-dark text-center bg-transparent outline-none appearance-none"})})]})})}),s.jsx("button",{onClick:()=>{R(a)},disabled:(t==null?void 0:t.stock)<=0,className:`w-full font-paragraph text-base 2xl:text-lg py-3 font-semibold rounded-3xl transition-all duration-300 mt-3 ${(t==null?void 0:t.stock)>0?"bg-accent text-white hover:opacity-90":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:(t==null?void 0:t.stock)>0?"Agregar al carrito":"Producto agotado"}),((k=a==null?void 0:a.specifications)==null?void 0:k.length)>0&&s.jsx("div",{className:"flex-1 w-full mt-5 2xl:mt-8",children:s.jsxs("div",{className:"bg-[#F7F9FB] rounded-xl p-6",children:[s.jsx("h3",{className:"font-semibold text-lg xl:text-xl 2xl:text-2xl mb-4 customtext-neutral-dark font-paragraph",children:"Especificaciones principales"}),s.jsx("ul",{className:`space-y-1  customtext-neutral-light  mb-4 list-disc transition-all duration-300 ${u?"max-h-full":"max-h-20 overflow-hidden"}`,style:{listStyleType:"disc"},children:a==null?void 0:a.specifications.map((e,r)=>e.type==="principal"&&s.jsxs("li",{className:"gap-2 customtext-primary opacity-85 flex flex-row items-center",children:[s.jsx(rs,{className:"customtext-primary w-4 h-4"}),e.description]},r))}),s.jsxs("button",{className:"font-semibold flex flex-row gap-2 items-center text-base xl:text-[17px] 2xl:text-xl mb-4 customtext-neutral-dark font-paragraph pb-2 border-b border-neutral-dark",onClick:()=>Y(!u),children:[u?"Ver menos":"Ver mÃ¡s especificaciones",u?s.jsx(ts,{className:"w-4 h-4"}):s.jsx(ls,{className:"w-4 h-4"})]})]})}),s.jsx("div",{className:"w-full mt-5",children:s.jsx("a",{href:`https://api.whatsapp.com/send?phone=${B("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo mayor informaciÃ³n acerca del producto: ${a==null?void 0:a.name}`)}`,target:"_blank",children:s.jsxs("div",{className:"bg-[#F7F9FB] flex flex-row rounded-xl p-5 gap-3",children:[s.jsx("img",{src:"/assets/img/salafabulosa/whatsapp.png",onError:e=>e.target.src="assets/img/noimage/no_imagen_circular.png",className:"w-12 h-12 object-contain",loading:"lazy"}),s.jsx("div",{className:"customtext-neutral-dark font-paragraph text-base  2xl:text-xl font-semibold",children:s.jsxs("p",{children:["Â¿Tienes dudas sobre este producto? Haz",s.jsx("span",{className:"underline"}),"clic aquÃ­ y chatea con nosotros por WhatsApp"]})})]})})})]})]})}),s.jsxs("div",{className:"grid gap-10 lg:gap-20 md:grid-cols-2 bg-white rounded-xl p-4 sm:p-8 font-paragraph",children:[((S=a==null?void 0:a.specifications)==null?void 0:S.length)>0&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Especificaciones"}),s.jsx("div",{className:"space-y-1",children:a.specifications.map((e,r)=>e.type==="general"&&s.jsxs("div",{className:`grid grid-cols-2 gap-4 p-3 ${r%2===0?"bg-[#F7F9FB]":"bg-white"}`,children:[s.jsx("div",{className:"customtext-neutral-dark ",children:e.title}),s.jsx("div",{className:"customtext-neutral-dark opacity-75",children:e.description})]},r))})]}),s.jsxs("div",{className:"font-paragraph",children:[((C=a==null?void 0:a.description)==null?void 0:C.replace(/<[^>]+>/g,""))&&s.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"InformaciÃ³n adicional"}),s.jsxs("div",{className:`space-y-2 ${M?"":"max-h-none overflow-hidden"}`,children:[(($=a==null?void 0:a.description)==null?void 0:$.replace(/<[^>]+>/g,""))&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este artÃ­culo"}),s.jsx("div",{className:"customtext-neutral-dark",dangerouslySetInnerHTML:{__html:a==null?void 0:a.description}})]}),((I=a==null?void 0:a.features)==null?void 0:I.length)>0&&s.jsx("div",{className:"pl-10",children:s.jsx("ul",{className:"list-disc pl-5 space-y-2",children:a==null?void 0:a.features.map((e,r)=>s.jsx("li",{className:"customtext-neutral-dark",children:e.feature},r))})})]})]})]})]}),v.length>0&&s.jsx("div",{className:"-mt-10 mb-10 p-4",children:s.jsx(es,{data:{title:"Productos relacionados",link_catalog:"/catalogo"},items:v,cart:c,setCart:h})}),s.jsx(ss,{cart:c,data:E,setCart:h,modalOpen:g,setModalOpen:m})]})}export{Js as default};

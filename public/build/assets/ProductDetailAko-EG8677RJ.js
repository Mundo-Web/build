import{r as e,j as t}from"./vendor-react-CZUvQwNQ.js";import{I as a}from"./ItemsRest-4ysXRR2v.js";import"./CartKuchara-C7vqSevl.js";import"./vendor-swiper-Cr_RrIb_.js";import"./ProductDetailB-BRwGCpBW.js";import"./OpenPayCardModal-BHkRoVZ6.js";import{C as s}from"./Number2Currency-SEeETbGC.js";import{C as r}from"./CartModal-De4f04Sr.js";import"./TippyButton-Gia9IjJq.js";import l from"./ProductNavigationSwiperSimple-COyK7nhf.js";import"./BasicRest-K-34csnH.js";import"./BooleanLimit-q2Ad9fGY.js";import"./Footer-DAm0kDL9.js";import"./vendor-motion-mZjvfsLz.js";import"./General-ClVW7qxN.js";import"./CartItemRow-BqxYsjqg.js";import"./adjustTextColor-69KGUbTd.js";import"./ProductCardColors-DXoz77-Z.js";import"./TextWithHighlight-C8XS1oqn.js";function i({item:i,data:c,setCart:n,cart:o,textstatic:d,contacts:m}){const x=new a,[p,u]=e.useState(!1),[g,h]=e.useState({url:i?.image,type:"main"}),[j,f]=e.useState(1);d.find(e=>"detailproduct-relation-title"==e.correlative);const[b,v]=e.useState(!1),[N,y]=e.useState([]),[w,C]=e.useState([]),[k,S]=e.useState([]);o?.find(e=>e.id==i?.id),e.useEffect(()=>{i?.id&&($(i),F(i),_(i),P(i))},[i]);const _=async e=>{try{const t={id:e?.id};if(!(await x.updateViews(t)))return}catch(t){return}},F=async e=>{try{const t={id:e?.id},a=await x.verifyCombo(t);if(!a)return;const s=a[0].associated_items;y(Object.values(s))}catch(t){return}},$=async e=>{try{const t={id:e?.id},a=await x.productsRelations(t);if(!a)return;const s=a;C(Object.values(s))}catch(t){return}},P=async e=>{try{const t={slug:e?.slug},a=await x.getVariations(t);if(!a)return;S(a.variants)}catch(t){return}};N.reduce((e,t)=>e+parseFloat(t.final_price),0);const[E,I]=e.useState(!1);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{id:c?.element_id||null,className:"px-primary mx-auto pt-4 md:pt-6 xl:pt-8 bg-white",children:[t.jsx("div",{className:"bg-white rounded-xl p-4 md:p-8",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 xl:gap-20 2xl:gap-32",children:[t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsx("div",{className:"flex-1",children:t.jsx("img",{src:(g.type,`/storage/images/item/${g.url}`),onError:e=>e.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full h-auto object-contain"})}),t.jsxs("div",{className:"flex flex-row gap-2",children:[t.jsx("button",{onClick:()=>h({url:i?.image,type:"main"}),className:"w-16 h-16  rounded-lg p-1 border-2 "+(g.url===i?.image?"border-primary ":"border-gray-200"),children:t.jsx("img",{src:`/storage/images/item/${i?.image}`,alt:"Main Thumbnail",className:"w-full h-full object-cover",onError:e=>e.target.src="/api/cover/thumbnail/null"})}),i?.images.map((e,a)=>t.jsx("button",{onClick:()=>h({url:e.url,type:"gallery"}),className:"w-16 h-16 border-2 rounded-lg p-1 "+(g.url===e.url?"border-primary":"border-gray-200"),children:t.jsx("img",{src:`/storage/images/item/${e.url}`||"/api/cover/thumbnail/null",alt:`Thumbnail ${a+1}`,className:"w-full h-full object-cover",onError:e=>e.target.src="/api/cover/thumbnail/null"})},a))]})]})}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("div",{className:"font-title",children:t.jsx("h1",{className:"customtext-neutral-dark text-3xl lg:text-4xl 2xl:text-5xl font-semibold",children:i?.name})}),i?.summary&&t.jsx("div",{className:"flex flex-col customtext-neutral-dark font-title text-base 2xl:text-lg mt-1",children:t.jsx("p",{children:i?.summary})}),t.jsx("div",{className:"grid grid-cols-1 gap-3 my-3",children:i?.specifications?.length>0&&i.specifications.map((e,a)=>"icono"===e.type&&t.jsxs("div",{className:"text-base 2xl:text-lg gap-3 customtext-primary flex flex-row items-center justify-start text-left",children:[t.jsx("div",{className:"bg-[#0082CA] rounded-full overflow-hidden min-w-12",children:t.jsx("img",{src:`/storage/images${e.title}`,alt:e.description,className:"w-12 h-12 object-contain p-2",onError:e=>e.target.src="/assets/img/noimage/noicon.png"})}),t.jsxs("h2",{children:[e.description," "]})]},a))}),t.jsx("div",{className:"flex flex-col w-full xl:w-1/2 font-title max-w-xl mt-3 gap-1",children:i?.final_price<i?.price&&i?.final_price>0?t.jsxs(t.Fragment,{children:[t.jsxs("p",{className:"text-base 2xl:text-lg customtext-neutral-dark font-medium",children:["Precio:"," ",t.jsxs("span",{className:"line-through font-normal",children:[s()," ",i?.price]})]}),t.jsxs("div",{className:"flex flex-row items-center gap-4 relative",children:[t.jsxs("span",{className:"text-3xl md:text-4xl 2xl:text-5xl font-semibold customtext-neutral-dark",children:[s()," ",i?.final_price]}),t.jsxs("span",{className:"bg-[#F93232] text-white font-semibold px-3 py-2 rounded-xl text-base",children:["-",Number(i?.discount_percent).toFixed(1),"%"]})]})]}):t.jsxs("span",{className:"text-3xl md:text-4xl 2xl:text-5xl font-semibold customtext-neutral-dark",children:[s()," ",i?.price]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 mt-4 gap-4 md:gap-6",children:[t.jsx("a",{target:"_blank",href:`https://api.whatsapp.com/send?phone=${T="phone_whatsapp",m.find(e=>e.correlative===T)?.description||""}&text=${encodeURIComponent(`Hola, deseo mayor información acerca del producto: ${i?.name}`)}`,className:"bg-accent w-full text-base lg:text-lg customtext-neutral-light px-5 text-center py-2.5 rounded-lg",children:"Solicitar cotizacion"}),null!==i.pdf&&t.jsx("a",{target:"_blank",href:`/storage/images/item/${i.pdf}`,download:!0,className:"bg-secondary w-full text-base lg:text-lg customtext-neutral-light px-5 text-center py-2.5 rounded-lg",children:"Descargar ficha técnica"})]})]})]})}),t.jsxs("div",{className:"grid gap-10 lg:gap-20 md:grid-cols-2 bg-white rounded-xl p-4 sm:p-8 font-title",children:[t.jsxs("div",{className:"font-title",children:[i?.description?.replace(/<[^>]+>/g,"")&&t.jsx("h2",{className:"text-2xl font-semibold customtext-neutral-dark mb-4 border-secondary border-b pb-3",children:"Información adicional"}),t.jsxs("div",{className:"space-y-2 "+(b?"":"max-h-none overflow-hidden"),children:[i?.description?.replace(/<[^>]+>/g,"")&&t.jsxs(t.Fragment,{children:[t.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este artículo"}),t.jsx("div",{className:"customtext-neutral-dark 2xl:text-lg",dangerouslySetInnerHTML:{__html:i?.description}})]}),i?.features?.length>0&&t.jsx("div",{className:"pl-10",children:t.jsx("ul",{className:"list-disc pl-5 space-y-2",children:i?.features.map((e,a)=>t.jsx("li",{className:"customtext-neutral-dark",children:e.feature},a))})})]})]}),i?.specifications?.length>0&&t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Especificaciones"}),t.jsx("div",{className:"space-y-1",children:i.specifications.map((e,a)=>"general"===e.type&&t.jsxs("div",{className:"grid grid-cols-2 gap-4 p-3 "+(a%2==0?"bg-[#F7F9FB]":"bg-white"),children:[t.jsx("div",{className:"customtext-neutral-dark ",children:e.title}),t.jsx("div",{className:"customtext-neutral-dark opacity-85",children:e.description})]},a))})]})]})]}),w.length>0&&t.jsx(l,{data:{title:"Productos %relacionados%"},items:w,cart:o,setCart:n}),t.jsx(r,{cart:o,data:c,setCart:n,modalOpen:p,setModalOpen:u})]});var T}export{i as default};

import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BOnQTV8N.js";import{R as Y}from"./PolicyModal-C80IvD61.js";import{i as U}from"./tippy-react.esm-DmkRJDEW.js";import{t as W}from"./CardProductKatya-ncpmQ0JU.js";import{S as G}from"./SubscriptionsRest-BUF-I9Hx.js";import{G as h}from"./Global-Bz6gVLc5.js";import{H as J}from"./HtmlContent-ghmllTyl.js";import{M as V}from"./mail-drJGpT4k.js";import{P as X}from"./phone-ZNY-sPqk.js";import{M as K}from"./map-pin-Cj3PUWlD.js";import{X as Q}from"./x-fof_H3Vv.js";import{C as Z}from"./circle-check-big-CYWUGR3Z.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-B6ujFmsw.js";import"./index-Chjiymov.js";import"./index-pSueRYGM.js";import"./BasicRest-BML1C-ua.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./BooleanLimit-D-OsQsek.js";import"./createLucideIcon-DfjclApS.js";const ke=({pages:ee=[],generals:n=[],data:t,socials:O=[]})=>{var _,C,S,M,E;const R=new G,f=a.useRef(),q=new Date().getFullYear(),[L,g]=a.useState(null),[u,b]=a.useState(!1),[v,I]=a.useState([]),[$,D]=a.useState(!0),N={privacy_policy:"Políticas de privacidad",terms_conditions:"Términos y condiciones"},w=s=>g(s),j=()=>g(null);a.useEffect(()=>{(async()=>{try{const o=await(await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({skip:0,take:6,status:1,requireTotalCount:!1})})).json();console.log("API Response:",o),o.status===200&&o.data&&I(o.data)}catch(r){console.error("Error al cargar productos:",r)}finally{D(!1)}})()},[]);const z=async s=>{s.preventDefault(),b(!0);const r={email:f.current.value,status:1},o=await R.save(r);b(!1),o&&(W.success("¡Suscrito!",{description:`Te has suscrito correctamente al blog de ${h.APP_NAME}.`,icon:e.jsx(Z,{className:"h-5 w-5 text-green-500"}),duration:3e3,position:"top-center"}),f.current.value=null)},B=(s,r=1200)=>{const o=s.getBoundingClientRect().top+window.pageYOffset,i=window.pageYOffset,c=o-i-80;let l=null;const m=A=>{l===null&&(l=A);const T=A-l,d=Math.min(T/r,1),H=d<.5?4*d*d*d:1-Math.pow(-2*d+2,3)/2;window.scrollTo(0,i+c*H),T<r&&requestAnimationFrame(m)};requestAnimationFrame(m)},F=((_=n.find(s=>s.correlative==="footer_description"))==null?void 0:_.description)||"",y=(()=>{var s;try{const r=(s=n.find(i=>i.correlative==="footer_company_links"))==null?void 0:s.description;return(r?JSON.parse(r):[]).filter(i=>i.visible!==!1)}catch{return[]}})(),x=((C=n.find(s=>s.correlative==="phone_contact"))==null?void 0:C.description)||"",p=((S=n.find(s=>s.correlative==="email_contact"))==null?void 0:S.description)||"",k=((M=n.find(s=>s.correlative==="address"))==null?void 0:M.description)||"",P=((E=n.find(s=>s.correlative==="opening_hours"))==null?void 0:E.description)||"";return e.jsxs("footer",{className:"bg-primary text-white",children:[e.jsxs("div",{className:"2xl:max-w-7xl mx-auto px-primary 2xl:px-0 py-16",children:[e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-5 gap-12 mb-12",children:[e.jsxs("div",{className:"md:col-span-2 lg:col-span-2 w-8/12",children:[e.jsx("div",{className:"flex items-center gap-2 mb-4 ",children:t!=null&&t.logo_footer?e.jsx("img",{src:`/assets/resources/logo-footer.png?v=${crypto.randomUUID()}`,alt:h.APP_NAME,className:"h-12 object-contain",onError:s=>{s.target.onerror=null,s.target.src="/assets/img/logo-bk.svg"}}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-wood-400 to-wood-600 rounded-lg"}),e.jsx("h3",{className:"text-xl font-bold",children:h.APP_NAME})]})}),e.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:F||"Líderes en distribución de productos de alta calidad para profesionales que exigen lo mejor."}),e.jsx("div",{className:"flex gap-3",children:O.map((s,r)=>e.jsx(U,{content:`Ver ${s.name} en ${s.description}`,children:e.jsx("a",{href:s.link,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 bg-white/10 hover:bg-white/20 rounded-full flex items-center justify-center transition-colors text-base",children:e.jsx("i",{className:s.icon})})},r))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold mb-4",children:(t==null?void 0:t.products_title)||"Productos"}),$?e.jsx("div",{className:"space-y-2",children:[1,2,3,4].map(s=>e.jsx("div",{className:"h-4 bg-white/10 rounded animate-pulse"},s))}):v.length>0?e.jsx("ul",{className:"space-y-2 text-gray-300",children:v.map(s=>e.jsx("li",{children:e.jsx("a",{href:"#",className:"hover:text-wood-300 transition-colors line-clamp-1",title:s.name,children:s.name})},s.id))}):e.jsx("p",{className:"text-white text-sm",children:"No hay productos disponibles"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold mb-4",children:(t==null?void 0:t.company_title)||"Empresa"}),y.length>0&&e.jsx("ul",{className:"space-y-2 text-gray-300 mb-6",children:y.map((s,r)=>e.jsx("li",{children:e.jsx("a",{href:s.href||"#",className:"hover:text-wood-300 transition-colors",onClick:o=>{const i=s.href||"#";if(i.includes("#")){o.preventDefault();const c=i.indexOf("#"),l=i.substring(c+1),m=document.getElementById(l);m&&(B(m,1200),setTimeout(()=>{window.history.pushState(null,"",i)},100))}},children:s.name})},r))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold mb-4",children:(t==null?void 0:t.contact_title)||"Ubicación"}),e.jsxs("ul",{className:"space-y-3 text-gray-300",children:[p&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx(V,{className:"w-4 h-4 text-wood-300 flex-shrink-0 mt-1"}),e.jsx("div",{className:"text-sm",children:e.jsx("div",{className:"text-gray-300",children:p.includes(",")?p.split(",").map((s,r)=>e.jsx("div",{className:"block",children:s.trim()},r)):p})})]})}),x&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(X,{className:"w-4 h-4 text-wood-300 flex-shrink-0 mt-1"}),e.jsx("div",{className:"text-sm",children:e.jsx("div",{className:"text-gray-300",children:x.includes(",")?x.split(",").map((s,r)=>e.jsx("div",{className:"block",children:s.trim()},r)):x})})]})}),k&&e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx(K,{className:"w-5 h-5 text-wood-300 flex-shrink-0 mt-0.5"}),e.jsx("div",{children:e.jsx("div",{className:"text-sm whitespace-pre-line",children:k})})]}),P&&e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-wood-300 flex-shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("div",{children:e.jsx("div",{className:"text-sm whitespace-pre-line",children:P})})]})]}),(t==null?void 0:t.show_newsletter)&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h4",{className:"text-sm font-bold mb-2",children:(t==null?void 0:t.newsletter_title)||"Suscríbete al blog"}),e.jsx("form",{onSubmit:z,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:f,type:"email",placeholder:(t==null?void 0:t.newsletter_placeholder)||"Tu email",className:"flex-1 px-3 py-2 text-sm text-neutral-dark rounded-lg focus:ring-2 focus:ring-wood-300 focus:outline-none",disabled:u,required:!0}),e.jsx("button",{disabled:u,className:"px-4 py-2 bg-wood-400 hover:bg-wood-500 text-white text-sm font-bold rounded-lg transition-colors disabled:opacity-50","aria-label":"Suscribirse",children:u?(t==null?void 0:t.newsletter_sending)||"...":(t==null?void 0:t.newsletter_button)||"Enviar"})]})})]})]})]}),e.jsx("div",{className:"border-t border-white/10 pt-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("p",{className:"text-white text-md",children:[(t==null?void 0:t.copyright)||`© ${q} ${h.APP_NAME}. Todos los derechos reservados.`,e.jsxs("span",{className:"italic",children:["  Powered by  ",e.jsx("a",{href:"https://www.mundoweb.pe",target:"_blank",rel:"noopener noreferrer",children:"MundoWeb"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 md:gap-6 text-md text-white justify-center",children:[e.jsx("a",{onClick:()=>w(0),className:"hover:text-wood-300 transition-colors cursor-pointer",children:(t==null?void 0:t.privacy_text)||"Política de Privacidad"}),e.jsx("a",{onClick:()=>w(1),className:"hover:text-wood-300 transition-colors cursor-pointer",children:(t==null?void 0:t.terms_text)||"Términos y Condiciones"}),e.jsx("a",{href:"/libro-reclamaciones",className:"hover:text-wood-300 transition-colors hidden",children:(t==null?void 0:t.complaints_text)||"Libro de reclamaciones"})]})]})})]}),Object.keys(N).map((s,r)=>{var c;const o=N[s],i=((c=n.find(l=>l.correlative===s))==null?void 0:c.description)??"";return e.jsx(Y,{isOpen:L===r,onRequestClose:j,contentLabel:o,className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center p-4 z-50",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-[99999]",ariaHideApp:!1,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 pr-4",children:o}),e.jsx("button",{onClick:j,className:"flex-shrink-0 text-white hover:text-red-500 transition-colors duration-200 p-1 hover:bg-gray-100 rounded-full","aria-label":"Cerrar modal",children:e.jsx(Q,{size:24,strokeWidth:2})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"prose prose-gray max-w-none",children:e.jsx(J,{html:i})})}),e.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:e.jsx("button",{onClick:j,className:"px-6 py-2 bg-primary text-white rounded-lg transition-colors duration-200 font-medium",children:"Cerrar"})})]})},r)})]})};export{ke as default};

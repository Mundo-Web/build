var m=Object.defineProperty;var d=(t,e,a)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var n=(t,e,a)=>d(t,typeof e!="symbol"?e+"":e,a);import{j as i}from"./AboutSimple-Cf8x2fCZ.js";import{r as u}from"./index-BOnQTV8N.js";import{c as f}from"./ReactAppend-QR5TrZfj.js";import{B as x}from"./Base-DBEnvIag.js";import{C as b}from"./CreateReactScript-C6Pqnfy6.js";import{T as g}from"./Table-D5QLN1m4.js";import{D as c}from"./DxButton-DV0H-ZcL.js";import{B as h}from"./BasicRest-BML1C-ua.js";import{R as l}from"./ReactAppend-Vm5G2nof.js";import{S as C}from"./ProductCard-D9l7c7at.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-B6ujFmsw.js";import"./Global-CazroCzF.js";import"./tippy-react.esm-DmkRJDEW.js";import"./index-pSueRYGM.js";/* empty css              */import"./Logout-BpuTJ_83.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuItemContainer-DcxtOi47.js";import"./index.esm-C48oHfFw.js";import"./index-ngrFHoWO.js";import"./CanAccess-DwCGzUAc.js";/* empty css               */import"./General-apRuNwp7.js";import"./LaravelSession-Dz9cpV3l.js";import"./BooleanLimit-D-OsQsek.js";import"./Modal-xDw9ufjg.js";import"./CardProductKatya-ncpmQ0JU.js";class R extends h{constructor(){super(...arguments);n(this,"path","admin/subscriptions")}}const o=new R,w=()=>{const t=u.useRef(),e=async({id:r,status:s})=>{await o.status({id:r,status:s})&&$(t.current).dxDataGrid("instance").refresh()},a=async r=>{const{isConfirmed:s}=await C.fire({title:"Eliminar suscripción",text:"¿Estas seguro de eliminar esta suscripción?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!s||!await o.delete(r)||$(t.current).dxDataGrid("instance").refresh()};return i.jsx(i.Fragment,{children:i.jsx(g,{gridRef:t,title:"Suscripciones",rest:o,toolBar:r=>{r.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(t.current).dxDataGrid("instance").refresh()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"name",caption:"Proveedor"},{dataField:"description",caption:"Correo"},{dataField:"created_at",caption:"Fecha subscripcion",dataType:"datetime",format:"yyyy-MM-dd HH:mm:ss",sortOrder:"desc"},{dataField:"status",caption:"Estado",dataType:"boolean",cellTemplate:(r,{data:s})=>{s.status?l(r,i.jsx("span",{className:"badge bg-success rounded-pill",children:"Activo"})):l(r,i.jsx("span",{className:"badge bg-danger rounded-pill",children:"Inactivo"}))}},{caption:"Acciones",cellTemplate:(r,{data:s})=>{r.append(c({className:"btn btn-xs btn-light",title:s.status===null?"Restaurar":"Cambiar estado",icon:s.status===1?"fa fa-toggle-on text-success":s.status===0?"fa fa-toggle-off text-danger":"fas fa-trash-restore",onClick:()=>e(s)})),r.append(c({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>a(s.id)}))},allowFiltering:!1,allowExporting:!1}]})})};b((t,e)=>{f.createRoot(t).render(i.jsx(x,{...e,title:"Suscripciones",children:i.jsx(w,{...e})}))});

import{r as e,j as t,X as r,S as a,E as s,J as o,u as n,H as i,v as l,w as c,y as d,z as m}from"./vendor-react-CtPXetfm.js";import{G as u}from"./Footer-coriRrmf.js";import{C as p}from"./CartModal-Dc02Qq8z.js";import{L as h}from"./Logout-DQyEsGXW.js";import{P as x}from"./ProfileImage-DuxV2k5O.js";import f from"./TopBarPages-3DZj6q67.js";import g from"./TopBarSimple-DjLQDWXa.js";import b from"./TopBarSocials-4fQB5Rw0.js";import j from"./TopBarCart-C9iu-T-u.js";import y from"./TopBarCopyright-KV4V2f7U.js";import v from"./TopBarPanni-Dr_WD2Gx.js";import w from"./TopBarCopyrightSocials-BYasKZfF.js";import{C as N}from"./Number2Currency-BX4epFEo.js";import{A as C,m as k}from"./vendor-motion-CThzL09Q.js";import"./vendor-swiper-Cr_RrIb_.js";import"./CartItemRow-Be-sAbq9.js";import"./CartKuchara-CNLBbncw.js";import"./useCintillos-j6GwfNC0.js";import"./General-ClVW7qxN.js";import"./CintilloScheduler-vKcq-kCc.js";import"./MobileMenu-D1i5uXb9.js";import"./OpenPayCardModal-CbSnHq7o.js";import"./BasicRest-DtgqEuc9.js";import"./BooleanLimit-q2Ad9fGY.js";import"./adjustTextColor-69KGUbTd.js";import"./TopBarSimple-BsCVTNYS.js";import"./CreateReactScript-Cjoo020C.js";import"./TippyButton-Dqi9Vaf_.js";import"./LaravelSession-ByQnaUD3.js";import"./Menu-BjIZNCK0.js";import"./TopBarCopyright-DPl_iw6g.js";import"./JobApplicationRest-CNBM3VKB.js";const S=({pages:n,items:i,onClose:l})=>{const[c,d]=e.useState("main"),[m,u]=e.useState("right"),[p,h]=e.useState(""),x=e.useRef(null),f=i?i.filter(e=>e&&e.id&&e.name).sort((e,t)=>e.name.localeCompare(t.name,"es",{sensitivity:"base"})):[],g=(e,t="right")=>{u(t),setTimeout(()=>{d(e)},50)};return e.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),e.useEffect(()=>{const e=e=>{"Escape"===e.key&&(p.trim()?h(""):l())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[p,l]),t.jsxs("div",{className:"fixed inset-0 z-[99999] flex flex-col touch-none overscroll-none",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:l}),t.jsx("div",{className:"relative w-full md:w-[400px] md:mx-auto flex flex-col h-[100dvh]",children:t.jsxs("div",{className:"mt-auto bg-white shadow-xl flex flex-col max-h-[80vh] rounded-t-2xl overflow-hidden",children:[t.jsxs("div",{className:"p-4 bg-white flex justify-between items-center border-b border-gray-200 sticky top-0 z-[9999]",children:[t.jsx("h1",{className:"text-lg font-bold",children:"categories"===c?"Categorías":"Menú principal"}),t.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",onClick:l,children:t.jsx(r,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"overflow-y-auto flex-1 p-4 overscroll-contain",children:[t.jsx("div",{className:"mb-5",children:t.jsxs("form",{onSubmit:e=>{if(e.preventDefault(),p.trim()){const e=p.trim();window.location.href=`/catalogo?search=${encodeURIComponent(e)}`}return!1},role:"search",className:"relative w-full",children:[t.jsx("input",{ref:x,type:"search",name:"search",placeholder:"Buscar productos",value:p,onChange:e=>h(e.target.value),onKeyDown:e=>{if("Enter"===e.key&&(e.preventDefault(),p.trim())){const e=p.trim();window.location.href=`/catalogo?search=${encodeURIComponent(e)}`}},className:"w-full pr-12 py-3 pl-4 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:outline-none",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),t.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:t.jsx(a,{className:"h-4 w-4"})})]})}),"main"!==c&&t.jsxs("button",{onClick:()=>{"categories"===c&&g("main","left")},className:"flex items-center customtext-primary mb-4 font-medium",children:[t.jsx(s,{className:"h-5 w-5 mr-1"}),t.jsx("span",{children:"Volver"})]}),t.jsx("div",{className:"pb-16",children:"main"===c?t.jsxs("div",{className:"animate-fade animate-duration-300",children:[t.jsxs("button",{className:"px-4 py-2 mb-3 w-full flex justify-between items-center hover:bg-gray-50 active:bg-primary transition-all rounded-xl",onClick:()=>{g("categories","right")},children:[t.jsx("div",{className:"flex items-center",children:t.jsx("span",{className:"font-medium",children:"Categorías"})}),t.jsx(o,{className:"h-5 w-5 customtext-neutral-light"})]}),t.jsx("div",{className:"space-y-2",children:n&&n.filter(e=>e.menuable).map((e,r)=>t.jsx("a",{href:e.pseudo_path||e.path,onClick:l,className:"p-4 py-2 flex justify-between items-center w-full hover:bg-gray-50 active:bg-primary transition-all rounded-xl",children:t.jsx("span",{className:"font-medium",children:e.name})},e.id))})]}):"categories"===c?t.jsx("div",{className:"right"===m?"animate-fade-left animate-duration-300":"animate-fade-right animate-duration-300",children:t.jsx("div",{className:"space-y-2",children:f.map(e=>t.jsx("button",{className:"px-4 py-2 rounded-xl flex justify-between items-center cursor-pointer hover:bg-gray-50 active:bg-primary transition-all w-full text-left",onClick:()=>(e=>{const t=e.slug||e.id;window.location.href=`/catalogo?category=${t}`,l()})(e),children:t.jsx("span",{className:"font-medium",children:e.name})},e.id))})}):void 0})]})]})})]})},B=({items:s,data:o,cart:B,setCart:T,isUser:E,pages:L,generals:R=[]})=>{const M=R.find(e=>"phone_whatsapp"===e.correlative),z=R.find(e=>"message_whatsapp"===e.correlative),D=M?.description??null,P=z?.description??null,[U,I]=e.useState(!1),[$,A]=e.useState(!1),[_,H]=e.useState(!1),[K,F]=e.useState(""),[q,O]=e.useState(!1),[W,J]=e.useState(!1),[V,X]=e.useState([]),[G,Y]=e.useState(!1),[Z,Q]=e.useState(!1),[ee,te]=e.useState(-1),re=e.useRef([]),ae=e.useRef(null),se=e.useRef(null),oe=e.useRef(null),ne=e.useRef(null),ie=e.useRef(null),le=e.useRef(null),ce=e.useRef([]),de=B.reduce((e,t)=>Number(e)+Number(t.quantity),0),me=async e=>{if(!e.trim()||e.length<2)return X([]),void Y(!1);Q(!0);try{const t=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:[["name","contains",e],"or",["summary","contains",e],"or",["description","contains",e]],sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(!t.ok)throw new Error("Error en la búsqueda");const r=await t.json();200===r.status&&Array.isArray(r.data)?(X(r.data),Y(r.data.length>0)):(X([]),Y(!1))}catch(t){X([]),Y(!1)}finally{Q(!1)}},ue=e=>{F(e),te(-1),le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{me(e)},300)},pe=()=>{Y(!1),X([]),te(-1)},he=e=>{if(!e)return;Y(!1),H(!1);const t=e.slug?`/product/${e.slug}`:`/catalogo?search=${encodeURIComponent(e.name)}`;window.location.href=t};e.useEffect(()=>{function e(e){ae.current&&!ae.current.contains(e.target)&&O(!1),se.current&&!se.current.contains(e.target)&&(K.trim()||H(!1)),!ie.current||ie.current.contains(e.target)||ne.current?.contains(e.target)||oe.current?.contains(e.target)||pe()}return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}},[K]),e.useEffect(()=>{const e=()=>{window.scrollY>0?J(!0):J(!1)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e.useEffect(()=>{const e=e=>{"Escape"===e.key&&(G?pe():_&&(H(!1),F("")))};return(_||G)&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[_,G]),e.useEffect(()=>()=>{le.current&&clearTimeout(le.current)},[]),e.useEffect(()=>{ee>=0&&ce.current[ee]&&ie.current&&ce.current[ee].scrollIntoView({block:"nearest",behavior:"smooth"})},[ee]);const xe=[{icon:t.jsx(d,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:t.jsx(c,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:t.jsx(m,{size:16}),label:"Configuración",href:"/account"},{icon:t.jsx(l,{size:16}),label:"Cerrar Sesión",onClick:h}],fe=e=>{if(e.preventDefault(),pe(),K.trim()){const e=K.trim();window.location.href=`/catalogo?search=${encodeURIComponent(e)}`}return!1},ge=e=>{if(e.preventDefault(),pe(),K.trim()){const e=K.trim();H(!1),window.location.href=`/catalogo?search=${encodeURIComponent(e)}`}return!1};function be(e){const t=ie.current,r=re.current[e];if(!t||!r)return;const a=t.getBoundingClientRect(),s=r.getBoundingClientRect();s.top<a.top?t.scrollTop-=a.top-s.top:s.bottom>a.bottom&&(t.scrollTop+=s.bottom-a.bottom)}const je=e=>{if(G&&0!==V.length)switch(e.key){case"ArrowDown":e.preventDefault(),te(e=>{const t=e<V.length-1?e+1:e;return setTimeout(()=>be(t),0),t});break;case"ArrowUp":e.preventDefault(),te(e=>{const t=e>0?e-1:0;return setTimeout(()=>be(t),0),t});break;case"Enter":e.preventDefault(),ee>=0&&ee<V.length?he(V[ee]):K.trim()&&fe(e);break;case"Escape":Y(!1)}},ye=({suggestions:e,isLoading:r,onSelect:s,selectedIndex:o})=>G?t.jsx(k.div,{ref:ie,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-[60] max-h-80 overflow-y-auto mt-1",children:r?t.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Buscando..."]})}):e.length>0?t.jsx("ul",{className:"py-2",children:e.map((e,r)=>t.jsx("li",{ref:e=>re.current[r]=e,children:t.jsxs("button",{"data-suggestion-button":!0,onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),setTimeout(()=>s(e),0)},className:"w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 "+(r===o?"bg-primary border-l-4 border-primary":""),type:"button",children:[t.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 rounded-lg overflow-hidden",children:e.image?t.jsx("img",{src:`/api/items/media/${e.image}`,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}}):t.jsx("div",{className:"w-full h-full flex items-center justify-center customtext-neutral-dark",children:t.jsx(a,{size:16})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-medium customtext-neutral-dark truncate",children:e.name}),e.category&&t.jsx("div",{className:"text-sm customtext-neutral-dark truncate",children:e.category.name}),e.final_price&&t.jsxs("div",{className:"text-sm font-semibold customtext-primary",children:[N()," ",parseFloat(e.final_price).toFixed(2)]})]})]})},e.id))}):t.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:"No se encontraron productos"})}):null;let ve=!1;if(E&&Array.isArray(E.roles)){const e=E.roles.map(e=>e.name?.toLowerCase());ve=!e.includes("admin")&&!e.includes("root")}return t.jsxs("header",{id:o?.element_id||null,className:"w-full top-0 left-0 z-50 transition-all duration-300 "+(W?"fixed bg-white shadow-lg":"relative bg-white"),children:[(()=>{if(!W)return null;switch(o?.topBarType||"TopBarPages"){case"TopBarSimple":return t.jsx(g,{data:o});case"TopBarSocials":return t.jsx(b,{items:s,data:o});case"TopBarCart":return t.jsx(j,{data:o,items:s,cart:B,setCart:T,isUser:E});case"TopBarCopyright":return t.jsx(y,{data:o,items:s,cart:B,setCart:T,isUser:E});case"TopBarPanni":return t.jsx(v,{data:o,items:s,cart:B,setCart:T,isUser:E});case"TopBarCopyrightSocials":return t.jsx(w,{items:s,cart:B,setCart:T,isUser:E});default:return t.jsx(f,{items:s,data:o,pages:L})}})(),t.jsxs("div",{className:"px-primary  bg-white 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4",children:[t.jsx("a",{href:"/",className:"hidden md:flex items-center gap-2 z-[51]",children:t.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:u.APP_NAME,className:"h-14 object-contain object-center",onError:e=>{e.target.onerror=null,e.target.src="/assets/img/logo-bk.svg"}})}),t.jsxs("div",{className:"flex md:hidden items-center justify-between w-full",children:[t.jsx("button",{"aria-label":"Menú",onClick:()=>A(!$),className:"flex items-center justify-center bg-primary rounded-lg w-auto h-auto p-2 text-white fill-white transition-all duration-300",children:$?t.jsx(r,{}):t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[t.jsx("path",{d:"M10 5H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M4 12H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),t.jsx("path",{d:"M4 19H14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),t.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51]",children:t.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:u.APP_NAME,className:"h-12 object-contain object-center",onError:e=>{e.target.onerror=null,e.target.src="/assets/img/logo-bk.svg"}})}),t.jsx("button",{"aria-label":"Buscar productos",onClick:()=>{H(!0),setTimeout(()=>{oe.current&&oe.current.focus()},100)},className:"flex items-center justify-center p-2",children:t.jsx(a,{className:"customtext-primary",size:24})})]}),t.jsxs("div",{className:"hidden md:block relative w-full max-w-xl mx-auto",children:[t.jsxs("form",{onSubmit:fe,role:"search",children:[t.jsx("input",{ref:ne,type:"search",name:"search",placeholder:"Estoy buscando...",value:K,onChange:e=>ue(e.target.value),onKeyDown:je,onFocus:()=>{K.trim().length>=2&&me(K)},className:"w-full pr-14 py-4 pl-4 border rounded-full font-normal focus:ring-0 customtext-neutral-dark placeholder:customtext-neutral-dark focus:outline-none bg-white",enterKeyHint:"search",inputMode:"search",autoComplete:"on",role:"searchbox","aria-label":"Estoy buscando..."}),t.jsx("button",{type:"submit",className:`absolute right-3 top-1/2 transform -translate-y-1/2 p-2 ${o?.backgroundColor?o?.backgroundColor:"bg-primary"} text-white rounded-lg hover:bg-primary hover:scale-105  transition-all duration-300`,"aria-label":"Buscar",children:t.jsx(a,{})})]}),t.jsx(C,{children:t.jsx(ye,{suggestions:V,isLoading:Z,onSelect:he})})]}),o?.showLoginCart?t.jsxs("div",{className:"hidden md:flex items-center gap-4 relative text-sm",children:[t.jsxs("div",{ref:ae,children:[E?t.jsxs("button",{"aria-label":"user",className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-primary pr-6 transition-all duration-300 relative group",onClick:()=>O(!q),children:[t.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:E.uuid?t.jsxs("div",{className:"relative",children:[t.jsx(x,{uuid:E.uuid,name:E.name,lastname:E.lastname,className:"w-8 h-8 rounded-full object-cover border-2 border-primary ring-secondary transition-all duration-300"}),t.jsxs("div",{className:"absolute -bottom-[-0.115rem] -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[t.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),t.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):t.jsxs("div",{className:"relative",children:[t.jsx(n,{className:"customtext-primary border-2 border-primary rounded-full  ring-secondary group-hover:ring-green-300 transition-all duration-300"}),t.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[t.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),t.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})}),t.jsx("span",{className:"hidden md:inline",children:E.name})]}):t.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm hover:customtext-primary transition-colors duration-300",children:[t.jsx(n,{className:"customtext-primary"}),t.jsx("span",{className:"hidden md:inline",children:"Iniciar Sesión"})]}),t.jsx(C,{children:q&&t.jsx(k.div,{initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},className:"absolute z-50 top-full left-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:t.jsx("div",{className:"p-4",children:t.jsx("ul",{className:"space-y-4",children:ve?xe.map((e,r)=>t.jsx("li",{children:e.onClick?t.jsxs("button",{"aria-label":"menu-items",onClick:t=>{t.preventDefault(),t.stopPropagation(),O(!1),setTimeout(()=>{e.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.icon,t.jsx("span",{children:e.label})]}):t.jsxs("a",{href:e.href,onClick:e=>{e.stopPropagation(),O(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.icon,t.jsx("span",{children:e.label})]})},r)):t.jsxs(t.Fragment,{children:[t.jsx("li",{children:t.jsxs("a",{href:"/admin/home",onClick:e=>{e.stopPropagation(),O(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.jsx(i,{size:16}),t.jsx("span",{children:"Dashboard"})]})}),t.jsx("li",{children:t.jsxs("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),O(!1),setTimeout(()=>{h()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.jsx(l,{size:16}),t.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}),t.jsxs("button",{"aria-label":"cart",onClick:()=>I(!0),className:"flex items-center gap-2 text-sm relative hover:customtext-primary transition-colors duration-300",children:[t.jsx("div",{className:"customtext-primary",children:t.jsx(c,{})}),t.jsx("span",{className:"hidden md:inline",children:"Mi Carrito"}),t.jsx("span",{className:"absolute -right-6 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs bg-primary text-white rounded-full",children:de})]})]}):t.jsx(t.Fragment,{children:t.jsx("a",{"aria-label":"primary-button",className:` hidden lg:block px-6 py-2.5 text-white font-medium rounded-3xl hover:brightness-125 transition-all duration-500 ${o.class_pedido||"bg-primary"}`,target:"_blank",rel:"noopener noreferrer",href:D&&P?`https://api.whatsapp.com/send?phone=${encodeURIComponent(D)}&text=${encodeURIComponent(P)}`:"#",children:"Haz tu pedido"})})]}),o?.mobileSearch&&!(()=>{try{const e=window.location.pathname||"";return["/cart","/checkout"].some(t=>e.includes(t))}catch(e){return!1}})()&&t.jsx("div",{className:"block md:hidden mt-6 space-y-4",children:t.jsxs("div",{className:"w-full relative",children:[t.jsxs("form",{onSubmit:ge,role:"search",className:"relative w-full",children:[t.jsx("input",{type:"search",name:"search",placeholder:"Buscar productos...",value:K,onChange:e=>ue(e.target.value),onKeyDown:je,onFocus:()=>{K.trim().length>=2&&me(K)},className:"w-full pr-14 py-3 font-normal pl-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent focus:outline-none bg-gray-50",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),t.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:t.jsx(a,{size:18})})]}),t.jsx(C,{children:t.jsx(ye,{suggestions:V,isLoading:Z,onSelect:he,selectedIndex:ee})})]})})]}),t.jsx(C,{children:$&&t.jsx(S,{pages:L,items:s,onClose:()=>A(!1)})}),t.jsx(C,{children:_&&t.jsx(k.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/20 md:hidden",onClick:()=>{H(!1),F(""),pe()},children:t.jsxs(k.div,{initial:{y:"-100%"},animate:{y:0},exit:{y:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white shadow-xl border-b",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[t.jsx("h3",{className:"text-lg font-semibold customtext-neutral-dark",children:"Buscar productos"}),t.jsx("button",{onClick:()=>{H(!1),F(""),pe()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Cerrar búsqueda",children:t.jsx(r,{size:20,className:"customtext-neutral-dark"})})]}),t.jsx("div",{className:"p-4 space-y-4",children:t.jsxs("div",{className:"w-full relative",children:[t.jsxs("form",{onSubmit:ge,role:"search",className:"relative w-full",children:[t.jsx("input",{ref:oe,type:"search",name:"search",placeholder:"Buscar productos...",value:K,onChange:e=>ue(e.target.value),onKeyDown:je,onFocus:()=>{K.trim().length>=2&&me(K)},className:"w-full pr-14 py-3 font-normal pl-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent focus:outline-none bg-gray-50",autoFocus:!0,enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),t.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:t.jsx(a,{size:18})})]}),t.jsx(C,{children:t.jsx(ye,{suggestions:V,isLoading:Z,onSelect:he,selectedIndex:ee})})]})})]})})}),t.jsx(p,{data:o,cart:B,setCart:T,modalOpen:U,setModalOpen:I})]})};export{B as default};

var e=Object.defineProperty,a=(a,s,l)=>((a,s,l)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[s]=l)(a,"symbol"!=typeof s?s+"":s,l);import{j as s,b_ as l,c as i,r as t,i as c,L as r,A as o,G as n,M as d}from"./vendor-react-BX-OgZ1w.js";import{t as m,T as p}from"./OpenPayCardModal-DKUbGzgl.js";import{B as h}from"./Base-D1ePwdy7.js";import{B as u}from"./BasicRest-qY-8D5Ep.js";import{C as x}from"./CreateReactScript-A9ZGwbIB.js";import{Q as b}from"./QuillFormGroup-C_tO7TVd.js";import{G as v}from"./Footer-CrpKyZX2.js";import{S as _}from"./SelectFormGroup-CmffoIIP.js";import{G as g}from"./GalleryRest-C1JynE5K.js";import{R as j}from"./RepositoryRest-6OqwX3po.js";import{T as f}from"./TextareaFormGroup-EzJS_9vv.js";import{l as N}from"./ShippingStep-D1luxQJv.js";import"./vendor-swiper-Cr_RrIb_.js";import"./TippyButton-DqdjTa95.js";import"./Logout-BWCHsJMV.js";import"./MenuItemContainer-Dgmk4LC8.js";import"./Menu-BGctQja3.js";import"./BooleanLimit-q2Ad9fGY.js";import"./General-ClVW7qxN.js";import"./LaravelSession-ByQnaUD3.js";const y=({label:e,value:a,onChange:i,height:t=400,variables:c=[]})=>s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:e}),s.jsx(l,{apiKey:v.API_KEY_TINYMCE,value:a,init:{height:t,plugins:["advlist","autolink","link","image","lists","charmap","preview","anchor","pagebreak","searchreplace","wordcount","visualblocks","visualchars","code","fullscreen","insertdatetime","media","table","emoticons","help"],toolbar:"undo redo | formatselect | bold italic underline forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media | table tabledelete tableprops tablerowprops tablecellprops | codesample code | removeformat | help",menubar:"file edit view insert format tools table help",image_advtab:!0,image_title:!0,relative_urls:!1,remove_script_host:!1,convert_urls:!0,automatic_uploads:!0,extended_valid_elements:"img[data-src|src|alt|style|width|height|class]",images_upload_handler:function(e){const a=new FormData;return a.append("file",e.blob()),fetch("/api/upload-image",{method:"POST",body:a}).then(e=>{if(!e.ok)throw new Error("Error en la subida");return e.json()}).then(e=>{if(e?.location)return e.location;throw new Error("Respuesta inválida")}).catch(e=>{throw new Error("Error al subir la imagen: "+e.message)})},content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",setup:e=>{const a=e=>e=(e=(e=(e=e.replace(/src="[^"]*({{[^}]+}})"/g,'src="$1"')).replace(/src="[^"]*(https?:\/\/[^"}]+)"/g,'src="$1"')).replace(/href="[^"]*({{[^}]+}})"/g,'href="$1"')).replace(/href="[^"]*(https?:\/\/[^"}]+)"/g,'href="$1"');e.on("BeforeSetContent",function(e){e.content&&"string"==typeof e.content&&(e.content=a(e.content))}),e.on("PostProcess",function(e){e.content&&"string"==typeof e.content&&(e.content=a(e.content))})}},onEditorChange:i}),c&&c.length>0&&s.jsxs("div",{className:"mt-1 small text-muted",children:["Variables disponibles: ",c.map(e=>s.jsx("code",{className:"me-1",children:"{{"+e+"}}"},e))]})]}),k=["places"],C=new class extends u{constructor(){super(...arguments),a(this,"path","admin/generals")}async updateVisibility(e){try{const a=this.path;this.path="admin/generals/visibility";const s=await this.save({updates:e});return this.path=a,s}catch(a){throw a}}},w=new g,P=new j,I=({generals:e,allGenerals:a,session:l,hasRootRole:i})=>{t.useEffect(()=>{});const h=t.useCallback(()=>void 0!==i?i:l?.roles?.some(e=>"Root"===e.name)||!1,[i,l]),u=t.useMemo(()=>e,[e]),x=t.useCallback(e=>u.some(a=>a.correlative===e),[u]),g={general:["address","cintillo","copyright","opening_hours","header_menu_order","excel_import_template","footer_description","footer_company_links","body_custom_html"],email:["purchase_summary_email","order_status_changed_email","blog_published_email","claim_email","whistleblowing_email","password_changed_email","reset_password_email","subscription_email","verify_account_email","message_contact_email","admin_purchase_email","admin_contact_email","admin_claim_email","admin_whistleblowing_email","job_application_email","admin_job_application_email"],contact:["phone_contact","email_contact","support_phone","support_email","coorporative_email","whatsapp_advisors"],checkout:["checkout_culqi","checkout_culqi_name","checkout_culqi_public_key","checkout_culqi_private_key","checkout_culqi_rsa_id","checkout_culqi_rsa_public_key","checkout_culqi_supports_usd","checkout_culqi_commission","checkout_mercadopago","checkout_mercadopago_name","checkout_mercadopago_public_key","checkout_mercadopago_private_key","checkout_mercadopago_commission","checkout_openpay","checkout_openpay_name","checkout_openpay_merchant_id","checkout_openpay_public_key","checkout_openpay_private_key","checkout_openpay_commission","checkout_openpay_sandbox_mode","checkout_dwallet","checkout_dwallet_qr","checkout_dwallet_name","checkout_dwallet_description","checkout_dwallet_commission","checkout_transfer","transfer_accounts","checkout_transfer_cci","checkout_transfer_name","checkout_transfer_description","checkout_transfer_commission"],importation:["importation_flete","importation_seguro","importation_derecho_arancelario","importation_derecho_arancelario_descripcion"],policies:["privacy_policy","terms_conditions","delivery_policy","saleback_policy","politica_sistema_gestion","alcance_sistema_gestion"],location:["location"],shippingfree:["shipping_free","igv_checkout","currency","exchange_rate_usd_pen","additional_shipping_costs"],seo:["site_title","site_description","site_keywords","og_title","og_description","og_image","og_url","twitter_title","twitter_description","twitter_image","twitter_card","favicon","canonical_url","robots_additional_rules"],hotel:["hotel_checkin_time","hotel_checkout_time"],pixels:["google_analytics_id","google_tag_manager_id","facebook_pixel_id","google_ads_conversion_id","google_ads_conversion_label","tiktok_pixel_id","hotjar_id","clarity_id","linkedin_insight_tag","twitter_pixel_id","pinterest_tag_id","snapchat_pixel_id","custom_head_scripts","custom_body_scripts"],oauth:["google_client_id","google_client_secret","google_oauth_enabled"],apis:["tiny_api_key","atalaya_leads_api_key"]},j=t.useCallback(e=>{const a=g[e];return!a||a.some(e=>x(e))},[x]),I=t.useMemo(()=>({correlative:e,children:a,fallback:s=null})=>x(e)?a:s,[x]);t.useCallback(e=>x(e),[x]);const A=e.find(e=>"location"==e.correlative)?.description??"0,0",q=["purchase_summary_email","order_status_changed_email","blog_published_email","claim_email","whistleblowing_email","password_changed_email","reset_password_email","subscription_email","verify_account_email","message_contact_email","admin_purchase_email","admin_contact_email","admin_claim_email","admin_whistleblowing_email","job_application_email","admin_job_application_email"],S=t.useMemo(()=>e.filter(e=>e.correlative.endsWith("_email")&&!e.correlative.startsWith("visibility_")&&"support_email"!==e.correlative&&"coorporative_email"!==e.correlative),[e]),[T,D]=t.useState(!1),[E,X]=t.useState(""),[G,M]=t.useState({}),[O,F]=t.useState(!1),[L,R]=t.useState(null),[H,U]=t.useState(!1);t.useEffect(()=>{S.length>0&&!E&&X(S[0].correlative)},[S,E]);const[$,z]=t.useState(!1),[V,B]=t.useState({}),[K,Y]=t.useState(!1),[J,W]=t.useState(null),[Q,Z]=t.useState("");t.useEffect(()=>{if(!E)return;const e={purchase_summary_email:"purchase_summary",order_status_changed_email:"order_status_changed",blog_published_email:"blog_published",claim_email:"claim",password_changed_email:"password_changed",reset_password_email:"password_reset",subscription_email:"subscription",verify_account_email:"verify_account",whistleblowing_email:"whistleblowing",message_contact_email:"message_contact",admin_purchase_email:"admin_purchase",admin_contact_email:"admin_contact",admin_claim_email:"admin_claim",admin_whistleblowing_email:"admin_whistleblowing",job_application_email:"job_application",admin_job_application_email:"admin_job_application"}[E];e?(F(!0),R(null),fetch(`/api/notification-variables/${e}`).then(e=>e.json()).then(e=>{M(e.variables||{}),F(!1)}).catch(e=>{R("No se pudieron cargar las variables."),F(!1)})):M({})},[E]),t.useEffect(()=>{if(h()){const e={};a&&a.length>0&&a.forEach(a=>{a&&a.correlative&&(e[a.correlative]=1===a.status||"1"===a.status)});["site_title","site_description","site_keywords","og_title","og_description","og_image","og_url","twitter_title","twitter_description","twitter_image","twitter_card","favicon","canonical_url"].forEach(a=>{a in e||(e[a]=!0)}),B(e)}},[a,h]);const ee=t.useCallback(e=>!!h()||!1!==V[e],[h,V]),ae=t.useMemo(()=>({correlative:e,children:a,fallback:s=null})=>ee(e)?a:s,[ee]),[se,le]=t.useState(()=>({email_templates:Object.fromEntries(q.map(a=>{const s=e.find(e=>e.correlative===a);return[a,s?.description??""]})),variable_visibility:Object.fromEntries(q.map(a=>{const s=e.find(e=>e.correlative===`visibility_${a}`);try{return[a,s?.description?JSON.parse(s.description):null]}catch(l){return[a,null]}})),phones:e.find(e=>"phone_contact"==e.correlative)?.description?.split(",")?.map(e=>e.trim())??[""],emails:e.find(e=>"email_contact"==e.correlative)?.description?.split(",")?.map(e=>e.trim())??[""],cintillos:(()=>{const a=e.find(e=>"cintillo"==e.correlative);if(!a?.description)return[];try{const e=JSON.parse(a.description);return Array.isArray(e)?e:[]}catch(s){return a.description.split(",").map(e=>e.trim()).filter(e=>e.length>0)}})(),copyright:e.find(e=>"copyright"==e.correlative)?.description??"",address:e.find(e=>"address"==e.correlative)?.description??"",openingHours:e.find(e=>"opening_hours"==e.correlative)?.description??"",supportPhone:e.find(e=>"support_phone"==e.correlative)?.description??"",supportEmail:e.find(e=>"support_email"==e.correlative)?.description??"",coorporativeEmail:e.find(e=>"coorporative_email"==e.correlative)?.description??"",privacyPolicy:e.find(e=>"privacy_policy"==e.correlative)?.description??"",termsConditions:e.find(e=>"terms_conditions"==e.correlative)?.description??"",deliveryPolicy:e.find(e=>"delivery_policy"==e.correlative)?.description??"",salebackPolicy:e.find(e=>"saleback_policy"==e.correlative)?.description??"",politicaSistemaGestion:e.find(e=>"politica_sistema_gestion"==e.correlative)?.description??"",alcanceSistemaGestion:e.find(e=>"alcance_sistema_gestion"==e.correlative)?.description??"",excelImportTemplate:e.find(e=>"excel_import_template"==e.correlative)?.description??"",headerMenuOrder:e.find(e=>"header_menu_order"==e.correlative)?.description??"",whatsappAdvisors:(()=>{const a=e.find(e=>"whatsapp_advisors"==e.correlative);if(!a?.description)return[];try{const e=JSON.parse(a.description);return Array.isArray(e)?e:[]}catch(s){return[]}})(),igvCheckout:e.find(e=>"igv_checkout"==e.correlative)?.description??"",shippingFree:e.find(e=>"shipping_free"==e.correlative)?.description??"",currency:e.find(e=>"currency"==e.correlative)?.description??"",exchange_rate_usd_pen:e.find(e=>"exchange_rate_usd_pen"==e.correlative)?.description??"3.75",additional_shipping_costs:(()=>{const a=e.find(e=>"additional_shipping_costs"==e.correlative);if(!a?.description)return[];try{const e=JSON.parse(a.description);return Array.isArray(e)?e:[]}catch(s){return[]}})(),location:{lat:Number(A.split(",").map(e=>e.trim())[0]),lng:Number(A.split(",").map(e=>e.trim())[1])},checkout_culqi:e.find(e=>"checkout_culqi"==e.correlative)?.description??"",checkout_culqi_name:e.find(e=>"checkout_culqi_name"==e.correlative)?.description??"",checkout_culqi_public_key:e.find(e=>"checkout_culqi_public_key"==e.correlative)?.description??"",checkout_culqi_private_key:e.find(e=>"checkout_culqi_private_key"==e.correlative)?.description??"",checkout_culqi_rsa_id:e.find(e=>"checkout_culqi_rsa_id"==e.correlative)?.description??"",checkout_culqi_rsa_public_key:e.find(e=>"checkout_culqi_rsa_public_key"==e.correlative)?.description??"",checkout_culqi_supports_usd:e.find(e=>"checkout_culqi_supports_usd"==e.correlative)?.description??"false",checkout_culqi_commission:e.find(e=>"checkout_culqi_commission"==e.correlative)?.description??"",checkout_mercadopago:e.find(e=>"checkout_mercadopago"==e.correlative)?.description??"",checkout_mercadopago_name:e.find(e=>"checkout_mercadopago_name"==e.correlative)?.description??"",checkout_mercadopago_public_key:e.find(e=>"checkout_mercadopago_public_key"==e.correlative)?.description??"",checkout_mercadopago_private_key:e.find(e=>"checkout_mercadopago_private_key"==e.correlative)?.description??"",checkout_mercadopago_commission:e.find(e=>"checkout_mercadopago_commission"==e.correlative)?.description??"",checkout_openpay:e.find(e=>"checkout_openpay"==e.correlative)?.description??"",checkout_openpay_name:e.find(e=>"checkout_openpay_name"==e.correlative)?.description??"",checkout_openpay_merchant_id:e.find(e=>"checkout_openpay_merchant_id"==e.correlative)?.description??"",checkout_openpay_public_key:e.find(e=>"checkout_openpay_public_key"==e.correlative)?.description??"",checkout_openpay_private_key:e.find(e=>"checkout_openpay_private_key"==e.correlative)?.description??"",checkout_openpay_commission:e.find(e=>"checkout_openpay_commission"==e.correlative)?.description??"",checkout_openpay_sandbox_mode:e.find(e=>"checkout_openpay_sandbox_mode"==e.correlative)?.description??"false",checkout_dwallet:e.find(e=>"checkout_dwallet"==e.correlative)?.description??"",checkout_dwallet_qr:e.find(e=>"checkout_dwallet_qr"==e.correlative)?.description??"",checkout_dwallet_name:e.find(e=>"checkout_dwallet_name"==e.correlative)?.description??"",checkout_dwallet_description:e.find(e=>"checkout_dwallet_description"==e.correlative)?.description??"",checkout_dwallet_commission:e.find(e=>"checkout_dwallet_commission"==e.correlative)?.description??"",checkout_transfer:e.find(e=>"checkout_transfer"==e.correlative)?.description??"",checkout_transfer_cci:e.find(e=>"checkout_transfer_cci"==e.correlative)?.description??"",checkout_transfer_name:e.find(e=>"checkout_transfer_name"==e.correlative)?.description??"",checkout_transfer_description:e.find(e=>"checkout_transfer_description"==e.correlative)?.description??"",checkout_transfer_commission:e.find(e=>"checkout_transfer_commission"==e.correlative)?.description??"",transfer_accounts:e.find(e=>"transfer_accounts"==e.correlative)?.description?JSON.parse(e.find(e=>"transfer_accounts"==e.correlative)?.description):[{image:null,cc:"",cci:"",name:"",description:""}],importation_flete:e.find(e=>"importation_flete"==e.correlative)?.description??"",importation_seguro:e.find(e=>"importation_seguro"==e.correlative)?.description??"",importation_derecho_arancelario:e.find(e=>"importation_derecho_arancelario"==e.correlative)?.description??"",importation_derecho_arancelario_descripcion:e.find(e=>"importation_derecho_arancelario_descripcion"==e.correlative)?.description??"",googleAnalyticsId:e.find(e=>"google_analytics_id"==e.correlative)?.description??"",googleTagManagerId:e.find(e=>"google_tag_manager_id"==e.correlative)?.description??"",facebookPixelId:e.find(e=>"facebook_pixel_id"==e.correlative)?.description??"",googleAdsConversionId:e.find(e=>"google_ads_conversion_id"==e.correlative)?.description??"",googleAdsConversionLabel:e.find(e=>"google_ads_conversion_label"==e.correlative)?.description??"",tiktokPixelId:e.find(e=>"tiktok_pixel_id"==e.correlative)?.description??"",hotjarId:e.find(e=>"hotjar_id"==e.correlative)?.description??"",clarityId:e.find(e=>"clarity_id"==e.correlative)?.description??"",linkedinInsightTag:e.find(e=>"linkedin_insight_tag"==e.correlative)?.description??"",twitterPixelId:e.find(e=>"twitter_pixel_id"==e.correlative)?.description??"",pinterestTagId:e.find(e=>"pinterest_tag_id"==e.correlative)?.description??"",snapchatPixelId:e.find(e=>"snapchat_pixel_id"==e.correlative)?.description??"",customHeadScripts:e.find(e=>"custom_head_scripts"==e.correlative)?.description??"",customBodyScripts:e.find(e=>"custom_body_scripts"==e.correlative)?.description??"",bodyCustomHtml:e.find(e=>"body_custom_html"==e.correlative)?.description??"",atalayaLeadsApiKey:e.find(e=>"atalaya_leads_api_key"==e.correlative)?.description??"",googleClientId:e.find(e=>"google_client_id"==e.correlative)?.description??"",googleClientSecret:e.find(e=>"google_client_secret"==e.correlative)?.description??"",googleOauthEnabled:e.find(e=>"google_oauth_enabled"==e.correlative)?.description??"false",siteTitle:e.find(e=>"site_title"==e.correlative)?.description??"",siteDescription:e.find(e=>"site_description"==e.correlative)?.description??"",siteKeywords:e.find(e=>"site_keywords"==e.correlative)?.description??"",ogTitle:e.find(e=>"og_title"==e.correlative)?.description??"",ogDescription:e.find(e=>"og_description"==e.correlative)?.description??"",ogImage:e.find(e=>"og_image"==e.correlative)?.description??"",ogUrl:e.find(e=>"og_url"==e.correlative)?.description??"",twitterTitle:e.find(e=>"twitter_title"==e.correlative)?.description??"",twitterDescription:e.find(e=>"twitter_description"==e.correlative)?.description??"",twitterImage:e.find(e=>"twitter_image"==e.correlative)?.description??"",twitterCard:e.find(e=>"twitter_card"==e.correlative)?.description??"summary_large_image",favicon:e.find(e=>"favicon"==e.correlative)?.description??"",canonicalUrl:e.find(e=>"canonical_url"==e.correlative)?.description??"",robotsAdditionalRules:e.find(e=>"robots_additional_rules"==e.correlative)?.description??"",tinyApiKey:e.find(e=>"tiny_api_key"==e.correlative)?.description??"",footerDescription:e.find(e=>"footer_description"==e.correlative)?.description??"",footerCompanyLinks:(()=>{try{const a=e.find(e=>"footer_company_links"==e.correlative)?.description;return(a?JSON.parse(a):[]).map(e=>({...e,visible:void 0===e.visible||e.visible}))}catch{return[]}})(),hotelCheckinTime:e.find(e=>"hotel_checkin_time"==e.correlative)?.description??"14:00",hotelCheckoutTime:e.find(e=>"hotel_checkout_time"==e.correlative)?.description??"12:00"})),ie=t.useCallback(e=>{le(a=>({...a,email_templates:{...a.email_templates,[E]:e}}))},[E]),te=t.useCallback((e,a)=>{le(s=>({...s,[e]:a}))},[]),ce=t.useCallback((e,a)=>{le(s=>({...s,[e]:String(a)}))},[]);t.useCallback((e,a,s)=>{le(l=>({...l,[e]:{...l[e],[a]:s}}))},[]);const re=t.useCallback(e=>{te("copyright",e.target.value)},[te]),oe=t.useCallback(e=>{te("address",e.target.value)},[te]),ne=t.useCallback(e=>{te("openingHours",e.target.value)},[te]);t.useCallback(e=>{te("supportPhone",e.target.value)},[te]);const de=t.useCallback(e=>{te("coorporativeEmail",e.target.value)},[te]),me=t.useCallback(e=>{te("supportEmail",e.target.value)},[te]);t.useCallback(e=>{te("phoneWhatsapp",e.target.value)},[te]),t.useCallback(e=>{te("messageWhatsapp",e.target.value)},[te]);const pe=t.useCallback(e=>{ce("checkout_culqi",e.target.checked)},[ce]),he=t.useCallback(e=>{ce("checkout_mercadopago",e.target.checked)},[ce]),ue=t.useCallback(e=>{ce("checkout_openpay",e.target.checked)},[ce]),xe=t.useCallback(e=>{te("checkout_openpay_name",e.target.value)},[te]),be=t.useCallback(e=>{te("checkout_openpay_merchant_id",e.target.value)},[te]),ve=t.useCallback(e=>{te("checkout_openpay_public_key",e.target.value)},[te]),_e=t.useCallback(e=>{te("checkout_openpay_private_key",e.target.value)},[te]);t.useCallback(e=>{ce("checkout_dwallet",e.target.checked)},[ce]),t.useCallback(e=>{ce("checkout_transfer",e.target.checked)},[ce]);const ge=t.useCallback(e=>{te("tinyApiKey",e.target.value)},[te]),je=t.useCallback(e=>{te("checkout_culqi_name",e.target.value)},[te]),fe=t.useCallback(e=>{te("checkout_culqi_public_key",e.target.value)},[te]),Ne=t.useCallback(e=>{te("checkout_culqi_private_key",e.target.value)},[te]),ye=t.useCallback(e=>{te("checkout_culqi_rsa_id",e.target.value)},[te]),ke=t.useCallback(e=>{te("checkout_culqi_rsa_public_key",e.target.value)},[te]),[Ce,we]=t.useState("general"),[Pe,Ie]=t.useState(!1),[Ae,qe]=t.useState(null),[Se,Te]=t.useState({text:"",enabled:!0,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}}),De=e=>{B(a=>({...a,[e]:!a[e]}))},Ee=(e,a,s)=>{const{value:l}=e.target,i=[...se[s]];i[a]=l,le(e=>({...e,[s]:i}))},Xe=e=>{if("cintillos"===e){const a={text:"",enabled:!0,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}};le(s=>({...s,[e]:[...s[e],a]}))}else le(a=>({...a,[e]:[...a[e],""]}))},Ge=(e,a)=>{const s=[...se[a]];s.splice(e,1),le(e=>({...e,[a]:s}))},Me=(e=null)=>{if(null!==e){const a=se.cintillos[e];Te("string"==typeof a?{text:a,enabled:!0,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}}:a),qe(e)}else Te({text:"",enabled:!0,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}}),qe(null);Ie(!0)},Oe=()=>{Ie(!1),qe(null),Te({text:"",enabled:!0,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}})};return s.jsxs("div",{children:[s.jsxs("div",{className:"card",children:[h()&&s.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[s.jsx("h4",{className:"card-title mb-0",children:"Configuración General"}),s.jsxs("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>z(!0),children:[s.jsx("i",{className:"fas fa-eye me-1"}),"Gestionar Visibilidad"]})]}),s.jsxs("form",{className:"card-body",onSubmit:async e=>{if(e.preventDefault(),H)return;U(!0);const a=[...Object.keys(se.email_templates).map(e=>({correlative:e,name:S.find(a=>a.correlative===e)?.name||e,description:se.email_templates[e]||""})),{correlative:"phone_contact",name:"Teléfono de contacto",description:se.phones.join(",")},{correlative:"email_contact",name:"Correo de contacto",description:se.emails.join(",")},{correlative:"address",name:"Dirección",description:se.address||""},{correlative:"cintillo",name:"Cintillo",description:JSON.stringify(se.cintillos)},{correlative:"copyright",name:"Copyright",description:se.copyright||""},{correlative:"opening_hours",name:"Horarios de atención",description:se.openingHours||""},{correlative:"footer_description",name:"Descripción del Footer",description:se.footerDescription||""},{correlative:"footer_company_links",name:"Enlaces de Empresa (Footer)",description:JSON.stringify(se.footerCompanyLinks||[])},{correlative:"support_phone",name:"Número de soporte",description:se.supportPhone||""},{correlative:"support_email",name:"Correo de soporte",description:se.supportEmail||""},{correlative:"coorporative_email",name:"Correo corporativo",description:se.coorporativeEmail||""},{correlative:"privacy_policy",name:"Política de privacidad",description:se.privacyPolicy||""},{correlative:"terms_conditions",name:"Términos y condiciones",description:se.termsConditions||""},{correlative:"delivery_policy",name:"Políticas de envío",description:se.deliveryPolicy||""},{correlative:"saleback_policy",name:"Políticas de devolucion y cambio",description:se.salebackPolicy||""},{correlative:"politica_sistema_gestion",name:"Política del sistema de Gestión",description:se.politicaSistemaGestion||""},{correlative:"alcance_sistema_gestion",name:"Alcance del sistema de Gestión",description:se.alcanceSistemaGestion||""},{correlative:"excel_import_template",name:"Plantilla de Importación Excel",description:se.excelImportTemplate||""},{correlative:"header_menu_order",name:"Orden del Menú del Header",description:se.headerMenuOrder||""},{correlative:"whatsapp_advisors",name:"Asesores de WhatsApp",description:JSON.stringify(se.whatsappAdvisors||[])},{correlative:"igv_checkout",name:"IGV en el checkout",description:se.igvCheckout||""},{correlative:"currency",name:"Moneda",description:se.currency||""},{correlative:"exchange_rate_usd_pen",name:"Tipo de Cambio USD a PEN",description:se.exchange_rate_usd_pen||"3.75"},{correlative:"shipping_free",name:"Envio gratis a partir de",description:se.shippingFree||""},{correlative:"importation_flete",name:"Flete",description:se.importation_flete||""},{correlative:"importation_seguro",name:"Seguro",description:se.importation_seguro||""},{correlative:"importation_derecho_arancelario",name:"Derecho arancelario",description:se.importation_derecho_arancelario||""},{correlative:"importation_derecho_arancelario_descripcion",name:"Descripción derecho arancelario",description:se.importation_derecho_arancelario_descripcion||""},{correlative:"checkout_culqi",name:"Habilitar Culqi",description:se.checkout_culqi||""},{correlative:"checkout_culqi_name",name:"Nombre de la cuenta de Culqi",description:se.checkout_culqi_name||""},{correlative:"checkout_culqi_public_key",name:"Llave pública de Culqi",description:se.checkout_culqi_public_key||""},{correlative:"checkout_culqi_private_key",name:"Llave privada de Culqi",description:se.checkout_culqi_private_key||""},{correlative:"checkout_culqi_rsa_id",name:"RSA ID de Culqi",description:se.checkout_culqi_rsa_id||""},{correlative:"checkout_culqi_rsa_public_key",name:"RSA Public Key de Culqi",description:se.checkout_culqi_rsa_public_key||""},{correlative:"checkout_culqi_supports_usd",name:"Culqi soporta USD",description:se.checkout_culqi_supports_usd||"false"},{correlative:"checkout_culqi_commission",name:"Comisión Culqi (%)",description:se.checkout_culqi_commission||""},{correlative:"checkout_mercadopago",name:"Habilitar Mercadopago",description:se.checkout_mercadopago||""},{correlative:"checkout_mercadopago_name",name:"Nombre de la cuenta de Mercadopago",description:se.checkout_mercadopago_name||""},{correlative:"checkout_mercadopago_public_key",name:"Llave pública de Mercadopago",description:se.checkout_mercadopago_public_key||""},{correlative:"checkout_mercadopago_private_key",name:"Llave privada de Mercadopago",description:se.checkout_mercadopago_private_key||""},{correlative:"checkout_mercadopago_commission",name:"Comisión MercadoPago (%)",description:se.checkout_mercadopago_commission||""},{correlative:"checkout_openpay",name:"Habilitar OpenPay",description:se.checkout_openpay||""},{correlative:"checkout_openpay_name",name:"Nombre de la cuenta de OpenPay",description:se.checkout_openpay_name||""},{correlative:"checkout_openpay_merchant_id",name:"Merchant ID de OpenPay",description:se.checkout_openpay_merchant_id||""},{correlative:"checkout_openpay_public_key",name:"Llave pública de OpenPay",description:se.checkout_openpay_public_key||""},{correlative:"checkout_openpay_private_key",name:"Llave privada de OpenPay",description:se.checkout_openpay_private_key||""},{correlative:"checkout_openpay_commission",name:"Comisión OpenPay (%)",description:se.checkout_openpay_commission||""},{correlative:"checkout_openpay_sandbox_mode",name:"Modo Sandbox OpenPay",description:se.checkout_openpay_sandbox_mode||"false"},{correlative:"checkout_dwallet",name:"Habilitar Yape/Plin",description:se.checkout_dwallet||""},{correlative:"checkout_dwallet_qr",name:"QR Yape/Plin",description:se.checkout_dwallet_qr||""},{correlative:"checkout_dwallet_name",name:"Título Yape/Plin",description:se.checkout_dwallet_name||""},{correlative:"checkout_dwallet_description",name:"Descripción Yape/Plin",description:se.checkout_dwallet_description||""},{correlative:"checkout_dwallet_commission",name:"Comisión Yape/Plin (%)",description:se.checkout_dwallet_commission||""},{correlative:"checkout_transfer",name:"Habilitar Transferencia",description:se.checkout_transfer||""},{correlative:"transfer_accounts",name:"Cuentas Bancarias para Transferencia",description:JSON.stringify(se.transfer_accounts)},{correlative:"checkout_transfer_cci",name:"CCI Transferencia",description:se.checkout_transfer_cci||""},{correlative:"checkout_transfer_name",name:"Nombre Transferencia",description:se.checkout_transfer_name||""},{correlative:"checkout_transfer_description",name:"Descripción Transferencia",description:se.checkout_transfer_description||""},{correlative:"checkout_transfer_commission",name:"Comisión Transferencia (%)",description:se.checkout_transfer_commission||""},{correlative:"location",name:"Ubicación",description:`${se.location.lat},${se.location.lng}`},{correlative:"google_analytics_id",name:"Google Analytics ID",description:se.googleAnalyticsId||""},{correlative:"google_tag_manager_id",name:"Google Tag Manager ID",description:se.googleTagManagerId||""},{correlative:"facebook_pixel_id",name:"Facebook Pixel ID",description:se.facebookPixelId||""},{correlative:"google_ads_conversion_id",name:"Google Ads Conversion ID",description:se.googleAdsConversionId||""},{correlative:"google_ads_conversion_label",name:"Google Ads Conversion Label",description:se.googleAdsConversionLabel||""},{correlative:"tiktok_pixel_id",name:"TikTok Pixel ID",description:se.tiktokPixelId||""},{correlative:"hotjar_id",name:"Hotjar ID",description:se.hotjarId||""},{correlative:"clarity_id",name:"Microsoft Clarity ID",description:se.clarityId||""},{correlative:"linkedin_insight_tag",name:"LinkedIn Insight Tag ID",description:se.linkedinInsightTag||""},{correlative:"twitter_pixel_id",name:"Twitter Pixel ID",description:se.twitterPixelId||""},{correlative:"pinterest_tag_id",name:"Pinterest Tag ID",description:se.pinterestTagId||""},{correlative:"snapchat_pixel_id",name:"Snapchat Pixel ID",description:se.snapchatPixelId||""},{correlative:"custom_head_scripts",name:"Scripts Personalizados (Head)",description:se.customHeadScripts||""},{correlative:"custom_body_scripts",name:"Scripts Personalizados (Body)",description:se.customBodyScripts||""},{correlative:"body_custom_html",name:"HTML Personalizado (Body)",description:se.bodyCustomHtml||""},{correlative:"atalaya_leads_api_key",name:"Atalaya Leads API Key",description:se.atalayaLeadsApiKey||""},{correlative:"google_client_id",name:"Google Client ID",description:se.googleClientId||""},{correlative:"google_client_secret",name:"Google Client Secret",description:se.googleClientSecret||""},{correlative:"google_oauth_enabled",name:"Habilitar Google OAuth",description:se.googleOauthEnabled||""},{correlative:"checkout_culqi",name:"Habilitar Culqi",description:se.checkout_culqi||""},{correlative:"checkout_culqi_name",name:"Nombre de la cuenta de Culqi",description:se.checkout_culqi_name||""},{correlative:"checkout_culqi_public_key",name:"Llave pública de Culqi",description:se.checkout_culqi_public_key||""},{correlative:"checkout_culqi_private_key",name:"Llave privada de Culqi",description:se.checkout_culqi_private_key||""},{correlative:"site_title",name:"Título del Sitio",description:se.siteTitle||""},{correlative:"site_description",name:"Descripción del Sitio",description:se.siteDescription||""},{correlative:"site_keywords",name:"Palabras Clave",description:se.siteKeywords||""},{correlative:"og_title",name:"Título Open Graph",description:se.ogTitle||""},{correlative:"og_description",name:"Descripción Open Graph",description:se.ogDescription||""},{correlative:"og_image",name:"Imagen Open Graph",description:se.ogImage||""},{correlative:"og_url",name:"URL Open Graph",description:se.ogUrl||""},{correlative:"twitter_title",name:"Título Twitter",description:se.twitterTitle||""},{correlative:"twitter_description",name:"Descripción Twitter",description:se.twitterDescription||""},{correlative:"tiny_api_key",name:"TinyMCE API Key",description:se.tinyApiKey||""},...q.map(e=>({correlative:`visibility_${e}`,name:`Visibilidad Variables ${e}`,description:se.variable_visibility[e]?JSON.stringify(se.variable_visibility[e]):""})),{correlative:"twitter_image",name:"Imagen Twitter",description:se.twitterImage||""},{correlative:"twitter_card",name:"Tipo Twitter Card",description:se.twitterCard||"summary_large_image"},{correlative:"favicon",name:"Favicon",description:se.favicon||""},{correlative:"canonical_url",name:"URL Canónica",description:se.canonicalUrl||""},{correlative:"robots_additional_rules",name:"Reglas Adicionales robots.txt",description:se.robotsAdditionalRules||""},{correlative:"additional_shipping_costs",name:"Costos Adicionales de Envío",description:JSON.stringify(se.additional_shipping_costs||[])},{correlative:"hotel_checkin_time",name:"Horario de Check-In",description:se.hotelCheckinTime||"14:00"},{correlative:"hotel_checkout_time",name:"Horario de Check-Out",description:se.hotelCheckoutTime||"12:00"}];try{await C.save(a)}catch(s){}finally{U(!1)}},children:[s.jsxs("ul",{className:"nav nav-tabs",id:"contactTabs",role:"tablist",children:[s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("general"===Ce?"active":""),onClick:()=>we("general"),type:"button",role:"tab",children:"Configuración general"})}),j("contact")&&s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("contact"===Ce?"active":""),onClick:()=>we("contact"),type:"button",role:"tab",children:"Información de Contacto"})}),j("checkout")&&s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("checkout"===Ce?"active":""),onClick:()=>we("checkout"),type:"button",role:"tab",children:"Métodos de Pago"})}),j("importation")&&s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("importation"===Ce?"active":""),onClick:()=>we("importation"),type:"button",role:"tab",children:"Cálculos de importación"})}),j("policies")&&s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("policies"===Ce?"active":""),onClick:()=>we("policies"),type:"button",role:"tab",children:"Políticas y Términos"})}),s.jsx(I,{correlative:"cintillo",children:s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("cintillos"===Ce?"active":""),onClick:()=>we("cintillos"),type:"button",role:"tab",children:"Gestionar Cintillos"})})}),s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("location"===Ce?"active":""),onClick:()=>we("location"),type:"button",role:"tab",children:"Ubicación"})}),j("email")&&s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("email"===Ce?"active":""),onClick:()=>we("email"),type:"button",role:"tab",children:"Email"})}),j("shippingfree")&&s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("shippingfree"===Ce?"active":""),onClick:()=>we("shippingfree"),type:"button",role:"tab",children:"Envio y Facturación"})}),s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("seo"===Ce?"active":""),onClick:()=>we("seo"),type:"button",role:"tab",children:"SEO & Meta Tags"})}),j("pixels")&&s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("pixels"===Ce?"active":""),onClick:()=>we("pixels"),type:"button",role:"tab",children:"Píxeles & Analytics"})}),j("oauth")&&s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsx("button",{className:"nav-link "+("oauth"===Ce?"active":""),onClick:()=>we("oauth"),type:"button",role:"tab",children:"OAuth & Autenticación"})}),j("apis")&&s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsxs("button",{className:"nav-link "+("apis"===Ce?"active":""),onClick:()=>we("apis"),type:"button",role:"tab",children:[s.jsx("i",{className:"fas fa-plug me-1"}),"APIs & Integraciones"]})}),j("hotel")&&s.jsx("li",{className:"nav-item",role:"presentation",children:s.jsxs("button",{className:"nav-link "+("hotel"===Ce?"active":""),onClick:()=>we("hotel"),type:"button",role:"tab",children:[s.jsx("i",{className:"fas fa-hotel me-1"}),"Hotel"]})})]}),s.jsxs("div",{className:"tab-content",children:[s.jsx("div",{className:"tab-pane fade "+("email"===Ce?"show active":""),role:"tabpanel",children:s.jsxs("div",{className:"mb-2",children:[s.jsx(_,{label:"Tipo de Email",value:E,onChange:e=>X(e.target.value),children:S.map(e=>s.jsx("option",{value:e.correlative,children:{purchase_summary_email:"Resumen de Compra",order_status_changed_email:"Cambio de Estado de Pedido",blog_published_email:"Blog Publicado",claim_email:"Reclamo Recibido (Cliente)",whistleblowing_email:"Denuncia Recibida (Cliente)",password_changed_email:"Contraseña Cambiada",reset_password_email:"Restablecer Contraseña",subscription_email:"Suscripción",verify_account_email:"Verificar Cuenta",message_contact_email:"Mensaje Contacto",admin_purchase_email:"Nueva Venta (Admin)",admin_contact_email:"Nuevo Contacto (Admin)",admin_claim_email:"Nuevo Reclamo (Admin)",admin_whistleblowing_email:"Nueva Denuncia (Admin)",job_application_email:"Aplicación Laboral (Cliente)",admin_job_application_email:"Aplicación Laboral (Admin)"}[e.correlative]||e.name||e.correlative},e.correlative))}),s.jsx(y,{height:600,label:s.jsxs(s.Fragment,{children:["Plantilla de Email (HTML seguro, variables: ",s.jsx("code",{children:"{{variable}}"}),")"]}),value:se.email_templates[E]||"",onChange:ie}),s.jsx("div",{className:"card bg-light border-0 mt-2",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[s.jsx("h6",{className:"card-title text-muted mb-0",children:"Variables disponibles"}),h()&&s.jsx("span",{className:"badge bg-danger",children:"Modo Root: Gestionar Visibilidad"})]}),O&&s.jsx("span",{children:"Cargando variables..."}),L&&s.jsx("span",{className:"text-danger",children:L}),!O&&!L&&s.jsx("div",{className:"d-flex flex-wrap gap-2",children:0===Object.keys(G).length?s.jsx("span",{className:"text-muted",children:"No hay variables para esta notificación."}):Object.entries(G).map(([e,a])=>{const l=se.variable_visibility[E],i=null===l||Array.isArray(l)&&l.includes(e);return h()||i?s.jsx(c,{content:h()?i?"Variable Visible":"Variable Oculta para Admins":`Haz clic para copiar: {{${e}}}`,children:s.jsxs("div",{className:"d-flex align-items-center border rounded p-1 "+(i?"bg-white text-dark hover-shadow":"bg-secondary text-white opacity-75"),style:{transition:"all 0.2s",opacity:i?1:.8},children:[h()&&s.jsx("div",{className:"form-check form-switch me-2 mb-0 min-h-0",children:s.jsx("input",{className:"form-check-input",type:"checkbox",checked:i,onChange:a=>{a.stopPropagation();const s=se.variable_visibility[E]?[...se.variable_visibility[E]]:Object.keys(G);let l;i?l=s.filter(a=>a!==e):(s.includes(e)||s.push(e),l=s),le(e=>({...e,variable_visibility:{...e.variable_visibility,[E]:l}}))}})}),s.jsxs("span",{className:"cursor-pointer px-1",onClick:()=>{navigator.clipboard.writeText(`{{${e}}}`),m.success(`Variable {{${e}}} copiada!`)},children:[s.jsx("code",{className:i?"text-primary fw-bold":"text-white fw-bold",children:`{{${e}}}`}),s.jsx("span",{style:{fontSize:"0.75rem"},className:`ms-1 border-start ps-1 ${i?"text-muted":"text-white-50"} small`,children:a})]})]})},e):null})})]})})]})}),s.jsxs("div",{className:"tab-pane fade "+("general"===Ce?"show active":""),role:"tabpanel",children:[s.jsxs("div",{className:"row",children:[s.jsx(I,{correlative:"cintillo",children:s.jsx("div",{className:"col-md-6 mb-2",children:s.jsxs("div",{className:"alert alert-info",children:[s.jsxs("h6",{children:[s.jsx("i",{className:"fas fa-info-circle me-2"}),"Gestión de Cintillos"]}),s.jsx("p",{className:"mb-2",children:"Los cintillos se han movido a una pestaña dedicada para una mejor organización."}),s.jsxs("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>we("cintillos"),children:[s.jsx("i",{className:"fas fa-cog me-1"}),"Ir a Gestionar Cintillos"]})]})})}),s.jsx(I,{correlative:"copyright",children:s.jsxs("div",{className:"mb-2 "+(x("cintillo")?"col-md-6 ":"col-md-12 "),children:[s.jsx("label",{htmlFor:"copyright",className:"form-label",children:"Copyright"}),s.jsx("textarea",{className:"form-control",id:"copyright",value:se.copyright,onChange:re})]})})]}),x("address")&&s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{htmlFor:"address",className:"form-label",children:"Dirección"}),s.jsx("textarea",{className:"form-control",id:"address",value:se.address,onChange:oe,required:!0})]}),s.jsx(I,{correlative:"opening_hours",children:s.jsx("div",{className:"mb-2",children:s.jsx(f,{label:"Horarios de atencion",onChange:ne,value:se.openingHours,required:!0})})}),s.jsx(I,{correlative:"excel_import_template",children:s.jsxs("div",{className:"mb-2",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"fas fa-file-excel me-2 text-success"}),"Plantilla de Importación de Productos (Excel)"]}),se.excelImportTemplate?s.jsxs("div",{className:"position-relative",children:[s.jsx(c,{content:"Eliminar plantilla",children:s.jsx("button",{type:"button",className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px",zIndex:10},onClick:()=>{le({...se,excelImportTemplate:""})},children:s.jsx("i",{className:"mdi mdi-delete"})})}),s.jsxs("div",{className:"d-flex align-items-center p-3 border rounded bg-light",children:[s.jsx("i",{className:"mdi mdi-file-excel text-success me-2",style:{fontSize:"2rem"}}),s.jsxs("div",{className:"flex-grow-1",children:[s.jsx("strong",{children:"Plantilla Excel cargada"}),s.jsx("br",{}),s.jsx("small",{className:"text-muted",children:se.excelImportTemplate})]}),s.jsxs("a",{href:`/cloud/${se.excelImportTemplate}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-success",download:!0,children:[s.jsx("i",{className:"mdi mdi-download"})," Descargar"]})]})]}):s.jsx("input",{type:"file",className:"form-control",accept:".xlsx,.xls",onChange:async e=>{const a=e.target.files[0];if(!a)return;if(!a.name.match(/\.(xlsx|xls)$/i))return alert("Por favor, selecciona solo archivos Excel (.xlsx o .xls)"),void(e.target.value=null);e.target.value=null;const s=new FormData;s.append("file",a),s.append("name","plantilla-importacion-productos.xlsx");const l=await P.save(s);l&&le({...se,excelImportTemplate:l.file})}}),s.jsx("small",{className:"text-muted",children:"Esta plantilla se descargará desde el modal de importación en Items. Solo archivos Excel (.xlsx, .xls)"})]})}),s.jsx(I,{correlative:"header_menu_order",children:s.jsxs("div",{className:"mb-2",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"fas fa-bars me-2"}),"Orden del Menú del Header"]}),s.jsx("input",{type:"text",className:"form-control",value:se.headerMenuOrder,onChange:e=>te("headerMenuOrder",e.target.value),placeholder:"Ej: Maquinarias,Grúas,Servicios,Nosotros"}),s.jsx("small",{className:"text-muted",children:"Nombres de categorías y páginas separados por comas. Use los nombres exactos como aparecen en el menú."})]})}),s.jsx(I,{correlative:"footer_description",children:s.jsx("div",{className:"mb-2",children:s.jsx(f,{label:"Descripción del Footer",onChange:e=>te("footerDescription",e.target.value),value:se.footerDescription,placeholder:"Descripción que aparecerá en el footer del sitio web",rows:3})})}),s.jsx(I,{correlative:"footer_company_links",children:s.jsxs("div",{className:"mb-2",children:[s.jsxs("label",{className:"form-label d-block",children:[s.jsx("i",{className:"fas fa-link me-2"}),"Enlaces de Empresa (Footer)"]}),se.footerCompanyLinks.map((e,a)=>s.jsx("div",{className:"card mb-2",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-5 mb-2",children:s.jsx("input",{type:"text",className:"form-control",placeholder:"Nombre del enlace",value:e.name||"",onChange:e=>{const s=[...se.footerCompanyLinks];s[a]={...s[a],name:e.target.value},te("footerCompanyLinks",s)}})}),s.jsx("div",{className:"col-md-6 mb-2",children:s.jsx("input",{type:"text",className:"form-control",placeholder:"URL del enlace (ej: /nosotros)",value:e.href||"",onChange:e=>{const s=[...se.footerCompanyLinks];s[a]={...s[a],href:e.target.value},te("footerCompanyLinks",s)}})}),s.jsxs("div",{className:"col-md-1 d-flex gap-1",children:[s.jsx("button",{type:"button",className:"btn btn-sm flex-fill "+(!1!==e.visible?"btn-success":"btn-secondary"),onClick:()=>{const s=[...se.footerCompanyLinks];s[a]={...s[a],visible:!(!1!==e.visible)},te("footerCompanyLinks",s)},title:!1!==e.visible?"Visible":"Oculto",children:s.jsx("i",{className:"fa "+(!1!==e.visible?"fa-eye":"fa-eye-slash")})}),s.jsx("button",{type:"button",className:"btn btn-danger btn-sm flex-fill",onClick:()=>{const e=se.footerCompanyLinks.filter((e,s)=>s!==a);te("footerCompanyLinks",e)},children:s.jsx("i",{className:"fa fa-trash"})})]})]})})},a)),s.jsxs("button",{type:"button",className:"btn btn-outline-primary d-bolck",onClick:()=>{const e=[...se.footerCompanyLinks,{name:"",href:"",visible:!0}];te("footerCompanyLinks",e)},children:[s.jsx("i",{className:"fa fa-plus me-1"}),"Agregar enlace"]}),s.jsx("small",{className:"text-muted d-block mt-2",children:"Estos enlaces aparecerán en la sección del footer"})]})}),s.jsx(I,{correlative:"body_custom_html",children:s.jsxs("div",{className:"mb-2",children:[s.jsxs("label",{className:"form-label d-block",children:[s.jsx("i",{className:"fas fa-code me-2"}),"HTML Personalizado (Body)"]}),s.jsx("textarea",{rows:"6",className:"form-control font-monospace",placeholder:'<div class="fixed inset-0 bg-gradient-to-br from-secondary-600/10 via-transparent to-secondary-800/10 pointer-events-none z-0"></div>',value:se.bodyCustomHtml,onChange:e=>te("bodyCustomHtml",e.target.value)}),s.jsxs("small",{className:"text-muted d-block mt-1",children:["HTML que se insertará justo después del <body>. Útil para overlays decorativos, gradientes de fondo, efectos visuales, etc.",s.jsx("br",{}),s.jsx("strong",{children:"Tip:"})," Usa ",s.jsx("code",{children:"fixed inset-0 pointer-events-none z-0"})," para overlays que no bloqueen la interacción."]})]})})]}),s.jsxs("div",{className:"tab-pane fade "+("contact"===Ce?"show active":""),role:"tabpanel",children:[s.jsxs("div",{className:"row mb-2",children:[s.jsx(I,{correlative:"phone_contact",children:s.jsxs("div",{className:"col-md-6",children:[se.phones.map((e,a)=>s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:`phone-${a}`,className:"form-label",children:["Teléfono ",a+1]}),s.jsxs("div",{className:"input-group",children:[s.jsx("input",{type:"tel",className:"form-control",id:`phone-${a}`,value:e,onChange:e=>Ee(e,a,"phones"),required:!0}),s.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>Ge(a,"phones"),children:s.jsx("i",{className:"fa fa-trash"})})]})]},`phone-${a}`)),s.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>Xe("phones"),children:"Agregar teléfono"})]})}),s.jsx(I,{correlative:"email_contact",children:s.jsxs("div",{className:"col-md-6",children:[se.emails.map((e,a)=>s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:`email-${a}`,className:"form-label",children:["Correo ",a+1]}),s.jsxs("div",{className:"input-group",children:[s.jsx("input",{type:"text",className:"form-control",id:`email-${a}`,value:e,onChange:e=>Ee(e,a,"emails"),required:!0}),s.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>Ge(a,"emails"),children:s.jsx("i",{className:"fa fa-trash"})})]})]},`email-${a}`)),s.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>Xe("emails"),children:"Agregar correo"})]})})]}),s.jsx(I,{correlative:"support_phone",children:s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{htmlFor:"supportPhone",className:"form-label",children:"Número de soporte"}),s.jsx("input",{type:"tel",className:"form-control",id:"supportPhone",value:se.supportPhone,onChange:e=>le({...se,supportPhone:e.target.value}),required:!0})]})}),s.jsx(I,{correlative:"coorporative_email",children:s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{htmlFor:"coorporativeEmail",className:"form-label",children:"Correo corporativo (aquí llegaran los emails  salientes)"}),s.jsx("input",{type:"email",className:"form-control",id:"coorporativeEmail",value:se.coorporativeEmail,onChange:de})]})}),s.jsx(I,{correlative:"support_email",children:s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{htmlFor:"supportEmail",className:"form-label",children:"Correo de soporte"}),s.jsx("input",{type:"email",className:"form-control",id:"supportEmail",value:se.supportEmail,onChange:me,required:!0})]})}),s.jsxs("div",{className:"card mt-3",style:{backgroundColor:"#e3f2fd",padding:"16px"},children:[s.jsxs("h6",{className:"mb-3",children:[s.jsx("i",{className:"mdi mdi-account-multiple me-2"}),"Asesores de WhatsApp"]}),s.jsx("p",{className:"text-muted small mb-3",children:"Agrega múltiples asesores. Si hay más de uno, se mostrará un modal para que el cliente elija."}),se.whatsappAdvisors?.map((e,a)=>s.jsxs("div",{className:"card mb-3",style:{padding:"12px",backgroundColor:"#fff"},children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[s.jsxs("h6",{className:"mb-0",children:["Asesor #",a+1]}),s.jsx("button",{type:"button",className:"btn btn-sm btn-danger",onClick:()=>{const e=se.whatsappAdvisors.filter((e,s)=>s!==a);le({...se,whatsappAdvisors:e})},children:s.jsx("i",{className:"mdi mdi-delete"})})]}),s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-6 mb-2",children:[s.jsx("label",{className:"form-label small",children:"Nombre del Asesor"}),s.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Ej: Romer Palacio",value:e.name||"",onChange:e=>{const s=[...se.whatsappAdvisors];s[a].name=e.target.value,le({...se,whatsappAdvisors:s})}})]}),s.jsxs("div",{className:"col-md-6 mb-2",children:[s.jsx("label",{className:"form-label small",children:"Puesto/Cargo"}),s.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Ej: Asesor de Ventas",value:e.position||"",onChange:e=>{const s=[...se.whatsappAdvisors];s[a].position=e.target.value,le({...se,whatsappAdvisors:s})}})]}),s.jsxs("div",{className:"col-md-6 mb-2",children:[s.jsx("label",{className:"form-label small",children:"Número de WhatsApp"}),s.jsx("input",{type:"tel",className:"form-control form-control-sm",placeholder:"+51999999999",value:e.phone||"",onChange:e=>{const s=[...se.whatsappAdvisors];s[a].phone=e.target.value,le({...se,whatsappAdvisors:s})}})]}),s.jsxs("div",{className:"col-md-6 mb-2",children:[s.jsx("label",{className:"form-label small",children:"Mensaje Inicial"}),s.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"¡Hola! Necesito información",value:e.message||"",onChange:e=>{const s=[...se.whatsappAdvisors];s[a].message=e.target.value,le({...se,whatsappAdvisors:s})}})]}),s.jsxs("div",{className:"col-12 mb-2",children:[s.jsx("label",{className:"form-label small",children:"Foto del Asesor"}),e.photo?s.jsxs("div",{className:"position-relative ",children:[s.jsx(c,{content:"Eliminar foto",children:s.jsx("button",{type:"button",className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px",zIndex:10},onClick:()=>{const e=[...se.whatsappAdvisors];e[a].photo=null,le({...se,whatsappAdvisors:e})},children:s.jsx("i",{className:"mdi mdi-delete"})})}),s.jsx("img",{src:`/assets/resources/${e.photo}`,alt:e.name,className:"img-thumbnail",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"50%"}})]}):s.jsx("input",{type:"file",className:"form-control form-control-sm",accept:"image/*",onChange:async e=>{const s=e.target.files[0];if(!s)return;e.target.value=null;const l=s.name.split(".").pop(),i=`whatsapp-advisor-${a+1}.${l}`,t=new FormData;t.append("image",s),t.append("name",i);if(!(await w.save(t)))return;const c=[...se.whatsappAdvisors];c[a].photo=i,le({...se,whatsappAdvisors:c})}})]})]})]},a)),s.jsxs("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>{const e=[...se.whatsappAdvisors||[],{name:"",phone:"",message:"",photo:null,position:""}];le({...se,whatsappAdvisors:e})},children:[s.jsx("i",{className:"mdi mdi-plus me-1"}),"Agregar Asesor"]})]})]}),s.jsx("div",{className:"tab-pane fade "+("checkout"===Ce?"show active":""),role:"tabpanel",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-sm-3",children:s.jsxs("div",{className:"nav flex-column nav-pills nav-pills-tab",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[N.some(e,e=>"checkout_culqi"===e.correlative)&&s.jsx("a",{className:"nav-link active show mb-1",id:"v-culqi-tab","data-bs-toggle":"pill",href:"#v-culqi",role:"tab","aria-controls":"v-culqi","aria-selected":"true",children:"Culqi"}),N.some(e,e=>"checkout_mercadopago"===e.correlative)&&s.jsx("a",{className:"nav-link mb-1",id:"v-mercadopago-tab","data-bs-toggle":"pill",href:"#v-mercadopago",role:"tab","aria-controls":"v-mercadopago","aria-selected":"false",children:"Mercado Pago"}),N.some(e,e=>"checkout_openpay"===e.correlative)&&s.jsx("a",{className:"nav-link mb-1",id:"v-openpay-tab","data-bs-toggle":"pill",href:"#v-openpay",role:"tab","aria-controls":"v-openpay","aria-selected":"false",children:"OpenPay"}),N.some(e,e=>"checkout_dwallet"===e.correlative)&&s.jsx("a",{className:"nav-link mb-1",id:"v-digital-wallet-tab","data-bs-toggle":"pill",href:"#v-digital-wallet",role:"tab","aria-controls":"v-digital-wallet","aria-selected":"false",children:"Yape / Plin"}),N.some(e,e=>"checkout_transfer"===e.correlative)&&s.jsx("a",{className:"nav-link mb-1",id:"v-transfer-tab","data-bs-toggle":"pill",href:"#v-transfer",role:"tab","aria-controls":"v-transfer","aria-selected":"false",children:"Transferencia"})]})}),s.jsxs("div",{className:"tab-content col-sm-9",children:[s.jsx(I,{correlative:"checkout_culqi",children:s.jsxs("div",{className:"tab-pane fade active show",id:"v-culqi",role:"tabpanel","aria-labelledby":"v-culqi-tab",children:[s.jsx(I,{correlative:"checkout_culqi",children:s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-culqi",checked:"true"==se.checkout_culqi,onChange:pe}),s.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-culqi",children:["Habilitar pago con Culqi",s.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por Culqi "})]})]})})}),s.jsx(I,{correlative:"checkout_culqi_name",children:s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Título del formulario"}),s.jsx("input",{type:"text",className:"form-control",value:se.checkout_culqi_name,onChange:je})]})}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Clave Pública"}),s.jsx("input",{type:"text",className:"form-control",value:se.checkout_culqi_public_key,onChange:fe})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Clave Privada"}),s.jsx("input",{type:"password",className:"form-control",value:se.checkout_culqi_private_key,onChange:Ne})]}),s.jsxs("div",{className:"mt-4 mb-2",hidden:!0,children:[s.jsx("h6",{className:"text-muted",children:"Configuración RSA (Custom Checkout v4)"}),s.jsx("small",{className:"text-muted d-block mb-2",children:"Estas claves RSA son necesarias para el nuevo Custom Checkout de Culqi. Obténlas desde el panel de Culqi en la sección de claves RSA."})]}),s.jsxs("div",{className:"mb-2",hidden:!0,children:[s.jsx("label",{className:"form-label",children:"RSA ID"}),s.jsx("input",{type:"text",className:"form-control",placeholder:"Ej: 12345678-abcd-1234-efgh-123456789012",value:se.checkout_culqi_rsa_id,onChange:ye})]}),s.jsxs("div",{className:"mb-2",hidden:!0,children:[s.jsx("label",{className:"form-label",children:"RSA Public Key"}),s.jsx("textarea",{className:"form-control",rows:"4",placeholder:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GN...\n-----END PUBLIC KEY-----",value:se.checkout_culqi_rsa_public_key,onChange:ke}),s.jsx("small",{className:"text-muted",children:"Copia la clave RSA pública completa desde el panel de Culqi"})]}),s.jsxs("div",{className:"mt-4 mb-2",children:[s.jsx("h6",{className:"text-muted",children:"Configuración de Moneda"}),s.jsx("small",{className:"text-muted d-block mb-2",children:"Configura si tu cuenta de Culqi soporta pagos en dólares (USD)."})]}),s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-culqi-supports-usd",checked:"true"===se.checkout_culqi_supports_usd,onChange:e=>le({...se,checkout_culqi_supports_usd:String(e.target.checked)})}),s.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-culqi-supports-usd",children:["Mi cuenta Culqi soporta USD",s.jsx("small",{className:"text-muted d-block",children:"Si tienes una cuenta en dólares en Culqi, activa esta opción para procesar pagos directamente en USD sin conversión a soles."})]})]})}),s.jsxs("div",{className:"mt-4 mb-2",children:[s.jsx("h6",{className:"text-muted",children:"Comisión del Método de Pago"}),s.jsx("small",{className:"text-muted d-block mb-2",children:"Configura la comisión (en porcentaje) que se añadirá al total cuando el cliente elija este método de pago."})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Comisión (%)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"Ej: 3.5",value:se.checkout_culqi_commission,onChange:e=>le({...se,checkout_culqi_commission:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Dejar en 0 si no desea aplicar comisión. Ejemplo: 3.5 = 3.5%"})]})]})}),s.jsx(I,{correlative:"checkout_mercadopago",children:s.jsxs("div",{className:"tab-pane fade",id:"v-mercadopago",role:"tabpanel","aria-labelledby":"v-mercadopago-tab",children:[s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-mercadopago",checked:"true"==se.checkout_mercadopago,onChange:he}),s.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-mercadopago",children:["Habilitar pago con Mercado Pago",s.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por Mercado Pago "})]})]})}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Título del formulario"}),s.jsx("input",{type:"text",className:"form-control",value:se.checkout_mercadopago_name,onChange:e=>le({...se,checkout_mercadopago_name:e.target.value})})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Clave Pública"}),s.jsx("input",{type:"text",className:"form-control",value:se.checkout_mercadopago_public_key,onChange:e=>le({...se,checkout_mercadopago_public_key:e.target.value})})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Clave Privada (Access Token)"}),s.jsx("input",{type:"password",className:"form-control",value:se.checkout_mercadopago_private_key,onChange:e=>le({...se,checkout_mercadopago_private_key:e.target.value})})]}),s.jsx("div",{className:"mt-4 mb-2",children:s.jsx("h6",{className:"text-muted",children:"Comisión del Método de Pago"})}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Comisión (%)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"Ej: 3.5",value:se.checkout_mercadopago_commission,onChange:e=>le({...se,checkout_mercadopago_commission:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Dejar en 0 si no desea aplicar comisión"})]})]})}),s.jsx(I,{correlative:"checkout_openpay",children:s.jsxs("div",{className:"tab-pane fade",id:"v-openpay",role:"tabpanel","aria-labelledby":"v-openpay-tab",children:[s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-openpay",checked:"true"==se.checkout_openpay,onChange:ue}),s.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-openpay",children:["Habilitar pago con OpenPay",s.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por OpenPay (tarjetas de crédito/débito)"})]})]})}),s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-openpay-sandbox",checked:"true"==se.checkout_openpay_sandbox_mode,onChange:e=>le({...se,checkout_openpay_sandbox_mode:String(e.target.checked)})}),s.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-openpay-sandbox",children:["Modo Sandbox (Pruebas)",s.jsx("small",{className:"text-muted d-block",children:"Activar solo para pruebas. Desactivar en producción para procesar pagos reales."})]})]})}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Título del formulario"}),s.jsx("input",{type:"text",className:"form-control",value:se.checkout_openpay_name,onChange:xe,placeholder:"Pago con tarjeta"})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Merchant ID"}),s.jsx("input",{type:"text",className:"form-control",value:se.checkout_openpay_merchant_id,onChange:be,placeholder:"mxxxxxxxxxxx"}),s.jsx("small",{className:"text-muted",children:"El Merchant ID proporcionado por OpenPay"})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Clave Pública"}),s.jsx("input",{type:"text",className:"form-control",value:se.checkout_openpay_public_key,onChange:ve,placeholder:"pk_xxxxxxxxxxxxx"})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Clave Privada"}),s.jsx("input",{type:"password",className:"form-control",value:se.checkout_openpay_private_key,onChange:_e,placeholder:"sk_xxxxxxxxxxxxx"})]}),s.jsx("div",{className:"mt-4 mb-2",children:s.jsx("h6",{className:"text-muted",children:"Comisión del Método de Pago"})}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Comisión (%)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"Ej: 3.5",value:se.checkout_openpay_commission,onChange:e=>le({...se,checkout_openpay_commission:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Dejar en 0 si no desea aplicar comisión"})]}),s.jsxs("div",{className:"alert alert-info mt-3",children:[s.jsxs("h6",{children:[s.jsx("i",{className:"mdi mdi-information me-2"}),"Configuración de OpenPay"]}),s.jsxs("ul",{className:"mb-0",children:[s.jsxs("li",{children:["Obtenga sus credenciales desde el ",s.jsx("a",{href:"https://dashboard.openpay.mx/",target:"_blank",rel:"noopener noreferrer",children:"Dashboard de OpenPay"})]}),s.jsxs("li",{children:["Use credenciales de ",s.jsx("strong",{children:"producción"})," para transacciones reales"]}),s.jsxs("li",{children:["Use credenciales de ",s.jsx("strong",{children:"sandbox"})," para pruebas"]}),s.jsx("li",{children:"OpenPay acepta tarjetas Visa, Mastercard y American Express"})]})]})]})}),s.jsx(I,{correlative:"checkout_dwallet",children:s.jsxs("div",{className:"tab-pane fade",id:"v-digital-wallet",role:"tabpanel","aria-labelledby":"v-digital-wallet-tab",children:[s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-dwallet",checked:"true"==se.checkout_dwallet,onChange:e=>le({...se,checkout_dwallet:String(e.target.checked)})}),s.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-dwallet",children:["Habilitar pago con Yape/Plin",s.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por Yape/Plin "})]})]})}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"QR"}),se.checkout_dwallet_qr?s.jsxs("div",{className:"position-relative",children:[s.jsx(c,{content:"Eliminar QR",children:s.jsx("button",{className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px"},onClick:()=>le({...se,checkout_dwallet_qr:null}),children:s.jsx("i",{className:"mdi mdi-delete"})})}),s.jsx("img",{src:`/assets/resources/${se.checkout_dwallet_qr}`,className:"img-thumbnail",style:{height:"200px",width:"auto"}})]}):s.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:async e=>{const a=e.target.files[0];if(!a)return;e.target.value=null;const s=`qr-digital-wallet.${a.name.split(".").pop()}`,l=new FormData;l.append("image",a),l.append("name",s);await w.save(l)&&le({...se,checkout_dwallet_qr:s})}})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Título"}),s.jsx("input",{type:"text",className:"form-control",value:se.checkout_dwallet_name,onChange:e=>le({...se,checkout_dwallet_name:e.target.value})})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Descripción"}),s.jsx("textarea",{className:"form-control",value:se.checkout_dwallet_description,onChange:e=>le({...se,checkout_dwallet_description:e.target.value})})]}),s.jsx("div",{className:"mt-4 mb-2",children:s.jsx("h6",{className:"text-muted",children:"Comisión del Método de Pago"})}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Comisión (%)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"Ej: 3.5",value:se.checkout_dwallet_commission,onChange:e=>le({...se,checkout_dwallet_commission:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Dejar en 0 si no desea aplicar comisión"})]})]})}),s.jsx(I,{correlative:"checkout_transfer",children:s.jsxs("div",{className:"tab-pane fade",id:"v-transfer",role:"tabpanel","aria-labelledby":"v-transfer-tab",children:[s.jsx("div",{className:"mb-2",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-transfer",checked:"true"===se.checkout_transfer,onChange:e=>le({...se,checkout_transfer:String(e.target.checked)})}),s.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-transfer",children:["Habilitar pago por transferencia",s.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opción, permite pagos por transferencia"})]})]})}),se.transfer_accounts.map((e,a)=>s.jsxs("div",{className:"mb-4 p-3 border rounded",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[s.jsxs("h5",{children:["Cuenta Bancaria #",a+1]}),a>0&&s.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>{const e=[...se.transfer_accounts];e.splice(a,1),le({...se,transfer_accounts:e})},children:"Eliminar Cuenta"})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Imagen de la Cuenta"}),e.image?s.jsxs("div",{className:"position-relative",children:[s.jsx(c,{content:"Eliminar Imagen",children:s.jsx("button",{className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px"},onClick:()=>{const e=[...se.transfer_accounts];e[a].image=null,le({...se,transfer_accounts:e})},children:s.jsx("i",{className:"mdi mdi-delete"})})}),s.jsx("img",{src:`/assets/resources/${e.image}`,className:"img-thumbnail",style:{height:"200px",width:"auto"}})]}):s.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:async e=>{const s=e.target.files[0];if(!s)return;e.target.value=null;const l=s.name.split(".").pop(),i=`transfer-account-${a+1}.${l}`,t=new FormData;t.append("image",s),t.append("name",i);if(!(await w.save(t)))return;const c=[...se.transfer_accounts];c[a].image=i,le({...se,transfer_accounts:c})}})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Número de Cuenta (CC)"}),s.jsx("input",{type:"text",className:"form-control",value:e.cc,onChange:e=>{const s=[...se.transfer_accounts];s[a].cc=e.target.value,le({...se,transfer_accounts:s})}})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Código de Cuenta Interbancario (CCI)"}),s.jsx("input",{type:"text",className:"form-control",value:e.cci,onChange:e=>{const s=[...se.transfer_accounts];s[a].cci=e.target.value,le({...se,transfer_accounts:s})}})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Nombre del Banco/Titular"}),s.jsx("input",{type:"text",className:"form-control",value:e.name,onChange:e=>{const s=[...se.transfer_accounts];s[a].name=e.target.value,le({...se,transfer_accounts:s})}})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Descripción"}),s.jsx("textarea",{className:"form-control",value:e.description,onChange:e=>{const s=[...se.transfer_accounts];s[a].description=e.target.value,le({...se,transfer_accounts:s})}})]})]},a)),s.jsx("button",{type:"button",className:"btn btn-primary mt-2",onClick:()=>{le({...se,transfer_accounts:[...se.transfer_accounts,{image:null,cc:"",cci:"",name:"",description:""}]})},children:"Agregar Otra Cuenta"}),s.jsx("div",{className:"mt-4 mb-2",children:s.jsx("h6",{className:"text-muted",children:"Comisión del Método de Pago"})}),s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Comisión (%)"}),s.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"Ej: 3.5",value:se.checkout_transfer_commission,onChange:e=>le({...se,checkout_transfer_commission:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Dejar en 0 si no desea aplicar comisión"})]})]})})]})]})}),s.jsxs("div",{className:"tab-pane fade "+("policies"===Ce?"show active":""),role:"tabpanel",children:[s.jsx("div",{className:"mb-2",hidden:!N.some(e,e=>"privacy_policy"===e.correlative),children:s.jsx(b,{label:"Política de privacidad",value:se.privacyPolicy,onChange:e=>le({...se,privacyPolicy:e})})}),s.jsx("div",{className:"mb-2",hidden:!N.some(e,e=>"terms_conditions"===e.correlative),children:s.jsx(b,{label:"Términos y condiciones",value:se.termsConditions,onChange:e=>le({...se,termsConditions:e})})}),s.jsx("div",{className:"mb-2",hidden:!N.some(e,e=>"delivery_policy"===e.correlative),children:s.jsx(b,{label:"Políticas de envío",value:se.deliveryPolicy,onChange:e=>le({...se,deliveryPolicy:e})})}),s.jsx("div",{className:"mb-2",hidden:!N.some(e,e=>"saleback_policy"===e.correlative),children:s.jsx(b,{label:"Políticas de devolución y cambio",value:se.salebackPolicy,onChange:e=>le({...se,salebackPolicy:e})})}),s.jsxs("div",{className:"mb-2",hidden:!N.some(e,e=>"politica_sistema_gestion"===e.correlative),children:[s.jsx("label",{className:"form-label",children:"Política del sistema de Gestión (PDF)"}),se.politicaSistemaGestion?s.jsxs("div",{className:"position-relative",children:[s.jsx(c,{content:"Eliminar PDF",children:s.jsx("button",{type:"button",className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px",zIndex:10},onClick:()=>{le({...se,politicaSistemaGestion:""})},children:s.jsx("i",{className:"mdi mdi-delete"})})}),s.jsxs("div",{className:"d-flex align-items-center p-3 border rounded bg-light",children:[s.jsx("i",{className:"mdi mdi-file-pdf-box text-danger me-2",style:{fontSize:"2rem"}}),s.jsxs("div",{className:"flex-grow-1",children:[s.jsx("strong",{children:"Archivo PDF cargado"}),s.jsx("br",{}),s.jsx("small",{className:"text-muted",children:se.politicaSistemaGestion})]}),s.jsxs("a",{href:`/cloud/${se.politicaSistemaGestion}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:[s.jsx("i",{className:"mdi mdi-eye"})," Ver"]})]})]}):s.jsx("input",{type:"file",className:"form-control",accept:".pdf",onChange:async e=>{const a=e.target.files[0];if(!a)return;if("application/pdf"!==a.type)return alert("Por favor, selecciona solo archivos PDF"),void(e.target.value=null);e.target.value=null;const s=new FormData;s.append("file",a),s.append("name","politica-sistema-gestion.pdf");const l=await P.save(s);l&&le({...se,politicaSistemaGestion:l.file})}}),s.jsx("small",{className:"text-muted",children:"Solo se permiten archivos PDF"})]}),s.jsxs("div",{className:"mb-2",hidden:!N.some(e,e=>"alcance_sistema_gestion"===e.correlative),children:[s.jsx("label",{className:"form-label",children:"Alcance del sistema de Gestión (PDF)"}),se.alcanceSistemaGestion?s.jsxs("div",{className:"position-relative",children:[s.jsx(c,{content:"Eliminar PDF",children:s.jsx("button",{type:"button",className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px",zIndex:10},onClick:()=>{le({...se,alcanceSistemaGestion:""})},children:s.jsx("i",{className:"mdi mdi-delete"})})}),s.jsxs("div",{className:"d-flex align-items-center p-3 border rounded bg-light",children:[s.jsx("i",{className:"mdi mdi-file-pdf-box text-danger me-2",style:{fontSize:"2rem"}}),s.jsxs("div",{className:"flex-grow-1",children:[s.jsx("strong",{children:"Archivo PDF cargado"}),s.jsx("br",{}),s.jsx("small",{className:"text-muted",children:se.alcanceSistemaGestion})]}),s.jsxs("a",{href:`/cloud/${se.alcanceSistemaGestion}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:[s.jsx("i",{className:"mdi mdi-eye"})," Ver"]})]})]}):s.jsx("input",{type:"file",className:"form-control",accept:".pdf",onChange:async e=>{const a=e.target.files[0];if(!a)return;if("application/pdf"!==a.type)return alert("Por favor, selecciona solo archivos PDF"),void(e.target.value=null);e.target.value=null;const s=new FormData;s.append("file",a),s.append("name","alcance-sistema-gestion.pdf");const l=await P.save(s);l&&le({...se,alcanceSistemaGestion:l.file})}}),s.jsx("small",{className:"text-muted",children:"Solo se permiten archivos PDF"})]})]}),s.jsx("div",{className:"tab-pane fade "+("cintillos"===Ce?"show active":""),role:"tabpanel",children:s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-12",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[s.jsxs("h4",{className:"mb-0",children:[s.jsx("i",{className:"fas fa-bullhorn text-primary me-2"}),"Gestión de Cintillos Programados"]}),s.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>Me(),children:[s.jsx("i",{className:"fas fa-plus me-2"}),"Nuevo Cintillo"]})]}),0===se.cintillos.length?s.jsxs("div",{className:"text-center py-5",children:[s.jsx("i",{className:"fas fa-bullhorn text-muted",style:{fontSize:"4rem"}}),s.jsx("h5",{className:"text-muted mt-3",children:"No hay cintillos configurados"}),s.jsx("p",{className:"text-muted",children:"Agrega tu primer cintillo para comenzar"})]}):s.jsx("div",{className:"card",children:s.jsx("div",{className:"card-body p-0",children:s.jsx("div",{className:"table-responsive",children:s.jsxs("table",{className:"table table-hover mb-0",children:[s.jsx("thead",{className:"table-light",children:s.jsxs("tr",{children:[s.jsx("th",{width:"5%",children:"#"}),s.jsx("th",{width:"35%",children:"Texto del Cintillo"}),s.jsx("th",{width:"20%",children:"Días Programados"}),s.jsx("th",{width:"15%",children:"Estado"}),s.jsx("th",{width:"15%",children:"Activo"}),s.jsx("th",{width:"10%",children:"Acciones"})]})}),s.jsx("tbody",{children:se.cintillos.map((e,a)=>{const l="string"==typeof e?e:e.text||"",i="string"==typeof e||!1!==e.enabled,t=(e=>{const a="string"==typeof e?e:e.text;if("string"!=typeof e&&!1===e.enabled||!a?.trim())return{status:"Inactivo",class:"badge bg-secondary"};if("string"==typeof e)return{status:"Activo",class:"badge bg-success"};if(!e.schedule)return{status:"Activo",class:"badge bg-success"};const s=new Date,l=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][s.getDay()],i=e.schedule[l];if(!i||!i.enabled)return{status:"Programado (Día no habilitado)",class:"badge bg-warning"};const t=s.toTimeString().slice(0,5),c=i.start||"00:00",r=i.end||"23:59",o=60*parseInt(t.split(":")[0])+parseInt(t.split(":")[1]),n=60*parseInt(c.split(":")[0])+parseInt(c.split(":")[1]),d=60*parseInt(r.split(":")[0])+parseInt(r.split(":")[1]);let m;return m=d<n?o>=n||o<=d:o>=n&&o<=d,m?{status:"Activo Ahora",class:"badge bg-success"}:{status:"Programado (Fuera de horario)",class:"badge bg-warning"}})(e),c=(e=>{if("string"==typeof e)return"Todos los días, todo el día";if(!e.schedule)return"Todos los días, todo el día";const a={monday:"Lun",tuesday:"Mar",wednesday:"Mié",thursday:"Jue",friday:"Vie",saturday:"Sáb",sunday:"Dom"},s=Object.entries(e.schedule).filter(([e,a])=>a.enabled).map(([e])=>a[e]);return 0===s.length?"Ningún día":7===s.length?"Todos los días":s.join(", ")})(e);return s.jsxs("tr",{children:[s.jsx("td",{className:"fw-bold text-muted",children:a+1}),s.jsx("td",{children:s.jsx("div",{className:"text-truncate",style:{maxWidth:"300px"},title:l,children:l||s.jsx("span",{className:"text-muted fst-italic",children:"Sin texto"})})}),s.jsx("td",{children:s.jsx("small",{className:"text-muted",children:c})}),s.jsx("td",{children:s.jsx("span",{className:t.class,children:t.status})}),s.jsx("td",{children:s.jsx("div",{className:"form-check form-switch",children:s.jsx("input",{className:"form-check-input",type:"checkbox",id:`cintillo-enabled-table-${a}`,checked:i,onChange:e=>{const s=[...se.cintillos];"string"==typeof s[a]?s[a]={text:s[a],enabled:e.target.checked,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}}:s[a].enabled=e.target.checked,le({...se,cintillos:s})}})})}),s.jsx("td",{children:s.jsxs("div",{className:"btn-group btn-group-sm",children:[s.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>Me(a),title:"Editar",children:s.jsx("i",{className:"fas fa-edit"})}),s.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>{confirm("¿Estás seguro de que quieres eliminar este cintillo?")&&Ge(a,"cintillos")},title:"Eliminar",children:s.jsx("i",{className:"fas fa-trash"})})]})})]},`cintillo-${a}`)})})]})})})})]})})}),s.jsxs("div",{className:"tab-pane fade "+("location"===Ce?"show active":""),role:"tabpanel",children:[s.jsxs(r,{googleMapsApiKey:v.GMAPS_API_KEY,libraries:k,children:[s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label",children:[s.jsx("i",{className:"fas fa-search me-2"}),"Buscar ubicación"]}),s.jsx(o,{onLoad:e=>{W(e)},onPlaceChanged:()=>{if(null!==J){const e=J.getPlace();if(e.geometry&&e.geometry.location){const a={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};le(e=>({...e,location:a})),Z(e.formatted_address||e.name||"")}}},children:s.jsx("input",{type:"text",className:"form-control",placeholder:"Busca tu dirección o nombre del lugar...",value:Q,onChange:e=>Z(e.target.value)})}),s.jsx("small",{className:"form-text text-muted",children:"Escribe el nombre o dirección de tu tienda para centrar el mapa automáticamente."})]}),s.jsx(n,{mapContainerStyle:{width:"100%",height:"400px"},center:se.location,zoom:15,onClick:e=>{le(a=>({...a,location:{lat:e.latLng.lat(),lng:e.latLng.lng()}}))},children:s.jsx(d,{position:se.location})})]}),s.jsxs("small",{className:"form-text text-muted mt-2 d-block",children:[s.jsx("i",{className:"fas fa-info-circle me-1"}),"Haz clic en el mapa para ajustar la ubicación exacta después de buscar."]}),s.jsxs("div",{className:"mt-3 p-3 bg-light rounded",children:[s.jsx("strong",{children:"Coordenadas seleccionadas:"}),s.jsxs("div",{className:"mt-2",children:[s.jsxs("span",{className:"badge bg-primary me-2",children:["Latitud: ",se.location.lat.toFixed(6)]}),s.jsxs("span",{className:"badge bg-success",children:["Longitud: ",se.location.lng.toFixed(6)]})]})]})]}),s.jsxs("div",{className:"tab-pane fade "+("shippingfree"===Ce?"show active":""),role:"tabpanel",children:[s.jsx(I,{correlative:"igv_checkout",children:s.jsxs("div",{className:"mb-2",children:[s.jsxs("label",{htmlFor:"igvCheckout",className:"form-label",children:["IGV",s.jsx("small",{className:"d-block text-muted",children:"Dejar en 0 si no se quiere mostrar"})]}),s.jsx("input",{type:"number",step:.01,className:"form-control",id:"igvCheckout",value:se.igvCheckout,onChange:e=>le({...se,igvCheckout:e.target.value})})]})}),s.jsx(I,{correlative:"currency",children:s.jsxs("div",{className:"mb-2",children:[s.jsxs("label",{htmlFor:"currency",className:"form-label",children:["Moneda",s.jsx("small",{className:"d-block text-muted",style:{fontWeight:"lighter"},children:"¿Qué moneda maneja tu empresa?"})]}),s.jsxs("select",{className:"form-control",id:"currency",value:se.currency,onChange:e=>le({...se,currency:e.target.value}),children:[s.jsx("option",{value:"pen",children:"Soles (S/)"}),s.jsx("option",{value:"usd",children:"Dólares ($)"})]})]})}),"usd"===se.currency&&s.jsxs("div",{className:"mb-2",children:[s.jsxs("label",{htmlFor:"exchange_rate_usd_pen",className:"form-label",children:[s.jsx("i",{className:"mdi mdi-currency-usd me-1"}),"Tipo de Cambio (USD → PEN)",s.jsxs("small",{className:"d-block text-muted",style:{fontWeight:"lighter"},children:[s.jsx("strong",{children:"⚠️ Importante:"})," Culqi solo procesa pagos en Soles (PEN). Este tipo de cambio se usará para convertir el monto de dólares a soles al procesar pagos con tarjeta."]})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text",children:"1 USD ="}),s.jsx("input",{type:"number",step:"0.01",min:"0.01",className:"form-control",id:"exchange_rate_usd_pen",value:se.exchange_rate_usd_pen,onChange:e=>le({...se,exchange_rate_usd_pen:e.target.value}),placeholder:"3.75"}),s.jsx("span",{className:"input-group-text",children:"PEN"})]}),s.jsxs("small",{className:"text-info",children:[s.jsx("i",{className:"mdi mdi-information-outline me-1"}),"Ejemplo: Si un producto cuesta $100 USD y el tipo de cambio es 3.75, Culqi cobrará S/ 375.00 PEN."]})]}),s.jsx(I,{correlative:"shipping_free",children:s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Envio gratis a partir de:"}),s.jsx("input",{type:"text",placeholder:"Ingrese el monto para envio gratis",className:"form-control",value:se.shippingFree,onChange:e=>le({...se,shippingFree:e.target.value})})]})}),s.jsx(I,{correlative:"additional_shipping_costs",children:s.jsxs("div",{className:"mb-4 mt-4",children:[s.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[s.jsxs("div",{children:[s.jsxs("h5",{className:"mb-1",children:[s.jsx("i",{className:"mdi mdi-cash-multiple me-2 text-warning"}),"Costos Adicionales de Envío"]}),s.jsx("small",{className:"text-muted",children:"Configure costos adicionales según el método de envío y el monto de compra (Ej: embalaje, traslado a agencia, etc.)"})]}),s.jsxs("button",{type:"button",className:"btn btn-sm btn-primary",onClick:()=>{le({...se,additional_shipping_costs:[...se.additional_shipping_costs,{enabled:!0,delivery_method:"agency",min_amount:0,max_amount:390,additional_cost:15,description:"Costo de embalaje y traslado a agencia"}]})},children:[s.jsx("i",{className:"mdi mdi-plus me-1"}),"Agregar Regla"]})]}),0===se.additional_shipping_costs.length?s.jsxs("div",{className:"alert alert-info",children:[s.jsx("i",{className:"mdi mdi-information me-2"}),'No hay reglas de costos adicionales configuradas. Haga clic en "Agregar Regla" para crear una.']}):s.jsx("div",{className:"row",children:se.additional_shipping_costs.map((e,a)=>s.jsx("div",{className:"col-12 mb-3",children:s.jsxs("div",{className:"card border",children:[s.jsxs("div",{className:"card-header bg-light d-flex justify-content-between align-items-center",children:[s.jsxs("h6",{className:"mb-0",children:[s.jsx("i",{className:"mdi mdi-numeric-{index + 1}-circle me-2"}),"Regla #",a+1]}),s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsxs("div",{className:"form-check form-switch mb-0",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",id:`additional-cost-enabled-${a}`,checked:e.enabled,onChange:e=>{const s=[...se.additional_shipping_costs];s[a].enabled=e.target.checked,le({...se,additional_shipping_costs:s})}}),s.jsx("label",{className:"form-check-label",htmlFor:`additional-cost-enabled-${a}`,children:e.enabled?"Activo":"Inactivo"})]}),s.jsx("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>{if(confirm("¿Está seguro de eliminar esta regla?")){const e=[...se.additional_shipping_costs];e.splice(a,1),le({...se,additional_shipping_costs:e})}},children:s.jsx("i",{className:"mdi mdi-delete"})})]})]}),s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-6 mb-3",children:[s.jsx("label",{className:"form-label",children:"Método de Envío"}),s.jsxs("select",{className:"form-select",value:e.delivery_method,onChange:e=>{const s=[...se.additional_shipping_costs];s[a].delivery_method=e.target.value,le({...se,additional_shipping_costs:s})},children:[s.jsx("option",{value:"all",children:"Todos los métodos"}),s.jsx("option",{value:"agency",children:"Agencia"}),s.jsx("option",{value:"express",children:"Express"}),s.jsx("option",{value:"standard",children:"Estándar"}),s.jsx("option",{value:"store_pickup",children:"Recojo en tienda"})]}),s.jsx("small",{className:"text-muted",children:"Seleccione a qué método de envío aplica"})]}),s.jsxs("div",{className:"col-md-6 mb-3",children:[s.jsx("label",{className:"form-label",children:"Descripción"}),s.jsx("input",{type:"text",className:"form-control",placeholder:"Ej: Costo de embalaje y traslado",value:e.description||"",onChange:e=>{const s=[...se.additional_shipping_costs];s[a].description=e.target.value,le({...se,additional_shipping_costs:s})}}),s.jsx("small",{className:"text-muted",children:"Concepto del costo adicional"})]}),s.jsxs("div",{className:"col-md-4 mb-3",children:[s.jsx("label",{className:"form-label",children:"Monto Mínimo de Compra"}),s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text",children:"S/"}),s.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"0.00",value:e.min_amount||0,onChange:e=>{const s=[...se.additional_shipping_costs];s[a].min_amount=parseFloat(e.target.value)||0,le({...se,additional_shipping_costs:s})}})]}),s.jsx("small",{className:"text-muted",children:"Desde qué monto aplica"})]}),s.jsxs("div",{className:"col-md-4 mb-3",children:[s.jsx("label",{className:"form-label",children:"Monto Máximo de Compra"}),s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text",children:"S/"}),s.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"390.00",value:e.max_amount||0,onChange:e=>{const s=[...se.additional_shipping_costs];s[a].max_amount=parseFloat(e.target.value)||0,le({...se,additional_shipping_costs:s})}})]}),s.jsx("small",{className:"text-muted",children:"Hasta qué monto aplica (0 = sin límite)"})]}),s.jsxs("div",{className:"col-md-4 mb-3",children:[s.jsx("label",{className:"form-label",children:"Costo Adicional"}),s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text",children:"S/"}),s.jsx("input",{type:"number",step:"0.01",min:"0",className:"form-control",placeholder:"15.00",value:e.additional_cost||0,onChange:e=>{const s=[...se.additional_shipping_costs];s[a].additional_cost=parseFloat(e.target.value)||0,le({...se,additional_shipping_costs:s})}})]}),s.jsx("small",{className:"text-muted",children:"Monto a cobrar adicionalmente"})]})]})})]})},a))})]})})]}),s.jsx("div",{className:"tab-pane fade "+("importation"===Ce?"show active":""),role:"tabpanel",children:s.jsx("div",{className:"row mb-2",children:s.jsxs("div",{className:"col-12 col-sm-8 col-md-6 col-lg-4 col-xl-3",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"importation_flete",className:"form-label",children:"Precio por peso (flete)"}),s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text",children:s.jsx("i",{className:"mdi mdi-circle-multiple"})}),s.jsx("input",{type:"number",step:"0.01",className:"form-control",id:"importation_flete",value:se.importation_flete,onChange:e=>le({...se,importation_flete:e.target.value})}),s.jsx("span",{className:"input-group-text",children:"por kg"})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"importation_seguro",className:"form-label",children:"Seguro de importación"}),s.jsxs("div",{className:"input-group",children:[s.jsx("input",{type:"number",step:"0.01",className:"form-control",id:"importation_seguro",value:se.importation_seguro,onChange:e=>le({...se,importation_seguro:e.target.value})}),s.jsx("span",{className:"input-group-text",children:"%"})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{htmlFor:"importation_derecho_arancelario",className:"form-label",children:"Derechos arancelarios"}),s.jsxs("div",{className:"input-group",children:[s.jsx("input",{type:"number",step:"0.01",className:"form-control",id:"importation_derecho_arancelario",value:se.importation_derecho_arancelario,onChange:e=>le({...se,importation_derecho_arancelario:e.target.value})}),s.jsx("span",{className:"input-group-text",children:"%"})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{htmlFor:"importation_derecho_arancelario_descripcion",className:"form-label",children:["Descripción de derechos arancelarios",s.jsx("small",{className:"text-muted d-block",children:"Qué porcentajes se están considerando en cálculo de derechos arancelarios"})]}),s.jsx("textarea",{className:"form-control",id:"importation_derecho_arancelario_descripcion",value:se.importation_derecho_arancelario_descripcion,onChange:e=>le({...se,importation_derecho_arancelario_descripcion:e.target.value}),rows:3,style:{minHeight:81,fieldSizing:"content"}})]})]})})}),s.jsx("div",{className:"tab-pane fade "+("corporate"===Ce?"show active":""),role:"tabpanel",children:s.jsxs("div",{className:"mb-2",children:[s.jsx("label",{className:"form-label",children:"Email Corporativo Principal"}),s.jsx("input",{type:"email",placeholder:"contacto@empresa.com",className:"form-control",value:se.coorporativeEmail,onChange:e=>le({...se,coorporativeEmail:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Este email se usará para comunicaciones corporativas y notificaciones del sistema"})]})}),s.jsxs("div",{className:"tab-pane fade "+("seo"===Ce?"show active":""),role:"tabpanel",children:[s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-12",children:[s.jsxs("h5",{className:"mb-4",children:[s.jsx("i",{className:"fas fa-search me-2 text-primary"}),"Configuración SEO y Meta Tags"]}),s.jsx("p",{className:"text-muted mb-4",children:"Configure los meta tags para optimizar su sitio web para motores de búsqueda y redes sociales."})]})}),s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsxs("h6",{className:"mb-3",children:[s.jsx("i",{className:"fas fa-globe me-2"}),"Meta Tags Básicos"]}),s.jsx(ae,{correlative:"site_title",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Título del Sitio"}),s.jsx("input",{type:"text",className:"form-control",placeholder:"Mi Sitio Web - Descripción breve",value:se.siteTitle,onChange:e=>le({...se,siteTitle:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Título principal que aparece en la pestaña del navegador"})]})}),s.jsx(ae,{correlative:"site_description",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Descripción del Sitio"}),s.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Descripción breve del sitio web para SEO...",value:se.siteDescription,onChange:e=>le({...se,siteDescription:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Descripción que aparece en los resultados de búsqueda (máx. 160 caracteres)"})]})}),s.jsx(ae,{correlative:"site_keywords",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Palabras Clave"}),s.jsx("input",{type:"text",className:"form-control",placeholder:"palabra1, palabra2, palabra3",value:se.siteKeywords,onChange:e=>le({...se,siteKeywords:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Palabras clave separadas por comas"})]})}),s.jsx(ae,{correlative:"canonical_url",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"URL Canónica"}),s.jsx("input",{type:"url",className:"form-control",placeholder:"https://midominio.com",value:se.canonicalUrl,onChange:e=>le({...se,canonicalUrl:e.target.value})}),s.jsx("small",{className:"text-muted",children:"URL principal del sitio para evitar contenido duplicado"})]})})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsxs("h6",{className:"mb-3",children:[s.jsx("i",{className:"fab fa-facebook me-2"}),"Open Graph (Facebook/LinkedIn)"]}),s.jsx(ae,{correlative:"og_title",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Título Open Graph"}),s.jsx("input",{type:"text",className:"form-control",placeholder:"Título para compartir en redes sociales",value:se.ogTitle,onChange:e=>le({...se,ogTitle:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Título que aparece al compartir en Facebook/LinkedIn"})]})}),s.jsx(ae,{correlative:"og_description",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Descripción Open Graph"}),s.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Descripción atractiva para redes sociales...",value:se.ogDescription,onChange:e=>le({...se,ogDescription:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Descripción al compartir en redes sociales"})]})}),s.jsx(ae,{correlative:"og_image",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Imagen Open Graph"}),s.jsx("input",{type:"url",className:"form-control",placeholder:"https://midominio.com/imagen-compartir.jpg",value:se.ogImage,onChange:e=>le({...se,ogImage:e.target.value})}),s.jsx("small",{className:"text-muted",children:"URL de la imagen para compartir (recomendado: 1200x630px)"})]})}),s.jsx(ae,{correlative:"og_url",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"URL Open Graph"}),s.jsx("input",{type:"url",className:"form-control",placeholder:"https://midominio.com",value:se.ogUrl,onChange:e=>le({...se,ogUrl:e.target.value})}),s.jsx("small",{className:"text-muted",children:"URL que se mostrará al compartir"})]})}),s.jsxs("h6",{className:"mb-3 mt-4",children:[s.jsx("i",{className:"fab fa-twitter me-2"}),"Twitter Cards"]}),s.jsx(ae,{correlative:"twitter_card",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Tipo de Twitter Card"}),s.jsxs("select",{className:"form-control",value:se.twitterCard,onChange:e=>le({...se,twitterCard:e.target.value}),children:[s.jsx("option",{value:"summary",children:"Summary"}),s.jsx("option",{value:"summary_large_image",children:"Summary Large Image"}),s.jsx("option",{value:"app",children:"App"}),s.jsx("option",{value:"player",children:"Player"})]}),s.jsx("small",{className:"text-muted",children:"Tipo de tarjeta para Twitter"})]})}),s.jsx(ae,{correlative:"twitter_title",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Título Twitter"}),s.jsx("input",{type:"text",className:"form-control",placeholder:"Título para Twitter",value:se.twitterTitle,onChange:e=>le({...se,twitterTitle:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Título específico para Twitter"})]})}),s.jsx(ae,{correlative:"twitter_description",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Descripción Twitter"}),s.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Descripción para Twitter...",value:se.twitterDescription,onChange:e=>le({...se,twitterDescription:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Descripción específica para Twitter"})]})}),s.jsx(ae,{correlative:"twitter_image",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Imagen Twitter"}),s.jsx("input",{type:"url",className:"form-control",placeholder:"https://midominio.com/imagen-twitter.jpg",value:se.twitterImage,onChange:e=>le({...se,twitterImage:e.target.value})}),s.jsx("small",{className:"text-muted",children:"URL de la imagen para Twitter Cards"})]})})]})]}),s.jsxs("div",{className:"row mt-4",children:[s.jsxs("div",{className:"col-12",children:[s.jsx("hr",{}),s.jsxs("h6",{className:"mb-3",children:[s.jsx("i",{className:"fas fa-robot me-2"}),"Configuración de robots.txt"]}),s.jsx("p",{className:"text-muted small mb-3",children:"Aquí puedes agregar reglas personalizadas adicionales."})]}),s.jsx("div",{className:"col-md-8",children:s.jsx(ae,{correlative:"robots_additional_rules",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Reglas Adicionales de robots.txt"}),s.jsx("textarea",{className:"form-control",rows:"8",placeholder:"# Bloquear rutas adicionales\nDisallow: /ruta-privada\nDisallow: /otra-ruta\n\n# Configurar crawler específico\nUser-agent: Googlebot\nCrawl-delay: 10",value:se.robotsAdditionalRules,onChange:e=>le({...se,robotsAdditionalRules:e.target.value})}),s.jsx("small",{className:"text-muted",children:'Agrega reglas personalizadas como Disallow adicionales o configuración de User-agents específicos. Ejemplo: "Disallow: /mi-ruta" o "User-agent: Bingbot\\nCrawl-delay: 5"'})]})})}),s.jsxs("div",{className:"col-12",children:[s.jsxs("div",{className:"d-flex gap-2",children:[s.jsxs("button",{type:"button",className:"btn btn-primary",onClick:async()=>{try{U(!0);const e=await fetch("/api/admin/generals/generate-robots",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}}),a=await e.json();a.success?m.success("robots.txt generado exitosamente"):m.error(a.message||"Error al generar robots.txt")}catch(e){m.error("Error al generar robots.txt")}finally{U(!1)}},disabled:H,children:[s.jsx("i",{className:"fas fa-robot me-2"}),H?"Generando...":"Generar robots.txt"]}),s.jsxs("button",{type:"button",className:"btn btn-success",onClick:async()=>{try{U(!0);const e=await fetch("/api/admin/generals/generate-sitemap",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}}),a=await e.json();a.success?m.success("Sitemap generado exitosamente"):m.error(a.message||"Error al generar sitemap")}catch(e){m.error("Error al generar sitemap")}finally{U(!1)}},disabled:H,children:[s.jsx("i",{className:"fas fa-sitemap me-2"}),H?"Generando...":"Generar Sitemap"]}),s.jsxs("a",{href:"/robots.txt",target:"_blank",className:"btn btn-outline-secondary",children:[s.jsx("i",{className:"fas fa-external-link-alt me-2"}),"Ver robots.txt"]}),s.jsxs("a",{href:"/sitemap.xml",target:"_blank",className:"btn btn-outline-secondary",children:[s.jsx("i",{className:"fas fa-external-link-alt me-2"}),"Ver sitemap.xml"]})]}),s.jsxs("small",{className:"text-muted mt-2 d-block",children:[s.jsx("i",{className:"fas fa-info-circle me-1"}),"Recuerda guardar los cambios antes de generar los archivos para que se incluyan las nuevas configuraciones."]})]})]}),s.jsxs("div",{className:"alert alert-info mt-4",children:[s.jsxs("h6",{children:[s.jsx("i",{className:"fas fa-lightbulb me-2"}),"Consejos para SEO"]}),s.jsxs("ul",{className:"mb-0",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Título:"})," Mantenga entre 50-60 caracteres para mejor visualización"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Descripción:"})," Use entre 150-160 caracteres para aparecer completa en búsquedas"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Imágenes:"})," Use imágenes de alta calidad (1200x630px para Open Graph)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Palabras clave:"})," Use términos relevantes que sus usuarios buscarían"]})]})]})]}),s.jsx("div",{className:"tab-pane fade "+("pixels"===Ce?"show active":""),role:"tabpanel",children:s.jsxs("div",{className:"row",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsx("h5",{className:"mb-3",children:"Google Analytics & Ads"}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Google Analytics ID"}),s.jsx("input",{type:"text",placeholder:"G-XXXXXXXXXX o UA-XXXXXXXX-X",className:"form-control",value:se.googleAnalyticsId,onChange:e=>le({...se,googleAnalyticsId:e.target.value})}),s.jsx("small",{className:"text-muted",children:"ID de Google Analytics para tracking de visitas"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Google Tag Manager ID"}),s.jsx("input",{type:"text",placeholder:"GTM-XXXXXXX",className:"form-control",value:se.googleTagManagerId,onChange:e=>le({...se,googleTagManagerId:e.target.value})}),s.jsx("small",{className:"text-muted",children:"ID de Google Tag Manager"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Google Ads Conversion ID"}),s.jsx("input",{type:"text",placeholder:"AW-XXXXXXXXX",className:"form-control",value:se.googleAdsConversionId,onChange:e=>le({...se,googleAdsConversionId:e.target.value})}),s.jsx("small",{className:"text-muted",children:"ID de conversión de Google Ads"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Google Ads Conversion Label"}),s.jsx("input",{type:"text",placeholder:"xxxxxxxxxxxxxxxxxxxxxxx",className:"form-control",value:se.googleAdsConversionLabel,onChange:e=>le({...se,googleAdsConversionLabel:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Etiqueta de conversión de Google Ads"})]}),s.jsx("h5",{className:"mb-3",children:"Redes Sociales"}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Facebook Pixel ID"}),s.jsx("input",{type:"text",placeholder:"XXXXXXXXXXXXXXX",className:"form-control",value:se.facebookPixelId,onChange:e=>le({...se,facebookPixelId:e.target.value})}),s.jsx("small",{className:"text-muted",children:"ID del píxel de Facebook"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"TikTok Pixel ID"}),s.jsx("input",{type:"text",placeholder:"XXXXXXXXXXXXXXXXX",className:"form-control",value:se.tiktokPixelId,onChange:e=>le({...se,tiktokPixelId:e.target.value})}),s.jsx("small",{className:"text-muted",children:"ID del píxel de TikTok"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"LinkedIn Insight Tag ID"}),s.jsx("input",{type:"text",placeholder:"XXXXXXX",className:"form-control",value:se.linkedinInsightTag,onChange:e=>le({...se,linkedinInsightTag:e.target.value})}),s.jsx("small",{className:"text-muted",children:"ID del Insight Tag de LinkedIn"})]})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsx("h5",{className:"mb-3",children:"Otras Plataformas"}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Hotjar ID"}),s.jsx("input",{type:"text",placeholder:"XXXXXXX",className:"form-control",value:se.hotjarId,onChange:e=>le({...se,hotjarId:e.target.value})}),s.jsx("small",{className:"text-muted",children:"ID de Hotjar para mapas de calor"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Microsoft Clarity ID"}),s.jsx("input",{type:"text",placeholder:"xxxxxxxxxx",className:"form-control",value:se.clarityId,onChange:e=>le({...se,clarityId:e.target.value})}),s.jsx("small",{className:"text-muted",children:"ID de Microsoft Clarity"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Twitter Pixel ID"}),s.jsx("input",{type:"text",placeholder:"o1234",className:"form-control",value:se.twitterPixelId,onChange:e=>le({...se,twitterPixelId:e.target.value})}),s.jsx("small",{className:"text-muted",children:"ID del píxel de Twitter"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Pinterest Tag ID"}),s.jsx("input",{type:"text",placeholder:"26xxxxxxxxxxxxxxxxxx",className:"form-control",value:se.pinterestTagId,onChange:e=>le({...se,pinterestTagId:e.target.value})}),s.jsx("small",{className:"text-muted",children:"ID del tag de Pinterest"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Snapchat Pixel ID"}),s.jsx("input",{type:"text",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",className:"form-control",value:se.snapchatPixelId,onChange:e=>le({...se,snapchatPixelId:e.target.value})}),s.jsx("small",{className:"text-muted",children:"ID del píxel de Snapchat"})]}),s.jsx("h5",{className:"mb-3",children:"Scripts Personalizados"}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Scripts en Head"}),s.jsx("textarea",{rows:"4",placeholder:"Scripts que se insertarán en el <head>",className:"form-control",value:se.customHeadScripts,onChange:e=>le({...se,customHeadScripts:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Scripts personalizados para el <head>"})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Scripts en Body"}),s.jsx("textarea",{rows:"4",placeholder:"Scripts que se insertarán antes del </body>",className:"form-control",value:se.customBodyScripts,onChange:e=>le({...se,customBodyScripts:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Scripts personalizados para el final del <body>"})]})]})]})}),s.jsx("div",{className:"tab-pane fade "+("oauth"===Ce?"show active":""),role:"tabpanel",children:s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-12",children:[s.jsx("h5",{className:"mb-4",children:"🔐 Configuración de Google OAuth"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"form-check form-switch",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"googleOauthEnabled",checked:"true"===se.googleOauthEnabled,onChange:e=>le({...se,googleOauthEnabled:String(e.target.checked)})}),s.jsx("label",{className:"form-check-label",htmlFor:"googleOauthEnabled",children:s.jsx("strong",{children:"Habilitar inicio de sesión con Google"})})]}),s.jsx("small",{className:"text-muted",children:"Permite a los clientes registrarse e iniciar sesión usando su cuenta de Google"})]}),"true"===se.googleOauthEnabled&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"alert alert-info",children:[s.jsx("h6",{children:"📋 Instrucciones de configuración:"}),s.jsxs("ol",{className:"mb-0",children:[s.jsxs("li",{children:["Ve a ",s.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",children:"Google Cloud Console"})]}),s.jsx("li",{children:"Crea un nuevo proyecto o selecciona uno existente"}),s.jsx("li",{children:'Habilita la API de "Google+ API" y "Google Sign-In API"'}),s.jsx("li",{children:'Ve a "Credenciales" → "Crear credenciales" → "ID de cliente OAuth 2.0"'}),s.jsx("li",{children:'Configura como "Aplicación web"'}),s.jsxs("li",{children:["Agrega estos dominios autorizados:",s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("strong",{children:"JavaScript origins:"})," ",s.jsx("code",{children:window.location.origin})]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Redirect URIs:"})," ",s.jsxs("code",{children:[window.location.origin,"/auth/google/callback"]})]})]})]}),s.jsx("li",{children:"Copia el Client ID y Client Secret en los campos de abajo"})]})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Google Client ID"}),s.jsx("input",{type:"text",placeholder:"123456789-abcdefghijk.apps.googleusercontent.com",className:"form-control",value:se.googleClientId,onChange:e=>le({...se,googleClientId:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Client ID obtenido de Google Cloud Console"})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Google Client Secret"}),s.jsx("input",{type:"password",placeholder:"GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxx",className:"form-control",value:se.googleClientSecret,onChange:e=>le({...se,googleClientSecret:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Client Secret obtenido de Google Cloud Console"})]})})]}),se.googleClientId&&se.googleClientSecret&&s.jsxs("div",{className:"alert alert-success",children:[s.jsx("h6",{children:"✅ Configuración completa"}),s.jsx("p",{className:"mb-0",children:'Una vez guardada la configuración, los botones de "Continuar con Google" aparecerán automáticamente en las páginas de login y registro.'})]}),s.jsxs("div",{className:"alert alert-warning",children:[s.jsx("h6",{children:"⚠️ Importante para producción:"}),s.jsx("p",{className:"mb-0",children:"Para usar en producción, asegúrate de actualizar los dominios autorizados en Google Cloud Console con tu dominio real (ej: https://tudominio.com)"})]})]})]})})}),s.jsx("div",{className:"tab-pane fade "+("apis"===Ce?"show active":""),role:"tabpanel",children:s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-12",children:[s.jsx("h5",{className:"mb-4",children:"🔌 APIs e Integraciones"}),s.jsx(I,{correlative:"tiny_api_key",children:s.jsxs("div",{className:"card mb-4 border-light shadow-sm",children:[s.jsx("div",{className:"card-header bg-transparent",children:s.jsxs("h6",{className:"mb-0 text-primary",children:[s.jsx("i",{className:"fas fa-pen-fancy me-2"}),"Editor de Texto (TinyMCE)"]})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("label",{className:"form-label",htmlFor:"tiny_api_key",children:["TinyMCE API Key ",s.jsx("small",{className:"text-muted",children:"(Dejar en blanco para usar la key por defecto del sistema)"})]}),s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text",children:s.jsx("i",{className:"fas fa-key"})}),s.jsx("input",{type:"text",className:"form-control",id:"tiny_api_key",value:se.tinyApiKey,onChange:ge,placeholder:"Ingrese su API Key de TinyMCE"})]}),s.jsx("small",{className:"text-muted mt-2 d-block",children:"Esta key se utiliza para cargar el editor de texto enriquecido en todo el panel administrativo."})]})]})}),s.jsx(I,{correlative:"atalaya_leads_api_key",children:s.jsxs("div",{className:"card mb-4 border-light shadow-sm",children:[s.jsx("div",{className:"card-header bg-transparent",children:s.jsxs("h6",{className:"mb-0 text-primary",children:[s.jsx("i",{className:"fas fa-bullhorn me-2"}),"CRM & Leads (Atalaya)"]})}),s.jsxs("div",{className:"card-body",children:[s.jsx("label",{className:"form-label",children:"Atalaya Leads API Key"}),s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text",children:s.jsx("i",{className:"fas fa-key"})}),s.jsx("input",{type:"text",placeholder:"API Key de Atalaya CRM (ejemplo: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX)",className:"form-control",value:se.atalayaLeadsApiKey,onChange:e=>le({...se,atalayaLeadsApiKey:e.target.value})})]}),s.jsxs("small",{className:"text-muted mt-2 d-block",children:["API Key para enviar leads del formulario de contacto a Atalaya CRM.",s.jsx("a",{href:"https://atalaya.pe",target:"_blank",rel:"noopener noreferrer",className:"text-primary ms-1",children:"Obtén tu API Key aquí"})]})]})]})})]})})}),s.jsx("div",{className:"tab-pane fade "+("hotel"===Ce?"show active":""),role:"tabpanel",children:s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-12",children:[s.jsxs("h5",{className:"mb-4",children:[s.jsx("i",{className:"fas fa-hotel me-2"}),"Configuración de Horarios del Hotel"]}),s.jsxs("div",{className:"alert alert-info mb-4",children:[s.jsx("i",{className:"fas fa-info-circle me-2"}),s.jsx("strong",{children:"Horarios de Check-In y Check-Out:"})," Estos horarios definen cuándo los huéspedes pueden ingresar y deben retirarse de las habitaciones. El día de check-out, la habitación estará disponible para nuevas reservas a partir del horario configurado."]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-6",children:s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h6",{className:"card-title",children:[s.jsx("i",{className:"fas fa-sign-in-alt text-success me-2"}),"Horario de Check-In"]}),s.jsx("p",{className:"text-muted small mb-3",children:"Hora a partir de la cual los huéspedes pueden ingresar a la habitación"}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Hora de entrada"}),s.jsx("input",{type:"time",className:"form-control",value:se.hotelCheckinTime,onChange:e=>le({...se,hotelCheckinTime:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Por defecto: 14:00 (2:00 PM)"})]})]})})}),s.jsx("div",{className:"col-md-6",children:s.jsx("div",{className:"card",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h6",{className:"card-title",children:[s.jsx("i",{className:"fas fa-sign-out-alt text-danger me-2"}),"Horario de Check-Out"]}),s.jsx("p",{className:"text-muted small mb-3",children:"Hora límite para que los huéspedes desocupen la habitación"}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Hora de salida"}),s.jsx("input",{type:"time",className:"form-control",value:se.hotelCheckoutTime,onChange:e=>le({...se,hotelCheckoutTime:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Por defecto: 12:00 (12:00 PM - Mediodía)"})]})]})})})]}),s.jsxs("div",{className:"alert alert-warning mt-4",children:[s.jsxs("h6",{children:[s.jsx("i",{className:"fas fa-calendar-alt me-2"}),"¿Cómo funciona?"]}),s.jsxs("ul",{className:"mb-0",children:[s.jsxs("li",{children:["Si un huésped reserva del ",s.jsx("strong",{children:"día 5 al día 8"}),", el check-out es el ",s.jsx("strong",{children:"día 8"}),"."]}),s.jsxs("li",{children:["El ",s.jsx("strong",{children:"día 8"})," estará disponible para nuevas reservas, ya que el huésped debe retirarse a las ",s.jsx("strong",{children:se.hotelCheckoutTime||"12:00"}),"."]}),s.jsxs("li",{children:["Un nuevo huésped puede hacer check-in el mismo ",s.jsx("strong",{children:"día 8"})," a partir de las ",s.jsx("strong",{children:se.hotelCheckinTime||"14:00"}),"."]})]})]})]})})}),s.jsx("div",{className:"tab-pane fade "+("payments"===Ce?"show active":""),role:"tabpanel",children:s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-12",children:[s.jsx("h5",{className:"mb-4",children:"💳 Configuración de Pasarelas de Pago"}),s.jsxs("div",{className:"card mb-4",children:[s.jsx("div",{className:"card-header",children:s.jsx("h6",{className:"card-title mb-0",children:"🔒 Culqi - Pagos con Tarjeta"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"form-check form-switch",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"culqiEnabled",checked:"true"===se.checkout_culqi,onChange:e=>le({...se,checkout_culqi:String(e.target.checked)})}),s.jsx("label",{className:"form-check-label",htmlFor:"culqiEnabled",children:s.jsx("strong",{children:"Habilitar pagos con Culqi"})})]}),s.jsx("small",{className:"text-muted",children:"Permite a los clientes pagar con tarjetas de crédito/débito, Yape, y otros métodos"})]}),"true"===se.checkout_culqi&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"alert alert-info",children:[s.jsx("h6",{children:"📋 Instrucciones de configuración:"}),s.jsxs("ol",{className:"mb-0",children:[s.jsxs("li",{children:["Ve a ",s.jsx("a",{href:"https://culqi.com",target:"_blank",rel:"noopener noreferrer",children:"Culqi.com"})," y crea una cuenta"]}),s.jsx("li",{children:"Ve al panel de Culqi → Desarrollo → Llaves API"}),s.jsxs("li",{children:["Copia la ",s.jsx("strong",{children:"Llave Pública"})," y ",s.jsx("strong",{children:"Llave Privada"})]}),s.jsx("li",{children:"Para producción, cambia a las llaves de producción"}),s.jsx("li",{children:"Configura los webhooks si es necesario"})]})]}),s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Nombre de la cuenta"}),s.jsx("input",{type:"text",placeholder:"Mi Tienda",className:"form-control",value:se.checkout_culqi_name,onChange:e=>le({...se,checkout_culqi_name:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Nombre que aparecerá en el formulario de pago"})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Llave Pública"}),s.jsx("input",{type:"text",placeholder:"pk_test_xxxxxxxxxxxxxxxxx",className:"form-control",value:se.checkout_culqi_public_key,onChange:e=>le({...se,checkout_culqi_public_key:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Llave pública de Culqi (pk_test_ o pk_live_)"})]})})]}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Llave Privada"}),s.jsx("input",{type:"password",placeholder:"sk_test_xxxxxxxxxxxxxxxxx",className:"form-control",value:se.checkout_culqi_private_key,onChange:e=>le({...se,checkout_culqi_private_key:e.target.value})}),s.jsx("small",{className:"text-muted",children:"Llave privada de Culqi (sk_test_ o sk_live_)"})]})})}),se.checkout_culqi_public_key&&se.checkout_culqi_private_key&&s.jsxs("div",{className:"alert alert-success",children:[s.jsx("h6",{children:"✅ Configuración completa"}),s.jsx("p",{className:"mb-0",children:"Una vez guardada la configuración, los pagos con Culqi estarán disponibles en el checkout. Los clientes podrán pagar con tarjetas, Yape, banca móvil y otros métodos."})]}),s.jsxs("div",{className:"alert alert-warning",children:[s.jsx("h6",{children:"⚠️ Importante para producción:"}),s.jsx("p",{className:"mb-0",children:"Para usar en producción, asegúrate de cambiar a las llaves de producción (pk_live_ y sk_live_) y configurar correctamente los webhooks en el panel de Culqi."})]})]})]})]}),s.jsxs("div",{className:"alert alert-info",children:[s.jsx("h6",{children:"ℹ️ Información adicional"}),s.jsx("p",{className:"mb-2",children:"Las configuraciones de pasarelas de pago se almacenan de forma segura en la base de datos."}),s.jsxs("ul",{className:"mb-0",children:[s.jsx("li",{children:"Las llaves privadas nunca se exponen al frontend"}),s.jsx("li",{children:"Las configuraciones se pueden cambiar sin editar archivos del servidor"}),s.jsx("li",{children:"Los cambios toman efecto inmediatamente después de guardar"})]})]})]})})})]}),s.jsx("button",{type:"submit",className:"btn btn-primary mt-3",disabled:H,children:H?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Guardando..."]}):"Guardar"}),s.jsx(p,{})]})]}),$&&s.jsx("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:s.jsx("div",{className:"modal-dialog modal-lg",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsx("h5",{className:"modal-title",children:"Gestionar Visibilidad de Campos"}),s.jsx("button",{type:"button",className:"btn-close",onClick:()=>z(!1)})]}),s.jsxs("div",{className:"modal-body",children:[s.jsx("p",{className:"text-muted mb-3",children:"Selecciona qué campos serán visibles para los usuarios Admin. Los campos marcados estarán disponibles para Admin, los desmarcados solo serán visibles para Root."}),Object.entries(g).map(([l,i])=>{const t={general:"General",email:"Templates de Email",contact:"Contacto & WhatsApp",checkout:"Métodos de Pago",importation:"Costos de Importación",policies:"Políticas & Términos",location:"Ubicación & Mapa",shippingfree:"Envío & Facturación",seo:"SEO & Meta Tags",corporate:"Datos Corporativos",pixels:"Analítica & Pixels",oauth:"OAuth & Autenticación"}[l]||l,c=(a||e).filter(e=>i.includes(e.correlative));return 0===c.length?null:s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"d-flex align-items-center mb-3",children:s.jsx("h4",{className:"text-primary mb-0 me-2 ",children:t})}),s.jsx("div",{className:"row",children:c.map(e=>s.jsx("div",{className:"col-md-6 mb-2",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",id:`field-${e.correlative}`,checked:V[e.correlative]||!1,onChange:()=>De(e.correlative)}),s.jsx("label",{className:"form-check-label",htmlFor:`field-${e.correlative}`,children:s.jsx("strong",{children:e.name})})]})},e.correlative))}),s.jsx("hr",{className:"my-3"})]},l)}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"d-flex align-items-center mb-3",children:s.jsx("h4",{className:"text-primary mb-0 me-2",children:"SEO & Meta Tags"})}),s.jsx("div",{className:"row",children:[{correlative:"site_title",name:"Título del Sitio"},{correlative:"site_description",name:"Descripción del Sitio"},{correlative:"site_keywords",name:"Palabras Clave"},{correlative:"og_title",name:"Título Open Graph"},{correlative:"og_description",name:"Descripción Open Graph"},{correlative:"og_image",name:"Imagen Open Graph"},{correlative:"og_url",name:"URL Open Graph"},{correlative:"twitter_title",name:"Título Twitter"},{correlative:"twitter_description",name:"Descripción Twitter"},{correlative:"twitter_image",name:"Imagen Twitter"},{correlative:"twitter_card",name:"Tipo Twitter Card"},{correlative:"favicon",name:"Favicon"},{correlative:"canonical_url",name:"URL Canónica"}].map(e=>s.jsx("div",{className:"col-md-6 mb-2",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",id:`field-${e.correlative}`,checked:V[e.correlative]||!1,onChange:()=>De(e.correlative)}),s.jsx("label",{className:"form-check-label",htmlFor:`field-${e.correlative}`,children:s.jsx("strong",{children:e.name})})]})},e.correlative))}),s.jsx("hr",{className:"my-3"})]}),(()=>{const l=Object.values(g).flat(),i=(a||e).filter(e=>!l.includes(e.correlative));return 0===i.length?null:s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"d-flex align-items-center mb-3",children:s.jsx("h4",{className:"text-secondary mb-0 me-2",children:"Otros Campos"})}),s.jsx("div",{className:"row",children:i.map(e=>s.jsx("div",{className:"col-md-6 mb-2",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",id:`field-${e.correlative}`,checked:V[e.correlative]||!1,onChange:()=>De(e.correlative)}),s.jsx("label",{className:"form-check-label",htmlFor:`field-${e.correlative}`,children:s.jsx("strong",{children:e.name})})]})},e.correlative))})]})})()]}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>z(!1),children:"Cancelar"}),s.jsx("button",{type:"button",className:"btn btn-primary",onClick:async()=>{Y(!0);try{if(0===Object.keys(V).length)return void m.error("No hay campos para actualizar");const e=Object.entries(V).map(([e,a])=>({correlative:e,status:a?1:0})),a=await C.updateVisibility(e);a.success?(z(!1),setTimeout(()=>{window.location.reload()},1e3)):m.error(a.message||"Error al actualizar la visibilidad de campos")}catch(e){m.error("Error al actualizar la visibilidad de campos: "+e.message)}finally{Y(!1)}},disabled:K,children:K?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"spinner-border spinner-border-sm me-1"}),"Guardando..."]}):"Guardar Cambios"})]})]})})}),$&&s.jsx("div",{className:"modal-backdrop fade show"}),Pe&&s.jsx("div",{className:"modal fade show d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:s.jsx("div",{className:"modal-dialog modal-lg",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header",children:[s.jsxs("h5",{className:"modal-title",children:[s.jsx("i",{className:"fas fa-bullhorn me-2"}),null!==Ae?"Editar Cintillo":"Nuevo Cintillo"]}),s.jsx("button",{type:"button",className:"btn-close",onClick:Oe})]}),s.jsxs("div",{className:"modal-body",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"form-label fw-bold",children:[s.jsx("i",{className:"fas fa-edit me-2"}),"Texto del Cintillo"]}),s.jsx("textarea",{className:"form-control",value:Se.text,onChange:e=>Te({...Se,text:e.target.value}),rows:"3",placeholder:"Ingresa el texto del cintillo"}),s.jsxs("small",{className:"text-muted",children:[s.jsx("i",{className:"fas fa-info-circle me-1"}),"Evita usar comas en el texto para mejor compatibilidad"]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"form-check form-switch",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",id:"modalCintilloEnabled",checked:Se.enabled,onChange:e=>Te({...Se,enabled:e.target.checked})}),s.jsx("label",{className:"form-check-label fw-bold",htmlFor:"modalCintilloEnabled",children:"Cintillo Activo"})]})}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"form-label fw-bold",children:[s.jsx("i",{className:"fas fa-magic me-2"}),"Configuraciones Rápidas"]}),s.jsxs("div",{className:"btn-group w-100",role:"group",children:[s.jsxs("button",{type:"button",className:"btn btn-outline-success",onClick:()=>{Te({...Se,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!1,start:"00:00",end:"23:59"},sunday:{enabled:!1,start:"00:00",end:"23:59"}}})},children:[s.jsx("i",{className:"fas fa-briefcase me-1"}),"Días Laborales"]}),s.jsxs("button",{type:"button",className:"btn btn-outline-info",onClick:()=>{Te({...Se,schedule:{monday:{enabled:!1,start:"00:00",end:"23:59"},tuesday:{enabled:!1,start:"00:00",end:"23:59"},wednesday:{enabled:!1,start:"00:00",end:"23:59"},thursday:{enabled:!1,start:"00:00",end:"23:59"},friday:{enabled:!1,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}})},children:[s.jsx("i",{className:"fas fa-calendar-weekend me-1"}),"Fines de Semana"]}),s.jsxs("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>{Te({...Se,schedule:{monday:{enabled:!0,start:"00:00",end:"23:59"},tuesday:{enabled:!0,start:"00:00",end:"23:59"},wednesday:{enabled:!0,start:"00:00",end:"23:59"},thursday:{enabled:!0,start:"00:00",end:"23:59"},friday:{enabled:!0,start:"00:00",end:"23:59"},saturday:{enabled:!0,start:"00:00",end:"23:59"},sunday:{enabled:!0,start:"00:00",end:"23:59"}}})},children:[s.jsx("i",{className:"fas fa-globe me-1"}),"Todos los Días"]})]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("label",{className:"form-label fw-bold",children:[s.jsx("i",{className:"fas fa-calendar-alt me-2"}),"Programación Detallada"]}),s.jsx("div",{className:"border rounded p-3",style:{backgroundColor:"#f8f9fa"},children:[{key:"monday",label:"Lunes",icon:"fas fa-moon"},{key:"tuesday",label:"Martes",icon:"fas fa-sun"},{key:"wednesday",label:"Miércoles",icon:"fas fa-cloud"},{key:"thursday",label:"Jueves",icon:"fas fa-star"},{key:"friday",label:"Viernes",icon:"fas fa-heart"},{key:"saturday",label:"Sábado",icon:"fas fa-home"},{key:"sunday",label:"Domingo",icon:"fas fa-church"}].map(e=>{const a=Se.schedule[e.key]||{enabled:!0,start:"00:00",end:"23:59"};return s.jsxs("div",{className:"row mb-3 align-items-center p-2 rounded",style:{backgroundColor:a.enabled?"#DCFCE7":"#f8f8f8"},children:[s.jsx("div",{className:"col-md-3",children:s.jsxs("div",{className:"form-check",children:[s.jsx("input",{className:"form-check-input",type:"checkbox",id:`modal-${e.key}`,checked:a.enabled,onChange:s=>{Te({...Se,schedule:{...Se.schedule,[e.key]:{...a,enabled:s.target.checked}}})}}),s.jsx("label",{className:"form-check-label fw-bold d-flex align-items-center",htmlFor:`modal-${e.key}`,children:e.label})]})}),a.enabled&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"col-md-4",children:s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text",children:s.jsx("i",{className:"fas fa-clock text-success"})}),s.jsx("input",{type:"time",className:"form-control",value:a.start||"00:00",onChange:s=>{Te({...Se,schedule:{...Se.schedule,[e.key]:{...a,start:s.target.value}}})}})]})}),s.jsx("div",{className:"col-md-4",children:s.jsxs("div",{className:"input-group",children:[s.jsx("span",{className:"input-group-text",children:s.jsx("i",{className:"fas fa-clock text-danger"})}),s.jsx("input",{type:"time",className:"form-control",value:a.end||"23:59",onChange:s=>{Te({...Se,schedule:{...Se.schedule,[e.key]:{...a,end:s.target.value}}})}})]})}),s.jsx("div",{className:"col-md-1",children:s.jsx("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>{Te({...Se,schedule:{...Se.schedule,[e.key]:{enabled:!0,start:"00:00",end:"23:59"}}})},title:"Todo el día",children:"24h"})})]})]},e.key)})})]})]}),s.jsxs("div",{className:"modal-footer",children:[s.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:Oe,children:[s.jsx("i",{className:"fas fa-times me-1"}),"Cancelar"]}),s.jsxs("button",{type:"button",className:"btn btn-primary",onClick:()=>{if(!Se.text.trim())return void alert("Por favor ingresa el texto del cintillo");const e=[...se.cintillos];null!==Ae?e[Ae]=Se:e.push(Se),le({...se,cintillos:e}),Oe()},children:[s.jsx("i",{className:"fas fa-save me-1"}),null!==Ae?"Actualizar":"Guardar"," Cintillo"]})]})]})})})]})};x((e,a)=>{i.createRoot(e).render(s.jsx(h,{...a,title:"Datos Generales",children:s.jsx(I,{...a})}))});

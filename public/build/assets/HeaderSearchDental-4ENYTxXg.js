import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BOnQTV8N.js";import{G as le}from"./Global-DWbVqTT_.js";import{C as be}from"./HeaderSearch-CLQ4L3XU.js";import{L as ce}from"./Logout-BpuTJ_83.js";import{X as U}from"./x-fof_H3Vv.js";import{S as T}from"./search-BQ59Robe.js";import{C as ye}from"./chevron-left-JcR9Fe4w.js";import{C as je}from"./chevron-right-Cug7tVUE.js";import{P as ve}from"./ProfileImage-CwBDTNXg.js";import we from"./TopBarPages-CKqpkoKL.js";import Ne from"./TopBarSimple-wxD5QQDu.js";import ke from"./TopBarSocials-Hy6nk4Po.js";import Se from"./TopBarCart-DZbNVg41.js";import Ce from"./TopBarCopyright-C0u_jdMr.js";import Te from"./TopBarPanni-DjjgERHp.js";import Be from"./TopBarCopyrightSocials-CVjP5KWO.js";import{C as Ee}from"./Number2Currency-D9Rjvh76.js";import{A as C}from"./index-BZvh78jk.js";import{C as me,D as ue}from"./door-closed-OXb-qp6H.js";import{m as _}from"./proxy-B0QLMKEh.js";import{H as Re}from"./house-DDB4Ooi5.js";import{S as de}from"./shopping-cart-DLRnxGTD.js";import{U as Me}from"./user-BZB1h7Cv.js";import{S as Le}from"./settings-jey665c1.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./PolicyModal-C80IvD61.js";import"./index-B6ujFmsw.js";import"./index-Chjiymov.js";import"./CartItemRow-Lh5OenLf.js";import"./tippy-react.esm-DmkRJDEW.js";import"./index-pSueRYGM.js";import"./package-DBFPPBi1.js";import"./createLucideIcon-DfjclApS.js";import"./trash-2-DU7LB6-f.js";import"./plus-CTIomuuF.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./useCintillos-D3zZmwfE.js";import"./General-BmbBKdsB.js";import"./MobileMenu-DCQNJ5Rs.js";import"./CardProductKatya-ncpmQ0JU.js";import"./BasicRest-BqhZrBN0.js";import"./adjustTextColor-DJKJvkxA.js";import"./TopBarSimple-DVt_TKWA.js";import"./index-1Pdwdrgt.js";import"./CreateReactScript-C2S32NoH.js";import"./index.esm-BX8DScGS.js";import"./index-NIGUFBhG.js";/* empty css               *//* empty css              */import"./LaravelSession-Dz9cpV3l.js";import"./CanAccess-CiBvBfVT.js";const De=({pages:h,items:n,onClose:u})=>{const[d,c]=a.useState("main"),[I,P]=a.useState("right"),[p,j]=a.useState(""),B=a.useRef(null),E=n?n.filter(s=>s&&s.id&&s.name).sort((s,i)=>s.name.localeCompare(i.name,"es",{sensitivity:"base"})):[],O=s=>{if(s.preventDefault(),p.trim()){const i=p.trim();window.location.href=`/catalogo?search=${encodeURIComponent(i)}`}return!1},z=s=>{if(s.key==="Enter"&&(s.preventDefault(),p.trim())){const i=p.trim();window.location.href=`/catalogo?search=${encodeURIComponent(i)}`}},v=(s,i="right")=>{P(i),setTimeout(()=>{c(s)},50)},$=s=>{const i=s.slug||s.id;window.location.href=`/catalogo?category=${i}`,u()},w=()=>{d==="categories"&&v("main","left")},f=s=>{v("categories","right")},l=()=>d==="categories"?"Categorías":"Menú principal",N=()=>{if(d==="main")return e.jsxs("div",{className:"animate-fade animate-duration-300",children:[e.jsxs("button",{className:"px-4 py-2 mb-3 w-full flex justify-between items-center hover:bg-gray-50 active:bg-primary transition-all rounded-xl",onClick:()=>f(),children:[e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"font-medium",children:"Categorías"})}),e.jsx(je,{className:"h-5 w-5 customtext-neutral-light"})]}),e.jsx("div",{className:"space-y-2",children:h&&h.filter(s=>s.menuable).map((s,i)=>e.jsx("a",{href:s.pseudo_path||s.path,onClick:u,className:"p-4 py-2 flex justify-between items-center w-full hover:bg-gray-50 active:bg-primary transition-all rounded-xl",children:e.jsx("span",{className:"font-medium",children:s.name})},s.id))})]});if(d==="categories")return e.jsx("div",{className:I==="right"?"animate-fade-left animate-duration-300":"animate-fade-right animate-duration-300",children:e.jsx("div",{className:"space-y-2",children:E.map(s=>e.jsx("button",{className:"px-4 py-2 rounded-xl flex justify-between items-center cursor-pointer hover:bg-gray-50 active:bg-primary transition-all w-full text-left",onClick:()=>$(s),children:e.jsx("span",{className:"font-medium",children:s.name})},s.id))})})};return a.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),a.useEffect(()=>{const s=i=>{i.key==="Escape"&&(p.trim()?j(""):u())};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[p,u]),e.jsxs("div",{className:"fixed inset-0 z-[99999] flex flex-col touch-none overscroll-none",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:u}),e.jsx("div",{className:"relative w-full md:w-[400px] md:mx-auto flex flex-col h-[100dvh]",children:e.jsxs("div",{className:"mt-auto bg-white shadow-xl flex flex-col max-h-[80vh] rounded-t-2xl overflow-hidden",children:[e.jsxs("div",{className:"p-4 bg-white flex justify-between items-center border-b border-gray-200 sticky top-0 z-[9999]",children:[e.jsx("h1",{className:"text-lg font-bold",children:l()}),e.jsx("button",{className:"p-2 rounded-full hover:bg-gray-100",onClick:u,children:e.jsx(U,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"overflow-y-auto flex-1 p-4 overscroll-contain",children:[e.jsx("div",{className:"mb-5",children:e.jsxs("form",{onSubmit:O,role:"search",className:"relative w-full",children:[e.jsx("input",{ref:B,type:"search",name:"search",placeholder:"Buscar productos",value:p,onChange:s=>j(s.target.value),onKeyDown:z,className:"w-full pr-12 py-3 pl-4 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary/20 focus:outline-none",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),e.jsx("button",{type:"submit",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(T,{className:"h-4 w-4"})})]})}),d!=="main"&&e.jsxs("button",{onClick:w,className:"flex items-center customtext-primary mb-4 font-medium",children:[e.jsx(ye,{className:"h-5 w-5 mr-1"}),e.jsx("span",{children:"Volver"})]}),e.jsx("div",{className:"pb-16",children:N()})]})]})})]})},It=({items:h,data:n,cart:u,setCart:d,isUser:c,pages:I,generals:P=[]})=>{const p=P.find(t=>t.correlative==="phone_whatsapp"),j=P.find(t=>t.correlative==="message_whatsapp"),B=(p==null?void 0:p.description)??null,E=(j==null?void 0:j.description)??null,[O,z]=a.useState(!1),[v,$]=a.useState(!1),[w,f]=a.useState(!1),[l,N]=a.useState(""),[s,i]=a.useState(!1),[J,Y]=a.useState(!1),[b,R]=a.useState([]),[M,y]=a.useState(!1),[W,Q]=a.useState(!1),[x,A]=a.useState(-1),Z=a.useRef([]),V=a.useRef(null),ee=a.useRef(null),H=a.useRef(null),te=a.useRef(null),L=a.useRef(null),D=a.useRef(null),re=a.useRef([]),pe=u.reduce((t,r)=>Number(t)+Number(r.quantity),0),he=()=>{try{const t=window.location.pathname||"";return["/cart","/checkout"].some(o=>t.includes(o))}catch(t){return console.warn("Error checking path:",t),!1}},K=async t=>{if(!t.trim()||t.length<2){R([]),y(!1);return}Q(!0);try{const r=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:[["name","contains",t],"or",["summary","contains",t],"or",["description","contains",t]],sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(!r.ok)throw new Error("Error en la búsqueda");const o=await r.json();o.status===200&&Array.isArray(o.data)?(R(o.data),y(o.data.length>0)):(R([]),y(!1))}catch(r){console.error("Error fetching search suggestions:",r),R([]),y(!1)}finally{Q(!1)}},X=t=>{N(t),A(-1),D.current&&clearTimeout(D.current),D.current=setTimeout(()=>{K(t)},300)},k=()=>{y(!1),R([]),A(-1)},F=t=>{if(!t)return;y(!1),f(!1);const r=t.slug?`/product/${t.slug}`:`/catalogo?search=${encodeURIComponent(t.name)}`;window.location.href=r};a.useEffect(()=>{function t(r){var o,g;V.current&&!V.current.contains(r.target)&&i(!1),ee.current&&!ee.current.contains(r.target)&&(l.trim()||f(!1)),L.current&&!L.current.contains(r.target)&&!((o=te.current)!=null&&o.contains(r.target))&&!((g=H.current)!=null&&g.contains(r.target))&&k()}return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[l]),a.useEffect(()=>{const t=()=>{window.scrollY>0?Y(!0):Y(!1)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),a.useEffect(()=>{const t=r=>{r.key==="Escape"&&(M?k():w&&(f(!1),N("")))};return(w||M)&&document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[w,M]),a.useEffect(()=>()=>{D.current&&clearTimeout(D.current)},[]),a.useEffect(()=>{x>=0&&re.current[x]&&L.current&&re.current[x].scrollIntoView({block:"nearest",behavior:"smooth"})},[x]);const fe={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},xe=[{icon:e.jsx(Me,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:e.jsx(de,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:e.jsx(Le,{size:16}),label:"Configuración",href:"/account"},{icon:e.jsx(ue,{size:16}),label:"Cerrar Sesión",onClick:ce}],se=t=>{if(t.preventDefault(),k(),l.trim()){const r=l.trim();window.location.href=`/catalogo?search=${encodeURIComponent(r)}`}return!1},ae=t=>{if(t.preventDefault(),k(),l.trim()){const r=l.trim();f(!1),window.location.href=`/catalogo?search=${encodeURIComponent(r)}`}return!1};function oe(t){const r=L.current,o=Z.current[t];if(!r||!o)return;const g=r.getBoundingClientRect(),m=o.getBoundingClientRect();m.top<g.top?r.scrollTop-=g.top-m.top:m.bottom>g.bottom&&(r.scrollTop+=m.bottom-g.bottom)}const q=t=>{if(!(!M||b.length===0))switch(t.key){case"ArrowDown":t.preventDefault(),A(r=>{const o=r<b.length-1?r+1:r;return setTimeout(()=>oe(o),0),o});break;case"ArrowUp":t.preventDefault(),A(r=>{const o=r>0?r-1:0;return setTimeout(()=>oe(o),0),o});break;case"Enter":t.preventDefault(),x>=0&&x<b.length?F(b[x]):l.trim()&&se(t);break;case"Escape":y(!1);break}},G=({suggestions:t,isLoading:r,onSelect:o,selectedIndex:g})=>M?e.jsx(_.div,{ref:L,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-[60] max-h-80 overflow-y-auto mt-1",children:r?e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Buscando..."]})}):t.length>0?e.jsx("ul",{className:"py-2",children:t.map((m,ie)=>e.jsx("li",{ref:S=>Z.current[ie]=S,children:e.jsxs("button",{"data-suggestion-button":!0,onMouseDown:S=>{S.preventDefault(),S.stopPropagation(),setTimeout(()=>o(m),0)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 ${ie===g?"bg-primary border-l-4 border-primary":""}`,type:"button",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 rounded-lg overflow-hidden",children:m.image?e.jsx("img",{src:`/api/items/media/${m.image}`,alt:m.name,className:"w-full h-full object-cover",onError:S=>{S.target.style.display="none"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center customtext-neutral-dark",children:e.jsx(T,{size:16})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium customtext-neutral-dark truncate",children:m.name}),m.category&&e.jsx("div",{className:"text-sm customtext-neutral-dark truncate",children:m.category.name}),m.final_price&&e.jsxs("div",{className:"text-sm font-semibold customtext-primary",children:[Ee()," ",parseFloat(m.final_price).toFixed(2)]})]})]})},m.id))}):e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:"No se encontraron productos"})}):null;console.log(c);let ne=!1;if(c&&Array.isArray(c.roles)){const t=c.roles.map(r=>{var o;return(o=r.name)==null?void 0:o.toLowerCase()});ne=!t.includes("admin")&&!t.includes("root")}const ge=()=>{if(!J)return null;switch((n==null?void 0:n.topBarType)||"TopBarPages"){case"TopBarSimple":return e.jsx(Ne,{data:n});case"TopBarSocials":return e.jsx(ke,{items:h,data:n});case"TopBarCart":return e.jsx(Se,{data:n,items:h,cart:u,setCart:d,isUser:c});case"TopBarCopyright":return e.jsx(Ce,{data:n,items:h,cart:u,setCart:d,isUser:c});case"TopBarPanni":return e.jsx(Te,{data:n,items:h,cart:u,setCart:d,isUser:c});case"TopBarCopyrightSocials":return e.jsx(Be,{items:h,cart:u,setCart:d,isUser:c});case"TopBarPages":default:return e.jsx(we,{items:h,data:n,pages:I})}};return e.jsxs("header",{className:`w-full top-0 left-0 z-50 transition-all duration-300 ${J?"fixed bg-white shadow-lg":"relative bg-white"}`,children:[ge(),e.jsxs("div",{className:"px-primary  bg-white 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("a",{href:"/",className:"hidden md:flex items-center gap-2 z-[51]",children:e.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:le.APP_NAME,className:"h-14 object-contain object-center",onError:t=>{t.target.onerror=null,t.target.src="/assets/img/logo-bk.svg"}})}),e.jsxs("div",{className:"flex md:hidden items-center justify-between w-full",children:[e.jsx("button",{"aria-label":"Menú",onClick:()=>$(!v),className:"flex items-center justify-center bg-primary rounded-lg w-auto h-auto p-2 text-white fill-white transition-all duration-300",children:v?e.jsx(U,{}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M10 5H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 12H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 19H14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51]",children:e.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:le.APP_NAME,className:"h-12 object-contain object-center",onError:t=>{t.target.onerror=null,t.target.src="/assets/img/logo-bk.svg"}})}),e.jsx("button",{"aria-label":"Buscar productos",onClick:()=>{f(!0),setTimeout(()=>{H.current&&H.current.focus()},100)},className:"flex items-center justify-center p-2",children:e.jsx(T,{className:"customtext-primary",size:24})})]}),e.jsxs("div",{className:"hidden md:block relative w-full max-w-xl mx-auto",children:[e.jsxs("form",{onSubmit:se,role:"search",children:[e.jsx("input",{ref:te,type:"search",name:"search",placeholder:"Estoy buscando...",value:l,onChange:t=>X(t.target.value),onKeyDown:q,onFocus:()=>{l.trim().length>=2&&K(l)},className:"w-full pr-14 py-4 pl-4 border rounded-full font-normal focus:ring-0 customtext-neutral-dark placeholder:customtext-neutral-dark focus:outline-none bg-white",enterKeyHint:"search",inputMode:"search",autoComplete:"on",role:"searchbox","aria-label":"Estoy buscando..."}),e.jsx("button",{type:"submit",className:`absolute right-3 top-1/2 transform -translate-y-1/2 p-2 ${n!=null&&n.backgroundColor?n==null?void 0:n.backgroundColor:"bg-primary"} text-white rounded-lg hover:bg-primary hover:scale-105  transition-all duration-300`,"aria-label":"Buscar",children:e.jsx(T,{})})]}),e.jsx(C,{children:e.jsx(G,{suggestions:b,isLoading:W,onSelect:F})})]}),n!=null&&n.showLoginCart?e.jsxs("div",{className:"hidden md:flex items-center gap-4 relative text-sm",children:[e.jsxs("div",{ref:V,children:[c?e.jsxs("button",{"aria-label":"user",className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-primary pr-6 transition-all duration-300 relative group",onClick:()=>i(!s),children:[e.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:c.uuid?e.jsxs("div",{className:"relative",children:[e.jsx(ve,{uuid:c.uuid,name:c.name,lastname:c.lastname,className:"w-8 h-8 rounded-full object-cover border-2 border-primary ring-secondary transition-all duration-300"}),e.jsxs("div",{className:"absolute -bottom-[-0.115rem] -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"customtext-primary border-2 border-primary rounded-full  ring-secondary group-hover:ring-green-300 transition-all duration-300"}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})}),e.jsx("span",{className:"hidden md:inline",children:c.name})]}):e.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(me,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:"Iniciar Sesión"})]}),e.jsx(C,{children:s&&e.jsx(_.div,{initial:"hidden",animate:"visible",exit:"exit",variants:fe,className:"absolute z-50 top-full left-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-4",children:ne?xe.map((t,r)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:o=>{o.preventDefault(),o.stopPropagation(),i(!1),setTimeout(()=>{t.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,onClick:o=>{o.stopPropagation(),i(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]})},r)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",onClick:t=>{t.stopPropagation(),i(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(Re,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),i(!1),setTimeout(()=>{ce()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(ue,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}),e.jsxs("button",{"aria-label":"cart",onClick:()=>z(!0),className:"flex items-center gap-2 text-sm relative hover:customtext-primary transition-colors duration-300",children:[e.jsx("div",{className:"customtext-primary",children:e.jsx(de,{})}),e.jsx("span",{className:"hidden md:inline",children:"Mi Carrito"}),e.jsx("span",{className:"absolute -right-6 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs bg-primary text-white rounded-full",children:pe})]})]}):e.jsx(e.Fragment,{children:e.jsx("a",{"aria-label":"primary-button",className:` hidden lg:block px-6 py-2.5 text-white font-medium rounded-3xl hover:brightness-125 transition-all duration-500 ${n.class_pedido||"bg-primary"}`,target:"_blank",rel:"noopener noreferrer",href:B&&E?`https://api.whatsapp.com/send?phone=${encodeURIComponent(B)}&text=${encodeURIComponent(E)}`:"#",children:"Haz tu pedido"})})]}),(n==null?void 0:n.mobileSearch)&&!he()&&e.jsx("div",{className:"block md:hidden mt-6 space-y-4",children:e.jsxs("div",{className:"w-full relative",children:[e.jsxs("form",{onSubmit:ae,role:"search",className:"relative w-full",children:[e.jsx("input",{type:"search",name:"search",placeholder:"Buscar productos...",value:l,onChange:t=>X(t.target.value),onKeyDown:q,onFocus:()=>{l.trim().length>=2&&K(l)},className:"w-full pr-14 py-3 font-normal pl-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent focus:outline-none bg-gray-50",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(T,{size:18})})]}),e.jsx(C,{children:e.jsx(G,{suggestions:b,isLoading:W,onSelect:F,selectedIndex:x})})]})})]}),e.jsx(C,{children:v&&e.jsx(De,{pages:I,items:h,onClose:()=>$(!1)})}),e.jsx(C,{children:w&&e.jsx(_.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black/20 md:hidden",onClick:()=>{f(!1),N(""),k()},children:e.jsxs(_.div,{initial:{y:"-100%"},animate:{y:0},exit:{y:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white shadow-xl border-b",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsx("h3",{className:"text-lg font-semibold customtext-neutral-dark",children:"Buscar productos"}),e.jsx("button",{onClick:()=>{f(!1),N(""),k()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Cerrar búsqueda",children:e.jsx(U,{size:20,className:"customtext-neutral-dark"})})]}),e.jsx("div",{className:"p-4 space-y-4",children:e.jsxs("div",{className:"w-full relative",children:[e.jsxs("form",{onSubmit:ae,role:"search",className:"relative w-full",children:[e.jsx("input",{ref:H,type:"search",name:"search",placeholder:"Buscar productos...",value:l,onChange:t=>X(t.target.value),onKeyDown:q,onFocus:()=>{l.trim().length>=2&&K(l)},className:"w-full pr-14 py-3 font-normal pl-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent focus:outline-none bg-gray-50",autoFocus:!0,enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(T,{size:18})})]}),e.jsx(C,{children:e.jsx(G,{suggestions:b,isLoading:W,onSelect:F,selectedIndex:x})})]})})]})})}),e.jsx(be,{data:n,cart:u,setCart:d,modalOpen:O,setModalOpen:z}),e.jsx("div",{className:"flex justify-end w-full mx-auto z-[100] relative",children:e.jsx("div",{className:"block fixed bottom-6 sm:bottom-[2rem] lg:bottom-[4rem] z-20 cursor-pointer",children:e.jsx("a",{target:"_blank",id:"whatsapp-toggle",href:`https://api.whatsapp.com/send?phone=${B}&text=${E}`,children:e.jsx("img",{src:"/assets/img/whatsapp.svg",alt:"whatsapp",className:"mr-3 w-12 h-12 md:w-[60px] md:h-[60px] animate-bounce duration-300"})})})})]})};export{It as default};

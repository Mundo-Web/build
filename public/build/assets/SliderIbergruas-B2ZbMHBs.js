import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as o}from"./index-BOnQTV8N.js";import{A as w}from"./index-BZvh78jk.js";import{m as j}from"./proxy-B0QLMKEh.js";import{C}from"./chevron-left-JcR9Fe4w.js";import{C as E}from"./chevron-right-Cug7tVUE.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./createLucideIcon-DfjclApS.js";const G=({items:m,data:I,generals:n=[]})=>{const[l,i]=o.useState(0),[p,h]=o.useState(!0),s=o.useRef(!1),f=o.useRef(0),c=o.useRef(0),r=(m==null?void 0:m.sort((t,a)=>(t.order_index||0)-(a.order_index||0)))||[],x=n==null?void 0:n.find(t=>t.correlative==="phone_whatsapp"),d=n==null?void 0:n.find(t=>t.correlative==="message_whatsapp");x==null||x.description,d==null||d.description,o.useEffect(()=>{if(!p||r.length<=1)return;const t=setInterval(()=>{i(a=>(a+1)%r.length)},5e3);return()=>clearInterval(t)},[p,r.length]);const b=()=>{i(t=>(t+1)%r.length),h(!1)},g=()=>{i(t=>(t-1+r.length)%r.length),h(!1)},y=t=>{i(t),h(!1)},N=t=>{s.current=!0,f.current=t.touches[0].clientX},_=t=>{s.current&&(c.current=t.touches[0].clientX-f.current)},S=t=>{if(!s.current)return;s.current=!1;const a=50;c.current>a?g():c.current<-a&&b(),c.current=0},k=t=>t?t.split(/(\*[^*]+\*)/g).map((u,v)=>{if(u.startsWith("*")&&u.endsWith("*")){const z=u.slice(1,-1);return e.jsx("span",{className:"customtext-primary",children:z},v)}return e.jsx("span",{className:"text-white",children:u},v)}):null,$={enter:{opacity:0,scale:1.1},center:{opacity:1,scale:1},exit:{opacity:0,scale:.95}},T={initial:{opacity:0,y:50},animate:{opacity:1,y:0,transition:{duration:.8,delay:.3,ease:"easeOut"}},exit:{opacity:0,y:-30}};return!r||r.length===0?null:e.jsxs("section",{className:"relative h-[calc(100dvh-5rem)] lg:h-[700px] overflow-hidden",children:[e.jsx("div",{className:"relative w-full h-full",onTouchStart:N,onTouchMove:_,onTouchEnd:S,children:e.jsx(w,{mode:"wait",children:r.map((t,a)=>a!==l?null:e.jsxs(j.div,{variants:$,initial:"enter",animate:"center",exit:"exit",transition:{duration:.7},className:"absolute inset-0",children:[t!=null&&t.bg_video&&t.bg_video.trim()!==""?e.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden",children:e.jsx("iframe",{src:`https://www.youtube.com/embed/${t.bg_video}?autoplay=1&mute=1&loop=1&playlist=${t.bg_video}&controls=0&showinfo=0&rel=0&modestbranding=1&playsinline=1`,className:"absolute top-1/2 left-1/2 w-[177.77777778vh] h-[56.25vw] min-w-full min-h-full -translate-x-1/2 -translate-y-1/2",allow:"autoplay; encrypted-media",frameBorder:"0",title:`Video ${a}`})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block absolute inset-0",children:e.jsx("img",{src:`/api/sliders/media/${t==null?void 0:t.bg_image}`,alt:(t==null?void 0:t.name)||`Slide ${a+1}`,className:"w-full h-full object-cover",loading:a===0?"eager":"lazy"})}),e.jsx("div",{className:"block md:hidden absolute inset-0",children:e.jsx("img",{src:`/api/sliders/media/${(t==null?void 0:t.bg_image_mobile)||(t==null?void 0:t.bg_image)}`,alt:(t==null?void 0:t.name)||`Slide ${a+1}`,className:"w-full h-full object-cover",loading:a===0?"eager":"lazy"})})]}),e.jsx("div",{className:"absolute inset-0 bg-black/90"}),e.jsx("div",{className:"relative h-full flex items-center justify-center",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 max-w-7xl",children:e.jsx(w,{mode:"wait",children:e.jsxs(j.div,{variants:T,initial:"initial",animate:"animate",exit:"exit",className:"max-w-3xl mx-auto text-center",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-title max-w-lg mx-auto font-bold mb-6 leading-tight",children:k(t==null?void 0:t.name)}),(t==null?void 0:t.description)&&e.jsx("p",{className:"text-lg md:text-xl lg:text-2xl text-white mb-8 max-w-2xl mx-auto",children:t.description}),(t==null?void 0:t.button_text)&&(t==null?void 0:t.button_link)&&e.jsx("a",{href:t.button_link,className:"inline-flex items-center gap-2 px-8 py-4 bg-transparent border-2 border-primary customtext-primary text-lg font-bold hover:bg-primary hover:text-white transition-all duration-300",children:e.jsx("span",{children:t.button_text})})]},`content-${l}`)})})})]},(t==null?void 0:t.id)||a))})}),r.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:g,className:"absolute left-4 top-1/2 -translate-y-1/2 z-10 p-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white rounded-full transition-all duration-300 hidden md:block","aria-label":"Previous slide",children:e.jsx(C,{size:24})}),e.jsx("button",{onClick:b,className:"absolute right-4 top-1/2 -translate-y-1/2 z-10 p-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white rounded-full transition-all duration-300 hidden md:block","aria-label":"Next slide",children:e.jsx(E,{size:24})})]}),r.length>1&&e.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-10 flex gap-3",children:r.map((t,a)=>e.jsx("button",{onClick:()=>y(a),className:`transition-all duration-300 ${a===l?"w-8 h-3 bg-primary rounded-full":"w-3 h-3 bg-white/50 rounded-full hover:bg-white/70"}`,"aria-label":`Go to slide ${a+1}`},a))}),r.length>1&&e.jsxs("div",{className:"absolute bottom-8 right-8 z-10 hidden md:flex items-center gap-4 text-white",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl font-bold",children:String(l+1).padStart(2,"0")}),e.jsx("span",{className:"text-white/50",children:"/"}),e.jsx("span",{className:"text-white/50",children:String(r.length).padStart(2,"0")})]}),e.jsx("div",{className:"w-24 h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary transition-all duration-300 rounded-full",style:{width:`${(l+1)/r.length*100}%`}})})]})]})};export{G as default};

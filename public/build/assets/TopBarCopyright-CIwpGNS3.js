import{r as e,j as r,f as t,X as s,as as a,ag as o}from"./vendor-react-CIhVE-fi.js";import{t as l}from"./OpenPayCardModal-K84_M_7u.js";import{J as n}from"./JobApplicationRest-CEokhufD.js";import"./vendor-swiper-Cr_RrIb_.js";import"./BasicRest-CNjqr-ae.js";import"./BooleanLimit-q2Ad9fGY.js";const i=new n,d=({isOpen:n,onClose:d})=>{const[c,m]=e.useState(!1),[x,u]=e.useState(null),[p,h]=e.useState(!1),b=e.useRef(),f=e.useRef(),g=e.useRef(),v=e.useRef(),y=e.useRef(),j=e.useRef(),N=()=>{d(),u(null),h(!1)};return r.jsx(t,{isOpen:n,onRequestClose:N,contentLabel:"Trabaja con nosotros",className:"absolute left-1/2 -translate-x-1/2 bg-white z-[99999999] rounded-2xl shadow-lg w-[95%] max-w-5xl top-1/2 -translate-y-1/2 overflow-hidden",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-[99999999]",ariaHideApp:!1,shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!0,bodyOpenClassName:"overflow-hidden",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 max-h-[90vh] min-h-[70vh]",children:[r.jsx("div",{className:"hidden md:block bg-[#f8f5f2] min-h-[70vh]",children:r.jsx("img",{src:`/assets/resources/job-application.png?v=${crypto.randomUUID()}`,alt:"Trabaja con nosotros",className:"h-full w-full object-cover",onError:e=>{e.target.onerror=null,e.target.src="/assets/img/logo-bk.svg"}})}),r.jsxs("div",{className:"flex flex-col max-h-[90vh] relative",children:[r.jsx("button",{onClick:N,className:"absolute top-4 right-4 z-10 text-gray-400 hover:text-gray-600 transition-colors duration-200 p-2 hover:bg-gray-100 rounded-full","aria-label":"Cerrar modal",children:r.jsx(s,{size:24,strokeWidth:2})}),p?r.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-12 h-full",children:[r.jsx("div",{className:"bg-green-100 rounded-full p-6 mb-6",children:r.jsx(o,{className:"w-16 h-16 text-green-600"})}),r.jsx("h2",{className:"text-2xl 2xl:text-3xl font-bold customtext-primary mb-3",children:"¡Gracias por tu interés!"}),r.jsx("p",{className:"text-gray-600 text-base 2xl:text-lg mb-6 max-w-md",children:"Hemos recibido tu solicitud correctamente. Revisaremos tu perfil y nos pondremos en contacto contigo pronto."}),r.jsx("button",{onClick:N,className:"bg-primary text-white px-8 py-3 rounded-3xl font-medium hover:bg-opacity-90 transition-all text-sm 2xl:text-base",children:"Cerrar"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"p-6 mt-4 pb-0 flex-shrink-0 text-center md:text-left",children:[r.jsx("h2",{className:"text-2xl md:text-3xl lg:text-3xl 2xl:text-4xl font-bold customtext-neutral-dark mb-3",children:"Únete a nuestro equipo"}),r.jsx("p",{className:"text-base md:text-lg 2xl:text-xl text-gray-600 leading-relaxed",children:"Completa el formulario y envíanos tu CV. Estamos buscando talento como tú."})]}),r.jsx("div",{className:"flex-1 overflow-y-auto px-6",children:r.jsx("div",{className:"space-y-6 py-6",children:r.jsx("form",{onSubmit:async e=>{if(e.preventDefault(),!c){m(!0);try{const t=new FormData,s=b.current?.value?.trim()||"",a=f.current?.value?.trim()||"",n=g.current?.value?.trim()||"",d=v.current?.value?.trim()||"",c=y.current?.value?.trim()||"";t.append("name",s),t.append("email",a),t.append("phone",n),t.append("position",d),t.append("message",c),j.current?.files?.[0]&&t.append("cv",j.current.files[0]);await i.save(t)?(h(!0),l.success("¡Solicitud enviada!",{description:"Gracias por tu interés. Pronto nos pondremos en contacto contigo.",icon:r.jsx(o,{className:"h-5 w-5 text-green-500"}),duration:4e3,position:"top-center"}),e.target.reset(),u(null)):l.error("Error al enviar solicitud",{description:"Por favor, intenta nuevamente."})}catch(t){l.error("Error al enviar solicitud",{description:"Por favor, intenta nuevamente."})}finally{m(!1)}}},id:"job-application-form",children:r.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:["Nombre completo ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{ref:b,type:"text",required:!0,className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"Ingresa tu nombre completo"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:["Correo electrónico ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{ref:f,type:"email",required:!0,className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"tu@email.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Teléfono"}),r.jsx("input",{ref:g,type:"tel",className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"+51 999 999 999"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Posición de interés"}),r.jsx("input",{ref:v,type:"text",className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"Ej: Desarrollador, Diseñador, etc."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Mensaje"}),r.jsx("textarea",{ref:y,rows:"4",className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 resize-none shadow-sm hover:shadow-md",placeholder:"Cuéntanos brevemente sobre ti..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Adjunta tu CV"}),r.jsxs("div",{onDrop:e=>{e.preventDefault();const r=e.dataTransfer.files[0];if(r){const e=[".pdf",".doc",".docx"],t="."+r.name.split(".").pop().toLowerCase();if(!e.includes(t))return void l.error("Formato no válido",{description:"Solo se permiten archivos PDF, DOC o DOCX"});if(r.size>5242880)return void l.error("Archivo muy grande",{description:"El archivo no debe superar los 5MB"});const s=new DataTransfer;s.items.add(r),j.current.files=s.files,u(r)}},onDragOver:e=>{e.preventDefault()},className:"relative border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-primary hover:bg-primary/5 transition-all duration-300 cursor-pointer shadow-sm hover:shadow-md",onClick:()=>j.current?.click(),children:[r.jsx("input",{ref:j,type:"file",accept:".pdf,.doc,.docx",className:"hidden",onChange:e=>{const r=e.target.files[0];if(r){if(r.size>5242880)return l.error("Archivo muy grande",{description:"El archivo no debe superar los 5MB"}),void(e.target.value=null);u(r)}}}),x?r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"bg-primary bg-opacity-10 p-2 rounded-lg",children:r.jsx(a,{className:"w-5 h-5 text-primary"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium text-gray-900 text-sm",children:x.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[(x.size/1024/1024).toFixed(2)," MB"]})]})]}),r.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),u(null),j.current.value=null},className:"text-red-500 hover:text-red-700 p-1",children:r.jsx(s,{className:"w-5 h-5"})})]}):r.jsxs("div",{className:"py-3",children:[r.jsx(a,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),r.jsx("p",{className:"text-gray-600 font-medium text-sm mb-1",children:"Arrastra tu CV o haz clic aquí"}),r.jsx("p",{className:"text-xs text-gray-400",children:"PDF, DOC, DOCX (máx. 5MB)"})]})]})]}),r.jsxs("div",{className:"flex gap-4 pt-8",children:[r.jsx("button",{type:"button",onClick:N,className:"flex-1 border-2 border-primary text-primary hover:bg-primary hover:text-white py-4 rounded-2xl font-bold transition-all duration-300 text-base 2xl:text-lg shadow-sm hover:shadow-lg transform hover:-translate-y-0.5",children:"Cancelar"}),r.jsx("button",{type:"submit",disabled:c,className:"flex-1 bg-primary text-white py-4 rounded-2xl font-bold transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed text-base 2xl:text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:transform-none",children:c?"Enviando...":"Enviar solicitud"})]}),r.jsx("div",{className:"pb-4"})]})})})})]})]})]})})};export{d as J};

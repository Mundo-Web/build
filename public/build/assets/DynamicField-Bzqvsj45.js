import{r as e,j as s}from"./vendor-react-DD0uBW7s.js";const t=({label:t,structure:a,value:l=[],onChange:c,typeOptions:r=[]})=>{const[i,n]=e.useState([]),o="object"==typeof a&&!Array.isArray(a);e.useEffect(()=>{n(o?l.map(e=>({...e,type:e.type?.charAt(0).toUpperCase()+e.type?.slice(1).toLowerCase()})):l.map(e=>"object"==typeof e?e.feature||"":e))},[l]);const d=e=>{const s=i.filter((s,t)=>t!==e);n(s),c(s)},m=(e,s,t)=>{const a=[...i];o?a[e][s]="type"===s?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():t:a[e]=t,n(a),c(a)};return s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"form-label fw-semibold text-dark mb-3",children:[s.jsx("i",{className:`fas ${o?"fa-cogs":"fa-list-ul"} me-2 text-primary`}),t]}),s.jsxs("div",{className:"dynamic-fields-container",children:[i.map((e,t)=>{return s.jsx("div",{className:"dynamic-field-item mb-3 p-3 border rounded-3 bg-light position-relative",style:{borderLeft:"4px solid #0d6efd",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:o?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"row g-3 mb-2",children:[s.jsxs("div",{className:"col-md-4",children:[s.jsx("label",{className:"form-label small text-muted text-uppercase fw-bold mb-1",children:"Tipo"}),s.jsxs("select",{className:"form-select form-select-sm border-0 bg-white shadow-sm",value:e.type||"",onChange:e=>m(t,"type",e.target.value),style:{fontSize:"0.9rem"},children:[s.jsx("option",{value:"",children:"Seleccionar tipo..."}),r.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),s.jsxs("div",{className:"col-md-8",children:[s.jsx("label",{className:"form-label small text-muted text-uppercase fw-bold mb-1",children:"Título"}),s.jsx("input",{type:"text",className:"form-control form-control-sm border-0 bg-white shadow-sm",value:e.title||"",onChange:e=>m(t,"title",e.target.value),placeholder:(a="title",l=e.type,"Icono"===l?"Url de icono":a),style:{fontSize:"0.9rem"}})]})]}),s.jsxs("div",{className:"row g-3",children:[s.jsxs("div",{className:"col",children:[s.jsx("label",{className:"form-label small text-muted text-uppercase fw-bold mb-1",children:"Descripción"}),s.jsx("input",{type:"text",className:"form-control form-control-sm border-0 bg-white shadow-sm",value:e.description||"",onChange:e=>m(t,"description",e.target.value),placeholder:"Descripción de la especificación",style:{fontSize:"0.9rem"}})]}),s.jsx("div",{className:"col-auto d-flex align-items-end",children:s.jsx("button",{type:"button",className:"btn btn-outline-danger btn-sm rounded-circle d-flex align-items-center justify-content-center",onClick:()=>d(t),style:{width:"32px",height:"32px"},title:"Eliminar especificación",children:s.jsx("i",{className:"fas fa-times"})})})]})]}):s.jsx("div",{className:"row g-3",children:s.jsx("div",{className:"col",children:s.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s.jsx("input",{type:"text",className:"form-control border-0 shadow-sm flex-grow-1",value:e,onChange:e=>m(t,null,e.target.value),placeholder:"Escriba la característica del producto...",style:{fontSize:"0.95rem"}}),s.jsx("button",{type:"button",className:"btn btn-outline-danger rounded-circle d-flex align-items-center justify-content-center flex-shrink-0",onClick:()=>d(t),title:"Eliminar característica",style:{width:"40px",height:"40px"},children:s.jsx("i",{className:"fas fa-times"})})]})})})},t);var a,l}),0===i.length&&s.jsxs("div",{className:"text-center py-4 text-muted",children:[s.jsx("i",{className:`fas ${o?"fa-cogs":"fa-list-ul"} fa-2x mb-2 opacity-50`}),s.jsxs("p",{className:"mb-0",children:["No hay ",o?"especificaciones":"características"," agregadas"]}),s.jsx("small",{children:'Haga clic en "Agregar" para comenzar'})]}),s.jsx("div",{className:"text-center mt-3",children:s.jsxs("button",{type:"button",className:"btn btn-primary btn-sm px-4 py-2 rounded-pill shadow-sm",onClick:()=>{const e=o?{...a}:"",s=[...i,e];n(s),c(s)},style:{border:"none",fontWeight:"500"},children:[s.jsx("i",{className:"fas fa-plus me-2"}),"Agregar ",o?"Especificación":"Característica"]})})]})]})};export{t as D};

import{j as e,k as t,T as a,l as s,P as r,r as l,f as i,a5 as n,X as c,w as o,an as d}from"./vendor-react-CtPXetfm.js";import"./OpenPayCardModal-Dy4WIZ0X.js";import{S as x}from"./CartKuchara-CLqHnhL7.js";import"./vendor-swiper-Cr_RrIb_.js";import{C as m,N as b}from"./Number2Currency-BX4epFEo.js";import{m as h,A as p}from"./vendor-motion-CThzL09Q.js";import"./General-ClVW7qxN.js";const u=({setCart:l,index:i,...n})=>{const c="combo"===n.type,o=()=>{x.fire({title:"¿ELIMINAR?",text:`¿Quitar ${n.name} del carrito?`,icon:"warning",showCancelButton:!0,confirmButtonText:"SÍ",cancelButtonText:"NO",confirmButtonColor:"#000000",cancelButtonColor:"#ffffff",customClass:{popup:"rounded-none border-4 border-black font-black uppercase tracking-tight",confirmButton:"rounded-none border-2 border-black bg-black text-white px-6 py-2 hover:bg-white hover:text-black transition-all text-xs font-black",cancelButton:"rounded-none border-2 border-black bg-white text-black px-6 py-2 hover:bg-black hover:text-white transition-all ml-4 text-xs font-black"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&l(e=>e.filter(e=>e.id!==n.id||e.type!==n.type))})},d=e=>{if(e<1)return o();l(t=>t.map(t=>t.id===n.id&&t.type===n.type?{...t,quantity:e}:t))},p=n.final_price||n.price;return e.jsxs(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:20},transition:{delay:.05*i},className:"flex gap-4 p-3 bg-white border-2 border-black hover:bg-neutral-50 transition-colors group",children:[e.jsxs("div",{className:"flex-shrink-0 relative border-2 border-black w-20 h-24 overflow-hidden bg-white",children:[e.jsx("img",{src:c&&n.image?`/storage/images/combo/${n.image}`:`/storage/images/item/${n.image}`,onError:e=>e.target.src="/api/cover/thumbnail/null",className:"w-full h-full object-cover object-top grayscale group-hover:grayscale-0 transition-all duration-500",alt:n.name}),c&&e.jsx("div",{className:"absolute top-0 right-0 bg-black text-white p-1",children:e.jsx(t,{size:12})})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between py-1",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsx("h3",{className:"font-black text-[11px] uppercase tracking-tighter leading-tight line-clamp-2",children:n.name}),e.jsx("button",{onClick:o,className:"text-black hover:scale-110 transition-transform flex-shrink-0",children:e.jsx(a,{size:16})})]}),n.sku&&e.jsxs("p",{className:"text-[9px] font-bold uppercase tracking-widest text-neutral-400 mt-1",children:["SKU: ",n.sku]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center border-2 border-black bg-white",children:[e.jsx("button",{onClick:()=>d(n.quantity-1),className:"p-1 hover:bg-black hover:text-white transition-colors border-r-2 border-black",children:e.jsx(s,{size:12})}),e.jsx("span",{className:"w-10 text-center font-black text-[11px]",children:n.quantity}),e.jsx("button",{onClick:()=>d(n.quantity+1),className:"p-1 hover:bg-black hover:text-white transition-colors border-l-2 border-black",children:e.jsx(r,{size:12})})]}),e.jsx("div",{className:"text-right",children:e.jsxs("span",{className:"block font-black text-sm tracking-tighter",children:[m()," ",b(p*n.quantity)]})})]})]})]})};i.setAppElement("#app");const f=({data:t,cart:a,setCart:s,modalOpen:r,setModalOpen:x})=>{l.useEffect(()=>{r?(document.body.classList.add("overflow-hidden"),document.documentElement.classList.add("overflow-hidden")):(document.body.classList.remove("overflow-hidden"),document.documentElement.classList.remove("overflow-hidden"))},[r]);const f=a.reduce((e,t)=>e+t.final_price*t.quantity,0),g=0===a.length;return e.jsx(i,{isOpen:r,onRequestClose:()=>x(!1),contentLabel:"Carrito de compras",closeTimeoutMS:300,className:"fixed z-[99999] inset-0 md:inset-auto md:top-0 md:right-0 bg-white p-0 border-l-0 md:border-l-[10px] border-black w-full max-w-full md:max-w-[500px] h-[100dvh] max-h-[100dvh] lg:h-screen flex flex-col outline-none shadow-[-20px_0px_60px_0px_rgba(0,0,0,0.15)]",overlayClassName:"fixed inset-0 bg-black/60 z-[99998] backdrop-blur-md transition-opacity",children:e.jsxs("div",{className:"flex flex-col flex-1 h-full bg-white relative",children:[e.jsxs("div",{className:"flex-shrink-0 flex justify-between items-center p-6 border-b-4 border-black",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black uppercase tracking-tighter",children:"Tu Selección"}),e.jsxs("p",{className:"text-[10px] font-bold uppercase tracking-widest text-neutral-400",children:[a.length," Artículos"]})]})]}),e.jsx("button",{onClick:()=>x(!1),className:"p-2 border-2 border-black hover:bg-black hover:text-white transition-all",children:e.jsx(c,{size:24})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6 scrollbar-thin scrollbar-thumb-black scrollbar-track-neutral-100",children:e.jsx(p,{mode:"wait",children:g?e.jsxs(h.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center h-full text-center py-20",children:[e.jsx(o,{className:"w-16 h-16 text-neutral-200 mb-4"}),e.jsx("p",{className:"text-sm font-black uppercase tracking-widest text-neutral-400",children:"Vacío"})]},"empty"):e.jsx("div",{className:"space-y-4",children:a.map((t,a)=>e.jsx(u,{...t,setCart:s,index:a},t.id))})})}),e.jsxs("div",{className:"flex-shrink-0 p-6 border-t-4 border-black bg-white",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Total Estimado:"}),e.jsxs("span",{className:"text-3xl font-black tracking-tighter",children:[m()," ",b(f)]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("a",{href:t?.link_cart||"/cart",className:"group w-full flex items-center justify-between p-4 transition-all duration-300 border-4 border-black\n                                "+(g?"bg-neutral-100 text-neutral-400 border-neutral-200 cursor-not-allowed":"bg-black text-white hover:bg-white hover:text-black shadow-[6px_6px_0px_0px_rgba(0,0,0,0.1)] active:translate-y-1 active:shadow-none"),children:[e.jsx("span",{className:"text-sm font-black uppercase tracking-widest",children:"Finalizar Compra"}),e.jsx(d,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"})]}),e.jsx("button",{onClick:()=>x(!1),className:"w-full text-[10px] font-bold uppercase tracking-[0.4em] text-neutral-400 hover:text-black transition-colors py-2",children:"[ Seguir Navegando ]"})]})]})]})})};export{f as C};

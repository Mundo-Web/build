import{j as e,bg as s}from"./vendor-react-CZUvQwNQ.js";import{S as a}from"./CartKuchara-C7vqSevl.js";import"./vendor-swiper-Cr_RrIb_.js";const i=({booking:i,cart:c,setCart:t})=>{const l=e=>new Date(e).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}),n=((e,s)=>{const a=new Date(e),i=new Date(s);return Math.ceil((i-a)/864e5)})(i.check_in,i.check_out),r=i.final_price||i.price,d=r*n;return e.jsxs("div",{className:"card border-0 shadow-sm mb-3 booking-cart-card",children:[e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-3 col-4",children:e.jsxs("div",{className:"position-relative",style:{paddingTop:"75%"},children:[e.jsx("img",{src:i.image?`/api/items/media/${i.image}`:"/images/placeholder-room.jpg",alt:i.name,className:"position-absolute top-0 start-0 w-100 h-100",style:{objectFit:"cover",borderRadius:"8px"}}),e.jsx("div",{className:"position-absolute top-0 start-0 m-2",children:e.jsxs("span",{className:"badge bg-primary",children:[e.jsx("i",{className:"fas fa-bed me-1"}),{standard:"Estándar",suite:"Suite",deluxe:"Deluxe",presidential:"Presidencial",family:"Familiar",executive:"Ejecutiva"}[i.room_type]||"Habitación"]})})]})}),e.jsxs("div",{className:"col-md-6 col-8",children:[e.jsx("div",{className:"d-flex justify-content-between align-items-start mb-2",children:e.jsxs("div",{children:[e.jsx("h5",{className:"mb-1 fw-bold",children:i.name}),e.jsxs("div",{className:"d-flex flex-wrap gap-2 text-muted small",children:[e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-users me-1 text-primary"}),i.guests," ",1===i.guests?"huésped":"huéspedes"]}),e.jsxs("span",{children:[e.jsx("i",{className:"fas fa-bed me-1 text-success"}),i.beds_count," ",1===i.beds_count?"cama":"camas"]})]})]})}),e.jsxs("div",{className:"border-start border-3 border-primary ps-3 mb-3",children:[e.jsxs("div",{className:"row g-2 mb-1",children:[e.jsxs("div",{className:"col-auto",children:[e.jsx("i",{className:"fas fa-calendar-check text-success me-2"}),e.jsx("strong",{children:"Check-in:"})]}),e.jsx("div",{className:"col",children:l(i.check_in)})]}),e.jsxs("div",{className:"row g-2 mb-1",children:[e.jsxs("div",{className:"col-auto",children:[e.jsx("i",{className:"fas fa-calendar-times text-danger me-2"}),e.jsx("strong",{children:"Check-out:"})]}),e.jsx("div",{className:"col",children:l(i.check_out)})]}),e.jsxs("div",{className:"row g-2",children:[e.jsxs("div",{className:"col-auto",children:[e.jsx("i",{className:"fas fa-moon text-info me-2"}),e.jsx("strong",{children:"Noches:"})]}),e.jsxs("div",{className:"col",children:[n," ",1===n?"noche":"noches"]})]})]}),i.amenities&&i.amenities.length>0&&e.jsxs("div",{className:"d-flex flex-wrap gap-2",children:[i.amenities.slice(0,3).map(s=>e.jsxs("span",{className:"badge bg-light text-dark border",children:[e.jsx("i",{className:`${s.icon||"fas fa-check"} me-1`}),s.name]},s.id)),i.amenities.length>3&&e.jsxs("span",{className:"badge bg-light text-dark border",children:["+",i.amenities.length-3," más"]})]})]}),e.jsx("div",{className:"col-md-3 col-12",children:e.jsxs("div",{className:"d-flex flex-column h-100 justify-content-between",children:[e.jsxs("div",{className:"text-md-end mb-3",children:[e.jsxs("div",{className:"text-muted small mb-1",children:["S/ ",r.toFixed(2)," x ",n," ",1===n?"noche":"noches"]}),i.discount>0&&e.jsxs("div",{className:"text-decoration-line-through text-muted small mb-1",children:["S/ ",(i.price*n).toFixed(2)]}),e.jsxs("div",{className:"fs-4 fw-bold text-primary",children:["S/ ",d.toFixed(2)]})]}),e.jsxs("div",{className:"d-flex gap-2 flex-md-column",children:[e.jsxs("button",{className:"btn btn-outline-primary btn-sm flex-fill",onClick:()=>{s.visit(`/habitaciones/${i.slug||i.id}`,{data:{check_in:i.check_in,check_out:i.check_out,guests:i.guests}})},title:"Editar fechas",children:[e.jsx("i",{className:"fas fa-edit me-1"}),"Editar"]}),e.jsxs("button",{className:"btn btn-outline-danger btn-sm flex-fill",onClick:()=>{a.fire({title:"¿Eliminar reserva?",html:`\n                <p class="mb-2">¿Deseas eliminar esta reserva del carrito?</p>\n                <p class="text-sm text-gray-600">\n                    ${i.name}<br/>\n                    ${l(i.check_in)} - ${l(i.check_out)}\n                </p>\n            `,icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"Cancelar",confirmButtonColor:"#dc3545"}).then(e=>{if(e.isConfirmed){const e=c.filter(e=>!("booking"===e.type&&e.id===i.id&&e.check_in===i.check_in&&e.check_out===i.check_out));t(e),a.fire({icon:"success",title:"Reserva eliminada",text:"La reserva ha sido eliminada del carrito",timer:2e3,showConfirmButton:!1})}})},title:"Eliminar reserva",children:[e.jsx("i",{className:"fas fa-trash-alt me-1"}),"Eliminar"]})]})]})})]})}),e.jsx("div",{className:"card-footer bg-light border-0",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Las reservas no requieren envío. Puedes cancelar hasta 24h antes del check-in."]})})]})};export{i as default};

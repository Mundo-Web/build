import{r as e,j as t}from"./System-Bybt2Brn.js";import{R as a}from"./index-Cmhjy_Bv.js";import{C as s}from"./CartItemRow-CLpuTcvn.js";import{N as l}from"./Number2Currency-DExzICY3.js";import{m as i}from"./proxy-BmPRG09w.js";import{A as r}from"./index-Da4AP4wO.js";a.setAppElement("#app");const o=({data:o,cart:n,setCart:c,modalOpen:d,setModalOpen:m})=>{e.useEffect((()=>{d?(document.body.classList.add("overflow-hidden"),document.documentElement.classList.add("overflow-hidden")):(document.body.classList.remove("overflow-hidden"),document.documentElement.classList.remove("overflow-hidden"))}),[d]);const x=n.reduce(((e,t)=>e+t.final_price*t.quantity),0),h=0===n.length;return t.jsx(a,{isOpen:d,onRequestClose:()=>m(!1),contentLabel:"Carrito de compras",closeTimeoutMS:300,className:"fixed z-[99999] inset-0 md:inset-auto md:top-0 md:right-0 bg-white p-6 shadow-2xl w-full max-w-[480px] h-[100dvh] max-h-[100dvh] lg:h-screen flex flex-col outline-none md:rounded-l-xl animate-slide-in",overlayClassName:"fixed inset-0 bg-black/50 z-[200] backdrop-blur-sm transition-opacity",children:t.jsxs("div",{className:"flex flex-col flex-1",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-100",children:[t.jsx(i.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-2xl font-bold text-gray-900",children:"Tu Carrito"}),t.jsx("button",{onClick:()=>m(!1),className:"p-2 rounded-full hover:bg-gray-50 transition-colors",children:t.jsx("i",{className:"mdi mdi-close text-2xl text-gray-500 hover:text-gray-700 transition-colors"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto  max-h-[calc(100dvh-20dvh)]  lg:max-h-[calc(100vh-38vh)] pb-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:t.jsx(r,{mode:"wait",children:h?t.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center h-full text-center p-8",children:[t.jsx("div",{className:"mb-6 text-gray-300",children:t.jsx("i",{className:"mdi mdi-cart-outline text-7xl"})}),t.jsx("p",{className:"text-gray-500 text-lg font-medium mb-4",children:"Tu carrito está vacío"})]},"empty"):t.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4 pr-2",children:n.map(((e,a)=>t.jsx(s,{...e,setCart:c,index:a},e.id)))},"items")})}),t.jsxs("div",{className:"pt-6 border-t border-gray-100 bg-white",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),t.jsxs("span",{className:"text-xl font-bold text-gray-900",children:["S/. ",l(x)]})]}),t.jsx("button",{onClick:()=>window.location.href=null==o?void 0:o.link_cart,disabled:h,className:"w-full py-4 rounded-xl font-semibold transition-all duration-300 "+(h?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-primary  text-white hover:shadow-lg hover:scale-[1.02] active:scale-100"),children:"Ir al carrito"})]})]})})};export{o as C};

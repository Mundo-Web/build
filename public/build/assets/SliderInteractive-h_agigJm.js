import{r as t,j as e,K as a,a as r,E as n,J as i}from"./vendor-react-CtPXetfm.js";import{a as s}from"./adjustTextColor-69KGUbTd.js";import{G as o}from"./Footer-coriRrmf.js";import{T as l}from"./TextWithHighlight-Dz4C6geJ.js";import{A as c,m as d}from"./vendor-motion-CThzL09Q.js";import"./vendor-swiper-Cr_RrIb_.js";const u=({items:u,data:m,generals:g=[]})=>{const h="true"===m?.animation_slider||"si"===m?.animation_slider||!0===m?.animation_slider?{initial:{scale:1,opacity:1},animate:{scale:[1,1.2,1],x:[1,-50,1],opacity:1,transition:{duration:20,repeat:1/0,repeatType:"loop"}},exit:{scale:1,opacity:.8,transition:{duration:.3,ease:"easeInOut"}}}:{initial:{scale:1,opacity:1},animate:{scale:[1,1,1],opacity:1,transition:{duration:20}},exit:{scale:1,opacity:.8,transition:{duration:.3,ease:"easeInOut"}}},x={initial:{opacity:0,y:60,scale:.8},animate:{opacity:1,y:0,scale:1,transition:{duration:.8,delay:.8,ease:"easeOut"}},exit:{opacity:0,y:-30,scale:.9,transition:{duration:.4,ease:"easeInOut"}}},p={initial:{opacity:0,y:40,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)",transition:{duration:.7,delay:1.3,ease:"easeOut"}},exit:{opacity:0,y:-20,filter:"blur(8px)",transition:{duration:.3,ease:"easeInOut"}}},f={initial:{opacity:0,y:40,scale:.9},animate:{opacity:1,y:0,scale:1,transition:{duration:.6,delay:1.6,ease:"easeOut"}},exit:{opacity:0,y:20,scale:.8,transition:{duration:.2,ease:"easeInOut"}}},y={initial:{},animate:{transition:{staggerChildren:.1}},exit:{}},b=(w=m?.infiniteLoop,!!["true","si"].includes(w?.toLowerCase())||(["false","no"].includes(w?.toLowerCase()),!1));var w;const v=g?.find(t=>"phone_whatsapp"===t.correlative),j=g?.find(t=>"message_whatsapp"===t.correlative),_=v?.description??null,$=j?.description??null,[N,k]=t.useState(1),C=t.useRef(null),F=t.useRef(!1),T=t.useRef(0),E=t.useRef(0),A=u?.sort((t,e)=>(t.order_index||0)-(e.order_index||0))||[],P=[A[A.length-1],...A,A[0]],I=["center","left","right"].includes(m?.paginationAlignment),O=I?m?.paginationAlignment:"center",R=["yes","true","si"].includes(m?.showNavigation),M=()=>{k(t=>(t+1)%P.length)},X=()=>{k(t=>0===t?P.length-1:t-1)},S=t=>{let e=t.target;for(;e;){if("A"===e.tagName||"BUTTON"===e.tagName)return!0;e=e.parentElement}return!1},D=t=>{if(!F.current)return;if(F.current=!1,!C.current)return;C.current.style.transition="transform 0.5s ease-in-out";Math.abs((E.current+100*N)*(window.innerWidth/100))>50?E.current>100*-N?X():M():C.current.style.transform=`translateX(-${100*N}%)`,E.current=0};b&&t.useEffect(()=>{const t=setInterval(()=>{M()},5e3);return()=>clearInterval(t)},[N]),t.useEffect(()=>{0===N?setTimeout(()=>{C.current.style.transition="none",k(P.length-2),requestAnimationFrame(()=>{C.current.style.transform=`translateX(-${100*(P.length-2)}%)`,setTimeout(()=>{C.current.style.transition="transform 0.5s ease-in-out"},50)})},500):N===P.length-1&&setTimeout(()=>{C.current.style.transition="none",k(1),requestAnimationFrame(()=>{C.current.style.transform="translateX(-100%)",setTimeout(()=>{C.current.style.transition="transform 0.5s ease-in-out"},50)})},500)},[N]);const L=t.useRef([]);t.useEffect(()=>{L.current.forEach(t=>{t&&s(t)})},[A]);const[W,z]=t.useState(!1);return t.useEffect(()=>{const t=P[N];t?.bg_image&&(t=>{const e=new window.Image;e.crossOrigin="Anonymous",e.src=t,e.onload=function(){const t=document.createElement("canvas");t.width=e.width,t.height=e.height;const a=t.getContext("2d");a.drawImage(e,0,0,e.width,e.height);const r=a.getImageData(0,0,t.width,t.height);let n=0;for(let e=0;e<r.data.length;e+=4)n+=(299*r.data[e]+587*r.data[e+1]+114*r.data[e+2])/1e3;const i=n/(r.data.length/4);z(i<128)}})(`/storage/images/slider/${t.bg_image}`)},[N,P]),e.jsxs("div",{id:m?.element_id||null,className:`relative w-full mx-auto ${m?.class_slider_section||""}`,children:[e.jsx("div",{className:`overflow-hidden relative ${F.current?"cursor-grabbing":"cursor-grab"} ease`,onMouseDown:t=>{S(t)||(F.current=!0,T.current=t.pageX,C.current.style.transition="none",t.preventDefault())},onMouseMove:t=>{if(!F.current)return;t.preventDefault();const e=t.pageX-T.current;E.current=100*-N+e/window.innerWidth*100,C.current&&(C.current.style.transform=`translateX(${E.current}%)`)},onMouseUp:D,onMouseLeave:t=>{F.current&&D()},onTouchStart:t=>{S(t)||(F.current=!0,T.current=t.touches[0].pageX,C.current.style.transition="none")},onTouchMove:t=>{if(!F.current)return;const e=t.touches[0].pageX-T.current;E.current=100*-N+e/window.innerWidth*100,C.current.style.transform=`translateX(${E.current}%)`},onTouchEnd:t=>{if(!F.current)return;F.current=!1,C.current.style.transition="transform 0.5s ease-in-out";Math.abs((E.current+100*N)*(window.innerWidth/100))>20?E.current>100*-N?X():M():k(N),C.current.style.transform=`translateX(-${100*N}%)`},style:{userSelect:"none"},children:e.jsx("div",{ref:C,className:`flex ${m?.class_slider||""}`,style:{transform:`translateX(-${100*N}%)`,transition:"transform 0.5s ease-in-out"},children:P.map((t,n)=>e.jsxs("div",{className:"w-full min-h-[calc(100dvh-20dvh)] lg:h-auto flex-shrink-0 relative",children:[e.jsx(c,{children:N===n&&e.jsxs(e.Fragment,{children:[e.jsx(d.img,{src:`/storage/images/slider/${t.bg_image||"undefined"}`,alt:t.name,loading:"lazy",className:`hidden md:block absolute top-0 left-0 h-full md:h-full w-screen md:w-full object-cover ${m?.imageBgPosition||"object-right-25"} md:object-center z-0 md:mr-20 lg:mr-0`,variants:h,initial:"initial",animate:"animate",exit:"exit",onClick:e=>window.location=t?.button_link},`image-desktop-${n}`),e.jsx(d.img,{src:`/storage/images/slider/${t.bg_image_mobile||t.bg_image||"undefined"}`,alt:t.name,loading:"lazy",className:`block md:hidden absolute top-0 left-0 h-full w-screen object-cover ${m?.imageBgPosition||"object-right-25"} z-0`,variants:h,initial:"initial",animate:"animate",exit:"exit",onClick:e=>window.location=t?.button_link},`image-mobile-${n}`)]})}),!1!==t?.show_overlay&&0!==t?.show_overlay&&e.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(${"to-r"===t?.overlay_direction?"to right":"to-l"===t?.overlay_direction?"to left":"to-t"===t?.overlay_direction?"to top":"to-b"===t?.overlay_direction?"to bottom":"to-tr"===t?.overlay_direction?"to top right":"to-tl"===t?.overlay_direction?"to top left":"to-br"===t?.overlay_direction?"to bottom right":"to-bl"===t?.overlay_direction?"to bottom left":"to bottom"}, ${t?.overlay_color||"#000000"}${Math.round(2.55*(t?.overlay_opacity??50)).toString(16).padStart(2,"0")}, transparent)`}}),(!1===t?.show_overlay||0===t?.show_overlay)&&e.jsxs(e.Fragment,{children:[m?.class_overlay&&e.jsx("div",{className:`absolute inset-0 ${m?.class_overlay}`}),m?.overlayMobile&&e.jsx("div",{className:"md:hidden absolute inset-0 bg-gradient-to-b from-transparent to-white"}),m?.overlayMobileDark&&e.jsx("div",{className:"md:hidden absolute inset-0 bg-gradient-to-b from-transparent to-black"}),m?.overlayDesktop&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-transparent via-black/60 to-black/80"})]}),m?.only_image&&e.jsx(e.Fragment,{children:e.jsx("div",{className:`relative w-full px-primary 2xl:px-0 2xl:max-w-7xl  mx-auto  h-[calc(100dvh-20dvh)] md:h-[600px] flex flex-col items-start justify-center md:justify-center ${W?"text-white":"customtext-neutral-dark"} ${m?.class_slider_container||""}`,children:e.jsx(c,{mode:"wait",children:e.jsxs(d.div,{variants:y,initial:"initial",animate:"animate",exit:"exit",className:("stechperu"===o.APP_CORRELATIVE?"py-10":"py-20")+" flex flex-col gap-5 lg:gap-10 h-full lg:h-auto  lg:py-0 items-start justify-between lg:justify-normal lg:items-start w-full",children:[e.jsxs("div",{children:[e.jsx(d.h2,{variants:x,className:`${"stechperu"===o.APP_CORRELATIVE?"w-6/12  md:w-full md:max-w-md text-[30px]  ":"w-full  md:w-full text-[40px]  md:max-w-lg "} font-title leading-tight sm:text-5xl md:text-6xl tracking-normal font-bold ${m?.class_title}`,style:{color:t.title_color||(W?"#FFFFFF":"#000000"),textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:e.jsx(l,{text:t.name,color:""})}),e.jsx(d.p,{variants:p,className:`${"stechperu"===o.APP_CORRELATIVE?"w-8/12":"w-full"} md:w-full md:max-w-md text-lg leading-tight font-paragraph ${m?.class_description}`,style:{color:t.description_color||(W?"#FFFFFF":"#000000"),textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:t.description})]}),t.button_text&&t.button_link&&e.jsxs(d.div,{variants:f,className:"flex flex-row gap-5 md:gap-10  w-full  "+("stechperu"===o.APP_CORRELATIVE?"justify-center lg:justify-start items-center lg:items-start":"items-start"),children:[e.jsxs("a",{href:t.button_link,ref:t=>L.current[n]=t,className:`bg-primary border-none flex flex-row items-center gap-3 px-10 py-4 text-base rounded-xl tracking-wide font-bold text-white ${m?.class_button_primary||"text-white"}`,onClick:t=>{t.stopPropagation()},onMouseDown:t=>t.stopPropagation(),onTouchStart:t=>t.stopPropagation(),children:[t.button_text,e.jsx(a,{width:"1.25rem",className:`transform rotate-90 ${m?.class_icon_primary||""}`})]}),m?.whatsapp_info&&_&&e.jsxs("a",{href:`https://wa.me/${_.replace(/\D/g,"")}?text=${encodeURIComponent($||"¡Hola! Me interesa obtener más información sobre sus productos.")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-white border-2 border-neutral-dark backdrop-blur-sm text-gray-800 flex flex-row items-center gap-3 px-6 lg:px-8 py-3 lg:py-4 text-sm lg:text-base rounded-xl tracking-wide font-bold",onClick:t=>{t.stopPropagation()},onMouseDown:t=>t.stopPropagation(),onTouchStart:t=>t.stopPropagation(),children:[e.jsx(r,{width:"1.25rem",className:"customtext-neutral-dark"}),"Hablar con un asesor"]})]})]},`content-${N}-${t.name}`)})})})]},`slide-${n}`))})}),R&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 ",children:e.jsx("button",{onClick:X,className:"bg-secondary rounded-r-lg text-white w-12 h-12 flex items-center justify-center",children:e.jsx(n,{width:"1rem"})})}),e.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 ",children:e.jsx("button",{onClick:M,className:"bg-secondary rounded-l-lg text-white w-12 h-12 flex items-center justify-center",children:e.jsx(i,{width:"1rem"})})})]}),I&&e.jsx("div",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto ",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute bottom-4 "+("left"===O?"inset-x-0 left-0":"right"===O?"right-0":"left-1/2 transform -translate-x-1/2"),children:A.map((t,a)=>e.jsx("div",{className:"inline-flex mx-1 w-3 h-3 rounded-full "+(N===a+1?"bg-white h-5 w-5 lg:w-6 lg:h-6 items-center justify-center border-2 border-primary":"bg-secondary"),onClick:()=>k(a+1),children:N===a+1&&e.jsx("div",{className:"w-3 h-3 bg-primary rounded-full items-center justify-center"})},`dot-${a}`))})})})]})};export{u as default};

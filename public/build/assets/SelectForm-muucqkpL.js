import{r as e,j as a,C as l,S as s,e as t}from"./vendor-react-DB2gWWlz.js";const r=({options:r=[],placeholder:n="Select an option",onChange:o,value:c,valueKey:u,labelKey:i,label:d,labelClass:m,className:p="customtext-neutral-dark   rounded-xl ",disabled:x=!1,generalIcon:b,classNameDropdown:v="",classNameIcon:f})=>{const[h,g]=e.useState(!1),[j,y]=e.useState(null),[N,w]=e.useState(""),k=e.useRef(null),C=r.length>0&&"object"==typeof r[0],S=C?u||Object.keys(r[0])[0]:null,$=C?i||Object.keys(r[0])[1]:null,E=r.map(e=>C?{value:e[S],label:e[$]}:{value:e,label:e}),L=E.filter(e=>e.label.toLowerCase().includes(N.toLowerCase()));e.useEffect(()=>{const e=e=>{k.current&&!k.current.contains(e.target)&&g(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return e.useEffect(()=>{if(void 0!==c&&c!==(j&&j.value)){const e=E.find(e=>e.value===c);y(e||null)}},[c,E]),a.jsxs("div",{className:"relative w-full",ref:k,children:[d&&a.jsx("label",{className:`block text-sm mb-1 customtext-neutral-dark ${m}`,children:d}),a.jsxs("button",{className:`w-full relative text-start  px-4 py-3 border focus:ring-0 focus:outline-0   transition-all duration-300 customtext-primary ${p}`,onClick:()=>g(!h),"aria-haspopup":"listbox","aria-expanded":h,disabled:x,children:[a.jsxs("span",{className:"flex items-center gap-2",children:[void 0!==b&&b,a.jsx("span",{className:"block truncate",children:j?j.label:n})]}),a.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center justify-center py-3 pr-2 pointer-events-none",children:a.jsx(l,{className:`w-5 h-5  transition-transform duration-200 ${h?"rotate-180":""} ${f||"customtext-neutral-dark"}`})})]}),h&&a.jsxs("div",{className:`absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg max-h-60 overflow-auto ${v}`,children:[a.jsx("div",{className:"sticky top-0 bg-white p-2",children:a.jsxs("div",{className:"relative",children:[a.jsx(s,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),a.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"Search options...",value:N,onChange:e=>w(e.target.value)})]})}),a.jsx("ul",{className:"py-1",role:"listbox",children:L.map(e=>a.jsxs("li",{className:"px-4 py-2 cursor-pointer flex items-center justify-between \n                                    "+(j&&j.value===e.value?"bg-primary text-white":"text-gray-900 hover:bg-gray-100"),onClick:()=>(e=>{y(e),o(e.value),g(!1)})(e),role:"option","aria-selected":j&&j.value===e.value,children:[a.jsx("span",{className:"block truncate",children:e.label}),j&&j.value===e.value&&a.jsx(t,{className:"w-5 h-5"})]},e.value))})]})]})};export{r as S};

import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as n}from"./index-BOnQTV8N.js";import{G as Te}from"./Global-DWbVqTT_.js";import{C as De}from"./HeaderSearch-DAVhxjsI.js";import{L as ee}from"./Logout-BpuTJ_83.js";import{M as ze}from"./MobileMenu-DxNye39b.js";import{P as be}from"./ProfileImage-CwBDTNXg.js";import{C as R,D as te}from"./door-closed-OXb-qp6H.js";import{A as v}from"./index-BZvh78jk.js";import{m as L}from"./proxy-B0QLMKEh.js";import{H as ye}from"./house-DDB4Ooi5.js";import{S as ve}from"./shopping-cart-DLRnxGTD.js";import{X as we}from"./x-fof_H3Vv.js";import{S as F}from"./search-BQ59Robe.js";import{U as Pe}from"./user-BZB1h7Cv.js";import{S as Be}from"./settings-jey665c1.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./PolicyModal-C80IvD61.js";import"./index-B6ujFmsw.js";import"./index-Chjiymov.js";import"./CartItemRow-Ds6-hPyN.js";import"./Number2Currency-B5ZenVq9.js";import"./General-BmbBKdsB.js";import"./tippy-react.esm-DmkRJDEW.js";import"./index-pSueRYGM.js";import"./package-DBFPPBi1.js";import"./createLucideIcon-DfjclApS.js";import"./trash-2-DU7LB6-f.js";import"./plus-CTIomuuF.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuSimple-C1chZcnf.js";import"./MobileMenu-CbySVH7I.js";import"./CardProductMultivet-ncpmQ0JU.js";import"./BasicRest-DJtN-L6Q.js";import"./tag-Dgi-uTqk.js";import"./chevron-up-Mt3xll-e.js";import"./chevron-down-uIVDLcM-.js";import"./chevron-left-JcR9Fe4w.js";import"./chevron-right-Cug7tVUE.js";const Nt=({items:p,data:c,cart:re,setCart:Ne,isUser:d,pages:ke,generals:w=[]})=>{var xe,fe;const _=w.find(t=>t.correlative==="phone_whatsapp"),A=w.find(t=>t.correlative==="message_whatsapp"),O=(_==null?void 0:_.description)??null,W=(A==null?void 0:A.description)??null,[Ce,K]=n.useState(!1),[E,se]=n.useState(!1),[C,N]=n.useState(!1),[l,T]=n.useState(""),[D,h]=n.useState(!1),[Se,ae]=n.useState(!1),[j,z]=n.useState([]),[b,k]=n.useState(!1),[q,ne]=n.useState(!1),[x,P]=n.useState(-1),oe=n.useRef([]),[B,I]=n.useState(!1),[u,le]=n.useState({slug:"",name:"Categorías"}),$=n.useRef(null),V=n.useRef(null),X=n.useRef(null),J=n.useRef(null),Me=n.useRef(null),G=n.useRef(null),f=n.useRef(null),ie=n.useRef([]),ce=re.reduce((t,r)=>Number(t)+Number(r.quantity),0),Re=()=>{try{const t=window.location.pathname||"";return["/cart","/checkout"].some(s=>t.includes(s))}catch(t){return console.warn("Error checking path:",t),!1}},y=async t=>{if(!t.trim()||t.length<2){z([]),k(!1);return}ne(!0);try{let r=[["name","contains",t],"or",["summary","contains",t],"or",["description","contains",t]],s=[];if(u.slug){const i=p==null?void 0:p.find(a=>a.slug===u.slug);if(i){const a=[...r,"and",["category_id","=",i.id]],m=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:a,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(m.ok){const M=await m.json();M.status===200&&Array.isArray(M.data)&&(s=M.data)}}if(s.length===0){const a=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:r,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(a.ok){const m=await a.json();m.status===200&&Array.isArray(m.data)&&(s=m.data)}}}else{const i=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:r,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(i.ok){const a=await i.json();a.status===200&&Array.isArray(a.data)&&(s=a.data)}}z(s),k(s.length>0)}catch(r){console.error("Error fetching search suggestions:",r),z([]),k(!1)}finally{ne(!1)}},Z=t=>{T(t),P(-1),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{y(t)},300)},S=()=>{k(!1),z([]),P(-1)},H=t=>{if(!t)return;k(!1),N(!1);const r=t.slug?`/product/${t.slug}`:`/catalogo?search=${encodeURIComponent(t.name)}`;window.location.href=r};n.useEffect(()=>{const t=r=>{$.current&&!$.current.contains(r.target)&&h(!1),V.current&&!V.current.contains(r.target)&&I(!1),X.current&&!X.current.contains(r.target)&&(r.target.closest("[data-suggestion-button]")||S())};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[l]),n.useEffect(()=>{const t=()=>{window.scrollY>0?ae(!0):ae(!1)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),n.useEffect(()=>{const t=r=>{r.key==="Escape"&&(b?S():C&&(N(!1),T("")))};return(C||b)&&document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[C,b]),n.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]),n.useEffect(()=>{x>=0&&ie.current[x]&&G.current&&ie.current[x].scrollIntoView({block:"nearest",behavior:"smooth"})},[x]),n.useEffect(()=>{l.trim().length>=2&&b&&(f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{y(l)},100))},[u.slug]);const de={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},ue=[{icon:e.jsx(Pe,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:e.jsx(ve,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:e.jsx(Be,{size:16}),label:"Configuración",href:"/account"},{icon:e.jsx(te,{size:16}),label:"Cerrar Sesión",onClick:ee}],me=t=>{var a;t.preventDefault(),S();const s=((a=new FormData(t.target).get("search"))==null?void 0:a.trim())||l.trim(),i=u.slug;if(s||i){const m=new URLSearchParams;s&&m.append("search",s),i&&m.append("category",i),window.location.href=`/catalogo?${m.toString()}`}return!1},he=t=>{if(t.preventDefault(),S(),l.trim()){const r=l.trim();N(!1),window.location.href=`/catalogo?search=${encodeURIComponent(r)}`}return!1};function pe(t){const r=G.current,s=oe.current[t];if(!r||!s)return;const i=r.getBoundingClientRect(),a=s.getBoundingClientRect();a.top<i.top?r.scrollTop-=i.top-a.top:a.bottom>i.bottom&&(r.scrollTop+=a.bottom-i.bottom)}const Y=t=>{if(!(!b||j.length===0))switch(t.key){case"ArrowDown":t.preventDefault(),P(r=>{const s=r<j.length-1?r+1:r;return setTimeout(()=>pe(s),0),s});break;case"ArrowUp":t.preventDefault(),P(r=>{const s=r>0?r-1:0;return setTimeout(()=>pe(s),0),s});break;case"Enter":t.preventDefault(),x>=0&&x<j.length?H(j[x]):l.trim()&&me(t);break;case"Escape":k(!1);break}},Q=({suggestions:t,isLoading:r,onSelect:s,selectedIndex:i})=>{var ge;if(!b)return null;const a=u.slug?(ge=p==null?void 0:p.find(o=>o.slug===u.slug))==null?void 0:ge.id:null,m=t.some(o=>o.category_id===a),M=t.some(o=>o.category_id!==a);return e.jsx(L.div,{ref:G,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-[60] max-h-80 overflow-y-auto mt-1",children:r?e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Buscando..."]})}):t.length>0?e.jsxs("div",{children:[u.slug&&M&&!m&&e.jsx("div",{className:"px-4 py-3 bg-primary border-b customtext-neutral-light",children:e.jsxs("p",{className:"text-xs customtext-neutral-dark",children:[e.jsxs("span",{className:"font-medium",children:['No se encontraron productos en "',u.name,'"']}),e.jsx("br",{}),"Mostrando resultados de otras categorías"]})}),e.jsx("ul",{className:"py-2",children:t.map((o,je)=>{const Ee=a&&o.category_id===a;return e.jsx("li",{ref:g=>oe.current[je]=g,children:e.jsxs("button",{"data-suggestion-button":!0,onMouseDown:g=>{g.preventDefault(),g.stopPropagation(),setTimeout(()=>s(o),0)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 ${je===i?"bg-primary/10 border-l-4 border-primary":""} ${Ee?"bg-green-50":""}`,type:"button",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 rounded-lg overflow-hidden",children:o.image?e.jsx("img",{src:`/api/items/media/${o.image}`,alt:o.name,className:"w-full h-full object-cover",onError:g=>{g.target.style.display="none"}}):e.jsx("img",{src:o!=null&&o.image?`/api/items/media/${o.image}`:"/assets/img/noimage/no_img.jpg",alt:(o==null?void 0:o.name)||"Producto",className:"w-full h-full object-contain group-hover:scale-105 transition-transform duration-500",onError:g=>{g.target.src="/assets/img/noimage/no_img.jpg"}})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium customtext-neutral-dark truncate flex items-center gap-2",children:o.name}),o.category&&e.jsx("div",{className:"text-sm customtext-neutral-dark truncate",children:o.category.name}),o.final_price&&e.jsxs("div",{className:"text-sm font-semibold customtext-primary",children:["S/ ",parseFloat(o.final_price).toFixed(2)]})]})]})},o.id)})})]}):e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:u.slug?e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium",children:['No se encontraron productos en "',u.name,'"']}),e.jsx("p",{className:"text-sm customtext-neutral-dark mt-1",children:'Intenta buscar en "Todas las categorías"'})]}):"No se encontraron productos"})})},Le=()=>{const t=p&&p.length>0?[...p].sort((r,s)=>r.name.localeCompare(s.name)):[];return e.jsxs("div",{ref:V,className:"absolute right-0 flex-shrink-0",children:[e.jsxs("button",{type:"button",onClick:()=>I(!B),className:"flex items-center justify-between min-w-[150px] max-w-[150px] text-sm py-4 px-4 font-semibold focus:ring-0 customtext-neutral-dark bg-secondary focus:outline-none border-0  text-white rounded-full hover:bg-primary hover:customtext-neutral-dark transition-colors duration-500","aria-label":"Seleccionar categoría","aria-expanded":B,children:[e.jsx("span",{className:"truncate",children:u.name}),e.jsx("svg",{className:`w-4 h-4 ml-2 transition-transform duration-200 ${B?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx(v,{children:B&&e.jsx(L.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute top-full right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-[70] min-w-[220px] max-h-80 overflow-y-auto",children:e.jsxs("div",{className:"py-2",children:[e.jsxs("button",{type:"button",onClick:()=>{le({slug:"",name:"Categorías"}),I(!1),l.trim().length>=2&&setTimeout(()=>{y(l)},150)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 ${u.slug===""?"bg-primary/10 text-primary font-medium":"customtext-neutral-dark"}`,children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),e.jsx("span",{className:"truncate",children:"Categorías"}),u.slug===""&&e.jsx("div",{className:"ml-auto",children:e.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),t.map(r=>e.jsxs("button",{type:"button",onClick:()=>{le({slug:r.slug,name:r.name}),I(!1),l.trim().length>=2&&setTimeout(()=>{y(l)},150)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 ${u.slug===r.slug?"bg-primary/10 text-primary font-medium":"customtext-neutral-dark"}`,children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-secondary p-2 rounded-full overflow-hidden",children:r.image?e.jsx("img",{src:`/api/categories/media/${r.image}`,alt:r.name,className:"w-full h-full object-cover",onError:s=>{s.target.style.display="none",s.target.parentNode.innerHTML=`
                                                            <div class="w-full h-full flex items-center justify-center customtext-neutral-dark">
                                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                                                                </svg>
                                                            </div>
                                                        `}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center customtext-neutral-dark",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})})})}),e.jsx("span",{className:"truncate",children:r.name}),u.slug===r.slug&&e.jsx("div",{className:"ml-auto",children:e.jsx("svg",{className:"w-4 h-4 text-primary",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},r.id))]})})})]})};console.log(d);let U=!1;if(d&&Array.isArray(d.roles)){const t=d.roles.map(r=>{var s;return(s=r.name)==null?void 0:s.toLowerCase()});U=!t.includes("admin")&&!t.includes("root")}return e.jsxs("header",{className:`w-full top-0 left-0 z-50 transition-all duration-300 ${Se?"fixed bg-primary shadow-lg":"relative bg-primary"}`,children:[e.jsxs("div",{className:"px-primary  bg-primary 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51]",children:e.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:Te.APP_NAME,className:`h-14 object-contain object-center ${(c==null?void 0:c.class_logo)||""}`,onError:t=>{t.target.onerror=null,t.target.src="/assets/img/logo-bk.svg"}})}),(c==null?void 0:c.showLoginCart)&&e.jsxs("div",{className:"flex gap-8 lg:hidden",children:[e.jsxs("div",{className:`${C?"hidden":"flex"} items-center gap-4`,children:[d?e.jsxs("div",{ref:$,className:"relative",children:[e.jsx("button",{"aria-label":"user",className:"flex items-center gap-2 hover:customtext-primary transition-all duration-300 relative group",onClick:()=>h(!D),children:e.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:d.uuid?e.jsxs("div",{className:"relative",children:[e.jsx(be,{uuid:d.uuid,name:d.name,lastname:d.lastname,className:"!w-6 !h-6 rounded-full object-cover border-2 border-primary ring-secondary transition-all duration-300"}),e.jsx("div",{className:"relative",style:{display:"none"},children:e.jsx(R,{className:"customtext-primary  border-primary rounded-full   ring-secondary transition-all duration-300",width:"1.5rem"})}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"customtext-primary border-2 border-primary rounded-full  ring-secondary  transition-all duration-300",width:"1.5rem"}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})})}),e.jsx(v,{children:D&&e.jsx(L.div,{initial:"hidden",animate:"visible",exit:"exit",variants:de,className:"absolute z-50 top-full -left-20 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-3",children:U?ue.map((t,r)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:s=>{s.preventDefault(),s.stopPropagation(),h(!1),setTimeout(()=>{t.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,onClick:s=>{s.stopPropagation(),h(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]})},r)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",onClick:t=>{t.stopPropagation(),h(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(ye,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),h(!1),setTimeout(()=>{ee()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(te,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}):e.jsx("a",{href:"/iniciar-sesion",className:"flex items-center",children:e.jsx(R,{className:"customtext-primary",width:"1.5rem"})}),e.jsxs("button",{"aria-label":"",onClick:()=>K(!0),className:"flex items-center relative",children:[e.jsx(ve,{className:"customtext-primary",width:"1.5rem"}),e.jsx("span",{className:"absolute -right-2 -top-2 inline-flex items-center justify-center w-4 h-4 bg-primary text-white rounded-full text-[8px]",children:ce})]})]}),e.jsx("button",{"aria-label":"Menú",onClick:()=>se(!E),className:"flex md:hidden items-center justify-center bg-primary rounded-lg w-auto h-auto p-2 text-white fill-white transition-all duration-300 ",children:E?e.jsx(we,{}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M10 5H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 12H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 19H14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),e.jsxs("div",{className:"hidden md:block relative w-full max-w-md ",ref:X,children:[e.jsxs("form",{onSubmit:me,role:"search",className:"flex items-center gap-0 bg-white rounded-full border p-1",children:[e.jsx("button",{type:"submit",className:"p-3  customtext-neutral-light rounded-full  hover:scale-105 transition-all duration-300 flex-shrink-0","aria-label":"Buscar",children:e.jsx(F,{size:20})}),e.jsx("input",{ref:Me,type:"search",name:"search",placeholder:"Estoy buscando...",value:l,onChange:t=>Z(t.target.value),onKeyDown:Y,onFocus:()=>{l.trim().length>=2&&y(l)},className:"flex-1 py-3 px-4 font-normal focus:ring-0 customtext-neutral-dark placeholder:customtext-neutral-dark focus:outline-none bg-transparent border-0",enterKeyHint:"search",inputMode:"search",autoComplete:"on",role:"searchbox","aria-label":"Estoy buscando..."}),e.jsx(Le,{})]}),e.jsx(v,{children:e.jsx(Q,{suggestions:j,isLoading:q,onSelect:H})})]}),c!=null&&c.showLoginCart?e.jsxs("div",{className:"hidden md:flex items-center  gap-8 relative text-sm",children:[e.jsx("p",{className:"cursor-pointer text-sm customtext-neutral-dark whitespace-pre-line hover:customtext-secondary font-normal  transition-all duration-500 ",children:(()=>{var i;const t=((i=w.find(a=>a.correlative==="opening_hours"))==null?void 0:i.description)||"",[r,...s]=t.split(`
`);return e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:r}),s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),s.join(`
`)]}):null]})})()}),e.jsxs("p",{className:"cursor-pointer text-sm customtext-neutral-dark font-normal whitespace-pre-line hover:customtext-secondary transition-all duration-500",children:[e.jsx("span",{children:"Soporte 24/7"}),e.jsx("br",{}),e.jsxs("strong",{children:["  ",((xe=w.find(t=>t.correlative==="support_phone"))==null?void 0:xe.description)||""]})]}),e.jsxs("div",{ref:$,children:[d?e.jsxs("button",{"aria-label":"user",className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-secondary pr-6 transition-all duration-300 relative group",onClick:()=>h(!D),children:[e.jsx("span",{className:"hidden md:inline",children:d.name}),e.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:d.uuid?e.jsxs("div",{className:"relative",children:[e.jsx(be,{uuid:d.uuid,name:d.name,lastname:d.lastname,classCircleUser:"customtext-neutral-dark stroke-[1.5] border-neutral-dark ",className:"w-8 h-8 rounded-full object-cover   border-2 border-secondary ring-secondary transition-all duration-300"}),e.jsxs("div",{className:"absolute -bottom-[-0.115rem] -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"customtext-primary border-2 border-primary rounded-full  ring-secondary group-hover:ring-green-300 transition-all duration-300"}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})})]}):e.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsxs("span",{className:"hidden md:inline",children:["Iniciar ",e.jsx("br",{})," ",e.jsx("strong",{children:"Sesión"})]}),e.jsx(R,{className:"customtext-primary"})]}),e.jsx(v,{children:D&&e.jsx(L.div,{initial:"hidden",animate:"visible",exit:"exit",variants:de,className:"absolute z-50 top-full left-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-4",children:U?ue.map((t,r)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:s=>{s.preventDefault(),s.stopPropagation(),h(!1),setTimeout(()=>{t.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,onClick:s=>{s.stopPropagation(),h(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]})},r)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",onClick:t=>{t.stopPropagation(),h(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(ye,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),h(!1),setTimeout(()=>{ee()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(te,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}),e.jsxs("button",{"aria-label":"cart",onClick:()=>K(!0),className:"flex items-center gap-2 text-sm relative hover:customtext-secondary transition-colors duration-300",children:[e.jsx("span",{className:"hidden md:inline",children:"Mi Carrito"}),e.jsx("div",{className:"customtext-neutral-dark",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M8 16L16.7201 15.2733C19.4486 15.046 20.0611 14.45 20.3635 11.7289L21 6",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M6 6H22",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M6 22C7.10457 22 8 21.1046 8 20C8 18.8954 7.10457 18 6 18C4.89543 18 4 18.8954 4 20C4 21.1046 4.89543 22 6 22Z",stroke:"#0E1818","stroke-width":"1.5"}),e.jsx("path",{d:"M17 22C18.1046 22 19 21.1046 19 20C19 18.8954 18.1046 18 17 18C15.8954 18 15 18.8954 15 20C15 21.1046 15.8954 22 17 22Z",stroke:"#0E1818","stroke-width":"1.5"}),e.jsx("path",{d:"M8 20H15",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M2 2H2.966C3.91068 2 4.73414 2.62459 4.96326 3.51493L7.93852 15.0765C8.08887 15.6608 7.9602 16.2797 7.58824 16.7616L6.63213 18",stroke:"#0E1818","stroke-width":"1.5","stroke-linecap":"round"})]})}),e.jsx("span",{className:"absolute -right-6 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs bg-primary text-white rounded-full",children:ce})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"cursor-pointer text-sm customtext-neutral-dark whitespace-pre-line hover:customtext-secondary font-normal  transition-all duration-500 ",children:(()=>{var i;const t=((i=w.find(a=>a.correlative==="opening_hours"))==null?void 0:i.description)||"",[r,...s]=t.split(`
`);return e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:r}),s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),s.join(`
`)]}):null]})})()}),e.jsxs("p",{className:"cursor-pointer text-sm customtext-neutral-dark font-normal whitespace-pre-line hover:customtext-secondary transition-all duration-500",children:[e.jsx("span",{children:"Soporte 24/7"}),e.jsx("br",{}),e.jsxs("strong",{children:["  ",((fe=w.find(t=>t.correlative==="support_phone"))==null?void 0:fe.description)||""]})]}),e.jsx("a",{"aria-label":"primary-button",className:`${c.class?c.class:"bg-secondary"} hidden lg:block px-6 py-2.5 text-white font-medium rounded-3xl hover:brightness-125 transition-colors duration-300`,target:"_blank",rel:"noopener noreferrer",href:O&&W?`https://api.whatsapp.com/send?phone=${encodeURIComponent(O)}&text=${encodeURIComponent(W)}`:"#",children:"Haz tu pedido"}),e.jsx("div",{className:"md:hidden relative w-full max-w-xl mx-auto",children:C?e.jsxs("div",{className:"relative w-full",children:[e.jsxs("form",{onSubmit:he,role:"search",children:[e.jsx("input",{ref:J,type:"search",name:"search",placeholder:"Buscar productos",value:l,onChange:t=>Z(t.target.value),onKeyDown:Y,onFocus:()=>{l.trim().length>=2&&y(l)},className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none",autoFocus:!0,enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos",onBlur:()=>{setTimeout(()=>{!l.trim()&&!b&&N(!1)},200)}}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{T(""),S(),N(!1)},className:"p-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-colors","aria-label":"Cerrar búsqueda",children:e.jsx(we,{size:16})}),e.jsx("button",{type:"submit",className:`p-2 ${(c==null?void 0:c.backgroundColor)||"bg-primary"} text-white rounded-lg hover:bg-primary transition-colors`,"aria-label":"Buscar",children:e.jsx(F,{size:16})})]})]}),e.jsx(v,{children:e.jsx(Q,{suggestions:j,isLoading:q,onSelect:H,selectedIndex:x})})]}):e.jsx("button",{"aria-label":"Buscar productos",onClick:()=>{N(!0),setTimeout(()=>{J.current&&J.current.focus()},100)},className:"flex items-center justify-end w-full px-0 py-3",children:e.jsx(F,{className:"customtext-primary",size:28})})})]})]}),(c==null?void 0:c.mobileSearch)&&!Re()&&e.jsx("div",{className:"block md:hidden mt-6 space-y-4",children:e.jsxs("div",{className:"w-full relative",children:[e.jsxs("form",{onSubmit:he,role:"search",className:"relative w-full",children:[e.jsx("input",{type:"search",name:"search",placeholder:"Buscar productos...",value:l,onChange:t=>Z(t.target.value),onKeyDown:Y,onFocus:()=>{l.trim().length>=2&&y(l)},className:"w-full pr-14 py-3 font-normal pl-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent focus:outline-none bg-gray-50",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(F,{size:18})})]}),e.jsx(v,{children:e.jsx(Q,{suggestions:j,isLoading:q,onSelect:H,selectedIndex:x})})]})})]}),e.jsx(v,{children:E&&e.jsx(L.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"lg:hidden bg-transparent text-textWhite shadow-lg w-full min-h-screen absolute z-10 top-20",children:e.jsx(ze,{search:l,setSearch:T,pages:ke,items:p,onClose:()=>se(!E)})})}),e.jsx(De,{data:c,cart:re,setCart:Ne,modalOpen:Ce,setModalOpen:K}),e.jsx("div",{className:"flex justify-end w-full mx-auto z-[100] relative",children:e.jsx("div",{className:"block fixed bottom-6 sm:bottom-[2rem] lg:bottom-[4rem] z-20 cursor-pointer",children:e.jsx("a",{target:"_blank",id:"whatsapp-toggle",href:`https://api.whatsapp.com/send?phone=${O}&text=${W}`,children:e.jsx("img",{src:"/assets/img/whatsapp.svg",alt:"whatsapp",className:"mr-3 w-12 h-12 md:w-[60px] md:h-[60px] animate-bounce duration-300"})})})})]})};export{Nt as default};

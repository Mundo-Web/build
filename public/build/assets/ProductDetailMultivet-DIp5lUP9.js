import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as o}from"./index-BOnQTV8N.js";import"./BlogCarousel-CSSJauGD.js";/* empty css               */import"./BlogCarrusel-yPzlLR5S.js";import"./ProductListPanelPro-B-sgFiPB.js";/* empty css                  */import{t as W}from"./CardProductKatya-ncpmQ0JU.js";import{I as Qe}from"./ItemsRest-aXRCH7e7.js";import"./ProductMakita-DQap4p_y.js";import"./ProductNavigation-DE-FbdSa.js";import{G as Ue}from"./General-CE1RDd44.js";import Ge from"./ProductMultivet-DUtF7VIR.js";import{u as te,o as re,f as ae,s as oe,a as le,b as ne,c as ce,d as ie,F as de}from"./floating-ui.react-h8x3UwNO.js";import{a as xe}from"./floating-ui.dom-CID5cQpR.js";import{Z as Ve}from"./zoom-out-DUAqyJbD.js";import{Z as Je}from"./zoom-in-DjAbuZ1Y.js";import{S as Ke}from"./share-2-DAFE7yVK.js";import{C as es}from"./circle-check-big-CYWUGR3Z.js";import{C as ss}from"./chevron-right-Cug7tVUE.js";import{F as Z}from"./file-text-BGNfKLm5.js";import{C as pe}from"./chevron-down-uIVDLcM-.js";import{D as he}from"./download-CbXRWltS.js";import{C as me}from"./circle-x-5vreeYph.js";import{S as ue}from"./shopping-cart-DLRnxGTD.js";import{Q as fe}from"./quote-Dsy8RbQK.js";import{A as ts}from"./index-DBRilyZQ.js";import{m as ge}from"./proxy-8H4LMZAz.js";import{X as rs}from"./x-fof_H3Vv.js";import{S as as}from"./star-DU-S9B50.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./BasicRest-BML1C-ua.js";import"./BooleanLimit-D-OsQsek.js";import"./CartKuchara-D9l7c7at.js";import"./HeaderSearch-BKNHzMkQ.js";import"./PolicyModal-C80IvD61.js";import"./index-Chjiymov.js";import"./CartItemRow-CpDVeE23.js";import"./Number2Currency-ld0bFawA.js";import"./tippy-react.esm-DmkRJDEW.js";import"./bed-D_dyLoh5.js";import"./createLucideIcon-DfjclApS.js";import"./trash-2-DU7LB6-f.js";import"./calendar-BSC6xbA7.js";import"./moon-BU5XInRR.js";import"./users-w-WaEtvX.js";import"./package-DBFPPBi1.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./eye-ScgfreHn.js";import"./CardProductMultivet-CktkgIjB.js";import"./circle-chevron-right-Cragr8lM.js";import"./CardProductKatya-CDbt47L4.js";import"./CardProductBananaLab-DJYxh3IQ.js";import"./HeaderBananaLab-Dn7K5qxL.js";/* empty css              */import"./shopping-bag-C59bLmNC.js";import"./arrow-right-MB8dWH_Y.js";import"./heart-DG8R4_Y8.js";import"./resolve-elements-WL2ErOKm.js";import"./navigation-MWoTpsXy.js";import"./create-element-if-not-defined-CLdVNY0a.js";import"./autoplay-E5bqrXsF.js";import"./use-in-view-BRQ0f5QP.js";import"./arrow-left-n6ltb6Cc.js";const Et=({item:s,data:i,setCart:S,cart:h,generals:F,favorites:w,setFavorites:be,onViewUpdate:$})=>{const je=new Qe,[b,we]=o.useState({url:s==null?void 0:s.image,type:"main"});console.log(i);const[d,B]=o.useState(!1),[X,P]=o.useState({x:50,y:50}),[y,A]=o.useState(!1),[D,Y]=o.useState({x:0,y:0}),H=o.useRef(null),[c,N]=o.useState(1),[R,I]=o.useState([]),[os,ls]=o.useState(!1),[v,ye]=o.useState(!1),[ns,Ne]=o.useState(!1),_=o.useRef(null),q=o.useRef(null),[cs,ve]=o.useState(!1),[ke,Ce]=o.useState(!1),[Me,Q]=o.useState(!1);o.useRef(null),o.useRef(null);const[is,ds]=o.useState(null),[m,j]=o.useState(!1),[u,U]=o.useState("consult"),[x,z]=o.useState(!1),{refs:G,floatingStyles:Ee,context:k}=te({open:m&&u==="quote",onOpenChange:t=>{(!t||u==="quote")&&j(t)},placement:"bottom-start",middleware:[re(10),ae({fallbackPlacements:["top-start","bottom-end","top-end"]}),oe({padding:8})],whileElementsMounted:xe}),{refs:V,floatingStyles:Se,context:C}=te({open:m&&u==="quote-mobile",onOpenChange:t=>{(!t||u==="quote-mobile")&&j(t)},placement:"top-end",middleware:[re(10),ae({fallbackPlacements:["top-start","bottom-end","bottom-start"]}),oe({padding:8})],whileElementsMounted:xe}),Fe=le(k),$e=ne(k),Pe=ce(k),Ae=le(C),De=ne(C),Re=ce(C),{getReferenceProps:Ie,getFloatingProps:_e}=ie([Fe,$e,Pe]),{getReferenceProps:qe,getFloatingProps:ze}=ie([Ae,De,Re]),n=Ue.whatsapp_advisors||[],O=F==null?void 0:F.find(t=>t.correlative==="phone_whatsapp"),L=O==null?void 0:O.description;o.useEffect(()=>{w&&s&&Ne(w.some(t=>t.id===s.id))},[w,s]),o.useEffect(()=>{s!=null&&s.id&&($&&$(s),We(s))},[s,$]),o.useEffect(()=>{const r=setTimeout(()=>{if(_.current){const a=_.current.scrollHeight>150;ve(a)}if(q.current){const a=q.current.scrollHeight>150;Ce(a)}},100);return()=>clearTimeout(r)},[s,s==null?void 0:s.specifications]);const Oe=()=>{d?(B(!1),P({x:50,y:50})):B(!0)},Le=t=>{d&&(A(!0),Y({x:t.clientX,y:t.clientY}))},T=t=>{if(d&&!y){const r=H.current.getBoundingClientRect(),a=(t.clientX-r.left)/r.width*100,l=(t.clientY-r.top)/r.height*100;P({x:Math.max(0,Math.min(100,a)),y:Math.max(0,Math.min(100,l))})}else if(y&&d){const r=t.clientX-D.x,a=t.clientY-D.y;P(l=>({x:Math.max(0,Math.min(100,l.x-r/3)),y:Math.max(0,Math.min(100,l.y-a/3))})),Y({x:t.clientX,y:t.clientY})}},J=()=>{A(!1)},Te=()=>{A(!1)};o.useEffect(()=>{if(y)return document.addEventListener("mousemove",T),document.addEventListener("mouseup",J),()=>{document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",J)}},[y,d,D]);const We=async t=>{try{const r={id:t==null?void 0:t.id},a=await je.productsRelations(r);if(!a){I([]);return}const He=Object.values(a);I(He)}catch(r){console.error("Error fetching related products:",r),I([])}},Ze=t=>{t.preventDefault(),t.stopPropagation(),n&&n.length>1?(U("quote"),j(!m)):M((n==null?void 0:n[0])||{phone:L})},Be=t=>{t.preventDefault(),t.stopPropagation(),n&&n.length>1?(U("quote-mobile"),j(!m)):M((n==null?void 0:n[0])||{phone:L})},M=t=>{const r=(t==null?void 0:t.phone)||L,a=encodeURIComponent(`¡Hola! Me gustaría cotizar este producto: ${s==null?void 0:s.name}

Cantidad: ${c} unidades

¿Podrían enviarme más información y precios?`),l=`https://wa.me/${r}?text=${a}`;window.open(l,"_blank"),j(!1)},K=t=>{if(!h||!S){W.error("Error al agregar al carrito");return}const r=structuredClone(h),a=r.findIndex(l=>l.id==(t==null?void 0:t.id));a==-1?r.push({...t,quantity:c}):r[a].quantity+=c,S(r),W.success("Producto agregado al carrito",{description:`${t==null?void 0:t.name} (${c} ${c===1?"unidad":"unidades"})`,duration:2e3})},f=t=>t?new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(t):"Consultar precio",Xe=t=>{const r=parseFloat(t)||0;return Array.from({length:5},(a,l)=>e.jsx(as,{className:`w-4 h-4 ${l<Math.floor(r)?"text-yellow-400 fill-current":"text-gray-300"}`},l))},E=(s==null?void 0:s.price)&&(s==null?void 0:s.final_price)&&parseFloat(s.price)>parseFloat(s.final_price),Ye=E?Math.round((parseFloat(s.price)-parseFloat(s.final_price))/parseFloat(s.price)*100):0,g=(s==null?void 0:s.final_price)&&parseFloat(s.final_price)>0||(s==null?void 0:s.price)&&parseFloat(s.price)>0,p=h==null?void 0:h.find(t=>t.id==(s==null?void 0:s.id)),ee=(p==null?void 0:p.quantity)||0,se=[{url:s==null?void 0:s.image,type:"main",alt:"Imagen principal"},...((s==null?void 0:s.images)||[]).filter((t,r,a)=>r===a.findIndex(l=>l.url===t.url)).map((t,r)=>({url:t.url,type:"gallery",index:r,alt:`Imagen ${r+1}`}))];return e.jsxs("div",{className:"bg-gray-50 min-h-screen overflow-x-hidden",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 lg:py-8",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-12",children:[e.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[e.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:`aspect-square flex items-center justify-center p-4 lg:p-8 relative ${d?"cursor-zoom-out":"cursor-zoom-in"}`,onClick:Oe,onMouseDown:Le,onMouseMove:T,onMouseLeave:Te,children:[e.jsx("img",{ref:H,src:b.url?`/storage/images/item/${b.url}`:"/api/cover/thumbnail/null",alt:(s==null?void 0:s.name)||"Producto",className:`w-full h-full object-contain transition-transform duration-300 ${d?"scale-150":"scale-100"}`,style:d?{transformOrigin:`${X.x}% ${X.y}%`}:{},onError:t=>{t.target.src="/api/cover/thumbnail/null"}}),e.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white px-2 py-2 rounded text-sm",children:d?e.jsx(Ve,{className:"w-4 h-4"}):e.jsx(Je,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"absolute top-4 right-4 space-y-2",children:[E&&e.jsxs("div",{className:"bg-red-500 text-white px-3 py-2 rounded-full text-sm font-bold",children:["-",Ye,"% OFF"]}),(s==null?void 0:s.is_new)&&e.jsx("div",{className:"bg-accent customtext-primary px-3 py-2 rounded-full text-sm font-bold",children:"¡Nuevo!"})]}),e.jsx("div",{className:"absolute bottom-4 right-4 flex space-x-2",children:e.jsx("button",{onClick:()=>{var t;(t=navigator.share)!=null&&t.call(navigator,{title:s==null?void 0:s.name,text:s==null?void 0:s.description,url:window.location.href})||navigator.clipboard.writeText(window.location.href),W.success("Enlace copiado al portapapeles")},className:"w-10 h-10 bg-secondary  backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-lg",children:e.jsx(Ke,{className:"w-5 h-5 text-white"})})})]}),se.length>1&&e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2",children:se.map((t,r)=>e.jsx("button",{onClick:()=>we(t),className:`aspect-square bg-white rounded-lg overflow-hidden border-2 transition-all hover:border-primary ${b.url===t.url?"border-primary":"border-gray-200"}`,children:e.jsx("img",{src:`/storage/images/item/${t.url}`,alt:t.alt,className:"w-full h-full object-contain p-2",onError:a=>{a.target.src="/api/cover/thumbnail/null"}})},r))})]}),g&&e.jsx("div",{className:"lg:hidden ",children:e.jsxs("div",{className:"text-start",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold font-title customtext-neutral-dark",children:f((s==null?void 0:s.final_price)||(s==null?void 0:s.price))}),E&&e.jsxs("div",{className:"flex items-center justify-start space-x-2 mt-2",children:[e.jsx("span",{className:"text-base customtext-neutral-light line-through",children:f(s.price)}),e.jsxs("span",{className:"bg-red-100 customtext-secondary px-2 py-1 rounded-full text-xs font-bold",children:["Ahorras ",f(parseFloat(s.price)-parseFloat(s.final_price))]})]})]})}),e.jsxs("div",{className:"space-y-4 lg:space-y-6 pb-20 lg:pb-0",children:[e.jsxs("div",{className:"flex flex-row  items-center justify-between gap-3",children:[(s==null?void 0:s.category)&&e.jsx("span",{className:`bg-accent bg-opacity-10 customtext-primary font-bold px-3 py-1 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm ${i==null?void 0:i.class_badge_category}`,children:s.category.name}),(s==null?void 0:s.brand)&&e.jsx("img",{src:s.brand.image?`/api/brands/media/${s.brand.image}`:"/assets/img/noimage/no_img.jpg",alt:s.brand.name||"Marca",className:"max-h-12 sm:max-h-16 lg:max-h-20 max-w-24 lg:max-w-40 object-contain",onError:t=>{t.target.src="/assets/img/noimage/no_img.jpg"}})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-title font-bold customtext-neutral-dark mb-3",children:s==null?void 0:s.name}),e.jsx("div",{className:"flex items-center space-x-4 mb-4",children:(s==null?void 0:s.rating)&&e.jsxs("div",{className:"flex items-center space-x-1",children:[Xe(s.rating),e.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",parseFloat(s.rating).toFixed(1),")"]})]})})]}),e.jsx("div",{className:" ",children:(s==null?void 0:s.description)&&e.jsx("div",{ref:_,className:"prose max-w-none customtext-neutral-light transition-all duration-300 ",dangerouslySetInnerHTML:{__html:(s==null?void 0:s.description)||"<p>Sin descripción disponible.</p>"}})}),(s==null?void 0:s.specifications)&&Array.isArray(s.specifications)&&s.specifications.length>0&&e.jsxs("div",{className:"",children:[e.jsx("div",{ref:q,className:`space-y-3 transition-all duration-300 ${v?"":"max-h-40 overflow-hidden"}`,children:s.specifications.map((t,r)=>t.type==="general"&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(es,{className:"customtext-secondary w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"font-bold customtext-neutral-dark",children:[t.title||"Especificación",":"]}),e.jsx("span",{className:"customtext-neutral-light",children:t.description||t.value||"No especificado"})]},r))}),ke&&e.jsxs("button",{onClick:()=>ye(!v),className:"mt-4 customtext-secondary hover:customtext-neutral-dark font-medium transition-colors flex items-center gap-2 text-sm",children:[v?"Ver menos":"Ver más características",e.jsx(ss,{className:`w-4 h-4 transform transition-transform ${v?"rotate-90":""}`})]})]}),(s==null?void 0:s.pdf)&&Array.isArray(s.pdf)&&s.pdf.length>0&&e.jsxs("div",{className:"relative hidden lg:flex justify-end mt-4",children:[e.jsxs("button",{onClick:()=>z(!x),className:"bg-white border-2 border-primary text-primary py-3 px-5 rounded-xl font-bold flex items-center gap-2 hover:bg-primary hover:text-white transition-all shadow-md hover:shadow-lg",children:[e.jsx(Z,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Fichas Técnicas"}),e.jsx(pe,{className:`w-4 h-4 transition-transform duration-300 ${x?"rotate-180":""}`})]}),x&&e.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:()=>z(!1)}),x&&e.jsxs("div",{className:"absolute top-full right-0 min-w-[300px] mt-2 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-[9999]",children:[e.jsxs("div",{className:"bg-primary p-3 text-white",children:[e.jsx("h4",{className:"font-bold text-sm",children:"Documentos disponibles"}),e.jsxs("p",{className:"text-xs text-white opacity-90 mt-0.5",children:[s.pdf.length," ",s.pdf.length===1?"archivo":"archivos"]})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.pdf.map((t,r)=>e.jsxs("a",{href:`/storage/images/item/${t.url||t}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors border-b last:border-b-0 group",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-200 transition-colors",children:e.jsx(Z,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate",children:t.name||(typeof t=="string"?t.split("/").pop().replace(".pdf",""):"Documento")}),e.jsx("p",{className:"text-xs text-gray-400",children:"Documento PDF"})]}),e.jsx(he,{className:"w-4 h-4 text-gray-400 group-hover:text-primary transition-colors"})]},r))})]})]}),(s==null?void 0:s.pdf)&&Array.isArray(s.pdf)&&s.pdf.length>0&&e.jsxs("div",{className:"lg:hidden bg-white rounded-2xl shadow-sm overflow-hidden mt-6 max-w-full",children:[e.jsx("div",{className:"border-b",children:e.jsxs("button",{onClick:()=>z(!x),className:"w-full p-4 flex justify-between items-center",children:[e.jsxs("span",{className:"font-medium",children:["Fichas Técnicas (",s.pdf.length,")"]}),e.jsx(pe,{className:`transform transition-transform ${x?"rotate-180":""}`})]})}),x&&e.jsx("div",{className:"p-4 space-y-2 max-w-full",children:s.pdf.map((t,r)=>e.jsxs("a",{href:`/storage/images/item/${t.url||t}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 w-full border border-gray-200 rounded-xl hover:border-primary hover:shadow-md transition-all group max-w-full",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-200 transition-colors",children:e.jsx(Z,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate break-words",children:t.name||(typeof t=="string"?t.split("/").pop().replace(".pdf",""):"Documento")}),e.jsx("p",{className:"text-xs cusomtext-neutral-light",children:"Documento PDF"})]}),e.jsx(he,{className:"w-4 h-4 flex-shrink-0 text-gray-400 group-hover:text-primary transition-colors"})]},r))})]}),e.jsxs("div",{className:"hidden lg:block bg-white rounded-lg p-6 shadow-xl",children:[g&&e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold font-title customtext-neutral-dark",children:f((s==null?void 0:s.final_price)||(s==null?void 0:s.price))}),E&&e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-lg customtext-neutral-light line-through",children:f(s.price)}),e.jsxs("span",{className:"bg-red-100 customtext-secondary px-2 py-1 rounded-full text-sm font-bold",children:["Ahorras ",f(parseFloat(s.price)-parseFloat(s.final_price))]})]})]}),e.jsx("div",{className:"space-y-4 mt-4",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border border-gray-200 p-1",children:[e.jsx("button",{onClick:()=>N(Math.max(1,c-1)),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-xl",disabled:c<=1,children:"−"}),e.jsx("div",{className:"w-16 h-10 flex items-center justify-center",children:e.jsx("span",{className:"customtext-neutral-dark font-bold text-lg",children:c})}),e.jsx("button",{onClick:()=>N(Math.min(10,c+1)),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-xl",disabled:c>=10,children:"+"})]})})})]}),e.jsxs("div",{className:"space-y-3 mt-6",children:[(i==null?void 0:i.buyButton)&&g&&(s!=null&&s.sold_out?e.jsxs("button",{disabled:!0,className:"w-full py-4 px-6 rounded-xl font-bold flex items-center justify-center space-x-2 bg-danger text-white ",children:[e.jsx(me,{className:"w-5 h-5"}),e.jsx("span",{children:"Agotado"})]}):e.jsxs("button",{onClick:()=>K(s),className:`w-full py-4 px-6 rounded-xl font-bold flex items-center justify-center space-x-2 hover:scale-105 transition-all shadow-lg hover:shadow-xl transform duration-500 ${p?"bg-accent text-white":"bg-primary text-white"}`,children:[e.jsx(ue,{className:"w-5 h-5"}),e.jsx("span",{children:p?`En carrito (${ee})`:"Comprar ahora"})]})),e.jsxs("button",{ref:G.setReference,...Ie(),onClick:Ze,className:`w-full py-4 px-6 rounded-xl font-bold flex items-center justify-center space-x-2 hover:scale-105 transition-all shadow-lg hover:shadow-xl transform duration-500  bg-secondary text-white
                                            `,children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{children:"Solicitar Cotización"})]}),m&&u==="quote"&&n&&n.length>1&&e.jsx(de,{context:k,modal:!1,children:e.jsxs("div",{ref:G.setFloating,style:Ee,..._e(),className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100 z-[1000]",children:[e.jsxs("div",{className:"bg-primary p-4 text-white",children:[e.jsx("h3",{className:"font-bold text-base",children:"Elige un asesor"}),e.jsx("p",{className:"text-xs text-white mt-1",children:"¿Con quién quieres cotizar?"})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",style:{minWidth:"280px",maxWidth:"320px"},children:n.map((t,r)=>{var a;return e.jsxs("button",{onClick:()=>M(t),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 text-left",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-primary",children:t.photo?e.jsx("img",{src:`/assets/resources/${t.photo}`,alt:t.name,className:"w-full h-full object-cover",onError:l=>{l.target.src="/assets/img/placeholder-user.png"}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-lg font-bold",children:(a=t.name)==null?void 0:a.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs cusomtext-neutral-light truncate",children:t.position||"Asesor"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]},r)})})]})})]})]})]})]}),R&&R.length>0&&e.jsx(Ge,{items:R,data:i,setCart:S,cart:h,favorites:w,setFavorites:be})]}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-40 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[g&&e.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border border-gray-200 p-1",children:[e.jsx("button",{onClick:()=>N(Math.max(1,c-1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:c<=1,children:"−"}),e.jsx("div",{className:"w-12 h-8 flex items-center justify-center",children:e.jsx("span",{className:"customtext-neutral-dark font-bold text-sm",children:c})}),e.jsx("button",{onClick:()=>N(Math.min(10,c+1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:c>=10,children:"+"})]}),(i==null?void 0:i.buyButton)&&g&&(s!=null&&s.sold_out?e.jsxs("button",{disabled:!0,className:"flex-1 py-3 px-4 rounded-xl font-bold flex items-center justify-center space-x-2 bg-gray-400 text-white cursor-not-allowed opacity-75",children:[e.jsx(me,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Agotado"})]}):e.jsxs("button",{onClick:()=>K(s),className:`flex-1 py-3 px-4 rounded-xl font-bold flex items-center justify-center space-x-2 transition-all shadow-lg active:scale-95 ${p?"bg-secondary text-white":"bg-primary customtext-neutral-dark hover:bg-accent"}`,children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:p?`En carrito (${ee})`:"Comprar"})]})),e.jsxs("button",{ref:V.setReference,...qe(),onClick:Be,className:`${i!=null&&i.buyButton&&g?"w-auto":"flex-1"} bg-secondary text-white py-3 px-4 rounded-xl font-bold flex items-center justify-center space-x-2 hover:bg-accent hover:customtext-primary transition-all shadow-lg active:scale-95`,children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Solicitar Cotización"})]}),m&&u==="quote-mobile"&&n&&n.length>1&&e.jsx(de,{context:C,modal:!1,children:e.jsxs("div",{ref:V.setFloating,style:Se,...ze(),className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100 z-[1000]",children:[e.jsxs("div",{className:"bg-primary p-4 text-white",children:[e.jsx("h3",{className:"font-bold text-base",children:"Elige un asesor"}),e.jsx("p",{className:"text-xs text-white mt-1",children:"¿Con quién quieres cotizar?"})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",style:{minWidth:"280px",maxWidth:"320px"},children:n.map((t,r)=>{var a;return e.jsxs("button",{onClick:()=>M(t),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 text-left",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-primary",children:t.photo?e.jsx("img",{src:`/assets/resources/${t.photo}`,alt:t.name,className:"w-full h-full object-cover",onError:l=>{l.target.src="/assets/img/placeholder-user.png"}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-lg font-bold",children:(a=t.name)==null?void 0:a.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs cusomtext-neutral-light truncate",children:t.position||"Asesor"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]},r)})})]})})]})}),e.jsx(ts,{children:Me&&e.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>Q(!1),children:e.jsxs(ge.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},className:"relative max-w-4xl max-h-full",onClick:t=>t.stopPropagation(),children:[e.jsx("button",{onClick:()=>Q(!1),className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition-all z-10",children:e.jsx(rs,{className:"w-6 h-6"})}),e.jsx("img",{src:b.url?`/storage/images/item/${b.url}`:"/api/cover/thumbnail/null",alt:s==null?void 0:s.name,className:"max-w-full max-h-full object-contain rounded-lg",onError:t=>{t.target.src="/api/cover/thumbnail/null"}})]})})})]})};export{Et as default};

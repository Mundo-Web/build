import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BOnQTV8N.js";import{G as Me}from"./Global-DWbVqTT_.js";import{C as De}from"./HeaderSearch-DsiY_iPi.js";import{L as ee}from"./Logout-BpuTJ_83.js";import{M as Ie}from"./MobileMenu-BxpXPDQa.js";import{P as je}from"./ProfileImage-BX3Lrso6.js";import{C as M,D as te}from"./door-closed-OXb-qp6H.js";import{A as k}from"./index-BZvh78jk.js";import{m as O}from"./proxy-B0QLMKEh.js";import{H as ve}from"./house-DDB4Ooi5.js";import{S as re}from"./shopping-cart-DLRnxGTD.js";import{X as we}from"./x-fof_H3Vv.js";import{C as Ne}from"./check-D5vaIe6v.js";import{S as D}from"./search-BQ59Robe.js";import{U as ze}from"./user-BZB1h7Cv.js";import{S as Te}from"./settings-jey665c1.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./PolicyModal-C80IvD61.js";import"./index-B6ujFmsw.js";import"./index-Chjiymov.js";import"./CartItemRow-DmaxKgYF.js";import"./Number2Currency-B5ZenVq9.js";import"./General-BmbBKdsB.js";import"./tippy-react.esm-DmkRJDEW.js";import"./index-pSueRYGM.js";import"./trash-2-DU7LB6-f.js";import"./createLucideIcon-DfjclApS.js";import"./plus-CTIomuuF.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuSimple-2KbucAtS.js";import"./MobileMenu-NyIajWsm.js";import"./BasicRest-DBO1iUsn.js";import"./index-CeCfhSXL.js";import"./tag-Dgi-uTqk.js";import"./chevron-up-Mt3xll-e.js";import"./chevron-down-uIVDLcM-.js";import"./chevron-left-JcR9Fe4w.js";import"./chevron-right-Cug7tVUE.js";const wt=({items:h,data:n,cart:se,setCart:ke,isUser:i,pages:Se,generals:ae=[]})=>{var be;console.log("Tiendas",h);const[c,I]=a.useState(""),[p,f]=a.useState(!1),_=a.useRef(null),[y,Ce]=a.useState([]),[j,v]=a.useState(-1),z=Array.isArray(h==null?void 0:h.stores)?h.stores:Array.isArray(h)?h:[],W=ae.find(t=>t.correlative==="phone_whatsapp"),X=ae.find(t=>t.correlative==="message_whatsapp"),q=(W==null?void 0:W.description)??null,G=(X==null?void 0:X.description)??null,[Ee,V]=a.useState(!1),[T,ne]=a.useState(!1),[S,x]=a.useState(!1),[l,$]=a.useState(""),[A,u]=a.useState(!1),[Re,oe]=a.useState(!1),[g,C]=a.useState([]),[w,b]=a.useState(!1),[J,le]=a.useState(!1),[m,P]=a.useState(-1),ie=a.useRef([]),F=a.useRef(null),ce=a.useRef(null),B=a.useRef(null),de=a.useRef(null),E=a.useRef(null),R=a.useRef(null),ue=a.useRef([]),me=se.reduce((t,r)=>Number(t)+Number(r.quantity),0),Le=()=>{try{const t=window.location.pathname||"";return["/cart","/checkout"].some(s=>t.includes(s))}catch(t){return console.warn("Error checking path:",t),!1}},H=async t=>{if(!t.trim()||t.length<2){C([]),b(!1);return}le(!0);try{const r=[["name","contains",t],"or",["summary","contains",t],"or",["description","contains",t]],d=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:c?[["store_id","=",c],"and",r]:r,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});if(!d.ok)throw new Error("Error en la búsqueda");const o=await d.json();o.status===200&&Array.isArray(o.data)?(C(o.data),b(o.data.length>0)):(C([]),b(!1))}catch(r){console.error("Error fetching search suggestions:",r),C([]),b(!1)}finally{le(!1)}},U=t=>{$(t),P(-1),R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{H(t)},300)},L=()=>{b(!1),C([]),P(-1)},K=t=>{if(t)if(b(!1),x(!1),t.slug)window.location.href=`/product/${t.slug}`;else{let r=`/catalogo?search=${encodeURIComponent(t.name)}`;c&&(r+=`&store=${encodeURIComponent(c)}`),window.location.href=r}};a.useEffect(()=>{function t(r){var s,d;F.current&&!F.current.contains(r.target)&&u(!1),ce.current&&!ce.current.contains(r.target)&&(l.trim()||x(!1)),E.current&&!E.current.contains(r.target)&&!((s=de.current)!=null&&s.contains(r.target))&&!((d=B.current)!=null&&d.contains(r.target))&&L()}return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),()=>{document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}},[l]),a.useEffect(()=>{function t(r){_.current&&!_.current.contains(r.target)&&f(!1)}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),a.useEffect(()=>{p&&v(-1)},[p]),a.useEffect(()=>{const t=Array.isArray(z)?z:[];Ce(t),v(-1)},[z]),a.useEffect(()=>{function t(r){if(p)if(r.key==="ArrowDown")r.preventDefault(),v(s=>Math.min(s+1,y.length));else if(r.key==="ArrowUp")r.preventDefault(),v(s=>Math.max(s-1,0));else if(r.key==="Enter"){if(j===0)I(""),f(!1);else if(j>0&&j<=y.length){const s=y[j-1];s&&(I(s.id),f(!1))}}else r.key==="Escape"&&f(!1)}return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[p,y,j]),a.useEffect(()=>{const t=()=>{window.scrollY>0?oe(!0):oe(!1)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]),a.useEffect(()=>{const t=r=>{r.key==="Escape"&&(w?L():S&&(x(!1),$("")))};return(S||w)&&document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[S,w]),a.useEffect(()=>()=>{R.current&&clearTimeout(R.current)},[]),a.useEffect(()=>{m>=0&&ue.current[m]&&E.current&&ue.current[m].scrollIntoView({block:"nearest",behavior:"smooth"})},[m]);const he={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},pe=[{icon:e.jsx(ze,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:e.jsx(re,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:e.jsx(Te,{size:16}),label:"Configuración",href:"/account"},{icon:e.jsx(te,{size:16}),label:"Cerrar Sesión",onClick:ee}],fe=t=>{if(t.preventDefault(),L(),l.trim()){const r=l.trim();let s=`/catalogo?search=${encodeURIComponent(r)}`;c&&(s+=`&store=${encodeURIComponent(c)}`),window.location.href=s}return!1},xe=t=>{if(t.preventDefault(),L(),l.trim()){const r=l.trim();x(!1);let s=`/catalogo?search=${encodeURIComponent(r)}`;c&&(s+=`&store=${encodeURIComponent(c)}`),window.location.href=s}return!1};function ge(t){const r=E.current,s=ie.current[t];if(!r||!s)return;const d=r.getBoundingClientRect(),o=s.getBoundingClientRect();o.top<d.top?r.scrollTop-=d.top-o.top:o.bottom>d.bottom&&(r.scrollTop+=o.bottom-d.bottom)}const Y=t=>{if(!(!w||g.length===0))switch(t.key){case"ArrowDown":t.preventDefault(),P(r=>{const s=r<g.length-1?r+1:r;return setTimeout(()=>ge(s),0),s});break;case"ArrowUp":t.preventDefault(),P(r=>{const s=r>0?r-1:0;return setTimeout(()=>ge(s),0),s});break;case"Enter":t.preventDefault(),m>=0&&m<g.length?K(g[m]):l.trim()&&fe(t);break;case"Escape":b(!1);break}},Q=({suggestions:t,isLoading:r,onSelect:s,selectedIndex:d})=>w?e.jsx(O.div,{ref:E,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-[60] max-h-80 overflow-y-auto mt-1",children:r?e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Buscando..."]})}):t.length>0?e.jsx("ul",{className:"py-2",children:t.map((o,ye)=>e.jsx("li",{ref:N=>ie.current[ye]=N,children:e.jsxs("button",{"data-suggestion-button":!0,onMouseDown:N=>{N.preventDefault(),N.stopPropagation(),setTimeout(()=>s(o),0)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200 flex items-center gap-3 ${ye===d?"bg-primary border-l-4 border-primary":""}`,type:"button",children:[e.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-100 rounded-lg overflow-hidden",children:o.image?e.jsx("img",{src:`/api/items/media/${o.image}`,alt:o.name,className:"w-full h-full object-cover",onError:N=>{N.target.style.display="none"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center customtext-neutral-dark",children:e.jsx(D,{size:16})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium customtext-neutral-dark truncate",children:o.name}),o.category&&e.jsx("div",{className:"text-sm customtext-neutral-dark truncate",children:o.category.name}),o.final_price&&e.jsxs("div",{className:"text-sm font-semibold customtext-primary",children:["S/ ",parseFloat(o.final_price).toFixed(2)]})]})]})},o.id))}):e.jsx("div",{className:"p-4 text-center customtext-neutral-dark",children:"No se encontraron productos"})}):null;console.log(i);let Z=!1;if(i&&Array.isArray(i.roles)){const t=i.roles.map(r=>{var s;return(s=r.name)==null?void 0:s.toLowerCase()});Z=!t.includes("admin")&&!t.includes("root")}return e.jsxs("header",{className:`w-full top-0 left-0 z-50 transition-all duration-300 ${Re?"fixed bg-white shadow-lg":"relative bg-white"}`,children:[e.jsxs("div",{className:"px-primary  bg-white 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51]",children:e.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:Me.APP_NAME,className:"h-14 object-contain object-center",onError:t=>{t.target.onerror=null,t.target.src="/assets/img/logo-bk.svg"}})}),(n==null?void 0:n.showLoginCart)&&e.jsxs("div",{className:"flex gap-8 lg:hidden",children:[e.jsxs("div",{className:`${S?"hidden":"flex"} items-center gap-4`,children:[i?e.jsxs("div",{ref:F,className:"relative",children:[e.jsx("button",{"aria-label":"user",className:"flex items-center gap-2 hover:customtext-primary transition-all duration-300 relative group",onClick:()=>u(!A),children:e.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:i.uuid?e.jsxs("div",{className:"relative",children:[e.jsx(je,{uuid:i.uuid,name:i.name,lastname:i.lastname,className:"!w-6 !h-6 rounded-full object-cover border-2 border-primary ring-secondary transition-all duration-300"}),e.jsx("div",{className:"relative",style:{display:"none"},children:e.jsx(M,{className:"customtext-primary  border-primary rounded-full   ring-secondary transition-all duration-300",width:"1.5rem"})}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"customtext-primary border-2 border-primary rounded-full  ring-secondary  transition-all duration-300",width:"1.5rem"}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})})}),e.jsx(k,{children:A&&e.jsx(O.div,{initial:"hidden",animate:"visible",exit:"exit",variants:he,className:"absolute z-50 top-full -left-20 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-3",children:Z?pe.map((t,r)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:s=>{s.preventDefault(),s.stopPropagation(),u(!1),setTimeout(()=>{t.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,onClick:s=>{s.stopPropagation(),u(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]})},r)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",onClick:t=>{t.stopPropagation(),u(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(ve,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),u(!1),setTimeout(()=>{ee()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(te,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}):e.jsx("a",{href:"/iniciar-sesion",className:"flex items-center",children:e.jsx(M,{className:"customtext-primary",width:"1.5rem"})}),e.jsxs("button",{"aria-label":"",onClick:()=>V(!0),className:"flex items-center relative",children:[e.jsx(re,{className:"customtext-primary",width:"1.5rem"}),e.jsx("span",{className:"absolute -right-2 -top-2 inline-flex items-center justify-center w-4 h-4 bg-primary text-white rounded-full text-[8px]",children:me})]})]}),e.jsx("button",{"aria-label":"Menú",onClick:()=>ne(!T),className:"flex md:hidden items-center justify-center bg-primary rounded-lg w-auto h-auto p-2 text-white fill-white transition-all duration-300 ",children:T?e.jsx(we,{}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M10 5H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 12H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 19H14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),e.jsx("div",{className:"hidden md:block relative w-full max-w-xl mx-auto",children:e.jsx("form",{onSubmit:fe,role:"search",className:"relative w-full",children:e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center bg-white py-2 pr-2 rounded-full shadow-sm border overflow-visible",style:{boxShadow:"0 6px 18px rgba(16,24,40,0.06)"},children:[e.jsxs("div",{className:"relative flex items-center pl-2 pr-1",ref:_,children:[e.jsxs("button",{type:"button",onClick:()=>f(t=>!t),"aria-haspopup":"listbox","aria-expanded":p,className:"h-10 flex items-center gap-2 pl-4 pr-3 bg-transparent border-none rounded-l-full font-normal customtext-neutral-dark focus:outline-none text-sm cursor-pointer",children:[e.jsx("span",{className:"truncate max-w-[140px] text-sm",children:c?((be=z.find(t=>t.id==c))==null?void 0:be.name)??c:"Todas las tiendas"}),e.jsx("svg",{className:`w-3 h-3 transition-transform ${p?"rotate-180":""}`,viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.29a.75.75 0 01.02-1.08z",clipRule:"evenodd"})})]}),p&&e.jsx("div",{className:"absolute top-10 left-0 mt-2 w-[200px] bg-white rounded-md shadow-lg z-[70] py-1 max-h-64 overflow-hidden text-sm border",children:e.jsxs("ul",{role:"listbox",tabIndex:-1,className:"max-h-56 overflow-auto py-1",children:[e.jsxs("li",{className:`px-4 py-2 cursor-pointer flex items-center justify-between ${c===""?"bg-gray-100":"hover:bg-gray-100"}`,onMouseEnter:()=>v(0),onClick:()=>{I(""),f(!1)},children:[e.jsx("span",{children:"Todas las tiendas"}),c===""&&e.jsx(Ne,{className:"text-primary w-4 h-4"})]}),Array.isArray(y)&&y.map((t,r)=>e.jsxs("li",{className:`px-4 py-2 cursor-pointer truncate flex items-center justify-between ${j===r+1?"bg-gray-100":"hover:bg-gray-100"}`,onMouseEnter:()=>v(r+1),onClick:()=>{I(t.id),f(!1)},children:[e.jsx("span",{className:"truncate pr-2",children:t.name}),c===t.id&&e.jsx(Ne,{className:"text-primary w-4 h-4"})]},t.id||r))]})})]}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{ref:de,type:"search",name:"search",placeholder:"Estoy buscando...",value:l,onChange:t=>U(t.target.value),onKeyDown:Y,onFocus:()=>{l.trim().length>=2&&H(l)},className:"w-full h-10 pl-3 pr-12 bg-transparent text-sm placeholder:customtext-neutral-dark focus:outline-none",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Estoy buscando..."}),e.jsx("button",{type:"submit",className:`absolute right-2 top-1/2 transform -translate-y-1/2 p-2 ${n!=null&&n.backgroundColor?n==null?void 0:n.backgroundColor:"bg-primary"} text-white rounded-lg hover:bg-primary hover:scale-105  transition-all duration-300`,"aria-label":"Buscar",children:e.jsx(D,{})})]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"absolute left-0 right-0 mt-2 z-50",children:e.jsx(k,{children:e.jsx(Q,{suggestions:g,isLoading:J,onSelect:K})})})})]})})}),n!=null&&n.showLoginCart?e.jsxs("div",{className:"hidden md:flex items-center gap-4 relative text-sm",children:[e.jsxs("div",{ref:F,children:[i?e.jsxs("button",{"aria-label":"user",className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-primary pr-6 transition-all duration-300 relative group",onClick:()=>u(!A),children:[e.jsx("div",{className:"relative transform group-hover:scale-105 transition-transform duration-200",children:i.uuid?e.jsxs("div",{className:"relative",children:[e.jsx(je,{uuid:i.uuid,name:i.name,lastname:i.lastname,className:"w-8 h-8 rounded-full object-cover border-2 border-primary ring-secondary transition-all duration-300"}),e.jsxs("div",{className:"absolute -bottom-[-0.115rem] -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]}):e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"customtext-primary border-2 border-primary rounded-full  ring-secondary group-hover:ring-green-300 transition-all duration-300"}),e.jsxs("div",{className:"absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 bg-primary border-2 border-white rounded-full animate-pulse",children:[e.jsx("div",{className:"w-full h-full bg-primary rounded-full animate-ping opacity-75 absolute"}),e.jsx("div",{className:"w-full h-full bg-primary rounded-full"})]})]})}),e.jsx("span",{className:"hidden md:inline",children:i.name})]}):e.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(M,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:"Iniciar Sesión"})]}),e.jsx(k,{children:A&&e.jsx(O.div,{initial:"hidden",animate:"visible",exit:"exit",variants:he,className:"absolute z-50 top-full left-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-4",children:Z?pe.map((t,r)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:s=>{s.preventDefault(),s.stopPropagation(),u(!1),setTimeout(()=>{t.onClick()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,onClick:s=>{s.stopPropagation(),u(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[t.icon,e.jsx("span",{children:t.label})]})},r)):e.jsxs(e.Fragment,{children:[e.jsx("li",{children:e.jsxs("a",{href:"/admin/home",onClick:t=>{t.stopPropagation(),u(!1)},className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(ve,{size:16}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),u(!1),setTimeout(()=>{ee()},150)},className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary hover:bg-gray-50 transition-all duration-300 p-2 rounded-lg",children:[e.jsx(te,{size:16}),e.jsx("span",{children:"Cerrar Sesión"})]})})]})})})})})]}),e.jsxs("button",{"aria-label":"cart",onClick:()=>V(!0),className:"flex items-center gap-2 text-sm relative hover:customtext-primary transition-colors duration-300",children:[e.jsx("div",{className:"customtext-primary",children:e.jsx(re,{})}),e.jsx("span",{className:"hidden md:inline",children:"Mi Carrito"}),e.jsx("span",{className:"absolute -right-6 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs bg-primary text-white rounded-full",children:me})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("a",{"aria-label":"primary-button",className:`${n.class?n.class:"bg-primary"} hidden lg:block px-6 py-2.5 text-white font-medium rounded-3xl hover:brightness-125 transition-colors duration-300`,target:"_blank",rel:"noopener noreferrer",href:q&&G?`https://api.whatsapp.com/send?phone=${encodeURIComponent(q)}&text=${encodeURIComponent(G)}`:"#",children:"Haz tu pedido"}),e.jsx("div",{className:"md:hidden relative w-full max-w-xl mx-auto",children:S?e.jsxs("div",{className:"relative w-full",children:[e.jsxs("form",{onSubmit:xe,role:"search",children:[e.jsx("input",{ref:B,type:"search",name:"search",placeholder:"Buscar productos",value:l,onChange:t=>U(t.target.value),onKeyDown:Y,onFocus:()=>{l.trim().length>=2&&H(l)},className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none",autoFocus:!0,enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos",onBlur:()=>{setTimeout(()=>{!l.trim()&&!w&&x(!1)},200)}}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{$(""),L(),x(!1)},className:"p-2 bg-gray-200 text-gray-600 rounded-lg hover:bg-gray-300 transition-colors","aria-label":"Cerrar búsqueda",children:e.jsx(we,{size:16})}),e.jsx("button",{type:"submit",className:`p-2 ${(n==null?void 0:n.backgroundColor)||"bg-primary"} text-white rounded-lg hover:bg-primary transition-colors`,"aria-label":"Buscar",children:e.jsx(D,{size:16})})]})]}),e.jsx(k,{children:e.jsx(Q,{suggestions:g,isLoading:J,onSelect:K,selectedIndex:m})})]}):e.jsx("button",{"aria-label":"Buscar productos",onClick:()=>{x(!0),setTimeout(()=>{B.current&&B.current.focus()},100)},className:"flex items-center justify-end w-full px-0 py-3",children:e.jsx(D,{className:"customtext-primary",size:28})})})]})]}),(n==null?void 0:n.mobileSearch)&&!Le()&&e.jsx("div",{className:"block md:hidden mt-6 space-y-4",children:e.jsxs("div",{className:"w-full relative",children:[e.jsxs("form",{onSubmit:xe,role:"search",className:"relative w-full",children:[e.jsx("input",{type:"search",name:"search",placeholder:"Buscar productos...",value:l,onChange:t=>U(t.target.value),onKeyDown:Y,onFocus:()=>{l.trim().length>=2&&H(l)},className:"w-full pr-14 py-3 font-normal pl-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary focus:border-transparent focus:outline-none bg-gray-50",enterKeyHint:"search",inputMode:"search",autoComplete:"off",role:"searchbox","aria-label":"Buscar productos"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(D,{size:18})})]}),e.jsx(k,{children:e.jsx(Q,{suggestions:g,isLoading:J,onSelect:K,selectedIndex:m})})]})})]}),e.jsx(k,{children:T&&e.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"lg:hidden bg-transparent text-textWhite shadow-lg w-full min-h-screen absolute z-10 top-20",children:e.jsx(Ie,{search:l,setSearch:$,pages:Se,items:h,onClose:()=>ne(!T)})})}),e.jsx(De,{data:n,cart:se,setCart:ke,modalOpen:Ee,setModalOpen:V}),e.jsx("div",{className:"flex justify-end w-full mx-auto z-[100] relative",children:e.jsx("div",{className:"block fixed bottom-6 sm:bottom-[2rem] lg:bottom-[4rem] z-20 cursor-pointer",children:e.jsx("a",{target:"_blank",id:"whatsapp-toggle",href:`https://api.whatsapp.com/send?phone=${q}&text=${G}`,children:e.jsx("img",{src:"/assets/img/whatsapp.svg",alt:"whatsapp",className:"mr-3 w-12 h-12 md:w-[60px] md:h-[60px] animate-bounce duration-300"})})})})]})};export{wt as default};

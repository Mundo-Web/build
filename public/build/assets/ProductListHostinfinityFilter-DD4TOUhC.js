import{r as e,j as t,ak as a,al as r,bQ as s}from"./vendor-react-BX-OgZ1w.js";import{N as l,A as n,j as i}from"./vendor-swiper-Cr_RrIb_.js";import{T as o}from"./TextWithHighlight-Dtm1FT0T.js";import{m as c,A as d}from"./vendor-motion-0lf5WkjI.js";const m=({items:m=[],data:x={},categories:g=[],subcategories:u=[],brands:h=[],onClickTracking:p})=>{const[f,y]=e.useState({category:"all",subcategory:"all",brand:"all",featured:!1}),[b,j]=e.useState(0),v=e.useRef(null),w=e.useMemo(()=>{if(g.length>0)return g;const e={};return m.forEach(t=>{if(t.category){const a=t.category.id||t.category_id;e[a]||(e[a]={id:a,name:t.category.name,slug:t.category.slug||a,image:t.category.image})}}),Object.values(e)},[m,g]),N=e.useMemo(()=>{if(u.length>0)return u;const e={};return m.forEach(t=>{if(t.subcategory){const a=t.subcategory.id||t.subcategory_id;e[a]||(e[a]={id:a,name:t.subcategory.name,slug:t.subcategory.slug||a,categoryId:t.category?.id||t.category_id})}}),Object.values(e)},[m,u]),k=e.useMemo(()=>{if(h.length>0)return h;const e={};return m.forEach(t=>{if(t.brand){const a=t.brand.id||t.brand_id;e[a]||(e[a]={id:a,name:t.brand.name,slug:t.brand.slug||a,image:t.brand.image})}}),Object.values(e)},[m,h]),_=e.useMemo(()=>"all"===f.category?N:N.filter(e=>{const t=w.find(e=>e.slug===f.category);return e.categoryId===t?.id}),[N,f.category,w]),M=e.useMemo(()=>m.filter(e=>{if("all"!==f.category){if((e.category?.slug||e.category_id)!==f.category)return!1}if("all"!==f.subcategory){if((e.subcategory?.slug||e.subcategory_id)!==f.subcategory)return!1}if("all"!==f.brand){if((e.brand?.slug||e.brand_id)!==f.brand)return!1}return!(f.featured&&!e.featured&&!e.is_featured)}),[m,f]);e.useMemo(()=>{let e=0;return"all"!==f.category&&e++,"all"!==f.subcategory&&e++,"all"!==f.brand&&e++,f.featured&&e++,e},[f]),e.useEffect(()=>{v.current?.swiper&&(v.current.swiper.slideTo(0),j(0))},[f]);const L=({item:e})=>{e.featured||e.is_featured;const a=e.attributes||[],r=e.features||[],l=e.final_price||e.price||0,n=e.price||0,i=e.discount&&parseFloat(e.discount)>0,o=a.length>0?a.map(e=>`${e.name}: ${e.pivot?.value||e.value||""} ${e.unit||""}`.trim()):r.map(e=>e.name||e.title);return t.jsx("div",{className:"relative overflow-hidden rounded-2xl  bg-primary",children:t.jsxs("div",{className:"relative grid lg:grid-cols-2 gap-8 lg:gap-12",children:[t.jsxs("div",{className:"relative order-2 lg:order-1 p-8 lg:p-12 flex flex-col justify-center",children:[t.jsxs("div",{className:"inline-flex items-center space-x-4 mb-6",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-14 h-14 rounded-xl bg-secondary flex items-center justify-center shadow-lg shadow-secondary/50",children:e.category?.image?t.jsx("img",{src:`/storage/images/category/${e.category.image}`,alt:"",className:"w-8 h-8 object-contain filter brightness-0 invert"}):t.jsx(s,{className:"w-6 h-6 text-white"})}),t.jsx("div",{className:"absolute inset-0 rounded-xl bg-secondary blur opacity-50"})]}),t.jsxs("div",{children:[e.category?.name&&t.jsx("span",{className:"text-md text-secondary font-medium",children:e.category.name}),t.jsx("h3",{className:"text-3xl lg:text-5xl font-bold text-white",children:e.subcategory?.name||e.name})]})]}),e.summary&&t.jsx("p",{className:"text-xl text-white/70 mb-8 leading-relaxed",children:e.summary}),t.jsxs("div",{className:"flex items-baseline mb-8",children:[i&&t.jsxs("span",{className:"text-xl text-white/40 line-through mr-3",children:["S/ ",parseFloat(n).toFixed(2)]}),t.jsxs("span",{className:"text-5xl lg:text-6xl font-bold text-white",children:["S/ ",parseFloat(l).toFixed(2)]}),e.billing_cycle&&t.jsxs("span",{className:"text-xl text-white/50 ml-2",children:["/","monthly"===e.billing_cycle?"mes":"yearly"===e.billing_cycle?"año":e.billing_cycle]})]}),t.jsx("div",{className:"grid sm:grid-cols-2 gap-3 mb-8",children:o.slice(0,6).map((e,a)=>t.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-xl bg-accent/50 border border-white/10 hover:border-secondary/50 transition-all duration-300 group",children:[t.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-secondary flex items-center justify-center mt-0.5 group-hover:scale-110 transition-transform duration-200",children:t.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:t.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),t.jsx("span",{className:"text-base text-neutral-light group-hover:text-white transition-colors duration-300",children:e})]},a))}),t.jsx("div",{className:"flex flex-wrap gap-4",children:t.jsxs("button",{onClick:()=>{p&&p(e),e.slug&&(window.location.href=`/producto/${e.slug}`)},className:"flex-1 sm:flex-initial inline-flex items-center justify-center px-8 py-4 rounded-xl font-bold text-lg bg-secondary hover:bg-secondary/90 text-white shadow-lg shadow-secondary/50 hover:shadow-secondary/70 transition-all duration-200 group",children:["Contratar Ahora",t.jsx("svg",{className:"w-5 h-5 ml-2 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]}),t.jsx("div",{className:"relative order-1 lg:order-2 h-64 lg:h-auto min-h-[400px]",children:t.jsxs("div",{className:"absolute inset-0 lg:inset-y-0 lg:right-0 lg:rounded-r-xl overflow-hidden",children:[t.jsx("img",{src:`/storage/images/item/${e.image}`,alt:e.name,className:"w-full h-full object-cover",onError:e=>e.target.src="/api/cover/thumbnail/null"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary via-primary/50 to-transparent lg:from-primary/80 lg:via-transparent lg:to-transparent"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-primary via-transparent to-transparent lg:hidden"})]})})]})})};return m&&0!==m.length?(w.length>0||k.length>0||_.length,t.jsxs("section",{className:`relative py-20 lg:py-28 overflow-hidden  ${x?.class||""}`,children:[x.insert_html_content&&t.jsx("div",{dangerouslySetInnerHTML:{__html:x.insert_html_content}}),t.jsxs("div",{className:"relative 2xl:max-w-7xl mx-auto px-[5%] 2xl:px-0",children:[t.jsxs(c.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-8",children:[x?.badge&&t.jsxs("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-secondary/20 to-warning/20 border border-secondary/30 mb-6",children:[t.jsx("svg",{className:"w-4 h-4 text-secondary mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),t.jsx("span",{className:"text-sm font-semibold text-secondary",children:t.jsx(o,{text:x.badge})})]}),t.jsx("h2",{className:"text-5xl lg:text-6xl font-bold text-white mb-4 tracking-tight",children:x?.title&&t.jsx(o,{text:x.title,color:"bg-secondary"})}),x?.description&&t.jsx("p",{className:"text-xl text-white/60 max-w-2xl mx-auto",children:t.jsx(o,{text:x.description,color:"bg-accent"})})]}),t.jsx(d,{mode:"wait",children:M.length>0?t.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4},className:"relative",children:[t.jsx(a,{ref:v,modules:[l,n,i],spaceBetween:32,slidesPerView:1,effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:".swiper-filter-prev",nextEl:".swiper-filter-next"},autoplay:{delay:6e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},loop:M.length>1,onSlideChange:e=>j(e.realIndex),className:"",children:M.map((e,a)=>t.jsx(r,{children:t.jsx(L,{item:e})},e.id))}),M.length>1&&t.jsx("div",{className:"flex justify-center mt-8 space-x-3",children:M.map((e,a)=>t.jsx("button",{onClick:()=>{v.current?.swiper&&v.current.swiper.slideToLoop(a)},className:"transition-all duration-300 rounded-full "+(a===b?"w-12 h-3 bg-secondary":"w-3 h-3 bg-white/30 hover:bg-white/50")},a))})]},JSON.stringify(f)):t.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:t.jsxs("div",{className:"inline-flex flex-col items-center p-10 rounded-3xl bg-accent/50 backdrop-blur border border-white/10",children:[t.jsx("svg",{className:"w-20 h-20 text-white/20 mb-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),t.jsx("p",{className:"text-white/50 text-xl mb-2",children:"No se encontraron planes"}),t.jsx("p",{className:"text-white/30 text-sm mb-6",children:"Intenta ajustar los filtros de búsqueda"}),t.jsxs("button",{onClick:()=>{y({category:"all",subcategory:"all",brand:"all",featured:!1})},className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-secondary text-white font-semibold hover:bg-secondary/80 transition-colors",children:[t.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Mostrar todos los planes"]})]})})}),x?.show_all_link&&t.jsx(c.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mt-12",children:t.jsxs("a",{href:x.all_link||"/productos",className:"inline-flex items-center gap-3 px-8 py-4 rounded-full font-semibold text-white bg-secondary hover:bg-secondary/90 shadow-lg shadow-secondary/30 transition-all duration-200 group",children:["Ver todos los planes",t.jsx("svg",{className:"w-5 h-5 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})]})})]}),t.jsx("style",{children:"\n                @keyframes float {\n                    0%, 100% {\n                        transform: translateY(0);\n                    }\n                    50% {\n                        transform: translateY(-10px);\n                    }\n                }\n                .animate-float {\n                    animation: float 3s ease-in-out infinite;\n                }\n            "})]})):null};export{m as default};

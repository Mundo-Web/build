import{r as t,j as e}from"./vendor-react-BX-OgZ1w.js";import{G as n}from"./General-ClVW7qxN.js";import{C as l}from"./CintilloScheduler-vKcq-kCc.js";const s=({className:s=""})=>{const[r,a]=t.useState(0),[i,c]=t.useState(!0),[o,u]=t.useState([]),f=()=>{try{const e=n.get("cintillo");let s=[];if(e)try{s=JSON.parse(e)}catch(t){s=e.split(",").map(t=>t.trim()).filter(t=>t.length>0)}const r=l.filterActiveCintillos(s);u(r),a(t=>t>=r.length?0:t)}catch(e){u([])}};if(t.useEffect(()=>{f();const t=setInterval(f,6e4);return()=>clearInterval(t)},[]),t.useEffect(()=>{if(o.length<=1)return;const t=setInterval(()=>{c(!1),setTimeout(()=>{a(t=>(t+1)%o.length),c(!0)},300)},4e3);return()=>clearInterval(t)},[o.length]),0===o.length)return null;if(1===o.length){const t=l.getText(o[0]);return e.jsx("span",{className:s,children:t})}const h=o[r]?l.getText(o[r]):"";return e.jsx("span",{className:`\n                ${s} \n                transition-all duration-300 ease-in-out\n                ${i?"opacity-100 transform translate-y-0":"opacity-0 transform -translate-y-2"}\n            `,style:{display:"inline-block",minHeight:"1.2em"},title:`Cintillo ${r+1} de ${o.length}`,children:h})},r=()=>{const[e,s]=t.useState(!1),[r,a]=t.useState([]),i=()=>{try{const e=n.get("cintillo");let r=[];if(e)try{r=JSON.parse(e)}catch(t){r=e.split(",").map(t=>t.trim()).filter(t=>t.length>0)}const i=l.filterActiveCintillos(r);a(i),s(i.length>0)}catch(e){a([]),s(!1)}};return t.useEffect(()=>{i();const t=setInterval(i,6e4);return()=>clearInterval(t)},[]),{hasActiveCintillos:e,activeCintillos:r,updateActiveCintillos:i}};export{s as A,r as u};

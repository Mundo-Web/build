var r=Object.defineProperty,e=(e,o,t)=>((e,o,t)=>o in e?r(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t)(e,"symbol"!=typeof o?o+"":o,t);import{m as o}from"./vendor-react-DD0uBW7s.js";import{t}from"./GoogleSignInButton-BciphYP2.js";import{G as s}from"./Global-BAGAPG-V.js";class i{}e(i,"login",async r=>{try{const{status:e,result:i}=await o.Fetch("./api/login-client",{method:"POST",body:JSON.stringify(r)});return e&&200===i.status?(t.success("¡Inicio de sesión exitoso!",{description:`Bienvenido${i?.data?.name?`, ${i.data.name}`:""} a ${s.APP_NAME}.`,duration:3e3,position:"top-right",richColors:!0}),i):(t.error("Error al iniciar sesión",{description:i.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),!1)}catch(e){return t.error("Error al iniciar sesión",{description:e.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),!1}}),e(i,"signup",async r=>{try{const{status:e,result:i}=await o.Fetch("./api/signup-client",{method:"POST",body:JSON.stringify(r)});if(!e)throw new Error(i?.message||"Error al registrar el usuario");return t.success("¡Registro exitoso!",{description:`Bienvenido${i?.data?.name?`, ${i.data.name}`:""} a ${s.APP_NAME}. Tu cuenta ha sido creada correctamente.`,duration:3e3,position:"top-right",richColors:!0}),i.data}catch(e){return t.error("¡Registro fallido!",{description:e.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),null}}),e(i,"forgotPassword",async r=>{try{const{status:e,result:i}=await o.Fetch("./api/forgot-password-client",{method:"POST",body:JSON.stringify(r)});if(!e)throw new Error(i?.message||"Error al solicitar el restablecimiento de contraseña");return i.data&&!1===i.data.user_exists?(t.warning("Cuenta no encontrada",{description:"No tienes una cuenta registrada con este correo. ¿Deseas crear una cuenta?",duration:5e3,position:"top-right",richColors:!0,action:{label:"Crear cuenta",onClick:()=>{window.location.href="/crear-cuenta"}},actionButtonStyle:{backgroundColor:s.APP_COLOR_PRIMARY||"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"}}),{success:!1,user_exists:!1,message:"Email no registrado"}):(t.success("¡Correo enviado!",{description:"Se ha enviado un enlace para restablecer tu contraseña a tu correo electrónico.",duration:3e3,position:"top-right",richColors:!0}),{success:!0,user_exists:!0,message:i.message})}catch(e){return t.error("Error al solicitar el restablecimiento de contraseña",{description:e.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),{success:!1,user_exists:null,message:e.message}}}),e(i,"resetPassword",async r=>{try{const{status:e,result:s}=await o.Fetch("./api/reset-password-client",{method:"POST",body:JSON.stringify(r)});if(!e)throw new Error(s?.message||"Error al restablecer la contraseña");return t.success("¡Contraseña restablecida!",{description:"Tu contraseña ha sido restablecida correctamente. Puedes iniciar sesión con tu nueva contraseña.",duration:3e3,position:"top-right",richColors:!0}),!0}catch(e){return t.error("Error al restablecer la contraseña",{description:e.message||"Ocurrió un error inesperado.",duration:3e3,position:"top-right",richColors:!0}),!1}});export{i as A};

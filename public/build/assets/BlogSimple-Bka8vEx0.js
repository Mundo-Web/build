import{j as e,r as t,S as a}from"./vendor-react-CtPXetfm.js";import{P as s}from"./PostsRest-DE6We_TS.js";import{S as l}from"./SelectForm-3e4c6lDI.js";import{G as i}from"./Footer-coriRrmf.js";import{B as r}from"./BlogCategoriesRest-LvZEJCOC.js";import"./vendor-swiper-Cr_RrIb_.js";import"./BasicRest-DtgqEuc9.js";import"./OpenPayCardModal-CbSnHq7o.js";import"./BooleanLimit-q2Ad9fGY.js";function o({data:t,flex:a=!1,post:s,featured:l=!1}){return e.jsx("article",{className:"group relative lg:p-4 font-title "+(l?"h-full":""),children:e.jsxs("a",{href:`/post/${s?.slug}`,className:`block ${a&&"flex gap-4 "}`,children:[e.jsx("div",{className:`relative aspect-[3/2] overflow-hidden rounded-lg ${a&&"w-1/2"} `,children:e.jsx("img",{src:`/storage/images/post/${s?.image}`,alt:s?.name,fill:!0,className:"object-cover h-full transition-transform duration-300 group-hover:scale-105 w-full"})}),e.jsxs("div",{className:`flex flex-col justify-center py-2 space-y-1 ${a&&"w-1/2 mt-0 gap-1"}`,children:[e.jsx("span",{className:"customtext-neutral-light opacity-90 font-semibold text-base 2xl:text-lg line-clamp-1 ",children:s?.category?.name}),e.jsx("h3",{className:"text-base md:text-lg xl:text-xl line-clamp-3 lg:line-clamp-4 2xl:text-2xl font-semibold customtext-neutral-dark group-hover:customtext-primary leading-tight",children:s?.name}),e.jsx("p",{className:"line-clamp-3  customtext-neutral-dark opacity-85 text-sm md:text-base font-title 2xl:text-xl !leading-snug",children:s?.summary}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("time",{children:s?.post_date}),t?.["bool:show_seen"]&&e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"mdi mdi-circle-medium"}),e.jsx("span",{children:"Leído hace 5 minutos"})]})]})]})]})})}const n=new s,c=new r;function d({data:s,posts:r,setPosts:d,headerPosts:m,filteredData:x,loading:p,setLoading:u,isFilter:g,setIsFilter:h}){const[f,j]=t.useState([]),[y,N]=t.useState({category_id:"",post_date:"",name:""}),[w,b]=t.useState(!0);t.useEffect(()=>{(async()=>{try{const e={filter:[["visible","=",!0],["status","=",!0]]},t=await c.paginate(e);t&&t.data&&j(t.data)}catch(e){}})()},[]),t.useEffect(()=>{w?b(!1):(async()=>{u(!0);try{const e=(e=>{const t=[];return e.category_id&&t.push(["category_id","=",e.category_id]),e.post_date&&t.push(["post_date","=",e.post_date]),e.name&&t.push(["name","contains",e.name]),t})(y),t=y.category_id||y.post_date||y.name,a={with:"category",filter:e},s=await n.paginate(a);d(s.data),h(!!t)}catch(e){}finally{u(!1)}})()},[y]);const v=(e,t)=>{N(a=>({...a,[e]:t}))};return t.useEffect(()=>{},[r]),e.jsx("main",{className:"bg-white font-title",children:e.jsxs("section",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto "+(g?"pt-8":"py-8"),children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("span",{className:"customtext-primary",children:"BLOG"}),e.jsx("h1",{className:`font-title text-3xl md:text-5xl 2xl:text-6xl font-bold tracking-tight ${s?.class_title||"customtext-primary"}`,children:s?.title?e.jsx("span",{dangerouslySetInnerHTML:{__html:s.title},className:"leading-tight block",style:{lineHeight:"1.1"}}):e.jsxs(e.Fragment,{children:["Descubre lo mejor:",e.jsx("br",{}),"Publicaciones sobre el mundo de ",i.APP_NAME]})}),s?.description&&e.jsx("p",{className:"customtext-neutral-dark opacity-80 text-base 2xl:text-xl font-title",children:s?.description})]}),e.jsxs("div",{className:"mt-8 flex flex-col md:flex-row gap-4 justify-between",children:[e.jsxs("div",{className:"relative md:w-6/12 flex items-center",children:[e.jsx("input",{type:"search",placeholder:"Buscar publicación",className:"w-full px-4 relative py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",onChange:e=>v("name",e.target.value)}),e.jsx("div",{className:"absolute right-3 p-2 rounded-xl bg-primary",children:e.jsx(a,{className:" h-5 w-5 text-white"})})]}),e.jsxs("div",{className:"flex w-full gap-2 md:gap-4 md:w-5/12",children:[e.jsx("div",{className:"w-1/2 md:w-full",children:e.jsx(l,{options:f,placeholder:"Todas las categorías",onChange:e=>{N(t=>({...t,category_id:e}))},labelKey:"name",valueKey:"id"})}),e.jsx("input",{type:"date",className:"w-1/2 md:w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",onChange:e=>{v("post_date",e.target.value)}})]})]}),!g&&e.jsxs("div",{className:"mt-12 flex gap-8 py-[2.5%] rounded-2xl",children:[e.jsx("div",{className:"w-full md:w-1/2",children:e.jsx(o,{data:s,featured:!0,post:m[0]})}),e.jsx("div",{className:"hidden md:flex space-y-4  flex-col w-1/2",children:m.slice(1,3).map(t=>e.jsx(o,{data:s,flex:!0,post:t},t.id))})]})]})})}export{o as B,d as a};

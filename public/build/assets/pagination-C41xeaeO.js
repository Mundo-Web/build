import{c as a}from"./create-element-if-not-defined-DWbA4SVO.js";import{m as e,e as s,b as l,c as t}from"./swiper-react-CRhJ2vE3.js";function i(a){return void 0===a&&(a=""),`.${a.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function n(n){let{swiper:r,extendParams:o,on:p,emit:c}=n;const d="swiper-pagination";let u;o({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:a=>a,formatFractionTotal:a=>a,bulletClass:`${d}-bullet`,bulletActiveClass:`${d}-bullet-active`,modifierClass:`${d}-`,currentClass:`${d}-current`,totalClass:`${d}-total`,hiddenClass:`${d}-hidden`,progressbarFillClass:`${d}-progressbar-fill`,progressbarOppositeClass:`${d}-progressbar-opposite`,clickableClass:`${d}-clickable`,lockClass:`${d}-lock`,horizontalClass:`${d}-horizontal`,verticalClass:`${d}-vertical`,paginationDisabledClass:`${d}-disabled`}}),r.pagination={el:null,bullets:[]};let g=0;function m(){return!r.params.pagination.el||!r.pagination.el||Array.isArray(r.pagination.el)&&0===r.pagination.el.length}function b(a,e){const{bulletActiveClass:s}=r.params.pagination;a&&(a=a[("prev"===e?"previous":"next")+"ElementSibling"])&&(a.classList.add(`${s}-${e}`),(a=a[("prev"===e?"previous":"next")+"ElementSibling"])&&a.classList.add(`${s}-${e}-${e}`))}function h(a){const e=a.target.closest(i(r.params.pagination.bulletClass));if(!e)return;a.preventDefault();const s=t(e)*r.params.slidesPerGroup;if(r.params.loop){if(r.realIndex===s)return;const a=(l=r.realIndex,n=s,o=r.slides.length,(n%=o)===1+(l%=o)?"next":n===l-1?"previous":void 0);"next"===a?r.slideNext():"previous"===a?r.slidePrev():r.slideToLoop(s)}else r.slideTo(s);var l,n,o}function f(){const a=r.rtl,s=r.params.pagination;if(m())return;let n,o,p=r.pagination.el;p=e(p);const d=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.slides.length,h=r.params.loop?Math.ceil(d/r.params.slidesPerGroup):r.snapGrid.length;if(r.params.loop?(o=r.previousRealIndex||0,n=r.params.slidesPerGroup>1?Math.floor(r.realIndex/r.params.slidesPerGroup):r.realIndex):void 0!==r.snapIndex?(n=r.snapIndex,o=r.previousSnapIndex):(o=r.previousIndex||0,n=r.activeIndex||0),"bullets"===s.type&&r.pagination.bullets&&r.pagination.bullets.length>0){const e=r.pagination.bullets;let i,c,d;if(s.dynamicBullets&&(u=l(e[0],r.isHorizontal()?"width":"height"),p.forEach((a=>{a.style[r.isHorizontal()?"width":"height"]=u*(s.dynamicMainBullets+4)+"px"})),s.dynamicMainBullets>1&&void 0!==o&&(g+=n-(o||0),g>s.dynamicMainBullets-1?g=s.dynamicMainBullets-1:g<0&&(g=0)),i=Math.max(n-g,0),c=i+(Math.min(e.length,s.dynamicMainBullets)-1),d=(c+i)/2),e.forEach((a=>{const e=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((a=>`${s.bulletActiveClass}${a}`))].map((a=>"string"==typeof a&&a.includes(" ")?a.split(" "):a)).flat();a.classList.remove(...e)})),p.length>1)e.forEach((a=>{const e=t(a);e===n?a.classList.add(...s.bulletActiveClass.split(" ")):r.isElement&&a.setAttribute("part","bullet"),s.dynamicBullets&&(e>=i&&e<=c&&a.classList.add(...`${s.bulletActiveClass}-main`.split(" ")),e===i&&b(a,"prev"),e===c&&b(a,"next"))}));else{const a=e[n];if(a&&a.classList.add(...s.bulletActiveClass.split(" ")),r.isElement&&e.forEach(((a,e)=>{a.setAttribute("part",e===n?"bullet-active":"bullet")})),s.dynamicBullets){const a=e[i],l=e[c];for(let t=i;t<=c;t+=1)e[t]&&e[t].classList.add(...`${s.bulletActiveClass}-main`.split(" "));b(a,"prev"),b(l,"next")}}if(s.dynamicBullets){const l=Math.min(e.length,s.dynamicMainBullets+4),t=(u*l-u)/2-d*u,i=a?"right":"left";e.forEach((a=>{a.style[r.isHorizontal()?i:"top"]=`${t}px`}))}}p.forEach(((a,e)=>{if("fraction"===s.type&&(a.querySelectorAll(i(s.currentClass)).forEach((a=>{a.textContent=s.formatFractionCurrent(n+1)})),a.querySelectorAll(i(s.totalClass)).forEach((a=>{a.textContent=s.formatFractionTotal(h)}))),"progressbar"===s.type){let e;e=s.progressbarOpposite?r.isHorizontal()?"vertical":"horizontal":r.isHorizontal()?"horizontal":"vertical";const l=(n+1)/h;let t=1,o=1;"horizontal"===e?t=l:o=l,a.querySelectorAll(i(s.progressbarFillClass)).forEach((a=>{a.style.transform=`translate3d(0,0,0) scaleX(${t}) scaleY(${o})`,a.style.transitionDuration=`${r.params.speed}ms`}))}"custom"===s.type&&s.renderCustom?(a.innerHTML=s.renderCustom(r,n+1,h),0===e&&c("paginationRender",a)):(0===e&&c("paginationRender",a),c("paginationUpdate",a)),r.params.watchOverflow&&r.enabled&&a.classList[r.isLocked?"add":"remove"](s.lockClass)}))}function v(){const a=r.params.pagination;if(m())return;const s=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.grid&&r.params.grid.rows>1?r.slides.length/Math.ceil(r.params.grid.rows):r.slides.length;let l=r.pagination.el;l=e(l);let t="";if("bullets"===a.type){let e=r.params.loop?Math.ceil(s/r.params.slidesPerGroup):r.snapGrid.length;r.params.freeMode&&r.params.freeMode.enabled&&e>s&&(e=s);for(let s=0;s<e;s+=1)a.renderBullet?t+=a.renderBullet.call(r,s,a.bulletClass):t+=`<${a.bulletElement} ${r.isElement?'part="bullet"':""} class="${a.bulletClass}"></${a.bulletElement}>`}"fraction"===a.type&&(t=a.renderFraction?a.renderFraction.call(r,a.currentClass,a.totalClass):`<span class="${a.currentClass}"></span> / <span class="${a.totalClass}"></span>`),"progressbar"===a.type&&(t=a.renderProgressbar?a.renderProgressbar.call(r,a.progressbarFillClass):`<span class="${a.progressbarFillClass}"></span>`),r.pagination.bullets=[],l.forEach((e=>{"custom"!==a.type&&(e.innerHTML=t||""),"bullets"===a.type&&r.pagination.bullets.push(...e.querySelectorAll(i(a.bulletClass)))})),"custom"!==a.type&&c("paginationRender",l[0])}function C(){r.params.pagination=a(r,r.originalParams.pagination,r.params.pagination,{el:"swiper-pagination"});const l=r.params.pagination;if(!l.el)return;let t;"string"==typeof l.el&&r.isElement&&(t=r.el.querySelector(l.el)),t||"string"!=typeof l.el||(t=[...document.querySelectorAll(l.el)]),t||(t=l.el),t&&0!==t.length&&(r.params.uniqueNavElements&&"string"==typeof l.el&&Array.isArray(t)&&t.length>1&&(t=[...r.el.querySelectorAll(l.el)],t.length>1&&(t=t.find((a=>s(a,".swiper")[0]===r.el)))),Array.isArray(t)&&1===t.length&&(t=t[0]),Object.assign(r.pagination,{el:t}),t=e(t),t.forEach((a=>{"bullets"===l.type&&l.clickable&&a.classList.add(...(l.clickableClass||"").split(" ")),a.classList.add(l.modifierClass+l.type),a.classList.add(r.isHorizontal()?l.horizontalClass:l.verticalClass),"bullets"===l.type&&l.dynamicBullets&&(a.classList.add(`${l.modifierClass}${l.type}-dynamic`),g=0,l.dynamicMainBullets<1&&(l.dynamicMainBullets=1)),"progressbar"===l.type&&l.progressbarOpposite&&a.classList.add(l.progressbarOppositeClass),l.clickable&&a.addEventListener("click",h),r.enabled||a.classList.add(l.lockClass)})))}function y(){const a=r.params.pagination;if(m())return;let s=r.pagination.el;s&&(s=e(s),s.forEach((e=>{e.classList.remove(a.hiddenClass),e.classList.remove(a.modifierClass+a.type),e.classList.remove(r.isHorizontal()?a.horizontalClass:a.verticalClass),a.clickable&&(e.classList.remove(...(a.clickableClass||"").split(" ")),e.removeEventListener("click",h))}))),r.pagination.bullets&&r.pagination.bullets.forEach((e=>e.classList.remove(...a.bulletActiveClass.split(" "))))}p("changeDirection",(()=>{if(!r.pagination||!r.pagination.el)return;const a=r.params.pagination;let{el:s}=r.pagination;s=e(s),s.forEach((e=>{e.classList.remove(a.horizontalClass,a.verticalClass),e.classList.add(r.isHorizontal()?a.horizontalClass:a.verticalClass)}))})),p("init",(()=>{!1===r.params.pagination.enabled?L():(C(),v(),f())})),p("activeIndexChange",(()=>{void 0===r.snapIndex&&f()})),p("snapIndexChange",(()=>{f()})),p("snapGridLengthChange",(()=>{v(),f()})),p("destroy",(()=>{y()})),p("enable disable",(()=>{let{el:a}=r.pagination;a&&(a=e(a),a.forEach((a=>a.classList[r.enabled?"remove":"add"](r.params.pagination.lockClass))))})),p("lock unlock",(()=>{f()})),p("click",((a,s)=>{const l=s.target,t=e(r.pagination.el);if(r.params.pagination.el&&r.params.pagination.hideOnClick&&t&&t.length>0&&!l.classList.contains(r.params.pagination.bulletClass)){if(r.navigation&&(r.navigation.nextEl&&l===r.navigation.nextEl||r.navigation.prevEl&&l===r.navigation.prevEl))return;const a=t[0].classList.contains(r.params.pagination.hiddenClass);c(!0===a?"paginationShow":"paginationHide"),t.forEach((a=>a.classList.toggle(r.params.pagination.hiddenClass)))}}));const L=()=>{r.el.classList.add(r.params.pagination.paginationDisabledClass);let{el:a}=r.pagination;a&&(a=e(a),a.forEach((a=>a.classList.add(r.params.pagination.paginationDisabledClass)))),y()};Object.assign(r.pagination,{enable:()=>{r.el.classList.remove(r.params.pagination.paginationDisabledClass);let{el:a}=r.pagination;a&&(a=e(a),a.forEach((a=>a.classList.remove(r.params.pagination.paginationDisabledClass)))),C(),v(),f()},disable:L,render:v,update:f,init:C,destroy:y})}export{n as P};

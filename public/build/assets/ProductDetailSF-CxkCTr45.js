import{j as r}from"./AboutSimple-Cf8x2fCZ.js";import{r as n}from"./index-BOnQTV8N.js";import{I as Z}from"./ItemsRest-Dp5IKigO.js";import{S as V}from"./CartKuchara-D9l7c7at.js";import"./main-B6F2O9-U.js";import"./BlogCarousel-CSSJauGD.js";/* empty css               */import"./BlogCarrusel-yPzlLR5S.js";import"./ProductMakita-DQap4p_y.js";import"./ProductNavigation-CCcQVW8H.js";import"./CardProductKatya-ncpmQ0JU.js";import{C as M}from"./Number2Currency-jIsa99f9.js";import{C as ss}from"./HeaderSearch-B5tniknh.js";import{i as rs}from"./tippy-react.esm-DmkRJDEW.js";/* empty css              */import es from"./ProductNavigationSwiper-k3dhCrDs.js";import{C as os}from"./circle-check-DW_TmQ0Z.js";import{C as as}from"./chevron-up-Mt3xll-e.js";import{C as ls}from"./chevron-down-uIVDLcM-.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-BML1C-ua.js";import"./BooleanLimit-D-OsQsek.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./proxy-C3pwVgWq.js";import"./resolve-elements-WL2ErOKm.js";import"./eye-ScgfreHn.js";import"./createLucideIcon-DfjclApS.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./General-apRuNwp7.js";import"./PolicyModal-C80IvD61.js";import"./index-Chjiymov.js";import"./CartItemRow-BpIqZcEi.js";import"./bed-D_dyLoh5.js";import"./trash-2-DU7LB6-f.js";import"./calendar-BSC6xbA7.js";import"./moon-BU5XInRR.js";import"./users-w-WaEtvX.js";import"./package-DBFPPBi1.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./index-BOogNdsm.js";import"./adjustTextColor-DJKJvkxA.js";import"./ProductCardColors-BWBd4iNO.js";import"./navigation-MWoTpsXy.js";import"./create-element-if-not-defined-CLdVNY0a.js";import"./arrow-left-n6ltb6Cc.js";import"./arrow-right-MB8dWH_Y.js";function er({item:s,data:t,setCart:m,cart:d,textstatic:P,contacts:T}){var S,_,I,z,E,F;const x=new Z,[j,y]=n.useState(!1),[p,w]=n.useState({url:s==null?void 0:s.image,type:"main"}),[c,f]=n.useState(1),[v,N]=n.useState(s==null?void 0:s.slug),[o,A]=n.useState(s),B=e=>{let a=parseInt(e.target.value,10);(isNaN(a)||a<1)&&(a=1),a>10&&(a=10),f(a)},b=e=>{var a;return((a=T.find(l=>l.correlative===e))==null?void 0:a.description)||""};(S=P.find(e=>e.correlative=="detailproduct-relation-title"))==null||S.title;const[R,ts]=n.useState(!1),k=e=>{const a=h.find(u=>u.slug===v)||o||e,l=structuredClone(d),i=l.findIndex(u=>u.id==a.id);i==-1?l.push({...a,quantity:c}):l[i].quantity++,m(l),V.fire({title:"Producto agregado",text:`Se agreg칩 ${o.name||e.name} al carrito`,icon:"success",showCancelButton:!0,confirmButtonText:"Abrir mini carrito",cancelButtonText:"Seguir comprando",reverseButtons:!0,timer:5e3}).then(u=>{u.isConfirmed&&y(!j)})},[q,U]=n.useState([]),[C,H]=n.useState([]),[$,L]=n.useState([]),[h,D]=n.useState([]);d==null||d.find(e=>e.id==(s==null?void 0:s.id)),n.useEffect(()=>{s!=null&&s.id&&(G(s),Q(s),W(s),J(s),X(s),N(s.slug))},[s]);const O=e=>{const a=h.find(l=>l.slug===e)||s;A(a),N(e),window.history.pushState({},"",`/item/${e}`)},K=(e,a)=>!e||e<=a?0:Math.round((e-a)/e*100),W=async e=>{try{const a={id:e==null?void 0:e.id};if(!await x.updateViews(a))return}catch{return}},Q=async e=>{try{const a={id:e==null?void 0:e.id},l=await x.verifyCombo(a);if(!l)return;const i=l[0].associated_items;U(Object.values(i))}catch{return}},G=async e=>{try{const a={id:e==null?void 0:e.id},l=await x.productsRelations(a);if(!l)return;H(Object.values(l))}catch{return}},J=async e=>{try{const a={slug:e==null?void 0:e.slug},l=await x.getColors(a);if(!l)return;L(l.variants)}catch{return}},X=async e=>{try{const a={slug:e==null?void 0:e.slug},l=await x.getSizes(a);if(!l)return;D(l)}catch{return}};q.reduce((e,a)=>e+parseFloat(a.final_price),0);const[g,Y]=n.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"px-primary 2xl:max-w-7xl 2xl:px-0 mx-auto pb-4 md:pb-6 xl:pb-8 bg-white",children:[r.jsx("div",{className:"bg-white rounded-xl py-4 md:py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 xl:gap-20 2xl:gap-16",children:[r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[r.jsxs("div",{className:"flex flex-row lg:flex-col gap-2 order-2 lg:order-1 lg:w-20",children:[r.jsx("button",{onClick:()=>w({url:s==null?void 0:s.image,type:"main"}),className:`rounded-xl p-1 border-2 flex-shrink-0 ${p.url===(s==null?void 0:s.image)?"border-primary ":"border-gray-200"}`,children:r.jsx("img",{src:`/storage/images/item/${s==null?void 0:s.image}`,alt:"Main Thumbnail",className:"w-16 lg:w-20  aspect-[3/4] rounded-lg object-cover",onError:e=>e.target.src="/api/cover/thumbnail/null"})}),s==null?void 0:s.images.map((e,a)=>r.jsx("button",{onClick:()=>w({url:e.url,type:"gallery"}),className:`w-16 h-16 lg:w-20 lg:h-20 border-2 rounded-lg p-1 flex-shrink-0 ${p.url===e.url?"border-primary":"border-gray-200"}`,children:r.jsx("img",{src:`/storage/images/item/${e.url}`||"/api/cover/thumbnail/null",alt:`Thumbnail ${a+1}`,className:"w-full h-full object-cover",onError:l=>l.target.src="/api/cover/thumbnail/null"})},a))]}),r.jsx("div",{className:"flex-1 order-1 lg:order-2",children:r.jsx("img",{src:p.type==="main"?`/storage/images/item/${p.url}`:`/storage/images/item/${p.url}`,onError:e=>e.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full h-auto rounded-xl object-contain"})})]})}),r.jsxs("div",{className:"flex flex-col gap-3",children:[r.jsxs("div",{className:"font-paragraph",children:[(s==null?void 0:s.brand)&&r.jsxs("p",{className:"customtext-neutral-light text-sm 2xl:text-lg",children:["Marca:"," ",r.jsx("span",{className:"customtext-neutral-dark",children:s==null?void 0:s.brand.name})]}),r.jsx("h1",{className:"customtext-neutral-dark text-3xl lg:text-4xl 2xl:text-5xl font-bold mt-2",children:s==null?void 0:s.name})]}),r.jsxs("div",{className:"flex flex-wrap customtext-neutral-light items-center gap-y-2 gap-x-8 text-sm font-paragraph",children:[r.jsxs("span",{className:"customtext-neutral-dark text-base 2xl:text-lg",children:["SKU:"," ",r.jsx("span",{className:"customtext-neutral-dark font-bold",children:s==null?void 0:s.sku})]}),r.jsxs("span",{className:"customtext-neutral-dark text-base 2xl:text-lg",children:["Disponibilidad:"," ",r.jsx("span",{className:"customtext-neutral-dark font-bold",children:(o==null?void 0:o.stock)>0?"En stock":"Agotado"})]})]}),((o==null?void 0:o.price)>0||(o==null?void 0:o.final_price)>0)&&r.jsxs("div",{className:"flex flex-col w-full xl:w-1/2 font-paragraph max-w-xl mt-5",children:[r.jsxs("p",{className:"text-base 2xl:text-lg customtext-neutral-dark opacity-70 font-medium",children:["Precio:"," ",r.jsxs("span",{className:"line-through",children:[M()," ",o==null?void 0:o.price]})]}),r.jsxs("div",{className:"flex flex-row items-center gap-4 relative",children:[r.jsxs("span",{className:"text-[40px] font-bold customtext-neutral-dark",children:[M()," ",o==null?void 0:o.final_price]}),r.jsxs("span",{className:"bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl text-base",children:["-",K(o==null?void 0:o.price,o==null?void 0:o.final_price),"%"]})]})]}),(s==null?void 0:s.summary)&&r.jsx("div",{className:"flex flex-col customtext-neutral-dark font-paragraph text-base 2xl:text-lg my-3",children:r.jsx("p",{children:s==null?void 0:s.summary})}),$.length>1&&r.jsxs("div",{className:"variants-color flex flex-col gap-4",children:[r.jsx("h3",{className:"w-full block font-medium customtext-neutral-dark text-base 2xl:text-lg",children:"Colores"}),r.jsx("div",{className:"flex gap-3 items-center justify-start w-full flex-wrap",children:$.map(e=>r.jsx(rs,{content:e.color,children:r.jsx("a",{href:`/item/${e.slug}`,className:`variant-option rounded-full object-fit-cover transition-all duration-200 hover:scale-105 ${e.color===s.color?"active p-[2px] border-[2px] border-primary shadow-lg":"p-[2px] border-[2px] border-gray-200 hover:border-gray-400"}`,children:r.jsx("img",{className:"color-box rounded-full h-10 w-10 lg:h-12 lg:w-12 object-cover",src:`/storage/images/item/${e.texture||e.image}`,onError:a=>a.target.src="/api/cover/thumbnail/null",alt:`Color ${e.color}`})})},e.slug))})]}),h.length>0&&r.jsxs("div",{className:"variants-color flex flex-col gap-4",children:[r.jsx("h3",{className:"w-full block font-medium customtext-neutral-dark text-base 2xl:text-lg",children:"Tallas"}),r.jsx("div",{className:"flex gap-3 items-center justify-start w-full flex-wrap",children:h.map(e=>r.jsx("button",{onClick:()=>O(e.slug),className:`relative min-w-12 h-12 px-3 flex items-center justify-center text-center font-medium rounded-xl border-2 transition-all duration-200 hover:shadow-md ${v===e.slug?"border-primary bg-primary text-white shadow-lg transform scale-105":"border-gray-200 bg-white customtext-neutral-dark hover:border-gray-300 hover:bg-gray-50"}`,children:e.size},e.slug))})]}),r.jsxs("div",{className:"flex items-center mt-8 gap-4",children:[r.jsx("h3",{className:"font-medium customtext-neutral-dark text-base 2xl:text-lg",children:"Cantidad"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex items-center border-2 border-gray-200 rounded-xl overflow-hidden bg-white",children:[r.jsx("button",{type:"button",onClick:()=>f(Math.max(1,c-1)),disabled:c<=1,className:"w-12 h-12 flex items-center justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:r.jsx("svg",{className:"w-4 h-4 customtext-neutral-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),r.jsx("input",{type:"number",value:c,onChange:B,min:"1",max:"10",className:"w-16 h-12 customtext-neutral-dark text-center bg-white outline-none appearance-none font-medium text-lg border-none"}),r.jsx("button",{type:"button",onClick:()=>f(Math.min(10,c+1)),disabled:c>=10,className:"w-12 h-12 flex items-center justify-center bg-gray-50 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:r.jsx("svg",{className:"w-4 h-4 customtext-neutral-dark",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),r.jsx("span",{className:"text-sm customtext-neutral-light",children:"M치ximo 10 unidades"})]})]}),(t==null?void 0:t.button_buy)&&r.jsx("button",{onClick:()=>{k(s)},disabled:(o==null?void 0:o.stock)<=0,className:`hidden lg:block w-full font-paragraph text-base 2xl:text-lg py-3 font-semibold rounded-3xl transition-all duration-300 mt-3 ${(o==null?void 0:o.stock)>0?"bg-accent text-white hover:opacity-90 hover:shadow-lg transform hover:scale-[1.02]":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:(o==null?void 0:o.stock)>0?"Agregar al carrito":"Producto agotado"}),(t==null?void 0:t.button_consultation)&&r.jsx("a",{href:`https://api.whatsapp.com/send?phone=${b("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo cotizar el siguiente producto:

游닍 Producto: ${s==null?void 0:s.name}
游댝 SKU: ${s==null?void 0:s.sku}
${s!=null&&s.color?`游꿛 Color: ${s==null?void 0:s.color}
`:""}${o!=null&&o.size?`游늺 Talla: ${o==null?void 0:o.size}
`:""}游늵 Cantidad: ${c}

쯇odr칤an enviarme m치s informaci칩n y el precio?`)}`,target:"_blank",className:"hidden lg:flex w-full font-paragraph py-3 text-base 2xl:text-lg font-semibold rounded-3xl transition-all duration-300 mt-3 bg-primary text-white hover:bg-primary hover:shadow-lg transform hover:scale-[1.02] items-center justify-center gap-2",children:"Cotizar este producto"}),((_=s==null?void 0:s.specifications)==null?void 0:_.length)>0&&r.jsx("div",{className:"flex-1 w-full mt-5 2xl:mt-8",children:r.jsxs("div",{className:"bg-[#F7F9FB] rounded-xl p-6",children:[r.jsx("h3",{className:"font-semibold text-lg xl:text-xl 2xl:text-2xl mb-4 customtext-neutral-dark font-paragraph",children:"Especificaciones principales"}),r.jsx("ul",{className:`space-y-1  customtext-neutral-light  mb-4 list-disc transition-all duration-300 ${g?"max-h-full":"max-h-20 overflow-hidden"}`,style:{listStyleType:"disc"},children:s==null?void 0:s.specifications.map((e,a)=>{var l;return e.type==="principal"&&r.jsxs("li",{className:"gap-2  customtext-primary opacity-85 flex flex-row items-start",children:[r.jsx(os,{className:"customtext-primary mt-1 min-w-4 min-h-4 max-w-4 max-h-4"}),r.jsxs("span",{className:"first-letter:uppercase",children:[" ",(l=e==null?void 0:e.description)==null?void 0:l.toLowerCase()]})]},a)})}),r.jsxs("button",{className:"font-semibold flex flex-row gap-2 items-center text-base xl:text-[17px] 2xl:text-xl mb-4 customtext-neutral-dark font-paragraph pb-2 border-b border-neutral-dark",onClick:()=>Y(!g),children:[g?"Ver menos":"Ver m치s especificaciones",g?r.jsx(as,{className:"w-4 h-4"}):r.jsx(ls,{className:"w-4 h-4"})]})]})}),r.jsx("div",{className:"w-full mt-5",children:r.jsx("a",{href:`https://api.whatsapp.com/send?phone=${b("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo mayor informaci칩n acerca del producto: ${s==null?void 0:s.name}`)}`,target:"_blank",children:r.jsxs("div",{className:"bg-[#F7F9FB] flex flex-row rounded-xl p-5 gap-3",children:[r.jsx("img",{src:"/assets/img/salafabulosa/whatsapp.png",onError:e=>e.target.src="assets/img/noimage/no_imagen_circular.png",className:"w-12 h-12 object-contain",loading:"lazy"}),r.jsx("div",{className:"customtext-neutral-dark font-paragraph text-base  2xl:text-xl font-semibold",children:r.jsxs("p",{children:["쯊ienes dudas sobre este producto? Haz",r.jsx("span",{className:"underline"}),"clic aqu칤 y chatea con nosotros por WhatsApp"]})})]})})})]})]})}),r.jsxs("div",{className:"grid gap-10 lg:gap-20 md:grid-cols-2 bg-white rounded-xl p-4 sm:p-8 font-paragraph",children:[((I=s==null?void 0:s.specifications)==null?void 0:I.length)>0&&s.specifications.some(e=>e.type==="general")&&r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Especificaciones"}),r.jsx("div",{className:"space-y-1",children:s.specifications.map((e,a)=>e.type==="general"&&r.jsxs("div",{className:`grid grid-cols-2 gap-4 p-3 ${a%2===0?"bg-[#F7F9FB]":"bg-white"}`,children:[r.jsx("div",{className:"customtext-neutral-dark ",children:e.title}),r.jsx("div",{className:"customtext-neutral-dark opacity-75",children:e.description})]},a))})]}),(t==null?void 0:t.show_additional_info)&&r.jsxs("div",{className:"font-paragraph",children:[((z=s==null?void 0:s.description)==null?void 0:z.replace(/<[^>]+>/g,""))&&r.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Informaci칩n adicional"}),r.jsxs("div",{className:`space-y-2 ${R?"":"max-h-none overflow-hidden"}`,children:[((E=s==null?void 0:s.description)==null?void 0:E.replace(/<[^>]+>/g,""))&&r.jsxs(r.Fragment,{children:[r.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este art칤culo"}),r.jsx("div",{className:"customtext-neutral-dark",dangerouslySetInnerHTML:{__html:s==null?void 0:s.description}})]}),((F=s==null?void 0:s.features)==null?void 0:F.length)>0&&r.jsx("div",{className:"pl-10",children:r.jsx("ul",{className:"list-disc pl-5 space-y-2",children:s==null?void 0:s.features.map((e,a)=>r.jsx("li",{className:"customtext-neutral-dark",children:e.feature},a))})})]})]})]})]}),r.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50 shadow-lg",children:r.jsxs("div",{className:"flex gap-3",children:[(t==null?void 0:t.button_buy)&&r.jsx("button",{onClick:()=>{k(s)},disabled:(o==null?void 0:o.stock)<=0,className:`flex-1 font-paragraph text-sm py-3 font-semibold rounded-2xl transition-all duration-300 ${(o==null?void 0:o.stock)>0?"bg-accent text-white hover:opacity-90":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:(o==null?void 0:o.stock)>0?"Agregar al carrito":"Producto agotado"}),(t==null?void 0:t.button_consultation)&&r.jsx("a",{href:`https://api.whatsapp.com/send?phone=${b("phone_whatsapp")}&text=${encodeURIComponent(`Hola, deseo cotizar el siguiente producto:

游닍 Producto: ${s==null?void 0:s.name}
游댝 SKU: ${s==null?void 0:s.sku}
${s!=null&&s.color?`游꿛 Color: ${s==null?void 0:s.color}
`:""}${o!=null&&o.size?`游늺 Talla: ${o==null?void 0:o.size}
`:""}游늵 Cantidad: ${c}

쯇odr칤an enviarme m치s informaci칩n y el precio?`)}`,target:"_blank",className:`font-paragraph text-base py-3 font-semibold rounded-xl transition-all duration-300 bg-primary text-white hover:opacity-90 flex items-center justify-center gap-2 ${t!=null&&t.button_buy?"flex-1":"w-full"}`,children:"Cotizar este producto"})]})}),r.jsx("div",{className:"lg:hidden h-20"}),C.length>0&&r.jsx("div",{className:"-mt-10 mb-10 p-4",children:r.jsx(es,{data:{title:"Productos relacionados",link_catalog:"/catalogo"},items:C,cart:d,setCart:m})}),r.jsx(ss,{cart:d,data:t,setCart:m,modalOpen:j,setModalOpen:y})]})}export{er as default};

import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r as n}from"./index-BOnQTV8N.js";import{I as K}from"./ItemsRest-9bICvOQx.js";import"./ProductCard-Lp5WfZrB.js";import"./main-DKOTUah5.js";import{S as G,a as J}from"./BlogCarousel-x7cPG0b1.js";import{N as X}from"./navigation-BKKUyF8K.js";import{P as Y}from"./pagination-BuQfDUiO.js";/* empty css               */import"./BlogCarrusel-BEReD9tm.js";import"./ProductMakita-BnE1FAty.js";import"./ProductNavigation-CnYGpPpi.js";import{C as Z}from"./HeaderSearch-B0sdNQso.js";/* empty css              */import ss from"./ProductBananaLab-DfyYbcon.js";import{C as es}from"./chevron-left-JcR9Fe4w.js";import{C as as}from"./chevron-right-Cug7tVUE.js";import{C as h}from"./chevron-down-uIVDLcM-.js";import{C as f}from"./circle-check-DW_TmQ0Z.js";import{C as rs}from"./chevron-up-Mt3xll-e.js";import{m as z}from"./proxy-ByjeBI6i.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-BCYKfs4R.js";import"./index-DRg3WPTA.js";import"./index-C0Swrixi.js";import"./index-fNjTmf9T.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./create-element-if-not-defined-BUzg2Efb.js";import"./eye-ScgfreHn.js";import"./createLucideIcon-DfjclApS.js";import"./PolicyModal-CPFjYZfq.js";import"./index-Chjiymov.js";import"./CartItemRow-CbMdXK40.js";import"./Number2Currency-e57Tgsuk.js";import"./tippy-react.esm-Ce0cOK54.js";import"./trash-2-DU7LB6-f.js";import"./plus-CTIomuuF.js";import"./index-BXCe3KUg.js";import"./CardProductBananaLab-C8uWjmWX.js";import"./HeaderBananaLab-DTdJPBcS.js";import"./shopping-bag-C59bLmNC.js";import"./x-fof_H3Vv.js";import"./shopping-cart-DLRnxGTD.js";import"./arrow-right-MB8dWH_Y.js";import"./heart-DG8R4_Y8.js";import"./circle-check-big-CYWUGR3Z.js";const Xs=({item:e,data:E,setCart:i,cart:c,generals:x,favorites:F,setFavorites:A})=>{var $,I,R;const j=new K,[g,p]=n.useState(!1),[d,b]=n.useState({url:e==null?void 0:e.image,type:"main"}),[N,T]=n.useState(1),M=a=>{let r=parseInt(a.target.value,10);(isNaN(r)||r<1)&&(r=1),r>10&&(r=10),T(r)},[u,P]=n.useState(!1),W=a=>{const r=structuredClone(c),l=r.findIndex(o=>o.id==a.id);l==-1?r.push({...a,quantity:N}):r[l].quantity++,i(r),p(!g),setTimeout(()=>p(!1),3e3)},[v,U]=n.useState([]);c==null||c.find(a=>a.id==(e==null?void 0:e.id)),n.useEffect(()=>{e!=null&&e.id&&(D(e),q(e))},[e]);const q=async a=>{try{const r={id:a==null?void 0:a.id};if(console.log(r),!await j.updateViews(r))return}catch{return}},D=async a=>{try{const r={id:a==null?void 0:a.id},l=await j.productsRelations(r);if(!l)return;const o=l;U(Object.values(o)),console.log(o)}catch{return}},[t,y]=n.useState(!1),w=n.useRef(null);n.useRef(null);const k=n.useRef(null),C=n.useRef(null),m=x==null?void 0:x.find(a=>a.correlative==="phone_whatsapp"),S=m==null?void 0:m.description,H=encodeURIComponent(`¡Hola! Tengo dudas sobre este producto: ${e==null?void 0:e.name}`),L=`https://wa.me/${S}?text=${H}`,O=()=>{window.open(L,"_blank")},V=encodeURIComponent(`¡Hola! Me gustaría cotizar este producto: ${e==null?void 0:e.name}`),B=`https://wa.me/${S}?text=${V}`,_=()=>{window.open(B,"_blank")},Q={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"md:hidden  min-h-screen font-paragraph",children:[s.jsx("div",{className:"sticky top-0 bg-white shadow-sm z-20",children:s.jsx("div",{className:"flex items-center p-4 gap-4 border-b",children:s.jsx("h1",{className:"text-lg font-bold flex-1 line-clamp-5",children:e==null?void 0:e.name})})}),s.jsxs("div",{className:"p-4 pb-10",children:[s.jsxs("div",{className:"relative aspect-square mb-4 rounded-2xl overflow-hidden shadow-lg",children:[s.jsx(G,{ref:w,modules:[X,Y],navigation:{prevEl:k.current,nextEl:C.current},pagination:{clickable:!0,renderBullet:(a,r)=>`<span class="${r} !w-2 !h-2 !bg-white/50 !mx-1"></span>`},loop:!0,onSwiper:a=>{w.current=a},className:"h-full",children:[e==null?void 0:e.image,...e==null?void 0:e.images].filter((a,r,l)=>r===l.findIndex(o=>o.url===a.url)).map((a,r)=>s.jsx(J,{children:s.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:s.jsx("img",{src:`/storage/images/item/${a.url||a}`,className:"w-full h-full object-contain",loading:"lazy",onError:l=>l.target.src="/api/cover/thumbnail/null"})})},r))}),s.jsxs("div",{className:"absolute top-1/2 w-full flex justify-between px-2 transform -translate-y-1/2 z-10",children:[s.jsx("button",{ref:k,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/80 shadow-lg hover:scale-110 transition-transform",children:s.jsx(es,{className:"text-gray-800",size:20})}),s.jsx("button",{ref:C,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/80 shadow-lg hover:scale-110 transition-transform",children:s.jsx(as,{className:"text-gray-800",size:20})})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm mb-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-3xl font-bold customtext-primary",children:["S/ ",e==null?void 0:e.final_price,s.jsxs("span",{className:"ml-2 text-sm line-through text-gray-400",children:["S/ ",e==null?void 0:e.price]})]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["SKU: ",e==null?void 0:e.sku]})]}),s.jsxs("div",{className:"bg-secondary customtext-primary px-3 py-1 rounded-full text-sm",children:[Number(e==null?void 0:e.discount_percent).toFixed(0),"% OFF"]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"border-b",children:s.jsxs("button",{onClick:()=>P(!u),className:"w-full p-4 flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:"Descripción del producto"}),s.jsx(h,{className:`transform transition-transform ${u?"rotate-180":""}`})]})}),u&&s.jsxs("div",{className:"p-4",children:[s.jsx("div",{dangerouslySetInnerHTML:{__html:e==null?void 0:e.description}}),s.jsx("ul",{className:"list-disc pl-5 mt-2",children:($=e==null?void 0:e.features)==null?void 0:$.map((a,r)=>s.jsx("li",{className:"text-sm",children:a.feature},r))})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[s.jsx("div",{className:"border-b",children:s.jsxs("button",{onClick:()=>y(!t),className:"w-full p-4 flex justify-between items-center",children:[s.jsx("span",{className:"font-medium",children:"Características"}),s.jsx(h,{className:`transform transition-transform ${t?"rotate-180":""}`})]})}),t&&s.jsx("div",{className:"p-4",children:e==null?void 0:e.features.map((a,r)=>s.jsxs("div",{className:"flex items-start gap-3 text-sm mb-2",children:[s.jsx(f,{className:"min-w-4 min-h-4 max-w-4 max-h-4 mt-0.5 customtext-primary"}),s.jsx("span",{children:a.feature})]},r))})]})]})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-[99]",children:s.jsx("div",{className:"p-4 flex gap-4",children:s.jsx("button",{onClick:()=>{_()},className:"flex-1 bg-primary text-white py-3 rounded-full font-medium active:scale-95 transition-transform",children:"Quiero Cotizar"})})})]}),s.jsx("div",{className:"px-primary 2xl:max-w-7xl 2xl:px-0 mx-auto py-12  hidden md:block font-paragraph",children:s.jsx("div",{className:"bg-white rounded-xl  ",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("button",{onClick:()=>b({url:e==null?void 0:e.image,type:"main"}),className:`w-16 h-16  rounded-lg p-2 border-2 ${d.url===(e==null?void 0:e.image)?"border-primary ":"border-gray-200"}`,children:s.jsx("img",{src:`/storage/images/item/${e==null?void 0:e.image}`,alt:"Main Thumbnail",className:"w-full h-full object-contain",onError:a=>a.target.src="/api/cover/thumbnail/null"})}),e==null?void 0:e.images.filter((a,r,l)=>r===l.findIndex(o=>o.url===a.url)).map((a,r)=>s.jsx("button",{onClick:()=>b({url:a.url,type:"gallery"}),className:`w-16 h-16 border-2 rounded-lg p-2 ${d.url===a.url?"border-primary":"border-gray-200"}`,children:s.jsx("img",{src:`/storage/images/item/${a.url}`,alt:`Thumbnail ${r+1}`,className:"w-full h-full object-contain",onError:l=>l.target.src="/api/cover/thumbnail/null"})},r))]}),s.jsx("div",{className:"flex-1",children:s.jsx("img",{src:d.type==="main"?`/storage/images/item/${d.url}`:`/storage/images/item/${d.url}`,onError:a=>a.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full h-auto object-contain"})})]}),s.jsx("div",{className:"flex lg:hidden gap-8 border-b-2 pb-8",children:s.jsxs("div",{className:" w-full ",children:[s.jsxs("p",{className:"text-sm customtext-primary mb-1",children:["Precio:"," ",s.jsxs("span",{className:"line-through line-clamp-1",children:["S/ ",e==null?void 0:e.price]})]}),s.jsxs("div",{className:"flex items-center gap-4 ",children:[s.jsxs("span",{className:"text-[40px] font-bold line-clamp-1",children:["S/ ",e==null?void 0:e.final_price]}),s.jsxs("span",{className:"bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl",children:["-",Number(e==null?void 0:e.discount_percent).toFixed(1),"%"]})]}),s.jsx("div",{className:"mt-4",children:s.jsx("div",{className:"flex items-center gap-4 mb-2",children:s.jsxs("div",{className:"flex items-center space-x-4 customtext-primary text-sm",children:[s.jsx("span",{className:"",children:"Cantidad"}),s.jsx("div",{className:"relative flex items-center border rounded-md px-2 py-1",children:s.jsx("input",{type:"number",value:N,onChange:M,min:"1",max:"10",className:"w-10 py-1 customtext-neutral-dark text-center bg-transparent outline-none appearance-none"})}),s.jsx("span",{className:"",children:"Máximo 10 unidades."})]})})}),s.jsx("button",{onClick:()=>{W(e)},className:"w-full bg-primary text-white py-3 font-bold shadow-lg rounded-xl hover:opacity-90 transition-all duration-300 mt-4",children:"Quiero Cotizar"})]})}),s.jsx("div",{className:"block lg:hidden flex-1 w-full ",children:s.jsxs("div",{className:"bg-[#F7F9FB] rounded-lg p-6",children:[s.jsx("h3",{className:"font-medium text-sm mb-4",children:"Especificaciones principales"}),s.jsx("ul",{className:`space-y-2  customtext-primary mb-4 transition-all duration-300 ${t?"max-h-full":"max-h-24 overflow-hidden"}`,style:{listStyleType:"disc"},children:e==null?void 0:e.specifications.map((a,r)=>a.type==="principal"&&s.jsxs("li",{className:"flex gap-2",children:[s.jsx(f,{className:"customtext-primary"}),a.description]},r))}),s.jsxs("button",{className:"customtext-primary text-sm font-semibold hover:underline flex items-center gap-1 transition-all duration-300",onClick:()=>y(!t),children:[t?"Ver menos":"Ver más especificaciones",t?s.jsx(rs,{className:"w-4 h-4"}):s.jsx(h,{className:"w-4 h-4"})]})]})})]}),s.jsxs("div",{className:"hidden md:block font-paragraph",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"font-paragraph flex customtext-primary items-center gap-8 text-sm mb-6",children:[s.jsxs("span",{className:"customtext-primary text-sm",children:["SKU:"," ",s.jsx("span",{className:"customtext-neutral-dark font-medium",children:e==null?void 0:e.sku})]}),s.jsxs("span",{className:"ustomtext-neutral-light text-sm",children:["Disponibilidad:"," ",s.jsx("span",{className:"customtext-neutral-dark  font-medium",children:(e==null?void 0:e.stock)>0?"En stock":"Agotado"})]})]}),s.jsx("h1",{className:"customtext-neutral-dark text-[60px] font-title font-bold mt-2",children:e==null?void 0:e.name})]}),s.jsxs("div",{className:"flex flex-col gap-8 pb-8",children:[s.jsx("div",{className:" w-full ",children:s.jsxs("div",{className:"flex gap-8",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm customtext-primary mb-1 font-bold",children:["Precio:"," ",s.jsxs("span",{className:"line-through",children:["S/ ",e==null?void 0:e.price]})]}),s.jsx("div",{className:"flex items-center gap-4 relative customtext-neutral-dark font-extrabold",children:s.jsxs("span",{className:"text-[40px] font-bold ",children:["S/ ",e==null?void 0:e.final_price]})})]}),s.jsx("div",{className:"flex items-center gap-4 mt-4",children:s.jsxs("span",{className:" bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl",children:["-",Number(e==null?void 0:e.discount_percent).toFixed(0),"%"]})})]})}),s.jsxs("div",{children:[s.jsxs("p",{className:"customtext-primary text-sm",children:["Categoría:"," ",s.jsx("span",{className:"customtext-neutral-dark font-medium",children:(I=e==null?void 0:e.category)==null?void 0:I.name})]}),s.jsxs("p",{className:"customtext-primary text-sm",children:["Marca:"," ",s.jsx("span",{className:"customtext-neutral-dark font-medium",children:(R=e==null?void 0:e.brand)==null?void 0:R.name})]})]}),s.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Descripción"}),s.jsx("div",{className:"customtext-neutral-dark",dangerouslySetInnerHTML:{__html:e==null?void 0:e.description}}),s.jsx("div",{className:"flex-1 w-full ",children:s.jsxs("div",{className:"bg-secondary rounded-lg p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-4 customtext-neutral-dark",children:"Características"}),s.jsx("ul",{className:`space-y-2  customtext-primary mb-4 transition-all duration-300 ${t?"max-h-full":"max-h-full overflow-hidden"}`,style:{listStyleType:"disc"},children:e==null?void 0:e.features.map((a,r)=>a.type==="principal"&&s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(f,{className:"customtext-primary min-h-4 min-w-4 max-h-4 max-w-4"}),a.feature]},r))})]})}),s.jsx("button",{onClick:()=>{_()},className:"w-full bg-primary text-white py-3 font-bold shadow-lg rounded-full hover:opacity-90 transition-all duration-300 mt-4",children:"Cotizar este producto"})]}),s.jsx(z.div,{variants:Q,className:"w-full mt-5",children:s.jsxs(z.div,{className:"bg-secondary flex flex-row rounded-xl p-5 gap-3",whileHover:{y:-2},children:[s.jsx("img",{src:"/assets/img/whatsapp.svg",onError:a=>a.target.src="assets/img/noimage/no_imagen_circular.png",className:"w-12 h-12 object-contain",loading:"lazy"}),s.jsx("div",{className:"customtext-neutral-dark cursor-pointer font-font-general text-base 2xl:text-lg font-semibold",children:s.jsxs("p",{children:["¿Tienes dudas sobre este producto? Haz"," ",s.jsx("a",{className:"underline",onClick:O,children:"clic aquí"})," ","y chatea con nosotros por WhatsApp"]})})]})})]})]})})}),v.length>0&&s.jsx(ss,{data:{title:"Te puede interesar",style_offer:"circle",background:"",class_button_primary:"lg:bg-primary",class_button:"bg-accent customtext-netrual-dark !font-semibold",class_section:"bg-secondary",text_button:"Ir a catalogo",link_catalog:"/catalogo"},items:v,cart:c,setCart:i,favorites:F,setFavorites:A,textcolor:"customtext-neutral-dark"}),s.jsx(Z,{data:E,cart:c,setCart:i,modalOpen:g,setModalOpen:p})]})};export{Xs as default};

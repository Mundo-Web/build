import{j as n}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BOnQTV8N.js";import{a as se}from"./adjustTextColor-DJKJvkxA.js";import{G as b}from"./Global-DWbVqTT_.js";import{T as re}from"./TextWithHighlight-ByFNYMgN.js";import{A as R}from"./index-BZvh78jk.js";import{m as g}from"./proxy-B0QLMKEh.js";import{T as ie}from"./tag-Dgi-uTqk.js";import{M as oe}from"./message-circle-t1YvztHi.js";import{C as le}from"./chevron-left-JcR9Fe4w.js";import{C as ce}from"./chevron-right-Cug7tVUE.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./createLucideIcon-DfjclApS.js";const ke=({items:d,data:e,generals:h=[]})=>{console.log("data slider",e);const k=(e==null?void 0:e.animation_slider)==="true"||(e==null?void 0:e.animation_slider)==="si"||(e==null?void 0:e.animation_slider)===!0?{initial:{scale:1,opacity:1},animate:{scale:[1,1.2,1],x:[1,-50,1],opacity:1,transition:{duration:20,repeat:1/0,repeatType:"loop"}},exit:{scale:1,opacity:.8,transition:{duration:.3,ease:"easeInOut"}}}:{initial:{scale:1,opacity:1},animate:{scale:[1,1,1],opacity:1,transition:{duration:20}},exit:{scale:1,opacity:.8,transition:{duration:.3,ease:"easeInOut"}}},X={initial:{opacity:0,y:60,scale:.8},animate:{opacity:1,y:0,scale:1,transition:{duration:.8,delay:.8,ease:"easeOut"}},exit:{opacity:0,y:-30,scale:.9,transition:{duration:.4,ease:"easeInOut"}}},L={initial:{opacity:0,y:40,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)",transition:{duration:.7,delay:1.3,ease:"easeOut"}},exit:{opacity:0,y:-20,filter:"blur(8px)",transition:{duration:.3,ease:"easeInOut"}}},O={initial:{opacity:0,y:40,scale:.9},animate:{opacity:1,y:0,scale:1,transition:{duration:.6,delay:1.6,ease:"easeOut"}},exit:{opacity:0,y:20,scale:.8,transition:{duration:.2,ease:"easeInOut"}}},D={initial:{},animate:{transition:{staggerChildren:.1}},exit:{}},S=(t=>{const s=["true","si"],r=["false","no"];return s.includes(t==null?void 0:t.toLowerCase())?!0:(r.includes(t==null?void 0:t.toLowerCase()),!1)})(e==null?void 0:e.infiniteLoop),v=h==null?void 0:h.find(t=>t.correlative==="phone_whatsapp"),j=h==null?void 0:h.find(t=>t.correlative==="message_whatsapp"),N=(v==null?void 0:v.description)??null,V=(j==null?void 0:j.description)??null,[i,m]=l.useState(1),o=l.useRef(null),c=l.useRef(!1),y=l.useRef(0),a=l.useRef(0);console.log("sliders",d);const f=(d==null?void 0:d.sort((t,s)=>(t.order_index||0)-(s.order_index||0)))||[],u=[f[f.length-1],...f,f[0]],B=["center","left","right"],W=["yes","true","si"],T=B.includes(e==null?void 0:e.paginationAlignment),C=T?e==null?void 0:e.paginationAlignment:"center",I=W.includes(e==null?void 0:e.showNavigation);I&&(e==null||e.navigationAlignment);const w=()=>{m(t=>(t+1)%u.length)},_=()=>{m(t=>t===0?u.length-1:t-1)},M=t=>{let s=t.target;for(;s;){if(s.tagName==="A"||s.tagName==="BUTTON")return!0;s=s.parentElement}return!1},z=t=>{M(t)||(c.current=!0,y.current=t.touches[0].pageX,o.current.style.transition="none")},U=t=>{if(!c.current)return;const s=t.touches[0].pageX-y.current;a.current=-i*100+s/window.innerWidth*100,o.current.style.transform=`translateX(${a.current}%)`},H=t=>{if(!c.current)return;c.current=!1,o.current.style.transition="transform 0.5s ease-in-out",Math.abs((a.current+i*100)*(window.innerWidth/100))>20?a.current>-i*100?_():w():m(i),o.current.style.transform=`translateX(-${i*100}%)`},q=t=>{M(t)||(c.current=!0,y.current=t.pageX,o.current.style.transition="none")},G=t=>{if(!c.current)return;const s=t.pageX-y.current;a.current=-i*100+s/window.innerWidth*100,o.current.style.transform=`translateX(${a.current}%)`},A=t=>{if(!c.current)return;c.current=!1,o.current.style.transition="transform 0.5s ease-in-out",Math.abs((a.current+i*100)*(window.innerWidth/100))>20?a.current>-i*100?_():w():m(i),o.current.style.transform=`translateX(-${i*100}%)`},J=()=>{c.current&&A()};S&&l.useEffect(()=>{const t=setInterval(()=>{w()},5e3);return()=>clearInterval(t)},[i]),l.useEffect(()=>{i===0?setTimeout(()=>{o.current.style.transition="none",m(u.length-2),requestAnimationFrame(()=>{o.current.style.transform=`translateX(-${(u.length-2)*100}%)`,setTimeout(()=>{o.current.style.transition="transform 0.5s ease-in-out"},50)})},500):i===u.length-1&&setTimeout(()=>{o.current.style.transition="none",m(1),requestAnimationFrame(()=>{o.current.style.transform="translateX(-100%)",setTimeout(()=>{o.current.style.transition="transform 0.5s ease-in-out"},50)})},500)},[i]);const E=l.useRef([]);l.useEffect(()=>{E.current.forEach(t=>{t&&se(t)})},[f]);const[$,K]=l.useState(!1),Q=t=>{const s=new window.Image;s.crossOrigin="Anonymous",s.src=t,s.onload=function(){const r=document.createElement("canvas");r.width=s.width,r.height=s.height;const P=r.getContext("2d");P.drawImage(s,0,0,s.width,s.height);const p=P.getImageData(0,0,r.width,r.height);let F=0;for(let x=0;x<p.data.length;x+=4){const Z=p.data[x],ee=p.data[x+1],te=p.data[x+2],ne=(Z*299+ee*587+te*114)/1e3;F+=ne}const Y=F/(p.data.length/4);K(Y<128)}};return l.useEffect(()=>{const t=u[i];t!=null&&t.bg_image&&Q(`/storage/images/slider/${t.bg_image}`)},[i,u]),n.jsxs("div",{className:`relative w-full mx-auto ${(e==null?void 0:e.class_slider)||""}`,children:[n.jsx("div",{className:`overflow-hidden relative cursor-grab ease ${(e==null?void 0:e.class_slider)||""}`,onMouseDown:q,onMouseMove:G,onMouseUp:A,onMouseLeave:J,onTouchStart:z,onTouchMove:U,onTouchEnd:H,children:n.jsx("div",{ref:o,className:`flex ${(e==null?void 0:e.class_slider)||""}`,style:{transform:`translateX(-${i*100}%)`,transition:"transform 0.5s ease-in-out"},children:u.map((t,s)=>n.jsxs("div",{className:`w-full min-h-[calc(100dvh-20dvh)] lg:h-auto flex-shrink-0 relative ${(e==null?void 0:e.class_slider)||""}`,children:[n.jsx(R,{children:i===s&&n.jsxs(n.Fragment,{children:[n.jsx(g.img,{src:`/storage/images/slider/${t.bg_image||"undefined"}`,alt:t.name,loading:"lazy",className:`hidden md:block absolute top-0 left-0 h-full md:h-full w-screen md:w-full object-cover ${(e==null?void 0:e.imageBgPosition)||"object-right-25"} md:object-center z-0 md:mr-20 lg:mr-0`,variants:k,initial:"initial",animate:"animate",exit:"exit",onClick:r=>window.location=t==null?void 0:t.button_link},`image-desktop-${s}`),n.jsx(g.img,{src:`/storage/images/slider/${t.bg_image_mobile||t.bg_image||"undefined"}`,alt:t.name,loading:"lazy",className:`block md:hidden absolute top-0 left-0 h-full w-screen object-cover ${(e==null?void 0:e.imageBgPosition)||"object-right-25"} z-0`,variants:k,initial:"initial",animate:"animate",exit:"exit",onClick:r=>window.location=t==null?void 0:t.button_link},`image-mobile-${s}`)]})}),(e==null?void 0:e.only_image)&&n.jsxs(n.Fragment,{children:[(e==null?void 0:e.overlayMobile)&&n.jsx("div",{className:"md:hidden absolute inset-0 bg-gradient-to-b from-transparent to-white"}),(e==null?void 0:e.overlayMobileDark)&&n.jsx("div",{className:"md:hidden absolute inset-0 bg-gradient-to-b from-transparent to-black"}),(e==null?void 0:e.overlayDesktop)&&n.jsx("div",{className:" absolute inset-0 bg-gradient-to-l from-transparent via-black/60 to-black/80"}),n.jsx("div",{className:`relative w-full px-primary 2xl:px-0 2xl:max-w-7xl  mx-auto  h-[calc(100dvh-20dvh)] md:h-[600px] flex flex-col items-start justify-center md:justify-center ${$?"text-white":"customtext-neutral-dark"} ${(e==null?void 0:e.class_slider)||""}`,children:n.jsx(R,{mode:"wait",children:n.jsxs(g.div,{variants:D,initial:"initial",animate:"animate",exit:"exit",className:`${b.APP_CORRELATIVE==="stechperu"?"py-10":"py-20"} flex flex-col gap-5 lg:gap-10 h-full lg:h-auto  lg:py-0 items-start justify-between lg:justify-normal lg:items-start w-full`,children:[n.jsxs("div",{children:[n.jsx(g.h2,{variants:X,className:`${b.APP_CORRELATIVE==="stechperu"?"w-6/12  md:w-full md:max-w-md text-[30px]  ":"w-full  md:w-full text-[40px]  md:max-w-lg "} font-title leading-tight sm:text-5xl md:text-6xl tracking-normal font-bold ${e==null?void 0:e.class_title}`,style:{color:t.title_color||($?"#FFFFFF":"#000000"),textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:n.jsx(re,{text:t.name,color:""})}),n.jsx(g.p,{variants:L,className:`${b.APP_CORRELATIVE==="stechperu"?"w-8/12":"w-full"} md:w-full md:max-w-md text-lg leading-tight font-paragraph ${e==null?void 0:e.class_description}`,style:{color:t.description_color||($?"#FFFFFF":"#000000"),textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:t.description})]}),t.button_text&&t.button_link&&n.jsxs(g.div,{variants:O,className:`flex flex-row gap-5 md:gap-10  w-full  ${b.APP_CORRELATIVE==="stechperu"?"justify-center lg:justify-start items-center lg:items-start":"items-start"}`,children:[n.jsxs("a",{href:t.button_link,ref:r=>E.current[s]=r,className:`bg-primary border-none flex flex-row items-center gap-3 px-10 py-4 text-base rounded-xl tracking-wide font-bold text-white ${(e==null?void 0:e.class_button_primary)||"text-white"}`,onClick:r=>{r.stopPropagation()},onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:[t.button_text,n.jsx(ie,{width:"1.25rem",className:`transform rotate-90 ${(e==null?void 0:e.class_icon_primary)||""}`})]}),(e==null?void 0:e.whatsapp_info)&&N&&n.jsxs("a",{href:`https://wa.me/${N.replace(/\D/g,"")}?text=${encodeURIComponent(V||"¡Hola! Me interesa obtener más información sobre sus productos.")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-white border-2 border-neutral-dark backdrop-blur-sm text-gray-800 flex flex-row items-center gap-3 px-6 lg:px-8 py-3 lg:py-4 text-sm lg:text-base rounded-xl tracking-wide font-bold",onClick:r=>{r.stopPropagation()},onMouseDown:r=>r.stopPropagation(),onTouchStart:r=>r.stopPropagation(),children:[n.jsx(oe,{width:"1.25rem",className:"customtext-neutral-dark"}),"Hablar con un asesor"]})]})]},`content-${i}-${t.name}`)})})]})]},`slide-${s}`))})}),I&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 ",children:n.jsx("button",{onClick:_,className:"bg-secondary rounded-r-lg text-white w-12 h-12 flex items-center justify-center",children:n.jsx(le,{width:"1rem"})})}),n.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 ",children:n.jsx("button",{onClick:w,className:"bg-secondary rounded-l-lg text-white w-12 h-12 flex items-center justify-center",children:n.jsx(ce,{width:"1rem"})})})]}),T&&n.jsx("div",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto ",children:n.jsx("div",{className:"relative",children:n.jsx("div",{className:`absolute bottom-4 ${C==="left"?"inset-x-0 left-0":C==="right"?"right-0":"left-1/2 transform -translate-x-1/2"}`,children:f.map((t,s)=>n.jsx("div",{className:`inline-flex mx-1 w-3 h-3 rounded-full ${i===s+1?"bg-white h-5 w-5 lg:w-6 lg:h-6 items-center justify-center border-2 border-primary":"bg-secondary"}`,onClick:()=>m(s+1),children:i===s+1&&n.jsx("div",{className:"w-3 h-3 bg-primary rounded-full items-center justify-center"})},`dot-${s}`))})})})]})};export{ke as default};

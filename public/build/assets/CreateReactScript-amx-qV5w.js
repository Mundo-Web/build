var S=Object.defineProperty;var E=(t,o,n)=>o in t?S(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n;var m=(t,o,n)=>E(t,typeof o!="symbol"?o+"":o,n);import{W as G}from"./index.esm-0RgdCKj2.js";import{m as p}from"./main-DKOTUah5.js";import{G as A}from"./Global-DHhdk9zW.js";/* empty css               *//* empty css              */import{G as P}from"./General-BmbBKdsB.js";import{L as R}from"./LaravelSession-Dz9cpV3l.js";const l=class l{static get(o){return this.values[o]??null}static set(o,n){this.models=[...new Set([...this.models,o])],this.values[o]=n}};m(l,"models",[]),m(l,"values",{}),m(l,"has",(o,n)=>{var s;return(s=l.values[o])==null?void 0:s[n]});let f=l,k=[];const j=(...t)=>{const o=[];return Array.isArray(t)?o.push(...t):o.push(t),!!k.find(n=>o.includes(n.name))},w=t=>{G({resolve:o=>`/${o}.jsx`,setup:({el:o,props:n})=>{var d;const s=n.initialPage.props;for(const e in s.fillable??{})s.fillable[e]&&f.set(e,s.fillable[e]);if(s!=null&&s.global)for(const e in s.global)A.set(e,s.global[e]);if(s!=null&&s.generals)for(const e in s.generals){const{correlative:i,description:r}=s.generals[e];P.set(i,r)}const u={...s==null?void 0:s.session};for(const e in u)R.set(`${e}`,u[e]);const C=(e,...i)=>{var h,g,v,y;const r=[];if(Array.isArray(e))for(const a of e)r.push(...i.map(c=>`${a}.${c}`));else r.push(...i.map(a=>`${e}.${a}`));if((g=(h=s==null?void 0:s.session)==null?void 0:h.permissions)!=null&&g.find(a=>r.includes(a.name)||a.name=="general.root"))return!0;const $=((v=s==null?void 0:s.session)==null?void 0:v.roles)??[];for(const a of $)if((y=a==null?void 0:a.permissions)!=null&&y.find(c=>r.includes(c.name)||c.name=="general.root"))return!0;return!1};k=((d=s==null?void 0:s.session)==null?void 0:d.roles)??[],p.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(p.Cookies.get("XSRF-TOKEN"))},t(o,{...s,can:C,hasRole:j}),A.APP_ENV==="local"&&document.querySelectorAll(".modal-backdrop").forEach(i=>{console.log(i),i.textContent||i.remove()})}})};export{w as C,f as F,j as h};

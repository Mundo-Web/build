import{r as e,j as a,t as l}from"./System-Bybt2Brn.js";import{I as r}from"./InputForm-EZKSO4Do.js";import{S as t}from"./send-CinIq0qs.js";import"./vendor-BiOv2i5T.js";import"./createLucideIcon-oahCLV50.js";const o=()=>{const[o,n]=e.useState({name:"",email:"",phone:"",dni:"",type:"queja",incident_date:"",order_number:"",priority:"media",description:"",files:[]}),[i,s]=e.useState(""),d=e=>{const{name:a,value:l}=e.target;n({...o,[a]:l})};return a.jsx("div",{className:" w-full px-primary mx-auto py-16 bg-[#F7F9FB]",children:a.jsxs("div",{className:"max-w-7xl mx-auto  bg-white shadow-lg rounded-2xl customtext-neutral-dark p-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-10 text-center uppercase",children:"Libro de Reclamaciones"}),a.jsxs("form",{onSubmit:async e=>{e.preventDefault();const r=new FormData;for(const a in o)if("files"===a)for(let e=0;e<o.files.length;e++)r.append("files[]",o.files[e]);else r.append(a,o[a]);try{const e=await fetch("/api/complaints",{method:"POST",body:r});if(!e.ok)throw new Error("Error al registrar el reclamo");await e.json();s("Reclamo registrado con éxito"),l.success("Solicitud enviada",{description:"Pronto nos comunicaremos contigo ¡Gracias!.",icon:a.jsx(t,{className:"h-5 w-5 text-green-500"}),duration:3e3,position:"bottom-center"})}catch(n){s("Error al registrar el reclamo: "+n.message),l.error("Solicitud rechazada",{description:n||"Lo sentimos, no se envió su solicitud.",icon:a.jsx(t,{className:"h-5 w-5 text-red-500"}),duration:3e3,position:"bottom-center"})}},className:"gap-6 grid lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-3 grid lg:grid-cols-2 gap-6",children:[a.jsx(r,{label:"Nombre Completo *",type:"text",name:"name",value:o.name,onChange:d,placeholder:"Apellidos y Nombres"}),a.jsx(r,{label:"Email *",type:"email",name:"email",value:o.email,onChange:d,placeholder:"hola@mail.com"})]}),a.jsx(r,{label:"Teléfono *",type:"number",name:"phone",value:o.phone,onChange:d,placeholder:"hola@mail.com"}),a.jsx(r,{label:"DNI *",type:"number",name:"dni",value:o.dni,onChange:d,placeholder:"DNI"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark ",children:"Tipo de Reclamo *"}),a.jsxs("select",{name:"type",onChange:d,required:!0,defaultValue:o.type,className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",children:[a.jsx("option",{value:"queja",children:"Queja"}),a.jsx("option",{value:"sugerencia",children:"Sugerencia"}),a.jsx("option",{value:"reclamo técnico",children:"Reclamo Técnico"})]})]}),a.jsx(r,{label:" Fecha del Incidente *",type:"date",name:"incident_date",value:o.incident_date,onChange:d,placeholder:"Fecha del Incidente"}),a.jsx(r,{label:"Número de Pedido *",type:"text",name:"order_number",value:o.order_number,onChange:d,placeholder:"Número de Pedido"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",children:"Prioridad *"}),a.jsxs("select",{name:"priority",onChange:d,required:!0,defaultValue:o.priority,className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300",children:[a.jsx("option",{value:"baja",children:"Baja"}),a.jsx("option",{value:"media",children:"Media"}),a.jsx("option",{value:"alta",children:"Alta"})]})]}),a.jsxs("div",{className:"lg:col-span-3 grid lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",children:"Descripción *"}),a.jsx("textarea",{name:"description",placeholder:"Descripción",onChange:d,required:!0,className:"w-full min-h-32  px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-1 customtext-neutral-dark",children:"Archivos Adjuntos"}),a.jsx("input",{type:"file",name:"files",multiple:!0,onChange:e=>{n({...o,files:e.target.files})},className:"w-full px-4 py-3 border customtext-neutral-dark  border-neutral-ligth rounded-xl focus:ring-0 focus:outline-0   transition-all duration-300"})]})]}),a.jsxs("div",{className:"lg:col-span-3 grid lg:grid-cols-2 gap-6",children:[a.jsx("div",{children:a.jsx("button",{type:"submit",className:"w-full rounded-xl font-semibold  bg-primary px-4 py-3 text-white hover:opacity-90 focus:outline-none focus:ring-2 transition-all duration-300",children:"Enviar Reclamo"})}),i&&a.jsx("div",{className:"mt-4 p-4 rounded-md "+(i.includes("éxito")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:i})]})]})]})})};export{o as default};

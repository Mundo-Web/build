import{j as a}from"./AboutSimple-Cf8x2fCZ.js";import{r as n}from"./index-BOnQTV8N.js";import{I as J}from"./ItemsRest-Dp5IKigO.js";import"./ProductCard-D_AgkLlk.js";import"./main-B6F2O9-U.js";import{S as X,a as Y}from"./BlogCarousel-DCQ9UYu0.js";import{N as Z}from"./navigation-BIDIUzpb.js";import{P as ss}from"./pagination-C411qpn9.js";/* empty css               */import"./BlogCarrusel-klwTVD05.js";import"./ProductMakita-CuTJk-0k.js";import"./ProductNavigation-C3qRptTo.js";import"./CardProductKatya-ncpmQ0JU.js";import{C as x}from"./Number2Currency-D9Rjvh76.js";import{C as as}from"./HeaderSearch-DicFuFIN.js";/* empty css              */import rs from"./ProductBananaLab-Bl2kdIQ1.js";import{C as es}from"./chevron-left-JcR9Fe4w.js";import{C as ls}from"./chevron-right-Cug7tVUE.js";import{C as j}from"./chevron-down-uIVDLcM-.js";import{C as b}from"./circle-check-DW_TmQ0Z.js";import{C as ns}from"./chevron-up-Mt3xll-e.js";import{m as I}from"./proxy-B0QLMKEh.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-BML1C-ua.js";import"./BooleanLimit-D-OsQsek.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./create-element-if-not-defined-DUWlnlug.js";import"./eye-ScgfreHn.js";import"./createLucideIcon-DfjclApS.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./General-BmbBKdsB.js";import"./PolicyModal-C80IvD61.js";import"./index-Chjiymov.js";import"./CartItemRow-FwA1YhUV.js";import"./tippy-react.esm-DmkRJDEW.js";import"./package-DBFPPBi1.js";import"./trash-2-DU7LB6-f.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./index-BZvh78jk.js";import"./autoplay-BjAsSK2h.js";import"./CardProductBananaLab-BUm-y7Jg.js";import"./HeaderBananaLab-0tFT126_.js";import"./shopping-bag-C59bLmNC.js";import"./x-fof_H3Vv.js";import"./shopping-cart-DLRnxGTD.js";import"./arrow-right-MB8dWH_Y.js";import"./heart-DG8R4_Y8.js";import"./circle-chevron-right-Cragr8lM.js";import"./circle-check-big-CYWUGR3Z.js";import"./use-in-view-DtBxy-1R.js";const oa=({item:s,data:T,setCart:p,cart:d,generals:u,favorites:A,setFavorites:P})=>{var R,z,F;const g=new J,i=r=>Number(r).toLocaleString("es-PE",{minimumFractionDigits:2,maximumFractionDigits:2}),[N,h]=n.useState(!1),[t,y]=n.useState({url:s==null?void 0:s.image,type:"main"}),[v,D]=n.useState(1),M=r=>{let e=parseInt(r.target.value,10);(isNaN(e)||e<1)&&(e=1),e>10&&(e=10),D(e)},[m,W]=n.useState(!1),U=r=>{const e=structuredClone(d),l=e.findIndex(o=>o.id==r.id);l==-1?e.push({...r,quantity:v}):e[l].quantity++,p(e),h(!N),setTimeout(()=>h(!1),3e3)},[w,q]=n.useState([]);d==null||d.find(r=>r.id==(s==null?void 0:s.id)),n.useEffect(()=>{s!=null&&s.id&&(L(s),H(s))},[s]);const H=async r=>{try{const e={id:r==null?void 0:r.id};if(console.log(e),!await g.updateViews(e))return}catch{return}},L=async r=>{try{const e={id:r==null?void 0:r.id},l=await g.productsRelations(e);if(!l)return;const o=l;q(Object.values(o)),console.log(o)}catch{return}},[c,k]=n.useState(!1),C=n.useRef(null);n.useRef(null);const S=n.useRef(null),_=n.useRef(null),f=u==null?void 0:u.find(r=>r.correlative==="phone_whatsapp"),$=f==null?void 0:f.description,O=encodeURIComponent(`¡Hola! Tengo dudas sobre este producto: ${s==null?void 0:s.name}`),V=`https://wa.me/${$}?text=${O}`,B=()=>{window.open(V,"_blank")},Q=encodeURIComponent(`¡Hola! Me gustaría cotizar este producto: ${s==null?void 0:s.name}`),K=`https://wa.me/${$}?text=${Q}`,E=()=>{window.open(K,"_blank")},G={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"md:hidden  min-h-screen font-paragraph",children:[a.jsx("div",{className:"sticky top-0 bg-white shadow-sm z-20",children:a.jsx("div",{className:"flex items-center p-4 gap-4 border-b",children:a.jsx("h1",{className:"text-lg font-bold flex-1 line-clamp-5",children:s==null?void 0:s.name})})}),a.jsxs("div",{className:"p-4 pb-10",children:[a.jsxs("div",{className:"relative aspect-square mb-4 rounded-2xl overflow-hidden shadow-lg",children:[a.jsx(X,{ref:C,modules:[Z,ss],navigation:{prevEl:S.current,nextEl:_.current},pagination:{clickable:!0,renderBullet:(r,e)=>`<span class="${e} !w-2 !h-2 !bg-white/50 !mx-1"></span>`},loop:!0,onSwiper:r=>{C.current=r},className:"h-full",children:[s==null?void 0:s.image,...s==null?void 0:s.images].filter((r,e,l)=>e===l.findIndex(o=>(o==null?void 0:o.url)===(r==null?void 0:r.url))).map((r,e)=>a.jsx(Y,{children:a.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:a.jsx("img",{src:`/storage/images/item/${(r==null?void 0:r.url)||r}`,className:"w-full h-full object-contain",loading:"lazy",onError:l=>l.target.src="/api/cover/thumbnail/null"})})},e))}),a.jsxs("div",{className:"absolute top-1/2 w-full flex justify-between px-2 transform -translate-y-1/2 z-10",children:[a.jsx("button",{ref:S,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/80 shadow-lg hover:scale-110 transition-transform",children:a.jsx(es,{className:"text-gray-800",size:20})}),a.jsx("button",{ref:_,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/80 shadow-lg hover:scale-110 transition-transform",children:a.jsx(ls,{className:"text-gray-800",size:20})})]})]}),a.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm mb-4",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-3xl font-bold customtext-primary",children:[x()," ",i(s==null?void 0:s.final_price),a.jsxs("span",{className:"ml-2 text-sm line-through text-gray-400",children:[x()," ",i(s==null?void 0:s.price)]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["SKU: ",s==null?void 0:s.sku]})]}),a.jsxs("div",{className:"bg-secondary customtext-primary px-3 py-1 rounded-full text-sm",children:[Number(s==null?void 0:s.discount_percent).toFixed(0),"% OFF"]})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"border-b",children:a.jsxs("button",{onClick:()=>W(!m),className:"w-full p-4 flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Descripción del producto"}),a.jsx(j,{className:`transform transition-transform ${m?"rotate-180":""}`})]})}),m&&a.jsxs("div",{className:"p-4",children:[a.jsx("div",{dangerouslySetInnerHTML:{__html:s==null?void 0:s.description}}),a.jsx("ul",{className:"list-disc pl-5 mt-2",children:(R=s==null?void 0:s.features)==null?void 0:R.map((r,e)=>a.jsx("li",{className:"text-sm",children:r.feature},e))})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"border-b",children:a.jsxs("button",{onClick:()=>k(!c),className:"w-full p-4 flex justify-between items-center",children:[a.jsx("span",{className:"font-medium",children:"Características"}),a.jsx(j,{className:`transform transition-transform ${c?"rotate-180":""}`})]})}),c&&a.jsx("div",{className:"p-4",children:s==null?void 0:s.features.map((r,e)=>a.jsxs("div",{className:"flex items-start gap-3 text-sm mb-2",children:[a.jsx(b,{className:"min-w-4 min-h-4 max-w-4 max-h-4 mt-0.5 customtext-primary"}),a.jsx("span",{children:r.feature})]},e))})]})]})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-[99]",children:a.jsx("div",{className:"p-4 flex gap-4",children:a.jsx("button",{onClick:()=>{E()},className:"flex-1 bg-primary text-white py-3 rounded-full font-medium active:scale-95 transition-transform",children:"Quiero Cotizar"})})})]}),a.jsx("div",{className:"px-primary 2xl:max-w-7xl 2xl:px-0 mx-auto py-12  hidden md:block font-paragraph",children:a.jsx("div",{className:"bg-white rounded-xl  ",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-6",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx("button",{onClick:()=>y({url:s==null?void 0:s.image,type:"main"}),className:`w-16 h-16  rounded-lg p-2 border-2 ${t.url===(s==null?void 0:s.image)?"border-primary ":"border-gray-200"}`,children:a.jsx("img",{src:`/storage/images/item/${s==null?void 0:s.image}`,alt:"Main Thumbnail",className:"w-full h-full object-contain",onError:r=>r.target.src="/api/cover/thumbnail/null"})}),s==null?void 0:s.images.filter((r,e,l)=>e===l.findIndex(o=>o.url===r.url)).map((r,e)=>a.jsx("button",{onClick:()=>y({url:r.url,type:"gallery"}),className:`w-16 h-16 border-2 rounded-lg p-2 ${t.url===r.url?"border-primary":"border-gray-200"}`,children:a.jsx("img",{src:`/storage/images/item/${r.url}`,alt:`Thumbnail ${e+1}`,className:"w-full h-full object-contain",onError:l=>l.target.src="/api/cover/thumbnail/null"})},e))]}),a.jsx("div",{className:"flex-1",children:a.jsx("img",{src:t.type==="main"?`/storage/images/item/${t==null?void 0:t.url}`:`/storage/images/item/${t==null?void 0:t.url}`,onError:r=>r.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full min-h-[600px] max-h-[600px] object-cover"})})]}),a.jsx("div",{className:"flex lg:hidden gap-8 border-b-2 pb-8",children:a.jsxs("div",{className:" w-full ",children:[(s==null?void 0:s.discount)>0&&(s==null?void 0:s.discount)<(s==null?void 0:s.price)&&a.jsxs("p",{className:"text-sm customtext-primary mb-1",children:["Precio:"," ",a.jsxs("span",{className:"line-through line-clamp-1",children:[x()," ",i(s==null?void 0:s.price)]})]}),a.jsxs("div",{className:"flex items-center gap-4 ",children:[a.jsxs("span",{className:"text-[40px] font-bold line-clamp-1",children:[x()," ",i(s==null?void 0:s.final_price)]}),(s==null?void 0:s.discount)>0&&(s==null?void 0:s.discount)<(s==null?void 0:s.price)&&a.jsxs("span",{className:"bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl",children:["-",Number(s==null?void 0:s.discount_percent).toFixed(1),"%"]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"flex items-center gap-4 mb-2",children:a.jsxs("div",{className:"flex items-center space-x-4 customtext-primary text-sm",children:[a.jsx("span",{className:"",children:"Cantidad"}),a.jsx("div",{className:"relative flex items-center border rounded-md px-2 py-1",children:a.jsx("input",{type:"number",value:v,onChange:M,min:"1",max:"10",className:"w-10 py-1 customtext-neutral-dark text-center bg-transparent outline-none appearance-none"})}),a.jsx("span",{className:"",children:"Máximo 10 unidades."})]})})}),a.jsx("button",{onClick:()=>{U(s)},className:"w-full bg-primary text-white py-3 font-bold shadow-lg rounded-xl hover:opacity-90 transition-all duration-300 mt-4",children:"Quiero Cotizar"})]})}),a.jsx("div",{className:"block lg:hidden flex-1 w-full ",children:a.jsxs("div",{className:"bg-[#F7F9FB] rounded-lg p-6",children:[a.jsx("h3",{className:"font-medium text-sm mb-4",children:"Especificaciones principales"}),a.jsx("ul",{className:`space-y-2  customtext-primary mb-4 transition-all duration-300 ${c?"max-h-full":"max-h-24 overflow-hidden"}`,style:{listStyleType:"disc"},children:s==null?void 0:s.specifications.map((r,e)=>r.type==="principal"&&a.jsxs("li",{className:"flex gap-2",children:[a.jsx(b,{className:"customtext-primary"}),r.description]},e))}),a.jsxs("button",{className:"customtext-primary text-sm font-semibold hover:underline flex items-center gap-1 transition-all duration-300",onClick:()=>k(!c),children:[c?"Ver menos":"Ver más especificaciones",c?a.jsx(ns,{className:"w-4 h-4"}):a.jsx(j,{className:"w-4 h-4"})]})]})})]}),a.jsxs("div",{className:"hidden md:block font-paragraph",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"font-paragraph flex customtext-primary items-center gap-8 text-sm mb-6",children:[a.jsxs("span",{className:"customtext-primary text-sm",children:["SKU:"," ",a.jsx("span",{className:"customtext-neutral-dark font-medium",children:s==null?void 0:s.sku})]}),a.jsxs("span",{className:"ustomtext-neutral-light text-sm",children:["Disponibilidad:"," ",a.jsx("span",{className:"customtext-neutral-dark  font-medium",children:(s==null?void 0:s.stock)>0?"En stock":"Agotado"})]})]}),a.jsx("h1",{className:"customtext-neutral-dark text-[60px] font-title font-bold mt-2",children:s==null?void 0:s.name})]}),a.jsxs("div",{className:"flex flex-col gap-8 pb-8",children:[a.jsx("div",{className:" w-full ",children:a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{children:[(s==null?void 0:s.discount)>0&&(s==null?void 0:s.discount)<(s==null?void 0:s.price)&&a.jsxs("p",{className:"text-sm customtext-primary mb-1 font-bold",children:["Precio:"," ",a.jsxs("span",{className:"line-through",children:[x()," ",i(s==null?void 0:s.price)]})]}),a.jsx("div",{className:"flex items-center gap-4 relative customtext-neutral-dark font-extrabold",children:a.jsxs("span",{className:"text-[40px] font-bold ",children:[x()," ",i(s==null?void 0:s.final_price)]})})]}),a.jsx("div",{className:"flex items-center gap-4 mt-4",children:(s==null?void 0:s.discount)>0&&(s==null?void 0:s.discount)<(s==null?void 0:s.price)&&a.jsxs("span",{className:" bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl",children:["-",Number(s==null?void 0:s.discount_percent).toFixed(0),"%"]})})]})}),a.jsxs("div",{children:[a.jsxs("p",{className:"customtext-primary text-sm",children:["Categoría:"," ",a.jsx("span",{className:"customtext-neutral-dark font-medium",children:(z=s==null?void 0:s.category)==null?void 0:z.name})]}),a.jsxs("p",{className:"customtext-primary text-sm",children:["Marca:"," ",a.jsx("span",{className:"customtext-neutral-dark font-medium",children:(F=s==null?void 0:s.brand)==null?void 0:F.name})]})]}),a.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Descripción"}),a.jsx("div",{className:"customtext-neutral-dark",dangerouslySetInnerHTML:{__html:s==null?void 0:s.description}}),a.jsx("div",{className:"flex-1 w-full ",children:a.jsxs("div",{className:"bg-secondary rounded-lg p-6",children:[a.jsx("h3",{className:"font-bold text-lg mb-4 customtext-neutral-dark",children:"Características"}),a.jsxs("ul",{className:`space-y-2  customtext-primary mb-4 transition-all duration-300 ${c?"max-h-full":"max-h-full overflow-hidden"}`,style:{listStyleType:"disc"},children:[console.log(s==null?void 0:s.specifications),s==null?void 0:s.specifications.map((r,e)=>r.type==="principal"&&a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(b,{className:"customtext-primary min-h-4 min-w-4 max-h-4 max-w-4 mt-1"}),r==null?void 0:r.description]},e))]})]})}),a.jsx("div",{className:"flex-1 w-full ",children:a.jsxs("div",{className:"bg-gray-100 rounded-lg p-6",children:[a.jsx("h3",{className:"font-bold text-lg mb-4 customtext-neutral-dark",children:"Especificaciones Técnicas"}),a.jsx("ul",{className:`space-y-2  customtext-primary mb-4 transition-all duration-300 ${c?"max-h-full":"max-h-full overflow-hidden"}`,style:{listStyleType:"disc"},children:(s==null?void 0:s.specifications.filter(r=>r.type==="general").length)>0?a.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold customtext-neutral-dark w-1/3",children:"Especificación"}),a.jsx("th",{className:"px-4 py-3 text-left text-sm font-semibold customtext-neutral-dark w-2/3",children:"Detalle"})]})}),a.jsx("tbody",{children:s==null?void 0:s.specifications.map((r,e)=>r.type==="general"&&a.jsxs("tr",{className:"border-b border-gray-100 last:border-b-0 hover:bg-gray-50 transition-colors duration-200",children:[a.jsx("td",{className:"px-4 py-3 text-sm font-medium customtext-neutral-dark align-top",children:(r==null?void 0:r.title)||"Característica"}),a.jsx("td",{className:"px-4 py-3 text-sm customtext-primary",children:r==null?void 0:r.description})]},e))})]})}):a.jsx("div",{className:"text-center py-8 text-gray-500",children:a.jsx("p",{className:"text-sm",children:"No hay especificaciones técnicas disponibles"})})})]})}),a.jsx("button",{onClick:()=>{E()},className:"w-full bg-primary text-white py-3 font-bold shadow-lg rounded-full hover:opacity-90 transition-all duration-300 mt-4",children:"Cotizar este producto"})]}),a.jsx(I.div,{variants:G,className:"w-full mt-5",children:a.jsxs(I.div,{className:"bg-secondary flex flex-row rounded-xl p-5 gap-3",whileHover:{y:-2},children:[a.jsx("img",{src:"/assets/img/whatsapp.svg",onError:r=>r.target.src="assets/img/noimage/no_imagen_circular.png",className:"w-12 h-12 object-contain",loading:"lazy"}),a.jsx("div",{className:"customtext-neutral-dark cursor-pointer font-paragraph text-base 2xl:text-lg font-semibold",children:a.jsxs("p",{children:["¿Tienes dudas sobre este producto? Haz"," ",a.jsx("a",{className:"underline",onClick:B,children:"clic aquí"})," ","y chatea con nosotros por WhatsApp"]})})]})})]})]})})}),w.length>0&&a.jsx(rs,{data:{title:"Te puede interesar",style_offer:"circle",background:"",class_button_primary:"lg:bg-primary",class_button:"bg-accent customtext-netrual-dark !font-semibold",class_section:"bg-secondary",text_button:"Ir a catalogo",link_catalog:"/catalogo"},items:w.slice(0,4),cart:d,setCart:p,favorites:A,setFavorites:P,textcolor:"customtext-neutral-dark"}),a.jsx(as,{data:T,cart:d,setCart:p,modalOpen:N,setModalOpen:h})]})};export{oa as default};

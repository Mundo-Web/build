var e=Object.defineProperty,s=(s,a,r)=>((s,a,r)=>a in s?e(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r)(s,"symbol"!=typeof a?a+"":a,r);import{c as a,j as r,r as i,s as o}from"./vendor-react-SBvaUJTK.js";import{B as c}from"./Base-BQaY-qII.js";import{C as n}from"./CreateReactScript-BZ6xEkMS.js";import{T as l}from"./Table-Bf8C5yZH.js";import{D as t}from"./DxButton-C6FT_beP.js";import{R as d}from"./ReactAppend-Ix4YwdVY.js";import{B as m}from"./BasicRest-Cgj77E-j.js";import{M as p}from"./Modal-ClgvT3ku.js";import{S as j}from"./CartKuchara-8a8jAeu-.js";import{C as h,N as x}from"./Number2Currency-BX4epFEo.js";import"./vendor-swiper-Cr_RrIb_.js";import"./Footer-BligNWSa.js";import"./TippyButton-C4KoE0lc.js";import"./Logout-BgttE_VN.js";import"./MenuItemContainer-CwLbZhxp.js";import"./Menu-CqnWUuE2.js";import"./General-ClVW7qxN.js";import"./LaravelSession-ByQnaUD3.js";import"./BooleanLimit-q2Ad9fGY.js";import"./OpenPayCardModal-C0HhlOHJ.js";const b=new class extends m{constructor(){super(...arguments),s(this,"path","admin/complaints")}},u=()=>{const e=i.useRef(),s=i.useRef(),[a,c]=i.useState(null),n=e=>{c(e),$(s.current).modal("show")},m=e=>({dni:"DNI",ce:"Carné de Extranjería",pasaporte:"Pasaporte",ruc:"RUC"}[e]||e),u=e=>({reclamo:"Reclamo",queja:"Queja"}[e]||e);return r.jsxs(r.Fragment,{children:[r.jsx(l,{gridRef:e,title:"Reclamos y Quejas",rest:b,toolBar:s=>{s.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(e.current).dxDataGrid("instance").refresh()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"code",caption:"Código",width:150},{dataField:"nombre",caption:"Nombre",cellTemplate:(e,{data:s})=>{d(e,r.jsx("span",{style:{width:"100%",cursor:"pointer"},onClick:()=>n(s),children:s.nombre}))}},{dataField:"correo_electronico",caption:"Correo"},{dataField:"tipo_documento",caption:"Tipo Doc.",cellTemplate:(e,{data:s})=>{d(e,r.jsx("span",{children:m(s.tipo_documento)}))}},{dataField:"numero_identidad",caption:"Nº Identidad"},{dataField:"tipo_reclamo",caption:"Tipo",cellTemplate:(e,{data:s})=>{const a="reclamo"===s.tipo_reclamo?"bg-warning":"bg-info";d(e,r.jsx("span",{className:`badge ${a} rounded-pill`,children:u(s.tipo_reclamo)}))}},{dataField:"monto_reclamado",caption:"Monto",dataType:"number",cellTemplate:(e,{data:s})=>{e.html(o.renderToString(r.jsx(r.Fragment,{children:r.jsxs("small",{className:"d-block ",children:[h()," ",x(s?.monto_reclamado)]})})))}},{dataField:"created_at",caption:"Fecha",dataType:"datetime",format:"yyyy-MM-dd HH:mm:ss",sortOrder:"desc"},{caption:"Acciones",cellTemplate:(s,{data:a})=>{s.append(t({className:"btn btn-xs btn-soft-dark",title:"Ver reclamo",icon:"fa fa-eye",onClick:()=>n(a)})),s.append(t({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>(async s=>{const{isConfirmed:a}=await j.fire({title:"Eliminar reclamo",text:"¿Estas seguro de eliminar este reclamo?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});if(!a)return;await b.delete(s)&&$(e.current).dxDataGrid("instance").refresh()})(a.id)}))},allowFiltering:!1,allowExporting:!1}]}),r.jsxs(p,{modalRef:s,title:"Detalle del Reclamo/Queja",size:"lg",hideFooter:!0,children:[r.jsxs("div",{className:"row",children:[r.jsxs("div",{className:"col-md-6",children:[r.jsx("h6",{className:"mb-3",children:"Datos Personales"}),r.jsxs("p",{children:[r.jsx("b",{children:"Nombre"}),":",r.jsx("span",{className:"ms-1",children:a?.nombre})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Tipo de Documento"}),":",r.jsx("span",{className:"ms-1",children:m(a?.tipo_documento)})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Número de Identidad"}),":",r.jsx("span",{className:"ms-1",children:a?.numero_identidad})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Correo"}),":",r.jsx("span",{className:"ms-1",children:a?.correo_electronico||r.jsx("i",{className:"text-muted",children:"- Sin correo -"})})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Celular"}),":",r.jsx("span",{className:"ms-1",children:a?.celular||r.jsx("i",{className:"text-muted",children:"- Sin celular -"})})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Dirección"}),":",r.jsx("span",{className:"ms-1",children:a?.direccion})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Ubicación"}),":",r.jsxs("span",{className:"ms-1",children:[a?.distrito,", ",a?.provincia,", ",a?.departamento]})]})]}),r.jsxs("div",{className:"col-md-6",children:[r.jsx("h6",{className:"mb-3",children:"Datos del Reclamo"}),r.jsxs("p",{children:[r.jsx("b",{children:"Código"}),":",r.jsx("span",{className:"ms-1 badge bg-dark",children:a?.code||r.jsx("i",{children:"Sin código"})})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Tipo"}),":",r.jsx("span",{className:"ms-1",children:u(a?.tipo_reclamo)})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Tipo de Producto"}),":",r.jsx("span",{className:"ms-1",children:a?.tipo_producto})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Descripción del Producto"}),":",r.jsx("span",{className:"ms-1",children:a?.descripcion_producto})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Monto Reclamado"}),":",r.jsxs("span",{className:"ms-1",children:["S/ ",a?.monto_reclamado]})]}),r.jsxs("p",{children:[r.jsx("b",{children:"Fecha de Ocurrencia"}),":",r.jsx("span",{className:"ms-1",children:a?.fecha_ocurrencia})]}),a?.numero_pedido&&r.jsxs("p",{children:[r.jsx("b",{children:"Número de Pedido"}),":",r.jsx("span",{className:"ms-1",children:a?.numero_pedido})]})]})]}),r.jsx("div",{className:"row mt-3",children:r.jsxs("div",{className:"col-12",children:[r.jsx("h6",{className:"mb-3",children:"Detalle del Reclamo"}),r.jsx("div",{className:"border rounded p-3 bg-light",children:a?.detalle_reclamo})]})})]})]})};n((e,s)=>{a.createRoot(e).render(r.jsx(c,{...s,title:"Reclamos y Quejas",children:r.jsx(u,{...s})}))});

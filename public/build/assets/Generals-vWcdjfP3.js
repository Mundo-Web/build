var pa=Object.defineProperty;var ha=(s,d,u)=>d in s?pa(s,d,{enumerable:!0,configurable:!0,writable:!0,value:u}):s[d]=u;var ia=(s,d,u)=>ha(s,typeof d!="symbol"?d+"":d,u);import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as h}from"./index-BOnQTV8N.js";import{L as ua,G as xa,M as va}from"./esm-Brp_9RVN.js";import{T as ba,t as C}from"./index-CeCfhSXL.js";import{B as ga}from"./Base-CroU8AbC.js";import{B as _a}from"./BasicRest-DBO1iUsn.js";import{C as ja}from"./CreateReactScript-BAP4Hghh.js";import{c as fa}from"./ReactAppend-QR5TrZfj.js";import{Q as w}from"./QuillFormGroup-ShbNmC_h.js";import{E as Na}from"./TinyMCEFormGroup-DMA_RSqT.js";import{G as oa}from"./Global-DWbVqTT_.js";import{G as ka}from"./GalleryRest-C8-B-epb.js";import{i as sa}from"./tippy-react.esm-DmkRJDEW.js";import{T as ya}from"./TextareaFormGroup-CliirJM1.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";/* empty css              */import"./Logout-BpuTJ_83.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuItemContainer-D-CNID6y.js";import"./index.esm-BX8DScGS.js";import"./index-NIGUFBhG.js";import"./CanAccess-DKJVq_mE.js";/* empty css               */import"./General-BmbBKdsB.js";import"./LaravelSession-Dz9cpV3l.js";import"./index-6sXrSHvL.js";import"./index-Chjiymov.js";class Ca extends _a{constructor(){super(...arguments);ia(this,"path","admin/generals")}async updateVisibility(u){try{const b=this.path;this.path="admin/generals/visibility";const _=await this.save({updates:u});return this.path=b,_}catch(b){throw console.error("Error updating visibility:",b),b}}}const wa=({label:s,value:d,onChange:u,height:b=400,variables:_=[]})=>e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:s}),e.jsx(Na,{apiKey:oa.API_KEY_TINYMCE,value:d,init:{height:b,plugins:["advlist","autolink","link","image","lists","charmap","preview","anchor","pagebreak","searchreplace","wordcount","visualblocks","visualchars","code","fullscreen","insertdatetime","media","table","emoticons","help"],toolbar:"undo redo | formatselect | bold italic underline forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media | table tabledelete tableprops tablerowprops tablecellprops | codesample code | removeformat | help",menubar:"file edit view insert format tools table help",image_advtab:!0,image_title:!0,relative_urls:!1,remove_script_host:!1,convert_urls:!0,automatic_uploads:!0,extended_valid_elements:"img[data-src|src|alt|style|width|height|class]",images_upload_handler:function(x){const g=new FormData;return g.append("file",x.blob()),fetch("/api/upload-image",{method:"POST",body:g}).then(o=>{if(!o.ok)throw new Error("Error en la subida");return o.json()}).then(o=>{if(o!=null&&o.location)return o.location;throw new Error("Respuesta invÃ¡lida")}).catch(o=>{throw new Error("Error al subir la imagen: "+o.message)})},content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",setup:x=>{const g=o=>(o=o.replace(/src="[^"]*({{[^}]+}})"/g,'src="$1"'),o=o.replace(/src="[^"]*(https?:\/\/[^"}]+)"/g,'src="$1"'),o=o.replace(/href="[^"]*({{[^}]+}})"/g,'href="$1"'),o=o.replace(/href="[^"]*(https?:\/\/[^"}]+)"/g,'href="$1"'),o);x.on("BeforeSetContent",function(o){o.content&&typeof o.content=="string"&&(o.content=g(o.content))}),x.on("PostProcess",function(o){o.content&&typeof o.content=="string"&&(o.content=g(o.content))})}},onEditorChange:u}),_&&_.length>0&&e.jsxs("div",{className:"mt-1 small text-muted",children:["Variables disponibles: ",_.map(x=>e.jsx("code",{className:"me-1",children:"{{"+x+"}}"},x))]})]}),ta=new Ca,ca=new ka,Ia=({generals:s,allGenerals:d,session:u,hasRootRole:b})=>{var z,W,B,Y,Q,U,J,K,Z,ee,ae,le,ie,se,te,ce,oe,re,ne,de,me,pe,he,ue,xe,ve,be,ge,_e,je,fe,Ne,ke,ye,Ce,we,Ie,Pe,qe,Xe,Se,Te,Ee,De,Ae,Fe,Ge,$e,Le,He,Me,Oe,Ve,Re,ze,We,Be,Ye,Qe,Ue,Je,Ke,Ze,ea,aa;const _=()=>{var a;return typeof b<"u"?b:((a=u==null?void 0:u.roles)==null?void 0:a.some(i=>i.name==="Root"))||!1},x=a=>s.some(i=>i.correlative===a),g={contact:["phone_contact","email_contact","support_phone","support_email","coorporative_email","phone_whatsapp","message_whatsapp"],checkout:["checkout_culqi","checkout_mercadopago","checkout_dwallet","checkout_transfer"],importation:["importation_flete","importation_seguro","importation_derecho_arancelario"],policies:["privacy_policy","terms_conditions","delivery_policy","saleback_policy"],shippingfree:["shipping_free"],pixels:["google_analytics_id","facebook_pixel_id","tiktok_pixel_id","custom_head_scripts"],oauth:["google_client_id","google_client_secret","google_oauth_enabled"]},o=a=>{const i=g[a];return i?i.some(c=>x(c)):!0},p=({correlative:a,children:i,fallback:c=null})=>x(a)?i:c,D=((z=s.find(a=>a.correlative=="location"))==null?void 0:z.description)??"0,0",N=s.filter(a=>a.correlative.endsWith("_email")&&a.correlative!=="support_email"&&a.correlative!=="coorporative_email"),[Pa,qa]=h.useState(!1),[j,ra]=h.useState(((W=N[0])==null?void 0:W.correlative)||""),[A,F]=h.useState({}),[G,I]=h.useState(!1),[P,$]=h.useState(null),[q,L]=h.useState(!1),[H,k]=h.useState(!1),[y,M]=h.useState({}),[O,V]=h.useState(!1);h.useEffect(()=>{if(!j)return;const i={purchase_summary_email:"purchase_summary",order_status_changed_email:"order_status_changed",blog_published_email:"blog_published",claim_email:"claim",password_changed_email:"password_changed",reset_password_email:"password_reset",subscription_email:"subscription",verify_account_email:"verify_account"}[j];if(!i){F({});return}I(!0),$(null),fetch(`/api/notification-variables/${i}`).then(c=>c.json()).then(c=>{F(c.variables||{}),I(!1)}).catch(c=>{$("No se pudieron cargar las variables."),I(!1)})},[j]),h.useEffect(()=>{if(_()&&d&&d.length>0){const a={};d.forEach(i=>{i&&i.correlative&&(a[i.correlative]=i.status===1||i.status==="1")}),console.log("Initialized field visibility:",a),M(a)}},[d]);const[l,t]=h.useState({email_templates:Object.fromEntries(N.map(a=>[a.correlative,a.description??""])),phones:((Q=(Y=(B=s.find(a=>a.correlative=="phone_contact"))==null?void 0:B.description)==null?void 0:Y.split(","))==null?void 0:Q.map(a=>a.trim()))??[""],emails:((K=(J=(U=s.find(a=>a.correlative=="email_contact"))==null?void 0:U.description)==null?void 0:J.split(","))==null?void 0:K.map(a=>a.trim()))??[""],cintillos:((ae=(ee=(Z=s.find(a=>a.correlative=="cintillo"))==null?void 0:Z.description)==null?void 0:ee.split(","))==null?void 0:ae.map(a=>a.trim()))??[""],copyright:((le=s.find(a=>a.correlative=="copyright"))==null?void 0:le.description)??"",address:((ie=s.find(a=>a.correlative=="address"))==null?void 0:ie.description)??"",openingHours:((se=s.find(a=>a.correlative=="opening_hours"))==null?void 0:se.description)??"",supportPhone:((te=s.find(a=>a.correlative=="support_phone"))==null?void 0:te.description)??"",supportEmail:((ce=s.find(a=>a.correlative=="support_email"))==null?void 0:ce.description)??"",coorporativeEmail:((oe=s.find(a=>a.correlative=="coorporative_email"))==null?void 0:oe.description)??"",privacyPolicy:((re=s.find(a=>a.correlative=="privacy_policy"))==null?void 0:re.description)??"",termsConditions:((ne=s.find(a=>a.correlative=="terms_conditions"))==null?void 0:ne.description)??"",deliveryPolicy:((de=s.find(a=>a.correlative=="delivery_policy"))==null?void 0:de.description)??"",salebackPolicy:((me=s.find(a=>a.correlative=="saleback_policy"))==null?void 0:me.description)??"",phoneWhatsapp:((pe=s.find(a=>a.correlative=="phone_whatsapp"))==null?void 0:pe.description)??"",messageWhatsapp:((he=s.find(a=>a.correlative=="message_whatsapp"))==null?void 0:he.description)??"",igvCheckout:((ue=s.find(a=>a.correlative=="igv_checkout"))==null?void 0:ue.description)??"",shippingFree:((xe=s.find(a=>a.correlative=="shipping_free"))==null?void 0:xe.description)??"",currency:((ve=s.find(a=>a.correlative=="currency"))==null?void 0:ve.description)??"",location:{lat:Number(D.split(",").map(a=>a.trim())[0]),lng:Number(D.split(",").map(a=>a.trim())[1])},checkout_culqi:((be=s.find(a=>a.correlative=="checkout_culqi"))==null?void 0:be.description)??"",checkout_culqi_name:((ge=s.find(a=>a.correlative=="checkout_culqi_name"))==null?void 0:ge.description)??"",checkout_culqi_public_key:((_e=s.find(a=>a.correlative=="checkout_culqi_public_key"))==null?void 0:_e.description)??"",checkout_culqi_private_key:((je=s.find(a=>a.correlative=="checkout_culqi_private_key"))==null?void 0:je.description)??"",checkout_mercadopago:((fe=s.find(a=>a.correlative=="checkout_mercadopago"))==null?void 0:fe.description)??"",checkout_mercadopago_name:((Ne=s.find(a=>a.correlative=="checkout_mercadopago_name"))==null?void 0:Ne.description)??"",checkout_mercadopago_public_key:((ke=s.find(a=>a.correlative=="checkout_mercadopago_public_key"))==null?void 0:ke.description)??"",checkout_mercadopago_private_key:((ye=s.find(a=>a.correlative=="checkout_mercadopago_private_key"))==null?void 0:ye.description)??"",checkout_dwallet:((Ce=s.find(a=>a.correlative=="checkout_dwallet"))==null?void 0:Ce.description)??"",checkout_dwallet_qr:((we=s.find(a=>a.correlative=="checkout_dwallet_qr"))==null?void 0:we.description)??"",checkout_dwallet_name:((Ie=s.find(a=>a.correlative=="checkout_dwallet_name"))==null?void 0:Ie.description)??"",checkout_dwallet_description:((Pe=s.find(a=>a.correlative=="checkout_dwallet_description"))==null?void 0:Pe.description)??"",checkout_transfer:((qe=s.find(a=>a.correlative=="checkout_transfer"))==null?void 0:qe.description)??"",checkout_transfer_cci:((Xe=s.find(a=>a.correlative=="checkout_transfer_cci"))==null?void 0:Xe.description)??"",checkout_transfer_name:((Se=s.find(a=>a.correlative=="checkout_transfer_name"))==null?void 0:Se.description)??"",checkout_transfer_description:((Te=s.find(a=>a.correlative=="checkout_transfer_description"))==null?void 0:Te.description)??"",transfer_accounts:(Ee=s.find(a=>a.correlative=="transfer_accounts"))!=null&&Ee.description?JSON.parse((De=s.find(a=>a.correlative=="transfer_accounts"))==null?void 0:De.description):[{image:null,cc:"",cci:"",name:"",description:""}],importation_flete:((Ae=s.find(a=>a.correlative=="importation_flete"))==null?void 0:Ae.description)??"",importation_seguro:((Fe=s.find(a=>a.correlative=="importation_seguro"))==null?void 0:Fe.description)??"",importation_derecho_arancelario:((Ge=s.find(a=>a.correlative=="importation_derecho_arancelario"))==null?void 0:Ge.description)??"",importation_derecho_arancelario_descripcion:(($e=s.find(a=>a.correlative=="importation_derecho_arancelario_descripcion"))==null?void 0:$e.description)??"",googleAnalyticsId:((Le=s.find(a=>a.correlative=="google_analytics_id"))==null?void 0:Le.description)??"",googleTagManagerId:((He=s.find(a=>a.correlative=="google_tag_manager_id"))==null?void 0:He.description)??"",facebookPixelId:((Me=s.find(a=>a.correlative=="facebook_pixel_id"))==null?void 0:Me.description)??"",googleAdsConversionId:((Oe=s.find(a=>a.correlative=="google_ads_conversion_id"))==null?void 0:Oe.description)??"",googleAdsConversionLabel:((Ve=s.find(a=>a.correlative=="google_ads_conversion_label"))==null?void 0:Ve.description)??"",tiktokPixelId:((Re=s.find(a=>a.correlative=="tiktok_pixel_id"))==null?void 0:Re.description)??"",hotjarId:((ze=s.find(a=>a.correlative=="hotjar_id"))==null?void 0:ze.description)??"",clarityId:((We=s.find(a=>a.correlative=="clarity_id"))==null?void 0:We.description)??"",linkedinInsightTag:((Be=s.find(a=>a.correlative=="linkedin_insight_tag"))==null?void 0:Be.description)??"",twitterPixelId:((Ye=s.find(a=>a.correlative=="twitter_pixel_id"))==null?void 0:Ye.description)??"",pinterestTagId:((Qe=s.find(a=>a.correlative=="pinterest_tag_id"))==null?void 0:Qe.description)??"",snapchatPixelId:((Ue=s.find(a=>a.correlative=="snapchat_pixel_id"))==null?void 0:Ue.description)??"",customHeadScripts:((Je=s.find(a=>a.correlative=="custom_head_scripts"))==null?void 0:Je.description)??"",customBodyScripts:((Ke=s.find(a=>a.correlative=="custom_body_scripts"))==null?void 0:Ke.description)??"",googleClientId:((Ze=s.find(a=>a.correlative=="google_client_id"))==null?void 0:Ze.description)??"",googleClientSecret:((ea=s.find(a=>a.correlative=="google_client_secret"))==null?void 0:ea.description)??"",googleOauthEnabled:((aa=s.find(a=>a.correlative=="google_oauth_enabled"))==null?void 0:aa.description)??"false"}),[n,v]=h.useState("general"),R=a=>{M(i=>({...i,[a]:!i[a]}))},na=async()=>{V(!0);try{if(Object.keys(y).length===0){C.error("No hay campos para actualizar");return}const a=Object.entries(y).map(([c,r])=>({correlative:c,status:r?1:0}));console.log("Sending visibility updates:",a);const i=await ta.updateVisibility(a);console.log("Response:",i),i.success?(C.success("Visibilidad de campos actualizada correctamente"),k(!1),setTimeout(()=>{window.location.reload()},1e3)):C.error(i.message||"Error al actualizar la visibilidad de campos")}catch(a){console.error("Error details:",a),C.error("Error al actualizar la visibilidad de campos: "+a.message)}finally{V(!1)}},X=(a,i,c)=>{const{value:r}=a.target,m=[...l[c]];m[i]=r,t(f=>({...f,[c]:m}))},S=a=>{t(i=>({...i,[a]:[...i[a],""]}))},T=(a,i)=>{const c=[...l[i]];c.splice(a,1),t(r=>({...r,[i]:c}))},da=a=>{t(i=>({...i,location:{lat:a.latLng.lat(),lng:a.latLng.lng()}}))},ma=async a=>{if(a.preventDefault(),q)return;L(!0);const i=[...Object.keys(l.email_templates).map(c=>{var r;return{correlative:c,name:((r=N.find(m=>m.correlative===c))==null?void 0:r.name)||c,description:l.email_templates[c]||""}}),{correlative:"phone_contact",name:"TelÃ©fono de contacto",description:l.phones.join(",")},{correlative:"email_contact",name:"Correo de contacto",description:l.emails.join(",")},{correlative:"address",name:"DirecciÃ³n",description:l.address||""},{correlative:"cintillo",name:"Cintillo",description:l.cintillos.join(",")},{correlative:"copyright",name:"Copyright",description:l.copyright||""},{correlative:"opening_hours",name:"Horarios de atenciÃ³n",description:l.openingHours||""},{correlative:"support_phone",name:"NÃºmero de soporte",description:l.supportPhone||""},{correlative:"support_email",name:"Correo de soporte",description:l.supportEmail||""},{correlative:"coorporative_email",name:"Correo corporativo",description:l.coorporativeEmail||""},{correlative:"privacy_policy",name:"PolÃ­tica de privacidad",description:l.privacyPolicy||""},{correlative:"terms_conditions",name:"TÃ©rminos y condiciones",description:l.termsConditions||""},{correlative:"delivery_policy",name:"PolÃ­ticas de envÃ­o",description:l.deliveryPolicy||""},{correlative:"saleback_policy",name:"PolÃ­ticas de devolucion y cambio",description:l.salebackPolicy||""},{correlative:"phone_whatsapp",name:"NÃºmero de Whatsapp",description:l.phoneWhatsapp||""},{correlative:"message_whatsapp",name:"Mensaje de Whatsapp",description:l.messageWhatsapp||""},{correlative:"igv_checkout",name:"IGV en el checkout",description:l.igvCheckout||""},{correlative:"currency",name:"Moneda",description:l.currency||""},{correlative:"shipping_free",name:"Envio gratis a partir de",description:l.shippingFree||""},{correlative:"importation_flete",name:"Flete",description:l.importation_flete||""},{correlative:"importation_seguro",name:"Seguro",description:l.importation_seguro||""},{correlative:"importation_derecho_arancelario",name:"Derecho arancelario",description:l.importation_derecho_arancelario||""},{correlative:"importation_derecho_arancelario_descripcion",name:"DescripciÃ³n derecho arancelario",description:l.importation_derecho_arancelario_descripcion||""},{correlative:"checkout_culqi",name:"Habilitar Culqi",description:l.checkout_culqi||""},{correlative:"checkout_culqi_name",name:"Nombre de la cuenta de Culqi",description:l.checkout_culqi_name||""},{correlative:"checkout_culqi_public_key",name:"Llave pÃºblica de Culqi",description:l.checkout_culqi_public_key||""},{correlative:"checkout_culqi_private_key",name:"Llave privada de Culqi",description:l.checkout_culqi_private_key||""},{correlative:"checkout_mercadopago",name:"Habilitar Mercadopago",description:l.checkout_mercadopago||""},{correlative:"checkout_mercadopago_name",name:"Nombre de la cuenta de Mercadopago",description:l.checkout_mercadopago_name||""},{correlative:"checkout_mercadopago_public_key",name:"Llave pÃºblica de Mercadopago",description:l.checkout_mercadopago_public_key||""},{correlative:"checkout_mercadopago_private_key",name:"Llave privada de Mercadopago",description:l.checkout_mercadopago_private_key||""},{correlative:"checkout_dwallet",name:"Habilitar Yape/Plin",description:l.checkout_dwallet||""},{correlative:"checkout_dwallet_qr",name:"QR Yape/Plin",description:l.checkout_dwallet_qr||""},{correlative:"checkout_dwallet_name",name:"TÃ­tulo Yape/Plin",description:l.checkout_dwallet_name||""},{correlative:"checkout_dwallet_description",name:"DescripciÃ³n Yape/Plin",description:l.checkout_dwallet_description||""},{correlative:"checkout_transfer",name:"Habilitar Transferencia",description:l.checkout_transfer||""},{correlative:"transfer_accounts",name:"Cuentas Bancarias para Transferencia",description:JSON.stringify(l.transfer_accounts)},{correlative:"checkout_transfer_cci",name:"CCI Transferencia",description:l.checkout_transfer_cci||""},{correlative:"checkout_transfer_name",name:"Nombre Transferencia",description:l.checkout_transfer_name||""},{correlative:"checkout_transfer_description",name:"DescripciÃ³n Transferencia",description:l.checkout_transfer_description||""},{correlative:"location",name:"UbicaciÃ³n",description:`${l.location.lat},${l.location.lng}`},{correlative:"google_analytics_id",name:"Google Analytics ID",description:l.googleAnalyticsId||""},{correlative:"google_tag_manager_id",name:"Google Tag Manager ID",description:l.googleTagManagerId||""},{correlative:"facebook_pixel_id",name:"Facebook Pixel ID",description:l.facebookPixelId||""},{correlative:"google_ads_conversion_id",name:"Google Ads Conversion ID",description:l.googleAdsConversionId||""},{correlative:"google_ads_conversion_label",name:"Google Ads Conversion Label",description:l.googleAdsConversionLabel||""},{correlative:"tiktok_pixel_id",name:"TikTok Pixel ID",description:l.tiktokPixelId||""},{correlative:"hotjar_id",name:"Hotjar ID",description:l.hotjarId||""},{correlative:"clarity_id",name:"Microsoft Clarity ID",description:l.clarityId||""},{correlative:"linkedin_insight_tag",name:"LinkedIn Insight Tag ID",description:l.linkedinInsightTag||""},{correlative:"twitter_pixel_id",name:"Twitter Pixel ID",description:l.twitterPixelId||""},{correlative:"pinterest_tag_id",name:"Pinterest Tag ID",description:l.pinterestTagId||""},{correlative:"snapchat_pixel_id",name:"Snapchat Pixel ID",description:l.snapchatPixelId||""},{correlative:"custom_head_scripts",name:"Scripts Personalizados (Head)",description:l.customHeadScripts||""},{correlative:"custom_body_scripts",name:"Scripts Personalizados (Body)",description:l.customBodyScripts||""},{correlative:"google_client_id",name:"Google Client ID",description:l.googleClientId||""},{correlative:"google_client_secret",name:"Google Client Secret",description:l.googleClientSecret||""},{correlative:"google_oauth_enabled",name:"Habilitar Google OAuth",description:l.googleOauthEnabled||""},{correlative:"checkout_culqi",name:"Habilitar Culqi",description:l.checkout_culqi||""},{correlative:"checkout_culqi_name",name:"Nombre de la cuenta de Culqi",description:l.checkout_culqi_name||""},{correlative:"checkout_culqi_public_key",name:"Llave pÃºblica de Culqi",description:l.checkout_culqi_public_key||""},{correlative:"checkout_culqi_private_key",name:"Llave privada de Culqi",description:l.checkout_culqi_private_key||""}];try{const c=await ta.save(i);c&&console.log("Datos guardados exitosamente:",c)}catch(c){console.error("Error al guardar los datos:",c)}finally{L(!1)}};return e.jsxs("div",{children:[e.jsxs("div",{className:"card",children:[_()&&e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsx("h4",{className:"card-title mb-0",children:"ConfiguraciÃ³n General"}),e.jsxs("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:()=>k(!0),children:[e.jsx("i",{className:"fas fa-eye me-1"}),"Gestionar Visibilidad"]})]}),e.jsxs("form",{className:"card-body",onSubmit:ma,children:[e.jsxs("ul",{className:"nav nav-tabs",id:"contactTabs",role:"tablist",children:[e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="general"?"active":""}`,onClick:()=>v("general"),type:"button",role:"tab",children:"ConfiguraciÃ³n general"})}),o("contact")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="contact"?"active":""}`,onClick:()=>v("contact"),type:"button",role:"tab",children:"InformaciÃ³n de Contacto"})}),o("checkout")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="checkout"?"active":""}`,onClick:()=>v("checkout"),type:"button",role:"tab",children:"MÃ©todos de Pago"})}),o("importation")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="importation"?"active":""}`,onClick:()=>v("importation"),type:"button",role:"tab",children:"CÃ¡lculos de importaciÃ³n"})}),o("policies")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="policies"?"active":""}`,onClick:()=>v("policies"),type:"button",role:"tab",children:"PolÃ­ticas y TÃ©rminos"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="location"?"active":""}`,onClick:()=>v("location"),type:"button",role:"tab",children:"UbicaciÃ³n"})}),e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="email"?"active":""}`,onClick:()=>v("email"),type:"button",role:"tab",children:"Email"})}),o("shippingfree")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="shippingfree"?"active":""}`,onClick:()=>v("shippingfree"),type:"button",role:"tab",children:"Envio Gratis"})}),o("pixels")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="pixels"?"active":""}`,onClick:()=>v("pixels"),type:"button",role:"tab",children:"PÃ­xeles & Analytics"})}),o("oauth")&&e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx("button",{className:`nav-link ${n==="oauth"?"active":""}`,onClick:()=>v("oauth"),type:"button",role:"tab",children:"OAuth & AutenticaciÃ³n"})})]}),e.jsxs("div",{className:"tab-content",children:[e.jsx("div",{className:`tab-pane fade ${n==="email"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"email_correlative",className:"form-label",children:"Tipo de Email"}),e.jsx("select",{id:"email_correlative",className:"form-select mb-3",value:j,onChange:a=>ra(a.target.value),children:N.map(a=>e.jsx("option",{value:a.correlative,children:a.name||a.correlative},a.correlative))}),e.jsx(wa,{height:600,label:e.jsxs(e.Fragment,{children:["Plantilla de Email (HTML seguro, variables: ",e.jsx("code",{children:"{{variable}}"}),")",e.jsxs("small",{className:"d-block text-muted",children:["No se permite cÃ³digo PHP ni Blade. Solo variables seguras.",e.jsx("br",{}),G&&e.jsx("span",{children:"Cargando variables..."}),P&&e.jsx("span",{className:"text-danger",children:P}),!G&&!P&&e.jsxs(e.Fragment,{children:[e.jsx("b",{children:"Variables disponibles:"})," ",Object.keys(A).length===0?e.jsx("span",{children:"No hay variables para esta notificaciÃ³n."}):Object.entries(A).map(([a,i])=>e.jsxs("span",{style:{display:"inline-block",marginRight:8},children:[e.jsx("code",{children:`{{${a}}}`})," ",e.jsxs("span",{className:"text-muted",children:["(",i,")"]})," "]},a))]})]})]}),value:l.email_templates[j]||"",onChange:a=>t({...l,email_templates:{...l.email_templates,[j]:a}})})]})}),e.jsxs("div",{className:`tab-pane fade ${n==="general"?"show active":""}`,role:"tabpanel",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-2",children:[l.cintillos.map((a,i)=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:`cintillo-${i}`,className:"form-label",children:["Cintillo ",i+1," (No usar coma)"]}),e.jsxs("div",{className:"input-group",children:[e.jsx("textarea",{className:"form-control",id:`cintillo-${i}`,value:a,onChange:c=>X(c,i,"cintillos"),rows:"2"}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>T(i,"cintillos"),children:e.jsx("i",{className:"fa fa-trash"})})]})]},`cintillo-${i}`)),e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>S("cintillos"),children:"Agregar cintillo"})]}),e.jsx(p,{correlative:"copyright",children:e.jsxs("div",{className:"col-md-6 mb-2",children:[e.jsx("label",{htmlFor:"copyright",className:"form-label",children:"Copyright"}),e.jsx("textarea",{className:"form-control",id:"copyright",value:l.copyright,onChange:a=>t({...l,copyright:a.target.value})})]})})]}),e.jsx(p,{correlative:"address",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"address",className:"form-label",children:"DirecciÃ³n"}),e.jsx("textarea",{className:"form-control",id:"address",value:l.address,onChange:a=>t({...l,address:a.target.value}),required:!0})]})}),e.jsx(p,{correlative:"openingHours",children:e.jsx("div",{className:"mb-2",children:e.jsx(ya,{label:"Horarios de atencion",onChange:a=>t({...l,openingHours:a.target.value}),value:l.openingHours,required:!0})})}),e.jsx(p,{correlative:"igvCheckout",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{htmlFor:"igvCheckout",className:"form-label",children:["IGV",e.jsx("small",{className:"d-block text-muted",children:"Dejar en 0 si no se quiere mostrar"})]}),e.jsx("input",{type:"number",step:.01,className:"form-control",id:"igvCheckout",value:l.igvCheckout,onChange:a=>t({...l,igvCheckout:a.target.value})})]})}),e.jsx(p,{correlative:"currency",children:e.jsxs("div",{className:"mb-2",children:[e.jsxs("label",{htmlFor:"currency",className:"form-label",children:["Moneda",e.jsx("small",{className:"d-block text-muted",style:{fontWeight:"lighter"},children:"Â¿QuÃ© moneda maneja tu empresa?"})]}),e.jsxs("select",{className:"form-control",id:"currency",value:l.currency,onChange:a=>t({...l,currency:a.target.value}),children:[e.jsx("option",{value:"pen",children:"Soles (S/)"}),e.jsx("option",{value:"usd",children:"DÃ³lares ($)"})]})]})})]}),e.jsxs("div",{className:`tab-pane fade ${n==="contact"?"show active":""}`,role:"tabpanel",children:[e.jsx(p,{correlative:"phone",children:e.jsxs("div",{className:"row mb-2",children:[e.jsxs("div",{className:"col-md-6",children:[l.phones.map((a,i)=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:`phone-${i}`,className:"form-label",children:["TelÃ©fono ",i+1]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"tel",className:"form-control",id:`phone-${i}`,value:a,onChange:c=>X(c,i,"phones"),required:!0}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>T(i,"phones"),children:e.jsx("i",{className:"fa fa-trash"})})]})]},`phone-${i}`)),e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>S("phones"),children:"Agregar telÃ©fono"})]}),e.jsxs("div",{className:"col-md-6",children:[l.emails.map((a,i)=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:`email-${i}`,className:"form-label",children:["Correo ",i+1]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",id:`email-${i}`,value:a,onChange:c=>X(c,i,"emails"),required:!0}),e.jsx("button",{type:"button",className:"btn btn-outline-danger",onClick:()=>T(i,"emails"),children:e.jsx("i",{className:"fa fa-trash"})})]})]},`email-${i}`)),e.jsx("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>S("emails"),children:"Agregar correo"})]})]})}),e.jsx(p,{correlative:"support_phone",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"supportPhone",className:"form-label",children:"NÃºmero de soporte"}),e.jsx("input",{type:"tel",className:"form-control",id:"supportPhone",value:l.supportPhone,onChange:a=>t({...l,supportPhone:a.target.value}),required:!0})]})}),e.jsx(p,{correlative:"coorporative_email",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"coorporativeEmail",className:"form-label",children:"Correo corporativo"}),e.jsx("input",{type:"email",className:"form-control",id:"coorporativeEmail",value:l.coorporativeEmail,onChange:a=>t({...l,coorporativeEmail:a.target.value})})]})}),e.jsx(p,{correlative:"support_email",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"supportEmail",className:"form-label",children:"Correo de soporte"}),e.jsx("input",{type:"email",className:"form-control",id:"supportEmail",value:l.supportEmail,onChange:a=>t({...l,supportEmail:a.target.value}),required:!0})]})}),e.jsx(p,{correlative:"phone_whatsapp",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"phoneWhatsapp",className:"form-label",children:"NÃºmero de Whatsapp"}),e.jsx("input",{type:"tel",className:"form-control",id:"phoneWhatsapp",value:l.phoneWhatsapp,onChange:a=>t({...l,phoneWhatsapp:a.target.value}),required:!0})]})}),e.jsx(p,{correlative:"message_whatsapp",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"messageWhatsapp",className:"form-label",children:"Mensaje de Whatsapp"}),e.jsx("input",{type:"tel",className:"form-control",id:"messageWhatsapp",value:l.messageWhatsapp,onChange:a=>t({...l,messageWhatsapp:a.target.value}),required:!0})]})})]}),e.jsx("div",{className:`tab-pane fade ${n==="checkout"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-sm-3",children:e.jsxs("div",{className:"nav flex-column nav-pills nav-pills-tab",id:"v-pills-tab",role:"tablist","aria-orientation":"vertical",children:[e.jsx("a",{className:"nav-link active show mb-1",id:"v-culqi-tab","data-bs-toggle":"pill",href:"#v-culqi",role:"tab","aria-controls":"v-culqi","aria-selected":"true",children:"Culqi"}),e.jsx("a",{className:"nav-link mb-1",id:"v-mercadopago-tab","data-bs-toggle":"pill",href:"#v-mercadopago",role:"tab","aria-controls":"v-mercadopago","aria-selected":"false",children:"Mercado Pago"}),e.jsx("a",{className:"nav-link mb-1",id:"v-digital-wallet-tab","data-bs-toggle":"pill",href:"#v-digital-wallet",role:"tab","aria-controls":"v-digital-wallet","aria-selected":"false",children:"Yape / Plin"}),e.jsx("a",{className:"nav-link mb-1",id:"v-transfer-tab","data-bs-toggle":"pill",href:"#v-transfer",role:"tab","aria-controls":"v-transfer","aria-selected":"false",children:"Transferencia"})]})}),e.jsxs("div",{className:"col-sm-9",children:[e.jsxs("div",{className:"tab-pane fade active show",id:"v-culqi",role:"tabpanel","aria-labelledby":"v-culqi-tab",children:[e.jsx(p,{correlative:"checkout_culqi",children:e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-culqi",checked:l.checkout_culqi=="true",onChange:a=>t({...l,checkout_culqi:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-culqi",children:["Habilitar pago con Culqi",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opciÃ³n, permite pagos por Culqi "})]})]})})}),e.jsx(p,{correlative:"checkout_culqi_name",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"TÃ­tulo del formulario"}),e.jsx("input",{type:"text",className:"form-control",value:l.checkout_culqi_name,onChange:a=>t({...l,checkout_culqi_name:a.target.value})})]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave PÃºblica"}),e.jsx("input",{type:"text",className:"form-control",value:l.checkout_culqi_public_key,onChange:a=>t({...l,checkout_culqi_public_key:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Privada"}),e.jsx("input",{type:"password",className:"form-control",value:l.checkout_culqi_private_key,onChange:a=>t({...l,checkout_culqi_private_key:a.target.value})})]})]}),e.jsxs("div",{className:"tab-pane fade",id:"v-mercadopago",role:"tabpanel","aria-labelledby":"v-mercadopago-tab",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-mercadopago",checked:l.checkout_mercadopago=="true",onChange:a=>t({...l,checkout_mercadopago:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-mercadopago",children:["Habilitar pago con Mercado Pago",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opciÃ³n, permite pagos por Mercado Pago "})]})]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"TÃ­tulo del formulario"}),e.jsx("input",{type:"text",className:"form-control",value:l.checkout_mercadopago_name,onChange:a=>t({...l,checkout_mercadopago_name:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave PÃºblica"}),e.jsx("input",{type:"text",className:"form-control",value:l.checkout_mercadopago_public_key,onChange:a=>t({...l,checkout_mercadopago_public_key:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Clave Privada (Access Token)"}),e.jsx("input",{type:"password",className:"form-control",value:l.checkout_mercadopago_private_key,onChange:a=>t({...l,checkout_mercadopago_private_key:a.target.value})})]})]}),e.jsxs("div",{className:"tab-pane fade",id:"v-digital-wallet",role:"tabpanel","aria-labelledby":"v-digital-wallet-tab",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-dwallet",checked:l.checkout_dwallet=="true",onChange:a=>t({...l,checkout_dwallet:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-dwallet",children:["Habilitar pago con Yape/Plin",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opciÃ³n, permite pagos por Yape/Plin "})]})]})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"QR"}),l.checkout_dwallet_qr?e.jsxs("div",{className:"position-relative",children:[e.jsx(sa,{content:"Eliminar QR",children:e.jsx("button",{className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px"},onClick:()=>t({...l,checkout_dwallet_qr:null}),children:e.jsx("i",{className:"mdi mdi-delete"})})}),e.jsx("img",{src:`/assets/resources/${l.checkout_dwallet_qr}`,className:"img-thumbnail",style:{height:"200px",width:"auto"}})]}):e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:async a=>{const i=a.target.files[0];if(!i)return;a.target.value=null;const r=`qr-digital-wallet.${i.name.split(".").pop()}`,m=new FormData;m.append("image",i),m.append("name",r),await ca.save(m)&&t({...l,checkout_dwallet_qr:r})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"TÃ­tulo"}),e.jsx("input",{type:"text",className:"form-control",value:l.checkout_dwallet_name,onChange:a=>t({...l,checkout_dwallet_name:a.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"DescripciÃ³n"}),e.jsx("textarea",{className:"form-control",value:l.checkout_dwallet_description,onChange:a=>t({...l,checkout_dwallet_description:a.target.value})})]})]}),e.jsxs("div",{className:"tab-pane fade",id:"v-transfer",role:"tabpanel","aria-labelledby":"v-transfer-tab",children:[e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"checkout-transfer",checked:l.checkout_transfer==="true",onChange:a=>t({...l,checkout_transfer:String(a.target.checked)})}),e.jsxs("label",{className:"form-check-label form-label",htmlFor:"checkout-transfer",children:["Habilitar pago por transferencia",e.jsx("small",{className:"text-muted d-block",children:"Al habilitar esta opciÃ³n, permite pagos por transferencia"})]})]})}),l.transfer_accounts.map((a,i)=>e.jsxs("div",{className:"mb-4 p-3 border rounded",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsxs("h5",{children:["Cuenta Bancaria #",i+1]}),i>0&&e.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>{const c=[...l.transfer_accounts];c.splice(i,1),t({...l,transfer_accounts:c})},children:"Eliminar Cuenta"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Imagen de la Cuenta"}),a.image?e.jsxs("div",{className:"position-relative",children:[e.jsx(sa,{content:"Eliminar Imagen",children:e.jsx("button",{className:"position-absolute btn btn-xs btn-danger",style:{top:"5px",left:"5px"},onClick:()=>{const c=[...l.transfer_accounts];c[i].image=null,t({...l,transfer_accounts:c})},children:e.jsx("i",{className:"mdi mdi-delete"})})}),e.jsx("img",{src:`/assets/resources/${a.image}`,className:"img-thumbnail",style:{height:"200px",width:"auto"}})]}):e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:async c=>{const r=c.target.files[0];if(!r)return;c.target.value=null;const m=r.name.split(".").pop(),f=`transfer-account-${Date.now()}.${m}`,E=new FormData;if(E.append("image",r),E.append("name",f),!await ca.save(E))return;const la=[...l.transfer_accounts];la[i].image=f,t({...l,transfer_accounts:la})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"NÃºmero de Cuenta (CC)"}),e.jsx("input",{type:"text",className:"form-control",value:a.cc,onChange:c=>{const r=[...l.transfer_accounts];r[i].cc=c.target.value,t({...l,transfer_accounts:r})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"CÃ³digo de Cuenta Interbancario (CCI)"}),e.jsx("input",{type:"text",className:"form-control",value:a.cci,onChange:c=>{const r=[...l.transfer_accounts];r[i].cci=c.target.value,t({...l,transfer_accounts:r})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Nombre del Banco/Titular"}),e.jsx("input",{type:"text",className:"form-control",value:a.name,onChange:c=>{const r=[...l.transfer_accounts];r[i].name=c.target.value,t({...l,transfer_accounts:r})}})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"DescripciÃ³n"}),e.jsx("textarea",{className:"form-control",value:a.description,onChange:c=>{const r=[...l.transfer_accounts];r[i].description=c.target.value,t({...l,transfer_accounts:r})}})]})]},i)),e.jsx("button",{type:"button",className:"btn btn-primary mt-2",onClick:()=>{t({...l,transfer_accounts:[...l.transfer_accounts,{image:null,cc:"",cci:"",name:"",description:""}]})},children:"Agregar Otra Cuenta"})]})]})]})}),e.jsxs("div",{className:`tab-pane fade ${n==="policies"?"show active":""}`,role:"tabpanel",children:[e.jsx("div",{className:"mb-2",children:e.jsx(w,{label:"PolÃ­tica de privacidad",value:l.privacyPolicy,onChange:a=>t({...l,privacyPolicy:a})})}),e.jsx("div",{className:"mb-2",children:e.jsx(w,{label:"TÃ©rminos y condiciones",value:l.termsConditions,onChange:a=>t({...l,termsConditions:a})})}),e.jsx("div",{className:"mb-2",children:e.jsx(w,{label:"PolÃ­ticas de envÃ­o",value:l.deliveryPolicy,onChange:a=>t({...l,deliveryPolicy:a})})}),e.jsx("div",{className:"mb-2",children:e.jsx(w,{label:"PolÃ­ticas de devoluciÃ³n y cambio",value:l.salebackPolicy,onChange:a=>t({...l,salebackPolicy:a})})})]}),e.jsxs("div",{className:`tab-pane fade ${n==="location"?"show active":""}`,role:"tabpanel",children:[e.jsx(ua,{googleMapsApiKey:oa.GMAPS_API_KEY,children:e.jsx(xa,{mapContainerStyle:{width:"100%",height:"400px"},center:l.location,zoom:10,onClick:da,children:e.jsx(va,{position:l.location})})}),e.jsx("small",{className:"form-text text-muted",children:"Haz clic en el mapa para seleccionar la ubicaciÃ³n."})]}),e.jsx("div",{className:`tab-pane fade ${n==="shippingfree"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Envio gratis a partir de:"}),e.jsx("input",{type:"text",placeholder:"Ingrese el monto para envio gratis",className:"form-control",value:l.shippingFree,onChange:a=>t({...l,shippingFree:a.target.value})})]})}),e.jsx("div",{className:`tab-pane fade ${n==="importation"?"show active":""}`,role:"tabpanel",children:e.jsx("div",{className:"row mb-2",children:e.jsxs("div",{className:"col-12 col-sm-8 col-md-6 col-lg-4 col-xl-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"importation_flete",className:"form-label",children:"Precio por peso (flete)"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:e.jsx("i",{className:"mdi mdi-circle-multiple"})}),e.jsx("input",{type:"number",step:"0.01",className:"form-control",id:"importation_flete",value:l.importation_flete,onChange:a=>t({...l,importation_flete:a.target.value})}),e.jsx("span",{className:"input-group-text",children:"por kg"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"importation_seguro",className:"form-label",children:"Seguro de importaciÃ³n"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",step:"0.01",className:"form-control",id:"importation_seguro",value:l.importation_seguro,onChange:a=>t({...l,importation_seguro:a.target.value})}),e.jsx("span",{className:"input-group-text",children:"%"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"importation_derecho_arancelario",className:"form-label",children:"Derechos arancelarios"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",step:"0.01",className:"form-control",id:"importation_derecho_arancelario",value:l.importation_derecho_arancelario,onChange:a=>t({...l,importation_derecho_arancelario:a.target.value})}),e.jsx("span",{className:"input-group-text",children:"%"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"importation_derecho_arancelario_descripcion",className:"form-label",children:["DescripciÃ³n de derechos arancelarios",e.jsx("small",{className:"text-muted d-block",children:"QuÃ© porcentajes se estÃ¡n considerando en cÃ¡lculo de derechos arancelarios"})]}),e.jsx("textarea",{className:"form-control",id:"importation_derecho_arancelario_descripcion",value:l.importation_derecho_arancelario_descripcion,onChange:a=>t({...l,importation_derecho_arancelario_descripcion:a.target.value}),rows:3,style:{minHeight:81,fieldSizing:"content"}})]})]})})}),e.jsx("div",{className:`tab-pane fade ${n==="corporate"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label",children:"Email Corporativo Principal"}),e.jsx("input",{type:"email",placeholder:"contacto@empresa.com",className:"form-control",value:l.coorporativeEmail,onChange:a=>t({...l,coorporativeEmail:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Este email se usarÃ¡ para comunicaciones corporativas y notificaciones del sistema"})]})}),e.jsx("div",{className:`tab-pane fade ${n==="pixels"?"show active":""}`,role:"tabpanel",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("h5",{className:"mb-3",children:"Google Analytics & Ads"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Analytics ID"}),e.jsx("input",{type:"text",placeholder:"G-XXXXXXXXXX o UA-XXXXXXXX-X",className:"form-control",value:l.googleAnalyticsId,onChange:a=>t({...l,googleAnalyticsId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID de Google Analytics para tracking de visitas"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Tag Manager ID"}),e.jsx("input",{type:"text",placeholder:"GTM-XXXXXXX",className:"form-control",value:l.googleTagManagerId,onChange:a=>t({...l,googleTagManagerId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID de Google Tag Manager"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Ads Conversion ID"}),e.jsx("input",{type:"text",placeholder:"AW-XXXXXXXXX",className:"form-control",value:l.googleAdsConversionId,onChange:a=>t({...l,googleAdsConversionId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID de conversiÃ³n de Google Ads"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Ads Conversion Label"}),e.jsx("input",{type:"text",placeholder:"xxxxxxxxxxxxxxxxxxxxxxx",className:"form-control",value:l.googleAdsConversionLabel,onChange:a=>t({...l,googleAdsConversionLabel:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Etiqueta de conversiÃ³n de Google Ads"})]}),e.jsx("h5",{className:"mb-3",children:"Redes Sociales"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Facebook Pixel ID"}),e.jsx("input",{type:"text",placeholder:"XXXXXXXXXXXXXXX",className:"form-control",value:l.facebookPixelId,onChange:a=>t({...l,facebookPixelId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del pÃ­xel de Facebook"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"TikTok Pixel ID"}),e.jsx("input",{type:"text",placeholder:"XXXXXXXXXXXXXXXXX",className:"form-control",value:l.tiktokPixelId,onChange:a=>t({...l,tiktokPixelId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del pÃ­xel de TikTok"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"LinkedIn Insight Tag ID"}),e.jsx("input",{type:"text",placeholder:"XXXXXXX",className:"form-control",value:l.linkedinInsightTag,onChange:a=>t({...l,linkedinInsightTag:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del Insight Tag de LinkedIn"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("h5",{className:"mb-3",children:"Otras Plataformas"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Hotjar ID"}),e.jsx("input",{type:"text",placeholder:"XXXXXXX",className:"form-control",value:l.hotjarId,onChange:a=>t({...l,hotjarId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID de Hotjar para mapas de calor"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Microsoft Clarity ID"}),e.jsx("input",{type:"text",placeholder:"xxxxxxxxxx",className:"form-control",value:l.clarityId,onChange:a=>t({...l,clarityId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID de Microsoft Clarity"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Twitter Pixel ID"}),e.jsx("input",{type:"text",placeholder:"o1234",className:"form-control",value:l.twitterPixelId,onChange:a=>t({...l,twitterPixelId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del pÃ­xel de Twitter"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Pinterest Tag ID"}),e.jsx("input",{type:"text",placeholder:"26xxxxxxxxxxxxxxxxxx",className:"form-control",value:l.pinterestTagId,onChange:a=>t({...l,pinterestTagId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del tag de Pinterest"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Snapchat Pixel ID"}),e.jsx("input",{type:"text",placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",className:"form-control",value:l.snapchatPixelId,onChange:a=>t({...l,snapchatPixelId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"ID del pÃ­xel de Snapchat"})]}),e.jsx("h5",{className:"mb-3",children:"Scripts Personalizados"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Scripts en Head"}),e.jsx("textarea",{rows:"4",placeholder:"Scripts que se insertarÃ¡n en el <head>",className:"form-control",value:l.customHeadScripts,onChange:a=>t({...l,customHeadScripts:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Scripts personalizados para el <head>"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Scripts en Body"}),e.jsx("textarea",{rows:"4",placeholder:"Scripts que se insertarÃ¡n antes del </body>",className:"form-control",value:l.customBodyScripts,onChange:a=>t({...l,customBodyScripts:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Scripts personalizados para el final del <body>"})]})]})]})}),e.jsx("div",{className:`tab-pane fade ${n==="oauth"?"show active":""}`,role:"tabpanel",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("h5",{className:"mb-4",children:"ð ConfiguraciÃ³n de Google OAuth"}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"googleOauthEnabled",checked:l.googleOauthEnabled==="true",onChange:a=>t({...l,googleOauthEnabled:String(a.target.checked)})}),e.jsx("label",{className:"form-check-label",htmlFor:"googleOauthEnabled",children:e.jsx("strong",{children:"Habilitar inicio de sesiÃ³n con Google"})})]}),e.jsx("small",{className:"text-muted",children:"Permite a los clientes registrarse e iniciar sesiÃ³n usando su cuenta de Google"})]}),l.googleOauthEnabled==="true"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"alert alert-info",children:[e.jsx("h6",{children:"ð Instrucciones de configuraciÃ³n:"}),e.jsxs("ol",{className:"mb-0",children:[e.jsxs("li",{children:["Ve a ",e.jsx("a",{href:"https://console.cloud.google.com/",target:"_blank",rel:"noopener noreferrer",children:"Google Cloud Console"})]}),e.jsx("li",{children:"Crea un nuevo proyecto o selecciona uno existente"}),e.jsx("li",{children:'Habilita la API de "Google+ API" y "Google Sign-In API"'}),e.jsx("li",{children:'Ve a "Credenciales" â "Crear credenciales" â "ID de cliente OAuth 2.0"'}),e.jsx("li",{children:'Configura como "AplicaciÃ³n web"'}),e.jsxs("li",{children:["Agrega estos dominios autorizados:",e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"JavaScript origins:"})," ",e.jsx("code",{children:window.location.origin})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Redirect URIs:"})," ",e.jsxs("code",{children:[window.location.origin,"/auth/google/callback"]})]})]})]}),e.jsx("li",{children:"Copia el Client ID y Client Secret en los campos de abajo"})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Client ID"}),e.jsx("input",{type:"text",placeholder:"123456789-abcdefghijk.apps.googleusercontent.com",className:"form-control",value:l.googleClientId,onChange:a=>t({...l,googleClientId:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Client ID obtenido de Google Cloud Console"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Google Client Secret"}),e.jsx("input",{type:"password",placeholder:"GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxx",className:"form-control",value:l.googleClientSecret,onChange:a=>t({...l,googleClientSecret:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Client Secret obtenido de Google Cloud Console"})]})})]}),l.googleClientId&&l.googleClientSecret&&e.jsxs("div",{className:"alert alert-success",children:[e.jsx("h6",{children:"â ConfiguraciÃ³n completa"}),e.jsx("p",{className:"mb-0",children:'Una vez guardada la configuraciÃ³n, los botones de "Continuar con Google" aparecerÃ¡n automÃ¡ticamente en las pÃ¡ginas de login y registro.'})]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("h6",{children:"â ï¸ Importante para producciÃ³n:"}),e.jsx("p",{className:"mb-0",children:"Para usar en producciÃ³n, asegÃºrate de actualizar los dominios autorizados en Google Cloud Console con tu dominio real (ej: https://tudominio.com)"})]})]})]})})}),e.jsx("div",{className:`tab-pane fade ${n==="payments"?"show active":""}`,role:"tabpanel",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsx("h5",{className:"mb-4",children:"ð³ ConfiguraciÃ³n de Pasarelas de Pago"}),e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsx("h6",{className:"card-title mb-0",children:"ð Culqi - Pagos con Tarjeta"})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"culqiEnabled",checked:l.checkout_culqi==="true",onChange:a=>t({...l,checkout_culqi:String(a.target.checked)})}),e.jsx("label",{className:"form-check-label",htmlFor:"culqiEnabled",children:e.jsx("strong",{children:"Habilitar pagos con Culqi"})})]}),e.jsx("small",{className:"text-muted",children:"Permite a los clientes pagar con tarjetas de crÃ©dito/dÃ©bito, Yape, y otros mÃ©todos"})]}),l.checkout_culqi==="true"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"alert alert-info",children:[e.jsx("h6",{children:"ð Instrucciones de configuraciÃ³n:"}),e.jsxs("ol",{className:"mb-0",children:[e.jsxs("li",{children:["Ve a ",e.jsx("a",{href:"https://culqi.com",target:"_blank",rel:"noopener noreferrer",children:"Culqi.com"})," y crea una cuenta"]}),e.jsx("li",{children:"Ve al panel de Culqi â Desarrollo â Llaves API"}),e.jsxs("li",{children:["Copia la ",e.jsx("strong",{children:"Llave PÃºblica"})," y ",e.jsx("strong",{children:"Llave Privada"})]}),e.jsx("li",{children:"Para producciÃ³n, cambia a las llaves de producciÃ³n"}),e.jsx("li",{children:"Configura los webhooks si es necesario"})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Nombre de la cuenta"}),e.jsx("input",{type:"text",placeholder:"Mi Tienda",className:"form-control",value:l.checkout_culqi_name,onChange:a=>t({...l,checkout_culqi_name:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Nombre que aparecerÃ¡ en el formulario de pago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Llave PÃºblica"}),e.jsx("input",{type:"text",placeholder:"pk_test_xxxxxxxxxxxxxxxxx",className:"form-control",value:l.checkout_culqi_public_key,onChange:a=>t({...l,checkout_culqi_public_key:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Llave pÃºblica de Culqi (pk_test_ o pk_live_)"})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"Llave Privada"}),e.jsx("input",{type:"password",placeholder:"sk_test_xxxxxxxxxxxxxxxxx",className:"form-control",value:l.checkout_culqi_private_key,onChange:a=>t({...l,checkout_culqi_private_key:a.target.value})}),e.jsx("small",{className:"text-muted",children:"Llave privada de Culqi (sk_test_ o sk_live_)"})]})})}),l.checkout_culqi_public_key&&l.checkout_culqi_private_key&&e.jsxs("div",{className:"alert alert-success",children:[e.jsx("h6",{children:"â ConfiguraciÃ³n completa"}),e.jsx("p",{className:"mb-0",children:"Una vez guardada la configuraciÃ³n, los pagos con Culqi estarÃ¡n disponibles en el checkout. Los clientes podrÃ¡n pagar con tarjetas, Yape, banca mÃ³vil y otros mÃ©todos."})]}),e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("h6",{children:"â ï¸ Importante para producciÃ³n:"}),e.jsx("p",{className:"mb-0",children:"Para usar en producciÃ³n, asegÃºrate de cambiar a las llaves de producciÃ³n (pk_live_ y sk_live_) y configurar correctamente los webhooks en el panel de Culqi."})]})]})]})]}),e.jsxs("div",{className:"alert alert-info",children:[e.jsx("h6",{children:"â¹ï¸ InformaciÃ³n adicional"}),e.jsx("p",{className:"mb-2",children:"Las configuraciones de pasarelas de pago se almacenan de forma segura en la base de datos."}),e.jsxs("ul",{className:"mb-0",children:[e.jsx("li",{children:"Las llaves privadas nunca se exponen al frontend"}),e.jsx("li",{children:"Las configuraciones se pueden cambiar sin editar archivos del servidor"}),e.jsx("li",{children:"Los cambios toman efecto inmediatamente despuÃ©s de guardar"})]})]})]})})})]}),e.jsx("button",{type:"submit",className:"btn btn-primary mt-3",disabled:q,children:q?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Guardando..."]}):"Guardar"}),e.jsx(ba,{})]})]}),H&&e.jsx("div",{className:"modal fade show",style:{display:"block"},tabIndex:"-1",children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"Gestionar Visibilidad de Campos"}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>k(!1)})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("p",{className:"text-muted mb-3",children:"Selecciona quÃ© campos serÃ¡n visibles para los usuarios Admin. Los campos marcados estarÃ¡n disponibles para Admin, los desmarcados solo serÃ¡n visibles para Root."}),Object.entries(g).map(([a,i])=>{const c={email:"Email",contact:"Contacto",checkout:"Checkout",policies:"PolÃ­ticas"}[a]||a,r=(d||s).filter(m=>i.includes(m.correlative));return r.length===0?null:e.jsxs("div",{className:"mb-4",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{className:"fas fa-folder me-2"}),c]}),e.jsx("div",{className:"row",children:r.map(m=>e.jsx("div",{className:"col-md-6 mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:`field-${m.correlative}`,checked:y[m.correlative]||!1,onChange:()=>R(m.correlative)}),e.jsx("label",{className:"form-check-label",htmlFor:`field-${m.correlative}`,children:e.jsx("strong",{children:m.name})})]})},m.correlative))})]},a)}),(()=>{const a=Object.values(g).flat(),i=(d||s).filter(c=>!a.includes(c.correlative));return i.length===0?null:e.jsxs("div",{className:"mb-4",children:[e.jsxs("h6",{className:"text-secondary mb-3",children:[e.jsx("i",{className:"fas fa-question-circle me-2"}),"Otros Campos"]}),e.jsx("div",{className:"row",children:i.map(c=>e.jsx("div",{className:"col-md-6 mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:`field-${c.correlative}`,checked:y[c.correlative]||!1,onChange:()=>R(c.correlative)}),e.jsx("label",{className:"form-check-label",htmlFor:`field-${c.correlative}`,children:e.jsx("strong",{children:c.name})})]})},c.correlative))})]})})()]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>k(!1),children:"Cancelar"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:na,disabled:O,children:O?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-1"}),"Guardando..."]}):"Guardar Cambios"})]})]})})}),H&&e.jsx("div",{className:"modal-backdrop fade show"})]})};ja((s,d)=>{fa.createRoot(s).render(e.jsx(ga,{...d,title:"Datos Generales",children:e.jsx(Ia,{...d})}))});

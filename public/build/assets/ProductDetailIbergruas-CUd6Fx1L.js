import{r as e,bB as t,bH as s,bI as a,bJ as r,bK as l,bC as i,bD as n,bE as o,bF as c,j as d,bT as m,bQ as x,al as h,ag as u,ah as p,E as f,J as g,aW as b,C as j,aw as w,ac as v,w as y,bU as N,bG as k,X as C,aE as E}from"./vendor-react-DB2gWWlz.js";import{N as F,h as S}from"./vendor-swiper-Cr_RrIb_.js";import{t as M}from"./GoogleSignInButton-Bo5d3xNo.js";import{I as $}from"./ItemsRest-BhJ2ftaN.js";import"./ProductDetailB-Cb5pxzoE.js";import{C as P}from"./Number2Currency-BX4epFEo.js";import _ from"./ProductIbergruasSwiper-C0BVWVeG.js";import{G as q}from"./General-ClVW7qxN.js";import{A,m as z}from"./vendor-motion-Ma5gYeLT.js";import"./BasicRest-rcCccbSV.js";import"./BooleanLimit-q2Ad9fGY.js";import"./CartKuchara-C7ZIDpxE.js";import"./HeaderSearch-DYRcDESG.js";import"./CartItemRow-DjcmXrs1.js";import"./ProductCardIbergruas-D6jThQ6Y.js";import"./HeaderIbergruas-C_Hbv222.js";const R=({item:R,data:I,setCart:B,cart:D,generals:L,favorites:H,setFavorites:T})=>{const W=new $,[O,U]=e.useState({url:R?.image,type:"main"}),[V,G]=e.useState(!1),[X,Y]=e.useState({x:50,y:50}),[J,K]=e.useState(!1),[Q,Z]=e.useState({x:0,y:0}),ee=e.useRef(null),[te,se]=e.useState(1),[ae,re]=e.useState([]),[le,ie]=e.useState(!1),[ne,oe]=e.useState(!1),[ce,de]=e.useState(!1),me=e.useRef(null),xe=e.useRef(null),[he,ue]=e.useState(!1),[pe,fe]=e.useState(!1),[ge,be]=e.useState(!1);e.useRef(null),e.useRef(null);const[je,we]=e.useState(null),[ve,ye]=e.useState(!1),[Ne,ke]=e.useState("consult"),[Ce,Ee]=e.useState(!1),{refs:Fe,floatingStyles:Se,context:Me}=t({open:ve&&"quote"===Ne,onOpenChange:e=>{e&&"quote"!==Ne||ye(e)},placement:"bottom-start",middleware:[a(10),r({fallbackPlacements:["top-start","bottom-end","top-end"]}),l({padding:8})],whileElementsMounted:s}),{refs:$e,floatingStyles:Pe,context:_e}=t({open:ve&&"quote-mobile"===Ne,onOpenChange:e=>{e&&"quote-mobile"!==Ne||ye(e)},placement:"top-end",middleware:[a(10),r({fallbackPlacements:["top-start","bottom-end","bottom-start"]}),l({padding:8})],whileElementsMounted:s}),qe=i(Me),Ae=n(Me),ze=o(Me),Re=i(_e),Ie=n(_e),Be=o(_e),{getReferenceProps:De,getFloatingProps:Le}=c([qe,Ae,ze]),{getReferenceProps:He,getFloatingProps:Te}=c([Re,Ie,Be]),We=q.whatsapp_advisors||[],Oe=L?.find(e=>"phone_whatsapp"===e.correlative),Ue=Oe?.description;e.useEffect(()=>{H&&R&&de(H.some(e=>e.id===R.id))},[H,R]),e.useEffect(()=>{R?.id&&(Xe(R),Ye(R))},[R]),e.useEffect(()=>{const e=setTimeout(()=>{if(me.current){const e=me.current.scrollHeight>150;ue(e)}if(xe.current){const e=xe.current.scrollHeight>150;fe(e)}},100);return()=>clearTimeout(e)},[R,R?.specifications]);const Ve=e=>{if(V&&!J){const t=ee.current.getBoundingClientRect(),s=(e.clientX-t.left)/t.width*100,a=(e.clientY-t.top)/t.height*100;Y({x:Math.max(0,Math.min(100,s)),y:Math.max(0,Math.min(100,a))})}else if(J&&V){const t=e.clientX-Q.x,s=e.clientY-Q.y;Y(e=>({x:Math.max(0,Math.min(100,e.x-t/3)),y:Math.max(0,Math.min(100,e.y-s/3))})),Z({x:e.clientX,y:e.clientY})}},Ge=()=>{K(!1)};e.useEffect(()=>{if(J)return document.addEventListener("mousemove",Ve),document.addEventListener("mouseup",Ge),()=>{document.removeEventListener("mousemove",Ve),document.removeEventListener("mouseup",Ge)}},[J,V,Q]);const Xe=async e=>{try{await W.viewUpdate(e.id)}catch(t){}},Ye=async e=>{try{const t={id:e?.id},s=await W.productsRelations(t);if(!s)return void re([]);const a=s,r=Object.values(a);re(r)}catch(t){re([])}},Je=e=>{const t=`https://wa.me/${e?.phone||Ue}?text=${encodeURIComponent(`¡Hola! Me gustaría cotizar este producto para mi mascota: ${R?.name}\n\nCantidad: ${te} unidades\n\n¿Podrían enviarme más información y precios?`)}`;window.open(t,"_blank"),ye(!1)},Ke=e=>{if(!D||!B)return void M.error("Error al agregar al carrito");const t=structuredClone(D),s=t.findIndex(t=>t.id==e?.id);-1==s?t.push({...e,quantity:te}):t[s].quantity+=te,B(t),M.success("Producto agregado al carrito",{description:`${e?.name} (${te} ${1===te?"unidad":"unidades"})`,duration:2e3})},Qe=e=>e?`${P()} ${parseFloat(e).toFixed(2)}`:"Consultar precio",Ze=R?.price&&R?.final_price&&parseFloat(R.price)>parseFloat(R.final_price),et=Ze?Math.round((parseFloat(R.price)-parseFloat(R.final_price))/parseFloat(R.price)*100):0,tt=D?.find(e=>e.id==R?.id),st=tt?.quantity||0,at=[{url:R?.image,type:"main",alt:"Imagen principal"},...(R?.images||[]).filter((e,t,s)=>t===s.findIndex(t=>t.url===e.url)).map((e,t)=>({url:e.url,type:"gallery",index:t,alt:`Imagen ${t+1}`}))];return d.jsxs("div",{id:I?.element_id||null,className:"bg-secondary min-h-screen overflow-x-hidden",children:[d.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 lg:py-8",children:[d.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-12",children:[d.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[d.jsxs("div",{className:"relative   overflow-hidden",children:[d.jsxs("div",{className:"aspect-square flex items-center justify-center  relative "+(V?"cursor-zoom-out":"cursor-zoom-in"),onClick:()=>{V?(G(!1),Y({x:50,y:50})):G(!0)},onMouseDown:e=>{V&&(K(!0),Z({x:e.clientX,y:e.clientY}))},onMouseMove:Ve,onMouseLeave:()=>{K(!1)},children:[d.jsx("img",{ref:ee,src:O.url?`/storage/images/item/${O.url}`:"/api/cover/thumbnail/null",alt:R?.name||"Producto",className:"w-full h-full object-contain transition-transform duration-300 "+(V?"scale-150":"scale-100"),style:V?{transformOrigin:`${X.x}% ${X.y}%`}:{},onError:e=>{e.target.src="/api/cover/thumbnail/null"}}),d.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white px-2 py-2 rounded text-sm",children:V?d.jsx(m,{className:"w-4 h-4"}):d.jsx(x,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"absolute top-4 right-4 space-y-2",children:[Ze&&d.jsxs("div",{className:"bg-red-500 text-white px-3 py-2 rounded-full text-sm font-bold",children:["-",et,"% OFF"]}),R?.is_new&&d.jsx("div",{className:"bg-accent customtext-primary px-3 py-2 rounded-full text-sm font-bold",children:"¡Nuevo!"})]}),d.jsx("div",{className:"absolute bottom-4 right-4 flex space-x-2",children:d.jsx("button",{onClick:()=>{navigator.share?.({title:R?.name,text:R?.description,url:window.location.href})||navigator.clipboard.writeText(window.location.href),M.success("Enlace copiado al portapapeles")},className:"w-10 h-10 bg-secondary  backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-lg",children:d.jsx(h,{className:"w-5 h-5 text-white"})})})]}),at.length>1&&d.jsx(d.Fragment,{children:at.length<=5?d.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2",children:at.map((e,t)=>d.jsx("button",{onClick:()=>U(e),className:"aspect-square bg-white rounded-none overflow-hidden border-2 transition-all hover:border-primary "+(O.url===e.url?"border-primary":"border-gray-200"),children:d.jsx("img",{src:`/storage/images/item/${e.url}`,alt:e.alt,className:"w-full h-full object-contain",onError:e=>{e.target.src="/api/cover/thumbnail/null"}})},t))}):d.jsxs("div",{className:"relative",children:[d.jsx(u,{modules:[F,S],spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumb-swiper-next",prevEl:".thumb-swiper-prev"},breakpoints:{640:{slidesPerView:5},768:{slidesPerView:5}},className:"thumbs-swiper",children:at.map((e,t)=>d.jsx(p,{children:d.jsx("button",{onClick:()=>U(e),className:"w-full aspect-square bg-white rounded-none overflow-hidden border-2 transition-all hover:border-primary "+(O.url===e.url?"border-primary":"border-gray-200"),children:d.jsx("img",{src:`/storage/images/item/${e.url}`,alt:e.alt,className:"w-full h-full object-contain",onError:e=>{e.target.src="/api/cover/thumbnail/null"}})})},t))}),d.jsx("button",{className:"thumb-swiper-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-white shadow-lg rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors disabled:opacity-50 -ml-2",children:d.jsx(f,{className:"w-4 h-4 text-gray-700"})}),d.jsx("button",{className:"thumb-swiper-next absolute right-0 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-white shadow-lg rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors disabled:opacity-50 -mr-2",children:d.jsx(g,{className:"w-4 h-4 text-gray-700"})})]})}),R?.pdf&&Array.isArray(R.pdf)&&R.pdf.length>0&&d.jsxs("div",{className:"relative mt-4 hidden lg:block",children:[d.jsxs("button",{onClick:()=>Ee(!Ce),className:"w-full sm:w-auto bg-white border-2 border-primary text-primary py-4 px-6 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-primary hover:text-white transition-all shadow-md hover:shadow-lg group",children:[d.jsx(b,{className:"w-5 h-5"}),d.jsx("span",{className:"text-sm",children:"Fichas Técnicas"}),d.jsx(j,{className:"w-4 h-4 transition-transform duration-300 "+(Ce?"rotate-180":"")})]}),Ce&&d.jsxs("div",{className:"absolute top-full left-0 right-0 sm:right-auto sm:min-w-[320px] mt-2 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-20",children:[d.jsxs("div",{className:"bg-primary p-3 text-white",children:[d.jsx("h4",{className:"font-bold text-sm",children:"Documentos disponibles"}),d.jsxs("p",{className:"text-xs text-white opacity-90 mt-0.5",children:[R.pdf.length," ",1===R.pdf.length?"archivo":"archivos"]})]}),d.jsx("div",{className:"max-h-64 overflow-y-auto",children:R.pdf.map((e,t)=>d.jsxs("a",{href:`/storage/images/item/${e.url||e}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 transition-colors border-b  last:border-b-0 group",children:[d.jsx("div",{className:"flex-shrink-0 w-10 h-10  rounded-lg flex items-center justify-center transition-colors",children:d.jsx(b,{className:"w-5 h-5 customtext-secondary"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-semibold max-w-36 customtext-neutral-dark text-sm truncate",children:e.name||("string"==typeof e?e.split("/").pop().replace(".pdf",""):"Documento")}),d.jsx("p",{className:"text-xs cusomtext-neutral-light",children:"Documento PDF"})]}),d.jsx(w,{className:"w-4 h-4 customtext-neutral-light group-hover:text-primary transition-colors"})]},t))})]})]})]}),d.jsx("div",{className:"lg:hidden ",children:d.jsxs("div",{className:"text-start",children:[d.jsx("div",{className:"text-3xl sm:text-4xl font-bold font-title text-white",children:Qe(R?.final_price||R?.price)}),Ze&&d.jsxs("div",{className:"flex items-center justify-start space-x-2 mt-2",children:[d.jsx("span",{className:"text-base text-white line-through",children:Qe(R.price)}),d.jsxs("span",{className:"bg-red-100 customtext-secondary px-2 py-1 rounded-full text-xs font-bold",children:["Ahorras ",Qe(parseFloat(R.price)-parseFloat(R.final_price))]})]})]})}),d.jsxs("div",{className:"space-y-4 lg:space-y-6 pb-20 lg:pb-0 overflow-x-hidden",children:[d.jsxs("div",{className:"flex flex-row  items-center justify-between gap-3",children:[R?.category&&d.jsx("span",{className:"bg-accent bg-opacity-10 customtext-neutral-dark font-bold px-3 py-1 sm:px-4 sm:py-2 rounded-none text-xs sm:text-sm",children:R.category.name}),R?.brand&&d.jsx("img",{src:R.brand.image?`/api/brands/media/${R.brand.image}`:"/assets/img/noimage/no_img.jpg",alt:R.brand.name||"Marca",className:"max-h-12 sm:max-h-16 lg:max-h-20 max-w-24 lg:max-w-40 object-contain",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-title font-bold customtext-primary  mb-3",children:R?.name}),d.jsx("div",{className:"flex items-center space-x-4 mb-4",children:R?.rating&&d.jsxs("div",{className:"flex items-center space-x-1",children:[(e=>{const t=parseFloat(e)||0;return Array.from({length:5},(e,s)=>d.jsx(E,{className:"w-4 h-4 "+(s<Math.floor(t)?"text-yellow-400 fill-current":"text-gray-300")},s))})(R.rating),d.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",parseFloat(R.rating).toFixed(1),")"]})]})})]}),d.jsx("div",{className:" ",children:d.jsx("div",{ref:me,className:"prose max-w-none customtext-neutral-light transition-all duration-300 ",dangerouslySetInnerHTML:{__html:R?.description||"<p>Sin descripción disponible.</p>"}})}),R?.specifications&&Array.isArray(R.specifications)&&R.specifications.length>0&&d.jsxs("div",{className:"",children:[d.jsx("div",{ref:xe,className:"space-y-3 transition-all duration-300 "+(ne?"":"max-h-40 overflow-hidden"),children:R.specifications.map((e,t)=>"principal"===e.type&&d.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[d.jsx(v,{className:"customtext-primary w-4 h-4 flex-shrink-0"}),d.jsxs("span",{className:"font-bold customtext-primary",children:[e.title||"Especificación",":"]}),d.jsx("span",{className:"customtext-neutral-light",children:e.description||e.value||"No especificado"})]},t))}),pe&&d.jsxs("button",{onClick:()=>oe(!ne),className:"mt-4 customtext-secondary hover:customtext-neutral-dark font-medium transition-colors flex items-center gap-2 text-sm",children:[ne?"Ver menos":"Ver más características",d.jsx(g,{className:"w-4 h-4 transform transition-transform "+(ne?"rotate-90":"")})]})]}),R?.pdf&&Array.isArray(R.pdf)&&R.pdf.length>0&&d.jsxs("div",{className:"lg:hidden bg-white rounded-2xl shadow-sm overflow-hidden mt-6 max-w-full",children:[d.jsx("div",{className:"border-b",children:d.jsxs("button",{onClick:()=>Ee(!Ce),className:"w-full p-4 flex justify-between items-center",children:[d.jsxs("span",{className:"font-medium",children:["Fichas Técnicas (",R.pdf.length,")"]}),d.jsx(j,{className:"transform transition-transform "+(Ce?"rotate-180":"")})]})}),Ce&&d.jsx("div",{className:"p-4 space-y-2 max-w-full",children:R.pdf.map((e,t)=>d.jsxs("a",{href:`/storage/images/item/${e.url||e}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 w-full border border-gray-200 rounded-xl hover:border-primary hover:shadow-md transition-all group max-w-full",children:[d.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-200 transition-colors",children:d.jsx(b,{className:"w-5 h-5 text-red-600"})}),d.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[d.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate break-words",children:e.name||("string"==typeof e?e.split("/").pop().replace(".pdf",""):"Documento")}),d.jsx("p",{className:"text-xs cusomtext-neutral-light",children:"Documento PDF"})]}),d.jsx(w,{className:"w-4 h-4 flex-shrink-0 text-gray-400 group-hover:text-primary transition-colors"})]},t))})]}),d.jsxs("div",{className:"hidden lg:block  p-6 ",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[R?.price>0&&d.jsxs("div",{children:[d.jsx("div",{className:"text-4xl font-bold font-title text-white",children:Qe(R?.final_price||R?.price)}),Ze&&d.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[d.jsx("span",{className:"text-lg text-white line-through",children:Qe(R.price)}),d.jsxs("span",{className:"bg-red-100 customtext-primary px-2 py-1 rounded-full text-sm font-bold",children:["Ahorras ",Qe(parseFloat(R.price)-parseFloat(R.final_price))]})]})]}),R?.price>0&&d.jsx("div",{className:"space-y-4 mt-4",children:d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("div",{className:"flex items-center rounded-none border border-primary p-1",children:[d.jsx("button",{onClick:()=>se(Math.max(1,te-1)),className:"w-10 h-10 flex items-center justify-center rounded-none hover:bg-primary hover:shadow-sm active:scale-95 transition-all duration-200 text-white font-bold text-xl",disabled:te<=1,children:"−"}),d.jsx("div",{className:"w-16 h-10 flex items-center justify-center",children:d.jsx("span",{className:"text-white font-bold text-lg",children:te})}),d.jsx("button",{onClick:()=>se(Math.min(10,te+1)),className:"w-10 h-10 flex items-center justify-center rounded-none hover:bg-primary hover:shadow-sm active:scale-95 transition-all duration-200 text-white font-bold text-xl",disabled:te>=10,children:"+"})]})})})]}),d.jsxs("div",{className:`mt-6 grid ${R?.price>0?"grid-cols-2":"grid-cols-1"} gap-4`,children:[R?.price>0&&I?.buyButton&&d.jsxs("button",{onClick:()=>Ke(R),className:"w-full py-4 px-6 rounded-none font-bold flex items-center justify-center space-x-2 hover:scale-105 transition-all shadow-lg hover:shadow-xl transform duration-500 "+(tt?"bg-accent text-white":"bg-primary text-white"),children:[d.jsx(y,{className:"w-5 h-5"}),d.jsx("span",{children:tt?`En carrito (${st})`:"Comprar ahora"})]}),d.jsxs("button",{ref:Fe.setReference,...De(),onClick:e=>{e.preventDefault(),e.stopPropagation(),We&&We.length>1?(ke("quote"),ye(!ve)):Je(We?.[0]||{phone:Ue})},className:"w-full bg-primary text-white py-4 !h-full px-6 rounded-none font-bold flex items-center justify-center space-x-2 hover:bg-accent hover:customtext-secondary transition-all shadow-lg hover:shadow-xl transform duration-500",children:[d.jsx(N,{className:"w-5 h-5"}),d.jsx("span",{children:"Solicitar Cotización"})]}),ve&&"quote"===Ne&&We&&We.length>1&&d.jsx(k,{context:Me,modal:!1,children:d.jsxs("div",{ref:Fe.setFloating,style:Se,...Le(),className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100 z-[1000]",children:[d.jsxs("div",{className:"bg-primary p-4 text-white",children:[d.jsx("h3",{className:"font-bold text-base",children:"Elige un asesor"}),d.jsx("p",{className:"text-xs text-white mt-1",children:"¿Con quién quieres cotizar?"})]}),d.jsx("div",{className:"max-h-[400px] overflow-y-auto",style:{minWidth:"280px",maxWidth:"320px"},children:We.map((e,t)=>d.jsxs("button",{onClick:()=>Je(e),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 text-left",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-primary",children:e.photo?d.jsx("img",{src:`/assets/resources/${e.photo}`,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="/assets/img/placeholder-user.png"}}):d.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-lg font-bold",children:e.name?.charAt(0).toUpperCase()})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate",children:e.name}),d.jsx("p",{className:"text-xs cusomtext-neutral-light truncate",children:e.position||"Asesor"})]}),d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]},t))})]})})]})]})]})]}),ae&&ae.length>0&&d.jsx(_,{items:ae,data:{title:`${R?.category.name||"Productos"} relacionados`,description:`${R?.category.name||"Productos"} originales: Calidad, fiabilidad y durabilidad.`,link_catalog:"/catalogo",class_button:"bg-primary text-white hover:bg-primary/90",class_content_header:"text-start"},setCart:B,cart:D})]}),d.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-40 shadow-lg",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border border-gray-200 p-1",children:[d.jsx("button",{onClick:()=>se(Math.max(1,te-1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:te<=1,children:"−"}),d.jsx("div",{className:"w-12 h-8 flex items-center justify-center",children:d.jsx("span",{className:"customtext-neutral-dark font-bold text-sm",children:te})}),d.jsx("button",{onClick:()=>se(Math.min(10,te+1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:te>=10,children:"+"})]}),R?.price>0&&I?.buyButton&&d.jsxs("button",{onClick:()=>Ke(R),className:"flex-1 py-3 px-4 rounded-none font-bold flex items-center justify-center space-x-2 transition-all shadow-lg active:scale-95 "+(tt?"bg-secondary text-white":"bg-primary customtext-neutral-dark hover:bg-accent"),children:[d.jsx(y,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:tt?`En carrito (${st})`:"Comprar"})]}),d.jsxs("button",{ref:$e.setReference,...He(),onClick:e=>{e.preventDefault(),e.stopPropagation(),We&&We.length>1?(ke("quote-mobile"),ye(!ve)):Je(We?.[0]||{phone:Ue})},className:(I?.buyButton?"w-auto":"flex-1")+" bg-secondary text-white py-3 px-4 !rounded-none font-bold flex items-center justify-center space-x-2 hover:bg-accent hover:customtext-primary transition-all shadow-lg active:scale-95",children:[d.jsx(N,{className:"w-4 h-4"}),!I?.buyButton&&d.jsx("span",{className:"text-sm",children:"Solicitar Cotización"})]}),ve&&"quote-mobile"===Ne&&We&&We.length>1&&d.jsx(k,{context:_e,modal:!1,children:d.jsxs("div",{ref:$e.setFloating,style:Pe,...Te(),className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100 z-[1000]",children:[d.jsxs("div",{className:"bg-primary p-4 text-white",children:[d.jsx("h3",{className:"font-bold text-base",children:"Elige un asesor"}),d.jsx("p",{className:"text-xs text-white mt-1",children:"¿Con quién quieres cotizar?"})]}),d.jsx("div",{className:"max-h-[400px] overflow-y-auto",style:{minWidth:"280px",maxWidth:"320px"},children:We.map((e,t)=>d.jsxs("button",{onClick:()=>Je(e),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 text-left",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-primary",children:e.photo?d.jsx("img",{src:`/assets/resources/${e.photo}`,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="/assets/img/placeholder-user.png"}}):d.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-lg font-bold",children:e.name?.charAt(0).toUpperCase()})})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate",children:e.name}),d.jsx("p",{className:"text-xs cusomtext-neutral-light truncate",children:e.position||"Asesor"})]}),d.jsx("div",{className:"flex-shrink-0",children:d.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]},t))})]})})]})}),d.jsx(A,{children:ge&&d.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>be(!1),children:d.jsxs(z.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},className:"relative max-w-4xl max-h-full",onClick:e=>e.stopPropagation(),children:[d.jsx("button",{onClick:()=>be(!1),className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition-all z-10",children:d.jsx(C,{className:"w-6 h-6"})}),d.jsx("img",{src:O.url?`/storage/images/item/${O.url}`:"/api/cover/thumbnail/null",alt:R?.name,className:"max-w-full max-h-full object-contain rounded-lg",onError:e=>{e.target.src="/api/cover/thumbnail/null"}})]})})})]})};export{R as default};

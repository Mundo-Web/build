import{r as e,j as t,bj as a}from"./vendor-react-CtPXetfm.js";import"./OpenPayCardModal-Dy4WIZ0X.js";import"./vendor-swiper-Cr_RrIb_.js";const s=({product:s,data:r,favorites:l=[],setFavorites:i,onClickTracking:n})=>{const[o,c]=e.useState(!1);l.some(e=>e.id===s?.id);const d=e=>e?new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(e):"",m=()=>{n&&s&&n(s);const e=s?.slug||s?.id;window.location.href=`/product/${e}`},x=s?.price&&s?.final_price&&parseFloat(s.price)>parseFloat(s.final_price),p=x?Math.round((parseFloat(s.price)-parseFloat(s.final_price))/parseFloat(s.price)*100):0;return t.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 group cursor-pointer flex flex-col w-full",onClick:m,children:[t.jsxs("div",{className:"relative overflow-hidden bg-gray-50 w-full aspect-square",children:[t.jsx("img",{src:s?.image?`/api/items/media/${s.image}`:"/assets/img/noimage/no_img.jpg",alt:s?.name||"Producto",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}}),s?.sold_out?t.jsx("div",{className:"absolute top-3 left-3 bg-danger text-white rounded-full text-sm font-bold shadow-lg z-10",children:t.jsx("span",{className:"bg-danger text-white px-3 py-2 rounded-full text-xs font-bold",children:"Agotado"})}):r?.badge_offer_percent?x&&t.jsx("div",{className:"absolute top-3 left-3 bg-danger text-white rounded-full text-sm font-bold shadow-lg z-10",children:t.jsxs("span",{className:"bg-danger text-white bg-opacity-10 customtext-primary px-3 py-2 rounded-full text-xs font-bold",children:["-",p,"%"]})}):s?.category&&t.jsx("div",{className:"absolute top-3 left-3 bg-accent text-white rounded-full text-sm font-bold shadow-lg z-10",children:t.jsx("span",{className:"bg-accent customtext-primary bg-opacity-10 customtext-primary px-3 py-2 rounded-full text-xs font-bold",children:s.category.name||s.category})}),!r?.badge_brand_up_name&&s?.brand&&t.jsx("div",{className:"absolute top-3 right-3 flex items-center justify-center transition-all duration-300 z-10",children:t.jsx("img",{src:s.brand.image?`/api/brands/media/${s.brand.image}`:"/assets/img/noimage/no_img.jpg",alt:s.brand.name||"Marca",className:"max-h-14 max-w-14 object-contain",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}})})]}),t.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[t.jsxs("div",{className:"flex justify-between",children:[r?.badge_category_up_name&&s?.category&&t.jsx("div",{className:"mb-2",children:t.jsx("span",{className:`bg-accent customtext-primary bg-opacity-10 customtext-primary px-3 py-2 rounded-full text-xs font-bold ${r?.class_badge_category||""}`,children:s.category.name||s.category})}),r?.badge_brand_up_name&&s?.brand&&t.jsx("div",{className:"mb-2",children:t.jsx("img",{src:s.brand.image?`/api/brands/media/${s.brand.image}`:"/assets/img/noimage/no_img.jpg",alt:s.brand.name||"Marca",className:"max-h-10 max-w-20 object-contain",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}})})]}),t.jsx("h3",{className:"text-lg mt-2 font-bold customtext-neutral-dark mb-2 group-hover:customtext-primary transition-colors duration-300 font-title line-clamp-2 min-h-[3.5rem]",children:s?.name}),!r?.is_card_content_description&&s?.description?t.jsx("p",{className:"customtext-neutral-light text-sm mb-3 line-clamp-2 min-h-[2.5rem]",dangerouslySetInnerHTML:{__html:s.description}}):t.jsx("p",{className:"customtext-neutral-light text-sm mb-1 line-clamp-2 min-h-[2rem]",children:s?.sku}),t.jsx("div",{className:"flex-1"}),s?.final_price&&s?.final_price>0&&t.jsx("div",{className:"flex items-center justify-between mb-4",children:r?.badge_offer_percent&&x?t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"text-xl font-bold customtext-secondary font-title",children:d(s?.final_price)}),t.jsx("span",{className:"text-sm customtext-neutral-light line-through",children:d(s.price)})]}):t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-xl font-bold customtext-secondary font-title",children:d(s?.final_price||s?.price)}),x&&t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-sm customtext-neutral-light line-through",children:d(s.price)}),t.jsxs("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded-full font-bold",children:["Ahorra ",d(parseFloat(s.price)-parseFloat(s.final_price))]})]})]})}),t.jsx("div",{className:"flex space-x-2",children:t.jsxs("button",{onClick:e=>{e.stopPropagation(),m()},type:"button",disabled:!s?.stock&&!s?.stock>0,className:`flex-1 bg-secondary text-white py-3 rounded-lg font-semibold text-sm transition-all duration-300 flex items-center justify-center space-x-2 hover:bg-accent hover:customtext-primary disabled:opacity-50 disabled:cursor-not-allowed ${r?.class_button_card_detail||""}`,children:[t.jsx("span",{children:"Ver detalle"}),t.jsx(a,{className:"w-5 h-5"})]})})]})]})};export{s as default};

import{r as e,j as s,N as t,C as a,c as r}from"./vendor-react-DB2gWWlz.js";import{C as l}from"./CreateReactScript-7rAqIEI0.js";import i from"./Base-CBidR-Yp.js";import{e as c}from"./em-DdskFTBn.js";import{F as o}from"./FilterPagination-Hf_Hp0Oy.js";import{C as n}from"./CourseCard-CqlfQs_V.js";import{C as m}from"./CoursesRest-BMG0ix5T.js";import{A as d}from"./ArrayJoin-BdaqwNXM.js";import{A as x}from"./ArrayDetails2Object-BtdyATqd.js";import"./vendor-swiper-Cr_RrIb_.js";import"./Global-BAGAPG-V.js";import"./TippyButton-Crd57m29.js";import"./General-ClVW7qxN.js";import"./LaravelSession-ByQnaUD3.js";import"./Menu-OQAZllby.js";import"./BooleanLimit-q2Ad9fGY.js";import"./Header-DswLdHYi.js";import"./preload-helper-DAHR15QK.js";import"./Footer-DFQbVvOV.js";import"./TopBar-BH6b5SST.js";import"./HtmlContent-CkpQmeQx.js";import"./Number2Currency-BX4epFEo.js";import"./BasicRest-rcCccbSV.js";import"./GoogleSignInButton-Bo5d3xNo.js";const p=({filter:t,setFilter:a})=>{const[r,l]=e.useState(t.minPrice||"00.00"),[i,c]=e.useState(t.maxPrice||"00.00"),[o,n]=e.useState(!1);return s.jsxs("div",{className:"flex flex-col mt-8 w-full leading-none text-[color:var(--Woodsmoke-950,#07090D)]",children:[s.jsxs("div",{className:"flex gap-2 items-center p-4 w-full text-base tracking-normal uppercase whitespace-nowrap rounded-3xl bg-slate-100 cursor-pointer",onClick:()=>{n(!o)},children:[s.jsx("div",{className:"flex-1 shrink self-stretch my-auto not-italic basis-0",children:"Precio"}),s.jsx("i",{className:`mdi mdi-chevron-down text-2xl ${o&&"rotate-180"}`})]}),o&&s.jsxs("div",{className:"flex gap-3 items-center mt-3 w-full uppercase whitespace-nowrap",children:[s.jsxs("div",{className:"flex flex-col flex-1 shrink justify-center self-stretch my-auto basis-0",children:[s.jsx("div",{$name:"Desde",className:"text-xs not-italic tracking-normal",children:"Desde"}),s.jsx("input",{type:"number",value:r,onChange:e=>{const s=e.target.value;l(s),a(e=>({...e,minPrice:s}))},className:"flex gap-2 items-center self-stretch px-6 py-4 mt-1 w-full text-base not-italic tracking-normal rounded-3xl border border-solid border-slate-100 max-md:px-5 outline-none",placeholder:"00.00"})]}),s.jsxs("div",{className:"flex flex-col flex-1 shrink justify-center self-stretch my-auto basis-0",children:[s.jsx("div",{$name:"Hasta",className:"text-xs not-italic tracking-normal",children:"Hasta"}),s.jsx("input",{type:"number",value:i,onChange:e=>{const s=e.target.value;c(s),a(e=>({...e,maxPrice:s}))},className:"flex gap-2 items-center self-stretch px-6 py-4 mt-1 w-full text-base not-italic tracking-normal rounded-3xl border border-solid border-slate-100 max-md:px-5 outline-none",placeholder:"00.00"})]})]})]})},u=({filter:e,setFilter:t,details:a})=>s.jsxs("section",{className:"p-[5%] mt-16",children:[s.jsxs("div",{className:"flex flex-col justify-center w-full",children:[s.jsx("div",{$name:"Todos nuestros Cursos & Talleres",className:"text-2xl md:text-4xl not-italic text-slate-700 max-md:text-4xl max-md:leading-[52px] font-bold",children:c(a["courses.title"])}),s.jsx("div",{$name:"Fusce a magna nec diam blandit hendrerit. In lobortis, est eget ultrices pharetra, est tortor pellentesque odio, ut auctor tortor ipsum ac orci.",className:"mt-6 text-base not-italic leading-6 text-[color:var(--Woodsmoke-900,#2B384F)]",children:c(a["courses.description"])})]}),s.jsxs("div",{className:"flex flex-wrap gap-10 justify-between items-center mt-[5%] w-full text-base font-medium",children:[s.jsxs("label",{htmlFor:"txt-search",className:"flex gap-2 items-center self-stretch px-6 py-4 my-auto rounded-3xl bg-slate-100 min-w-[240px] text-slate-900 w-[431px] max-md:px-5 max-md:max-w-full",children:[s.jsx("i",{className:"mdi mdi-magnify"}),s.jsx("input",{id:"txt-search",placeholder:"Buscar curso",className:"flex-1 shrink self-stretch my-auto basis-0 bg-transparent outline-none",onChange:e=>t(s=>({...s,search:e.target.value}))})]}),s.jsxs("button",{className:"col-span-1 md:col-span-1 lg:col-span-2 px-6 py-4 text-base uppercase rounded-3xl bg-slate-100 text-slate-900 flex items-center justify-center transition-all",onClick:()=>t(e=>({...e,sortOrder:"desc"==e.sortOrder?"asc":"desc"})),children:["Ordenar por precio",s.jsx("i",{className:"ml-2 mdi "+("asc"==e.sortOrder?"mdi-arrow-down":"mdi-arrow-up")})]})]})]}),f=new m;function j({categories:r,filter:l,setFilter:i}){const[c,m]=e.useState([]),[x,u]=e.useState(1),[j,h]=e.useState(1),[g,b]=e.useState(!0);return e.useEffect(()=>{const e=[];l.search&&e.push(["name","contains",l.search||""],["summary","contains",l.search||""]),l.categories&&e.push(d(l.categories.map(e=>["category.id","=",e]),"or")),(l.minPrice||l.maxPrice)&&e.push([[["discount",">",0],["discount",">=",l.minPrice||0],["discount","<=",l.maxPrice||1/0]],"or",[["discount","=",0],["price",">=",l.minPrice||0],["price","<=",l.maxPrice||1/0]]]),f.paginate({filter:d(e,"and"),requireTotalCount:!0,skip:12*(x-1)<0?0:12*(x-1),sort:[{selector:"price",desc:"desc"===l.sortOrder}],take:12}).then(({status:e,data:s,totalCount:t})=>{200===e&&(h(Math.ceil(t/12)),m(s))})},[l,x]),s.jsxs("div",{className:"p-[5%] pt-0 flex flex-col sm:flex-row",children:[s.jsxs("div",{className:"w-full sm:w-1/2 md:w-1/2 lg:w-1/3 xl:w-1/4 mb-4 sm:mb-0 sm:mr-4",children:[s.jsxs("div",{className:"flex flex-col w-full",children:[s.jsxs("button",{onClick:()=>b(!g),className:"flex justify-between items-center p-4 w-full text-base uppercase rounded-3xl bg-slate-100 text-gray-900",children:[s.jsx("span",{children:"CategorÃ­as"}),g?s.jsx(t,{className:"w-5 h-5"}):s.jsx(a,{className:"w-5 h-5"})]}),g&&s.jsx("div",{className:"flex flex-col mt-1 w-full text-sm leading-snug text-gray-800",children:r.map((e,t)=>s.jsxs("label",{className:"flex gap-3 items-center px-4 py-2.5 w-full",children:[s.jsx("span",{className:"flex-1",children:e.name}),s.jsx("input",{type:"checkbox",checked:l.categories?.includes(e.id)||!1,onChange:s=>i(t=>{let a=[...t.categories??[]];return s.target.checked?a.includes(e.id)||a.push(e.id):a=a.filter(s=>s!==e.id),{...t,categories:a}})})]},t))})]}),s.jsx(p,{filter:l,setFilter:i})]}),s.jsxs("div",{className:"w-full sm:w-1/2 md:w-1/2 lg:w-2/3 xl:w-3/4",children:[s.jsx("div",{className:"grid sm:grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-8 items-start",children:c.map((e,t)=>s.jsx(n,{...e,firstImage:!0,showPrice:!0,clickable:!0,showCategory:!0},t))}),s.jsx("div",{className:"p-[5%]",children:s.jsx(o,{pages:j,current:x,setCurrent:u})})]})]})}const h=({categories:t,details:a})=>{const r=x(a),[l,i]=e.useState({});return s.jsxs(s.Fragment,{children:[s.jsx(u,{filter:l,setFilter:i,details:r}),s.jsx(j,{categories:t,filter:l,setFilter:i})]})};l((e,t)=>{r.createRoot(e).render(s.jsx(i,{...t,children:s.jsx(h,{...t})}))});

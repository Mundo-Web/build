import{r as e,j as s,D as a}from"./vendor-react-CZUvQwNQ.js";import{e as t}from"./es-FrZHR3HW.js";import"./vendor-swiper-Cr_RrIb_.js";const r=({onSearch:r,className:l="",data:c})=>{const[n,d]=e.useState(null),[i,o]=e.useState(null),[m,u]=e.useState(2),[h,x]=e.useState(""),[b,p]=e.useState(!1),[g,f]=e.useState({});return s.jsx("div",{id:c?.element_id||null,className:`${l}`,children:s.jsx("div",{className:"bg-white rounded-lg shadow-lg",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("h3",{className:"text-center text-2xl font-bold text-gray-900 mb-6",children:[s.jsx("i",{className:"fas fa-search mr-2 text-primary"}),"Buscar Habitaciones Disponibles"]}),s.jsx("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={},s=new Date;return s.setHours(0,0,0,0),n?n<s&&(e.checkIn="La fecha de entrada no puede ser anterior a hoy"):e.checkIn="Selecciona la fecha de entrada",i?i<=n&&(e.checkOut="La fecha de salida debe ser posterior a la entrada"):e.checkOut="Selecciona la fecha de salida",m<1&&(e.guests="Debe haber al menos 1 huésped"),f(e),0===Object.keys(e).length})()){p(!0);try{const e={check_in:n.toISOString().split("T")[0],check_out:i.toISOString().split("T")[0],guests:m,room_type:h||void 0};r&&await r(e)}catch(s){}finally{p(!1)}}},children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx("i",{className:"fas fa-calendar-check mr-2 text-green-600"}),"Fecha de Entrada"]}),s.jsx(a,{selected:n,onChange:e=>{if(d(e),i&&i<=e){const s=new Date(e);s.setDate(s.getDate()+1),o(s)}g.checkIn&&f({...g,checkIn:null})},selectsStart:!0,startDate:n,endDate:i,minDate:new Date,dateFormat:"dd/MM/yyyy",locale:t,placeholderText:"Selecciona fecha",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all "+(g.checkIn?"border-red-500":"border-gray-300")}),g.checkIn&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.checkIn})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx("i",{className:"fas fa-calendar-times mr-2 text-red-600"}),"Fecha de Salida"]}),s.jsx(a,{selected:i,onChange:e=>{o(e),g.checkOut&&f({...g,checkOut:null})},selectsEnd:!0,startDate:n,endDate:i,minDate:n||new Date,dateFormat:"dd/MM/yyyy",locale:t,placeholderText:"Selecciona fecha",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all "+(g.checkOut?"border-red-500":"border-gray-300")}),g.checkOut&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.checkOut})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx("i",{className:"fas fa-users mr-2 text-blue-600"}),"Número de Huéspedes"]}),s.jsx("select",{className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all "+(g.guests?"border-red-500":"border-gray-300"),value:m,onChange:e=>{u(parseInt(e.target.value)),g.guests&&f({...g,guests:null})},children:[1,2,3,4,5,6,7,8,9,10].map(e=>s.jsxs("option",{value:e,children:[e," ",1===e?"huésped":"huéspedes"]},e))}),g.guests&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.guests})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[s.jsx("i",{className:"fas fa-bed mr-2 text-indigo-600"}),"Tipo de Habitación"]}),s.jsx("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",value:h,onChange:e=>x(e.target.value),children:Object.entries({"":"Todos los tipos",standard:"Estándar",suite:"Suite",deluxe:"Deluxe",presidential:"Presidencial",family:"Familiar",executive:"Ejecutiva"}).map(([e,a])=>s.jsx("option",{value:e,children:a},e))})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"w-full py-4 px-6 rounded-lg font-semibold text-white transition-all "+(b?"bg-gray-400 cursor-not-allowed":"bg-primary hover:bg-primary-dark shadow-lg hover:shadow-xl transform hover:scale-[1.02]"),disabled:b,children:b?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Buscando..."]}):s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx("i",{className:"fas fa-search"}),"Buscar Habitaciones"]})})}),n&&i&&s.jsx("div",{className:"md:col-span-2",children:s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[s.jsx("i",{className:"fas fa-info-circle mr-2 text-blue-600"}),s.jsxs("span",{className:"text-blue-800",children:[s.jsxs("strong",{children:[Math.ceil((i-n)/864e5)," noche(s)"]})," ","del ",n.toLocaleDateString("es-ES")," al ",i.toLocaleDateString("es-ES")]})]})})]})})]})})})};export{r as default};

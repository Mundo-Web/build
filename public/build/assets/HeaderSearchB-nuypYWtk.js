import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as s}from"./index-BH53Isel.js";import{G as _}from"./Global-ErywZRdd.js";import{C as A}from"./HeaderSearch-BPfvHXmz.js";import{L as F}from"./Logout-jUU_tfUq.js";import{M as O,S as W}from"./MobileMenu-nQrnmQKE.js";import{C as o,D}from"./door-closed-Z4GbcMb-.js";import{A as b}from"./index-CFtDjG4d.js";import{m as w}from"./proxy-BTYtmp9V.js";import{S as v}from"./shopping-cart-CZEUxbmv.js";import{X as I}from"./x-DBMwyD6F.js";import{S as y}from"./search-TwiiKGP5.js";import{U as G}from"./user-BvYmyGTY.js";import"./index-yBjzXJbu.js";import"./PaymentModal-Bxx5p2o_.js";import"./index-fNjTmf9T.js";import"./index-Chjiymov.js";import"./CartItemRow-D9z3pFKU.js";import"./Number2Currency-e57Tgsuk.js";import"./tippy-react.esm-BWiGTO87.js";import"./index-rimy3MAc.js";import"./trash-2-DK1wnsDn.js";import"./createLucideIcon-Cy5Ya80P.js";import"./minus-jyhodMPN.js";import"./plus-Bot15Khs.js";import"./main-BSEyQEJW.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./chevron-left-B2s3ZsB7.js";import"./chevron-right-Ckt5D2ka.js";const we=({items:R,data:a,cart:N,setCart:$,isUser:c,pages:B,generals:k=[]})=>{const m=k.find(t=>t.correlative==="phone_whatsapp"),d=k.find(t=>t.correlative==="message_whatsapp"),u=(m==null?void 0:m.description)??null,x=(d==null?void 0:d.description)??null,[U,p]=s.useState(!1),[h,P]=s.useState(!1),[C,f]=s.useState(!1),[i,j]=s.useState(""),[n,g]=s.useState(!1),[H,M]=s.useState(!1),l=s.useRef(null),S=s.useRef(null),z=N.reduce((t,r)=>Number(t)+Number(r.quantity),0);s.useEffect(()=>{function t(r){l.current&&!l.current.contains(r.target)&&g(!1),S.current&&!S.current.contains(r.target)&&f(!1)}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),s.useEffect(()=>{const t=()=>{window.scrollY>0?M(!0):M(!1)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]);const L={hidden:{opacity:0,y:-10,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:400,damping:25}},exit:{opacity:0,y:-10,scale:.95,transition:{duration:.15}}},E=[{icon:e.jsx(G,{size:16}),label:"Mi Perfil",href:"/profile"},{icon:e.jsx(v,{size:16}),label:"Mis Pedidos",href:"/customer/dashboard"},{icon:e.jsx(W,{size:16}),label:"Configuración",href:"/account"},{icon:e.jsx(D,{size:16}),label:"Cerrar Sesión",onClick:F}];return e.jsxs("header",{className:`w-full top-0 left-0 z-50 transition-all duration-300 ${H?"fixed bg-white shadow-lg":"relative bg-white"}`,children:[e.jsx("div",{className:"px-primary  bg-white 2xl:px-0 2xl:max-w-7xl mx-auto py-4 font-font-secondary text-base font-semibold",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsx("a",{href:"/",className:"flex items-center gap-2 z-[51]",children:e.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:_.APP_NAME,className:"h-14 object-contain object-center",onError:t=>{t.target.onerror=null,t.target.src="/assets/img/logo-bk.svg"}})}),(a==null?void 0:a.showLoginCart)&&e.jsxs("div",{className:"flex gap-8 lg:hidden",children:[e.jsxs("div",{className:`${C?"hidden":"flex"} items-center gap-4`,children:[c?e.jsxs("div",{ref:l,className:"relative",children:[e.jsx("button",{"aria-label":"user",className:"flex items-center gap-2 hover:customtext-primary transition-colors duration-300",onClick:()=>g(!n),children:e.jsx(o,{className:"customtext-primary",width:"1.5rem"})}),e.jsx(b,{children:n&&e.jsx(w.div,{initial:"hidden",animate:"visible",exit:"exit",variants:L,className:"absolute z-50 top-full right-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-3",children:E.map((t,r)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:t.onClick,className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]})},r))})})})})]}):e.jsx("a",{href:"/iniciar-sesion",className:"flex items-center",children:e.jsx(o,{className:"customtext-primary",width:"1.5rem"})}),e.jsxs("button",{"aria-label":"",onClick:()=>p(!0),className:"flex items-center relative",children:[e.jsx(v,{className:"customtext-primary",width:"1.5rem"}),e.jsx("span",{className:"absolute -right-2 -top-2 inline-flex items-center justify-center w-4 h-4 bg-primary text-white rounded-full text-[8px]",children:z})]})]}),e.jsx("button",{"aria-label":"Menú",onClick:()=>P(!h),className:"flex md:hidden items-center justify-center bg-primary rounded-lg w-auto h-auto p-2 text-white fill-white transition-all duration-300 z-[51]",children:h?e.jsx(I,{}):e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M10 5H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 12H20",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M4 19H14",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})})]}),e.jsxs("div",{className:"hidden md:block relative w-full max-w-xl mx-auto",children:[e.jsx("input",{type:"search",placeholder:"Buscar productos",value:i,onChange:t=>j(t.target.value),className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none"}),e.jsx("a",{href:i.trim()?`/catalogo?search=${encodeURIComponent(i)}`:"#",className:"absolute right-3 top-1/2 transform -translate-y-1/2 p-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors","aria-label":"Buscar",children:e.jsx(y,{})})]}),a!=null&&a.showLoginCart?e.jsxs("div",{className:"hidden md:flex items-center gap-4 relative text-sm",children:[e.jsxs("div",{ref:l,children:[c?e.jsxs("button",{"aria-label":"user",className:"customtext-neutral-dark flex items-center gap-2 hover:customtext-primary pr-6 transition-colors duration-300",onClick:()=>g(!n),children:[e.jsx(o,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:c.name})]}):e.jsxs("a",{href:"/iniciar-sesion",className:"flex items-center gap-2 text-sm hover:customtext-primary transition-colors duration-300",children:[e.jsx(o,{className:"customtext-primary"}),e.jsx("span",{className:"hidden md:inline",children:"Iniciar Sesión"})]}),e.jsx(b,{children:n&&e.jsx(w.div,{initial:"hidden",animate:"visible",exit:"exit",variants:L,className:"absolute z-50 top-full left-0 bg-white shadow-xl border-t rounded-xl w-48 mt-2",children:e.jsx("div",{className:"p-4",children:e.jsx("ul",{className:"space-y-3",children:E.map((t,r)=>e.jsx("li",{children:t.onClick?e.jsxs("button",{"aria-label":"menu-items",onClick:t.onClick,className:"flex w-full items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]}):e.jsxs("a",{href:t.href,className:"flex items-center gap-3 customtext-neutral-dark text-sm hover:customtext-primary transition-colors duration-300",children:[t.icon,e.jsx("span",{children:t.label})]})},r))})})})})]}),e.jsxs("button",{"aria-label":"cart",onClick:()=>p(!0),className:"flex items-center gap-2 text-sm relative hover:customtext-primary transition-colors duration-300",children:[e.jsx("div",{className:"customtext-primary",children:e.jsx(v,{})}),e.jsx("span",{className:"hidden md:inline",children:"Mi Carrito"}),e.jsx("span",{className:"absolute -right-6 -top-2 inline-flex items-center justify-center w-5 h-5 text-xs bg-primary text-white rounded-full",children:z})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("a",{"aria-label":"primary-button",className:"hidden lg:block px-4 py-3 bg-primary text-white rounded-full hover:brightness-125 transition-colors duration-300",target:"_blank",rel:"noopener noreferrer",href:u&&x?`https://api.whatsapp.com/send?phone=${encodeURIComponent(u)}&text=${encodeURIComponent(x)}`:"#",children:"Haz tu Pedido"}),e.jsx("div",{className:"md:hidden relative w-full max-w-xl mx-auto",children:C?e.jsxs("div",{className:"relative w-full",children:[e.jsx("input",{type:"search",placeholder:"Buscar productos",value:i,onChange:t=>j(t.target.value),className:"w-full pr-14 py-4 pl-4 border rounded-full focus:ring-0 focus:outline-none",autoFocus:!0}),e.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex gap-2",children:[e.jsx("button",{"aria-label":"Cerrar",onClick:()=>f(!1),className:"p-2 bg-gray-200 text-gray-600 rounded-lg",children:e.jsx(I,{size:20})}),e.jsx("a",{href:i.trim()?`/catalogo?search=${encodeURIComponent(i)}`:"#",className:"p-2 bg-primary text-white rounded-lg","aria-label":"Buscar",children:e.jsx(y,{})})]})]}):e.jsx("button",{"aria-label":"Buscar",onClick:()=>f(!0),className:"flex items-center justify-end w-full px-0 py-3",children:e.jsx(y,{className:"customtext-primary",size:28})})})]})]})}),e.jsx(b,{children:h&&e.jsx(w.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"lg:hidden bg-transparent text-textWhite shadow-lg w-full min-h-screen absolute z-10 top-20",children:e.jsx(O,{search:i,setSearch:j,pages:B,items:R})})}),e.jsx(A,{data:a,cart:N,setCart:$,modalOpen:U,setModalOpen:p}),e.jsx("div",{className:"flex justify-end w-full mx-auto z-[100] relative",children:e.jsx("div",{className:"hidden lg:block fixed bottom-6 sm:bottom-[2rem] lg:bottom-[4rem] z-20 cursor-pointer",children:e.jsx("a",{target:"_blank",id:"whatsapp-toggle",href:`https://api.whatsapp.com/send?phone=${u}&text=${x}`,children:e.jsx("img",{src:"/assets/img/whatsapp.svg",alt:"whatsapp",className:"mr-3 w-16 h-16 md:w-[80px] md:h-[80px] animate-bounce duration-300"})})})})]})};export{we as default};

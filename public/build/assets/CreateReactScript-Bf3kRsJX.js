import{W as v}from"./index.esm-CveLAcri.js";import{m as u}from"./main-BvVILmTO.js";import{G as g}from"./Global-ErywZRdd.js";/* empty css               *//* empty css              */import{G as C}from"./General-BmbBKdsB.js";import{L as $}from"./LaravelSession-Dz9cpV3l.js";const j=h=>{v({resolve:i=>`/${i}.jsx`,setup:({el:i,props:y})=>{const o=y.initialPage.props;if(o!=null&&o.global)for(const s in o.global)g.set(s,o.global[s]);if(o!=null&&o.generals)for(const s in o.generals){const{correlative:n,description:a}=o.generals[s];C.set(n,a)}const c={...o==null?void 0:o.session};for(const s in c)$.set(`${s}`,c[s]);const p=(s,...n)=>{var r,m,f,d;const a=[];if(Array.isArray(s))for(const e of s)a.push(...n.map(l=>`${e}.${l}`));else a.push(...n.map(e=>`${s}.${e}`));if((m=(r=o==null?void 0:o.session)==null?void 0:r.permissions)!=null&&m.find(e=>a.includes(e.name)||e.name=="general.root"))return!0;const t=((f=o==null?void 0:o.session)==null?void 0:f.roles)??[];for(const e of t)if((d=e==null?void 0:e.permissions)!=null&&d.find(l=>a.includes(l.name)||l.name=="general.root"))return!0;return!1},A=(...s)=>{var t;const n=[];return Array.isArray(s)?n.push(...s):n.push(s),!!(((t=o==null?void 0:o.session)==null?void 0:t.roles)??[]).find(r=>n.includes(r.name))};u.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(u.Cookies.get("XSRF-TOKEN"))},h(i,{...o,can:p,hasRole:A}),g.APP_ENV==="local"&&document.querySelectorAll(".modal-backdrop").forEach(n=>{console.log(n),n.textContent||n.remove()})}})};export{j as C};

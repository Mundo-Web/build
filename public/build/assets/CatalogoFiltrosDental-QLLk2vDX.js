import{r as e,m as a,j as t,b8 as s,b9 as i,ba as r,h as l,C as n,S as o,bb as c,K as d,b0 as m,ap as u,bc as x,bd as h,bi as p,aE as g,X as b,a_ as y,be as f,bf as j,am as w,E as v,R as N,J as _}from"./vendor-react-DB2gWWlz.js";import"./ProductDetailB-Cb5pxzoE.js";import{I as k}from"./ItemsRest-BhJ2ftaN.js";import{A as C}from"./ArrayJoin-BdaqwNXM.js";import{S as T}from"./SelectForm-DXI0JgdT.js";import{P as S}from"./ProductCardSelector-b8CUkOsc.js";import"./CartKuchara-C7ZIDpxE.js";import"./HeaderSearch-DYRcDESG.js";import"./GoogleSignInButton-Bo5d3xNo.js";import"./HeaderBananaLab-B_S_96z9.js";import{C as $}from"./Number2Currency-BX4epFEo.js";import"./TippyButton-Crd57m29.js";import{m as P,A as E}from"./vendor-motion-Ma5gYeLT.js";import"./vendor-swiper-Cr_RrIb_.js";import"./BasicRest-rcCccbSV.js";import"./BooleanLimit-q2Ad9fGY.js";import"./preload-helper-DAHR15QK.js";import"./CartItemRow-DjcmXrs1.js";import"./General-ClVW7qxN.js";const L=new k,A={container:{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.3,ease:"easeOut"}},section:{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"}},item:{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.2,ease:"easeOut"}},hover:{scale:1.02,y:-2,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}},H="backdrop-blur-xl bg-gradient-to-br from-white/95 via-white/90 to-white/85 border border-gray-200/60 rounded-2xl shadow-2xl shadow-gray-900/10",G="bg-white border-b border-gray-200/60 rounded-t-2xl",M="group transition-all duration-300 hover:bg-gradient-to-r hover:from-gray-50/60 hover:to-blue-50/40 rounded-xl",I="w-full flex items-center justify-between p-4 rounded-xl transition-all duration-300 hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 group",B="bg-gradient-to-b from-white/90 to-gray-50/50 rounded-xl border border-gray-200/40 backdrop-blur-sm",R="w-full pl-12 pr-4 py-3 bg-white/90 backdrop-blur-sm border border-gray-200/60 rounded-xl focus:ring-2 focus:ring-blue-500/30 focus:border-blue-400 transition-all duration-300 placeholder:customtext-neutral-dark",z="min-h-5 min-w-5 rounded-lg border-2 border-gray-300 text-blue-600 focus:ring-blue-500/30 focus:ring-2 transition-all duration-200 hover:border-blue-400",O="flex items-center gap-3 py-0 px-3 rounded-lg transition-all duration-200 hover:bg-gradient-to-r hover:from-blue-50/60 hover:to-indigo-50/40 cursor-pointer group",q=({delay:e=0})=>t.jsx(P.div,{className:"group w-full h-full",initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{delay:e,duration:.6,ease:"easeOut"},children:t.jsx("div",{className:"px-2 h-full",children:t.jsx("div",{className:"bg-white rounded-3xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden h-full",children:t.jsxs("div",{className:"flex flex-col h-[400px] lg:h-[460px] xl:h-[400px] 2xl:h-[430px]",children:[t.jsxs("div",{className:"relative flex-1 bg-gray-100 rounded-t-3xl overflow-hidden",children:[t.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 via-gray-100 to-gray-200",children:[t.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_2.5s_infinite] bg-gradient-to-r from-transparent via-white/70 to-transparent transform skew-x-12"}),t.jsx("div",{className:"absolute inset-0 -translate-x-full animate-[shimmer_3s_infinite] bg-gradient-to-r from-transparent via-blue-100/30 to-transparent transform skew-x-12",style:{animationDelay:"0.5s"}})]}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(P.div,{animate:{scale:[1,1.1,1],opacity:[.5,.8,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:t.jsx(j,{className:"w-12 h-12 text-gray-300"})})}),t.jsx("div",{className:"absolute top-3 left-3",children:t.jsx("div",{className:"h-6 w-16 bg-gray-300 rounded-full animate-pulse"})}),t.jsx("div",{className:"absolute top-3 right-3",children:t.jsx("div",{className:"h-8 w-8 bg-gray-300 rounded-full animate-pulse"})})]}),t.jsxs("div",{className:"p-4 space-y-3 bg-white flex-shrink-0",children:[t.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded-full animate-pulse"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 w-full bg-gray-300 rounded animate-pulse"}),t.jsx("div",{className:"h-4 w-3/4 bg-gray-300 rounded animate-pulse"})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-5 w-24 bg-gray-400 rounded animate-pulse"})]}),t.jsx("div",{className:"h-10 w-10 bg-gray-300 rounded-xl animate-pulse"})]}),t.jsxs("div",{className:"flex items-center space-x-1 pt-1",children:[[1,2,3,4,5].map(e=>t.jsx("div",{className:"h-3 w-3 bg-gray-200 rounded-full animate-pulse"},e)),t.jsx("div",{className:"h-3 w-8 bg-gray-200 rounded animate-pulse ml-2"})]})]})]})})})}),F=({items:k,data:F,filteredData:X,cart:J,setCart:U,setFavorites:W,favorites:Y,onClickTracking:Z})=>{const V=[{value:"created_at:desc",label:"Más reciente"},{value:"created_at:asc",label:"Mas antiguo"},{value:"final_price:asc",label:"Precio: Menor a Mayor"},{value:"final_price:desc",label:"Precio: Mayor a Menor"},{value:"name:asc",label:"Nombre: A-Z"},{value:"name:desc",label:"Nombre: Z-A"},{value:"most_sold:desc",label:"Más vendidos"},{value:"views:desc",label:"Más visitados"},{value:"best_discount:desc",label:"Mejores ofertas"},{value:"featured:desc",label:"Destacados"},{value:"offering:desc",label:"En oferta"}],[Q,ee]=e.useState(null),[ae,te]=e.useState([]),[se,ie]=e.useState([]),[re,le]=e.useState([]),[ne,oe]=e.useState([]),[ce,de]=e.useState([]),[me,ue]=e.useState([]),[xe,he]=e.useState([]),[pe,ge]=e.useState([]),[be,ye]=e.useState(null),fe=[{min:0,max:50,label:`Hasta ${$()} 50`},{min:50,max:100,label:`${$()} 50 - ${$()} 100`},{min:100,max:250,label:`${$()} 100 - ${$()} 250`},{min:250,max:500,label:`${$()} 250 - ${$()} 500`},{min:500,max:1e3,label:`${$()} 500 - ${$()} 1.000`},{min:1e3,max:2e3,label:`${$()} 1.000 - ${$()} 2.000`},{min:2e3,max:5e3,label:`${$()} 2.000 - ${$()} 5.000`},{min:5e3,max:999999,label:`Desde ${$()} 5.000`}],[je,we]=e.useState(()=>("undefined"!=typeof window&&window.innerWidth,{marca:!1,precio:!1,categoria:!1,subcategoria:!1,colores:!1,coleccion:!1,tienda:!1,amenidades:!1})),[ve,Ne]=e.useState({collection_id:[],category_id:[],brand_id:[],subcategory_id:[],store_id:[],tag_id:a.GET.tag?a.GET.tag.split(","):[],amenity_id:a.GET.amenity?a.GET.amenity.split(","):[],price:[],name:a.GET.search||null,sort:(()=>{if(a.GET.sortBy){const e=a.GET.sortBy;let t=V.find(a=>a.value===e);if(t||(t=V.find(a=>a.label.toLowerCase()===e.toLowerCase())),t){const[e,a]=t.value.split(":");return[{selector:e,desc:"desc"===a}]}}return[{selector:"final_price",desc:!0}]})()}),[_e,ke]=e.useState([]),[Ce,Te]=e.useState([]),[Se,$e]=e.useState(!0),[Pe,Ee]=e.useState(!1),[Le,Ae]=e.useState(!1),[He,Ge]=e.useState(!1),[Me,Ie]=e.useState({currentPage:1,totalPages:1,totalItems:0,itemsPerPage:24,from:0,to:0}),Be=e=>{const a=[];if(e.sort&&Array.isArray(e.sort)){const t=["featured","offering","is_new","recommended"];e.sort.forEach(e=>{t.includes(e.selector)&&a.push([e.selector,"=",1])})}if(e.collection_id.length>0){const t=e.collection_id.map(e=>["collection.id","=",ne.find(a=>a.slug===e)?.id||e]);a.push(C(t,"or"))}if(e.category_id.length>0){const t=e.category_id.map(e=>["category.id","=",e]);a.push(C(t,"or"))}if(e.subcategory_id.length>0){const t=e.subcategory_id.map(e=>["subcategory.id","=",e]);a.push(C(t,"or"))}if(e.brand_id.length>0){const t=e.brand_id.map(e=>{const a=ae.find(a=>a.slug===e);return a?["brand.slug","=",a.slug]:["brand.slug","=",e]});a.push(C(t,"or"))}if(e.store_id.length>0){const t=e.store_id.map(e=>["store.id","=",ce.find(a=>a.slug===e)?.id||e]);a.push(C(t,"or"))}if(e.tag_id&&e.tag_id.length>0){const t=e.tag_id.map(e=>["item_tag.tag_id","=",e]);a.push(C(t,"or"))}if(e.amenity_id&&e.amenity_id.length>0){const t=e.amenity_id.map(e=>["item_amenity.amenity_id","=",e]);a.push(C(t,"or"))}if(e.price&&e.price.length>0){const t=e.price.map(e=>["and",[["final_price",">=",e.min],"and",["final_price","<=",e.max]]]);a.push(C(t,"or"))}if(e.name){const t=[["name","contains",e.name],"or",["summary","contains",e.name],"or",["description","contains",e.name]];a.push(t)}return C(a,"and")},Re=e=>[["name","contains",e],"or",["summary","contains",e],"or",["description","contains",e]],[ze,Oe]=e.useState(!0),[qe,Fe]=e.useState(null),Ke=e=>{if(!e||e.length<2||!ze)return null;const a=e.toLowerCase().trim(),t=re.filter(e=>e.name.toLowerCase().includes(a)||a.includes(e.name.toLowerCase())),s=ae.filter(e=>e.name.toLowerCase().includes(a)||a.includes(e.name.toLowerCase())),i=se.filter(e=>e.name.toLowerCase().includes(a)||a.includes(e.name.toLowerCase())),r=ne.filter(e=>e.name.toLowerCase().includes(a)||a.includes(e.name.toLowerCase()));ce.filter(e=>e.name.toLowerCase().includes(a)||a.includes(e.name.toLowerCase()));return{categories:t,brands:s,subcategories:i,collections:r,hasMatches:t.length>0||s.length>0||i.length>0||r.length>0}},De=e=>{const a=Ke(e);if(!a||!a.hasMatches)return!1;const t=a.categories.some(e=>ve.category_id.includes(e.id)),s=a.brands.some(e=>ve.brand_id.includes(e.slug)),i=a.subcategories.some(e=>ve.subcategory_id.includes(e.id)),r=a.collections.some(e=>ve.collection_id.includes(e.slug));return t||s||i||r},Xe=e=>{if(!e||e.length<2)return;const a=Ke(e);a&&a.hasMatches&&ze?(Fe(e),Ne(t=>{const s={...t,name:e};if(a.categories.length>0){const e=a.categories.map(e=>e.id);s.category_id=[...new Set([...s.category_id,...e])]}if(a.brands.length>0){const e=a.brands.map(e=>e.slug);s.brand_id=[...new Set([...s.brand_id,...e])]}if(a.subcategories.length>0){const e=a.subcategories.map(e=>e.id);s.subcategory_id=[...new Set([...s.subcategory_id,...e])]}if(a.collections.length>0){const e=a.collections.map(e=>e.slug);s.collection_id=[...new Set([...s.collection_id,...e])]}return s})):(Ne(a=>({...a,name:e})),Fe(null))};window.debugCatalogSearch=async e=>{const a=Ke(e),t={...ve,name:e};a&&a.hasMatches&&(a.categories.length>0&&(t.category_id=[...new Set([...t.category_id,...a.categories.map(e=>e.id)])]),a.brands.length>0&&(t.brand_id=[...new Set([...t.brand_id,...a.brands.map(e=>e.slug)])]),a.subcategories.length>0&&(t.subcategory_id=[...new Set([...t.subcategory_id,...a.subcategories.map(e=>e.id)])]),a.collections.length>0&&(t.collection_id=[...new Set([...t.collection_id,...a.collections.map(e=>e.slug)])]));const s=Be(t),i=Re(e);try{const e=await fetch("/api/items/paginate",{method:"POST",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({take:8,skip:0,filter:i,sort:[{selector:"name",desc:!1}],requireTotalCount:!1,with:"category,brand"})});await e.json(),await L.paginate({filter:s,sort:[{selector:"name",desc:!1}],skip:0,take:8,requireTotalCount:!1,with:"category,brand"})}catch(r){}},window.handleIntelligentSearch=Xe,window.toggleIntelligentSearch=()=>{Oe(!ze)},window.clearIntelligentFilters=()=>{if(qe&&ve.name){const e=Ke(ve.name);e&&e.hasMatches&&Ne(a=>{const t={...a};if(e.categories.length>0){const a=e.categories.map(e=>e.id);t.category_id=t.category_id.filter(e=>!a.includes(e))}if(e.brands.length>0){const a=e.brands.map(e=>e.slug);t.brand_id=t.brand_id.filter(e=>!a.includes(e))}if(e.subcategories.length>0){const a=e.subcategories.map(e=>e.id);t.subcategory_id=t.subcategory_id.filter(e=>!a.includes(e))}if(e.collections.length>0){const a=e.collections.map(e=>e.slug);t.collection_id=t.collection_id.filter(e=>!a.includes(e))}return t})}Fe(null)},window.isIntelligentSearchActive=De,window.detectIntelligentFilters=Ke,window.simulateHeaderSearch=e=>{Ne(a=>({...a,name:e}))},window.forceIntelligentSearch=e=>{const a=ze;Oe(!0),setTimeout(()=>{Xe(e),Oe(a)},100)};const Je=async(e=1,a=!1)=>{Ge(!1),a?Ee(!0):$e(!0);try{const a=Be(ve),t=24,s=["featured","offering","is_new","recommended"],i=ve.sort.filter(e=>!s.includes(e.selector)),r={filter:a,sort:i.length>0?i:[{selector:"final_price",desc:!0}],skip:(e-1)*t,take:t,requireTotalCount:!0,filterSequence:_e},l=await L.paginate(r);if(200!==l.status)throw new Error(`API returned status ${l.status}`);Te(l.data||[]),Ae(!0),l.data&&0!==l.data.length||setTimeout(()=>{Ge(!0)},300);const n=l.totalCount||0,o=Math.ceil(n/t);Ie({currentPage:e,totalPages:o,totalItems:n,itemsPerPage:t,from:n>0?(e-1)*t+1:0,to:Math.min(e*t,n)}),te(l?.summary?.brands||[]),le(l?.summary?.categories||[]),ie(l?.summary?.subcategories||[]),oe(l?.summary?.collections||[]),de(l?.summary?.stores||[]),ue(l?.summary?.priceRanges||[]),he(l?.summary?.tags||[]),ge(l?.summary?.amenities||F?.amenities||[])}catch(t){if(ve.name&&0===ve.category_id.length&&0===ve.brand_id.length&&0===ve.subcategory_id.length&&0===ve.collection_id.length&&0===ve.store_id.length&&0===ve.tag_id.length&&0===ve.price.length)try{const a={filter:Re(ve.name),sort:ve.sort,skip:24*(e-1),take:24,requireTotalCount:!0,with:"category,brand"},t=await L.paginate(a);if(200===t.status){Te(t.data||[]),Ae(!0),t.data&&0!==t.data.length||setTimeout(()=>{Ge(!0)},300);const a=t.totalCount||0,s=Math.ceil(a/24);return void Ie({currentPage:e,totalPages:s,totalItems:a,itemsPerPage:24,from:a>0?24*(e-1)+1:0,to:Math.min(24*e,a)})}}catch(s){}setTimeout(()=>{Ge(!0)},300)}finally{$e(!1),Ee(!1)}};e.useEffect(()=>{X&&(le(X.categories||[]),te(X.brands||[]),ie(X.subcategories||[]),de(X.stores||[]),ue(X.priceRanges||[]),setTimeout(()=>{(async()=>{try{const e={};if(a.GET.category&&(e.category_slugs=a.GET.category),a.GET.brand&&(e.brand_slugs=a.GET.brand),a.GET.subcategory&&(e.subcategory_slugs=a.GET.subcategory),a.GET.collection&&(e.collection_slugs=a.GET.collection),a.GET.store&&(e.store_slugs=a.GET.store),Object.keys(e).length>0){const t=await L.convertSlugs(e);if(200===t.status){const e={...ve,category_id:Array.isArray(t.data.category_ids)?t.data.category_ids:t.data.category_ids?[t.data.category_ids]:[],brand_id:a.GET.brand?[a.GET.brand]:[],subcategory_id:Array.isArray(t.data.subcategory_ids)?t.data.subcategory_ids:t.data.subcategory_ids?[t.data.subcategory_ids]:[],collection_id:Array.isArray(t.data.collection_ids)?t.data.collection_ids:t.data.collection_ids?[t.data.collection_ids]:[],store_id:Array.isArray(t.data.store_ids)?t.data.store_ids:t.data.store_ids?[t.data.store_ids]:[]};Ne(e)}}}catch(e){}})()},50)),a.GET.search&&ze&&setTimeout(()=>{Xe(a.GET.search)},150),Je(1,!1)},[X,ze]),e.useEffect(()=>{Je(1,Le)},[ve]),e.useEffect(()=>{if(ve.name&&ze&&ae.length>0){De(ve.name)||setTimeout(()=>{const e=Ke(ve.name);e&&e.hasMatches&&(Ne(a=>{const t={...a};if(e.brands.length>0){const a=e.brands.map(e=>e.slug);t.brand_id=[...new Set([...t.brand_id,...a])]}if(e.categories.length>0){const a=e.categories.map(e=>e.id);t.category_id=[...new Set([...t.category_id,...a])]}if(e.subcategories.length>0){const a=e.subcategories.map(e=>e.id);t.subcategory_id=[...new Set([...t.subcategory_id,...a])]}if(e.collections.length>0){const a=e.collections.map(e=>e.slug);t.collection_id=[...new Set([...t.collection_id,...a])]}return t}),Fe(ve.name))},100)}},[ve.name,ze,ae,re,se,ne]);const Ue=e=>{e>=1&&e<=Me.totalPages&&e!==Me.currentPage&&(window.scrollTo({top:0,behavior:"smooth"}),Je(e,!1))},We=(e,a)=>{["is_new","offering","recommended","featured"].includes(e)?Ne(a=>({...a,[e]:!a[e]||!a[e]})):(Ne(t=>{if("price"===e){const e=Array.isArray(t.price)?t.price:[];let s;return s=e.some(e=>e.min===a.min&&e.max===a.max)?e.filter(e=>!(e.min===a.min&&e.max===a.max)):[...e,a],{...t,price:s}}const s=Array.isArray(t[e])?t[e]:[];let i;return i=s.includes(a)?s.filter(e=>e!==a):[...s,a],{...t,[e]:i}}),ke(t=>{if(!["brand_id","category_id","collection_id","store_id"].includes(e))return t;if(ve[e]?.includes(a)){return 0===(ve[e]?.filter(e=>e!==a)||[]).length?t.filter(a=>a!==e):t}return t.includes(e)?t:[...t,e]}))},Ye=e=>{we(a=>({...a,[e]:!a[e]}))},[Ze,Ve]=e.useState(""),[Qe,ea]=e.useState(""),[aa,ta]=e.useState(""),[sa,ia]=e.useState(""),[ra,la]=e.useState(""),[na,oa]=e.useState(""),ca=pe.filter(e=>e.name.toLowerCase().includes(na.toLowerCase())),da=F?.dat_prices&&Array.isArray(F.dat_prices)&&F.dat_prices.length>0?F.dat_prices:fe,ma=re.filter(e=>e.name.toLowerCase().includes(Ze.toLowerCase())),ua=se.filter(e=>{let a;return a=ve.category_id&&ve.category_id.length>0?re.filter(e=>ve.category_id.includes(e.id)).map(e=>e.id):re.map(e=>e.id),a.includes(e.category_id)&&e.name.toLowerCase().includes(Qe.toLowerCase())}),xa=ae.filter(e=>e.name.toLowerCase().includes(aa.toLowerCase())),ha=ne.filter(e=>e.name.toLowerCase().includes(sa.toLowerCase())),pa=ce.filter(e=>e.name.toLowerCase().includes(ra.toLowerCase())),[ga,ba]=e.useState(!1);return e.useEffect(()=>(ga?(document.body.classList.add("filter-modal-open"),document.body.style.overflow="hidden"):(document.body.classList.remove("filter-modal-open"),document.body.style.overflow="unset"),()=>{document.body.classList.remove("filter-modal-open"),document.body.style.overflow="unset"}),[ga]),t.jsx("section",{id:F?.element_id||null,className:"py-4 lg:py-12 bg-gradient-to-br from-gray-50/50 via-white to-blue-50/30",children:t.jsxs("div",{className:"mx-auto px-primary 2xl:px-0 2xl:max-w-7xl",children:[t.jsxs(P.div,{className:"flex flex-col md:flex-row md:justify-between items-start md:items-center mb-6 lg:mb-8 lg:pb-6 lg:border-b-2 border-gradient-to-r from-blue-200 via-indigo-200 to-purple-200",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[t.jsx(P.div,{className:"md:w-6/12 mb-0 md:mb-0",whileHover:{scale:1.02},children:t.jsx("h2",{className:`text-2xl lg:text-[32px] md:text-4xl font-bold customtext-primary  lg:mb-2 ${F?.class_title}`,children:F?.title})}),t.jsx("div",{className:"hidden md:flex flex-col w-full items-start md:items-center justify-end gap-4 md:flex-row md:w-5/12",children:t.jsx(P.div,{className:"w-full md:w-6/12 relative",children:t.jsx(T,{options:V,placeholder:"Ordenar por",value:ve.sort?.[0]?.selector&&void 0!==ve.sort?.[0]?.desc?`${ve.sort[0].selector}:${ve.sort[0].desc?"desc":"asc"}`:"final_price:desc",onChange:e=>{const[a,t]=e.split(":"),s=[{selector:a,desc:"desc"===t}];Ne(e=>({...e,sort:s}));const i=new URL(window.location);i.searchParams.set("sortBy",e),window.history.pushState({},"",i)},labelKey:"label",valueKey:"value",className:"customtext-neutral-dark border-primary rounded-lg",generalIcon:t.jsx(s,{className:"w-5 h-5 mr-2 customtext-primary"})})})})]}),t.jsxs("div",{className:"relative flex flex-col lg:flex-row gap-6",children:[t.jsxs("div",{className:"w-full flex lg:hidden lg:mb-6  items-stretch gap-3",children:[t.jsx(P.div,{className:"flex-1 max-w-max",children:t.jsx(K,{text:"Abrir panel de filtros avanzados",position:"bottom",children:t.jsxs(P.button,{className:"w-full h-12 flex items-center justify-center gap-2 px-4 bg-primary text-white rounded-2xl shadow-xl shadow-blue-500/25 hover:shadow-2xl hover:shadow-blue-500/40 transition-all duration-300 overflow-hidden relative",onClick:()=>ba(!0),whileHover:{scale:1.02,y:-3},whileTap:{scale:.98},...A.container,children:[t.jsx(P.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:3,repeat:1/0,ease:"linear"}}),t.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[t.jsx(P.div,{className:"p-1.5 bg-white/20 rounded-lg backdrop-blur-sm",animate:{rotate:[0,10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:t.jsx(i,{className:"h-4 w-4"})}),t.jsx("span",{className:"text-sm font-bold",children:"Filtros"})]})]})})}),t.jsx(P.div,{className:"flex-1",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},children:t.jsx(T,{options:V,placeholder:"Ordenar",value:ve.sort?.[0]?.selector&&void 0!==ve.sort?.[0]?.desc?`${ve.sort[0].selector}:${ve.sort[0].desc?"desc":"asc"}`:"final_price:desc",onChange:e=>{const[a,t]=e.split(":"),s=[{selector:a,desc:"desc"===t}];Ne(e=>({...e,sort:s}));const i=new URL(window.location);i.searchParams.set("sortBy",e),window.history.pushState({},"",i)},labelKey:"label",valueKey:"value",className:"!w-full customtext-neutral-dark border-primary rounded-2xl text-sm h-12"})})]}),t.jsxs(P.div,{className:(ga?"fixed inset-0 backdrop-blur-md z-[999] flex flex-col mobile-filter-modal":"hidden")+" lg:block lg:w-3/12 lg:bg-transparent lg:h-max lg:relative lg:z-auto",...ga?A.container:{},initial:!!ga&&{opacity:0},animate:!!ga&&{opacity:1},exit:!!ga&&{opacity:0},transition:{duration:.3},onClick:ga?e=>{e.target===e.currentTarget&&ba(!1)}:void 0,children:[t.jsx("div",{className:`${ga?"flex flex-col h-full bg-transparent":H} lg:backdrop-blur-xl lg:border lg:border-gray-200/60 lg:rounded-2xl lg:shadow-2xl lg:shadow-gray-900/10`,children:t.jsxs("div",{className:""+(ga?"mx-4 mt-4 mb-2 bg-white rounded-t-3xl shadow-2xl flex flex-col flex-1 overflow-hidden safe-area-top mobile-filter-content":""),children:[t.jsx(P.div,{className:`${G} p-6 flex items-center justify-between lg:relative lg:p-4`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(P.div,{className:"p-2 bg-primary rounded-xl shadow-lg",whileHover:{rotate:360},transition:{duration:.6},children:t.jsx(r,{className:"h-5 w-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold customtext-neutral-dark",children:"Filtros"}),t.jsx("p",{className:"text-sm customtext-neutral-dark hidden lg:block",children:"Refina tu búsqueda con precisión"})]})]})}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-6 custom-scrollbar",style:{height:ga?"calc(100vh - 200px)":"auto",paddingBottom:ga?"1rem":"1.5rem"},children:[F?.section_collections&&t.jsxs(P.div,{className:M,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},children:[t.jsxs(P.button,{onClick:()=>Ye("coleccion"),className:I,whileHover:A.hover,whileTap:A.tap,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(P.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:je.coleccion?360:0},transition:{duration:.3},children:t.jsx(l,{className:"h-4 w-4 text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Colecciones"}),t.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Explora nuestras colecciones especiales"})]})]}),t.jsx(P.div,{animate:{rotate:je.coleccion?180:0},transition:{duration:.3},children:t.jsx(n,{className:"h-5 w-5 customtext-neutral-dark"})})]}),t.jsx(E,{children:je.coleccion&&t.jsxs(P.div,{className:`mt-4 p-4 ${B}`,...A.section,children:[t.jsxs("div",{className:"relative mb-4",children:[t.jsx(P.div,{className:"absolute left-4 top-4 z-[99]",children:t.jsx(o,{className:"h-4 w-4"})}),t.jsx("input",{type:"text",placeholder:"Buscar colecciones...",className:R,value:sa,onChange:e=>ia(e.target.value)})]}),t.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto custom-scrollbar",children:t.jsx(E,{children:ha.length>0?ha.map((e,a)=>t.jsxs(P.label,{className:O,...A.item,transition:{delay:.05*a},children:[t.jsx("input",{type:"checkbox",className:z,onChange:()=>We("collection_id",e.slug),checked:ve.collection_id?.includes(e.slug)}),t.jsx("span",{className:"text-sm font-medium line-clamp-1 customtext-neutral-dark transition-colors duration-200",children:e.name}),ve.collection_id?.includes(e.slug)&&t.jsx(P.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:t.jsx(c,{className:"h-4 w-4 customtext-primary"})})]},e.id)):t.jsxs(P.div,{className:"text-center py-6 customtext-neutral-dark",initial:{opacity:0},animate:{opacity:1},children:[t.jsx(l,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No se encontraron colecciones"})]})})})]})})]}),F?.section_brands&&t.jsxs(P.div,{className:M,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[t.jsxs(P.button,{onClick:()=>Ye("marca"),className:I,whileHover:A.hover,whileTap:A.tap,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(P.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:je.marca?360:0},transition:{duration:.3},children:t.jsx(d,{className:"h-4 w-4 text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Marcas"}),t.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Selecciona tus marcas favoritas"})]})]}),t.jsx(P.div,{animate:{rotate:je.marca?180:0},transition:{duration:.3},children:t.jsx(n,{className:"h-5 w-5 customtext-neutral-dark"})})]}),t.jsx(E,{children:je.marca&&t.jsxs(P.div,{className:`mt-4 p-4 ${B}`,...A.section,children:[t.jsxs("div",{className:"relative mb-4",children:[t.jsx(P.div,{className:"absolute left-4 top-4 z-[99]",children:t.jsx(o,{className:"h-4 w-4"})}),t.jsx("input",{type:"text",placeholder:"Buscar marcas...",className:R,value:aa,onChange:e=>ta(e.target.value)})]}),t.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto custom-scrollbar",children:t.jsx(E,{children:xa.map((e,a)=>t.jsxs(P.label,{className:O,...A.item,transition:{delay:.05*a},children:[t.jsx("input",{type:"checkbox",className:z,onChange:()=>We("brand_id",e.slug),checked:ve.brand_id?.includes(e.slug)}),t.jsx("span",{className:"text-sm font-medium line-clamp-1 customtext-neutral-dark  transition-colors duration-200",children:e.name}),ve.brand_id?.includes(e.slug)&&t.jsx(P.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:t.jsx(c,{className:"h-4 w-4 customtext-primary"})})]},e.id))})})]})})]}),F?.section_stores&&t.jsxs(P.div,{className:M,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},children:[t.jsxs(P.button,{onClick:()=>Ye("tienda"),className:I,whileHover:A.hover,whileTap:A.tap,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(P.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:je.tienda?360:0},transition:{duration:.3},children:t.jsx(m,{className:"h-4 w-4 text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Tiendas"}),t.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Selecciona por tienda"})]})]}),t.jsx(P.div,{animate:{rotate:je.tienda?180:0},transition:{duration:.3},children:t.jsx(n,{className:"h-5 w-5 customtext-neutral-dark"})})]}),t.jsx(E,{children:je.tienda&&t.jsxs(P.div,{className:`mt-4 p-4 ${B}`,...A.section,children:[t.jsxs("div",{className:"relative mb-4",children:[t.jsx(P.div,{className:"absolute left-4 top-4 z-[99]",children:t.jsx(o,{className:"h-4 w-4"})}),t.jsx("input",{type:"text",placeholder:"Buscar tiendas...",className:R,value:ra,onChange:e=>la(e.target.value)})]}),t.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto custom-scrollbar",children:t.jsx(E,{children:pa.map((e,a)=>t.jsxs(P.label,{className:O,...A.item,transition:{delay:.05*a},children:[t.jsx("input",{type:"checkbox",className:z,onChange:()=>We("store_id",e.id),checked:ve.store_id?.includes(e.id)}),t.jsx("span",{className:"text-sm font-medium line-clamp-1 customtext-neutral-dark  transition-colors duration-200",children:e.name}),ve.store_id?.includes(e.id)&&t.jsx(P.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:t.jsx(c,{className:"h-4 w-4 customtext-primary"})})]},e.id))})})]})})]}),F?.section_categories&&t.jsxs(P.div,{className:M,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[t.jsxs(P.button,{onClick:()=>Ye("categoria"),className:I,whileHover:A.hover,whileTap:A.tap,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(P.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:je.categoria?360:0},transition:{duration:.3},children:t.jsx(u,{className:"h-4 w-4 text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Categorías"}),t.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Explora por categorías"})]})]}),t.jsx(P.div,{animate:{rotate:je.categoria?180:0},transition:{duration:.3},children:t.jsx(n,{className:"h-5 w-5 customtext-neutral-dark"})})]}),t.jsx(E,{children:je.categoria&&t.jsxs(P.div,{className:`mt-4 p-4 ${B}`,...A.section,children:[t.jsxs("div",{className:"relative mb-4",children:[t.jsx(P.div,{className:"absolute left-4 top-4 z-[99]",children:t.jsx(o,{className:"h-4 w-4"})}),t.jsx("input",{type:"text",placeholder:"Buscar categorías...",className:R,value:Ze,onChange:e=>Ve(e.target.value)})]}),t.jsx("div",{className:"space-y-2 max-h-[300px] overflow-y-auto custom-scrollbar",children:t.jsx(E,{children:ma.map((e,a)=>t.jsxs(P.div,{className:" rounded-xl overflow-hidden",...A.item,transition:{delay:.05*a},children:[t.jsxs(P.label,{className:`${O} `,children:[t.jsx("input",{type:"checkbox",className:z,onChange:()=>We("category_id",e.id),checked:ve.category_id?.includes(e.id)}),t.jsx("span",{className:"text-sm line-clamp-1 customtext-neutral-dark  transition-colors duration-200",children:e.name}),ve.category_id?.includes(e.slug)&&t.jsx(P.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:t.jsx(c,{className:"h-4 w-4 customtext-primary"})})]}),t.jsx(E,{children:ve.category_id?.includes(e.slug)&&e.subcategories&&t.jsx(P.div,{className:"bg-gradient-to-b from-purple-25 to-white/50 p-3",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:t.jsx("div",{className:"space-y-2 pl-4 border-l-2 border-purple-200",children:e.subcategories.map(e=>t.jsxs(P.label,{className:"flex items-center gap-2 py-1.5 px-2 rounded-lg hover:bg-purple-50/60 transition-colors duration-200 cursor-pointer group",whileHover:{x:3},children:[t.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-2 border-purple-300 text-purple-600 focus:ring-purple-500/30",onChange:()=>We("subcategory_id",e.slug),checked:ve.subcategory_id?.includes(e.slug)}),t.jsx("span",{className:"text-sm line-clamp-1 customtext-neutral-dark group-hover:text-purple-600 transition-colors duration-200",children:e.name})]},e.id))})})})]},e.id))})})]})})]}),F?.section_subcategories&&t.jsxs(P.div,{className:M,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:[t.jsxs(P.button,{onClick:()=>Ye("subcategoria"),className:I,whileHover:A.hover,whileTap:A.tap,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(P.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:je.subcategoria?360:0},transition:{duration:.3},children:t.jsx(x,{className:"h-4 w-4 text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Subcategorías"}),t.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Busca por subcategorías específicas"})]})]}),t.jsx(P.div,{animate:{rotate:je.subcategoria?180:0},transition:{duration:.3},children:t.jsx(n,{className:"h-5 w-5 customtext-neutral-dark"})})]}),t.jsx(E,{children:je.subcategoria&&t.jsxs(P.div,{className:`mt-4 p-4 ${B}`,...A.section,children:[t.jsxs("div",{className:"relative mb-4",children:[t.jsx(P.div,{className:"absolute left-4 top-4 z-[99]",animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},children:t.jsx(o,{className:"h-4 w-4"})}),t.jsx("input",{type:"text",placeholder:"Buscar subcategorías...",className:R,value:Qe,onChange:e=>ea(e.target.value)})]}),t.jsx("div",{className:"space-y-2 max-h-[250px] overflow-y-auto custom-scrollbar",children:t.jsx(E,{children:ua.length>0?ua.map((e,a)=>t.jsxs(P.label,{className:O,...A.item,transition:{delay:.05*a},children:[t.jsx("input",{type:"checkbox",className:z,onChange:()=>We("subcategory_id",e.id),checked:ve.subcategory_id?.includes(e.id)}),t.jsx("span",{className:"text-sm line-clamp-1 font-medium customtext-neutral-dark transition-colors duration-200",children:e.name}),ve.subcategory_id?.includes(e.id)&&t.jsx(P.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:t.jsx(c,{className:"h-4 w-4 customtext-primary"})})]},e.id)):t.jsxs(P.div,{className:"text-center py-6 customtext-neutral-dark",initial:{opacity:0},animate:{opacity:1},children:[t.jsx(x,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No se encontraron subcategorías"})]})})})]})})]}),F?.section_prices&&t.jsxs(P.div,{className:M,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[t.jsxs(P.button,{onClick:()=>Ye("precio"),className:I,whileHover:A.hover,whileTap:A.tap,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(P.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:je.precio?360:0},transition:{duration:.3},children:t.jsx(h,{className:"h-4 w-4 text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Rango de Precio"}),t.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Encuentra tu presupuesto ideal"})]})]}),t.jsx(P.div,{animate:{rotate:je.precio?180:0},transition:{duration:.3},children:t.jsx(n,{className:"h-5 w-5 customtext-neutral-dark"})})]}),t.jsx(E,{children:je.precio&&t.jsx(P.div,{className:`mt-4 p-4 ${B}`,...A.section,children:t.jsx("div",{className:"space-y-3 max-h-[220px] overflow-y-auto custom-scrollbar",children:t.jsx(E,{children:da.map((e,a)=>t.jsxs(P.label,{className:O,...A.item,transition:{delay:.05*a},children:[t.jsx("input",{type:"checkbox",className:z,onChange:()=>We("price",e),checked:ve.price?.some(a=>a.min===e.min&&a.max===e.max)||!1}),t.jsx("span",{className:"text-sm line-clamp-1 font-medium customtext-neutral-dark  transition-colors duration-200",children:e.label}),ve.price?.some(a=>a.min===e.min&&a.max===e.max)&&t.jsx(P.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:t.jsx(c,{className:"h-4 w-4 customtext-primary"})})]},`${e.min}-${e.max}`))})})})})]}),F?.section_amenities&&t.jsxs(P.div,{className:M,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},children:[t.jsxs(P.button,{onClick:()=>Ye("amenidades"),className:I,whileHover:A.hover,whileTap:A.tap,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(P.div,{className:"p-2 bg-primary rounded-lg shadow-md",animate:{rotate:je.amenidades?360:0},transition:{duration:.3},children:t.jsx(p,{className:"h-4 w-4 text-white"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"font-semibold customtext-neutral-dark",children:"Amenidades"}),t.jsx("p",{className:"text-xs customtext-neutral-dark",children:"Servicios y comodidades"})]})]}),t.jsx(P.div,{animate:{rotate:je.amenidades?180:0},transition:{duration:.3},children:t.jsx(n,{className:"h-5 w-5 customtext-neutral-dark"})})]}),t.jsx(E,{children:je.amenidades&&t.jsxs(P.div,{className:`mt-4 p-4 ${B}`,...A.section,children:[t.jsxs("div",{className:"relative mb-4",children:[t.jsx(P.div,{className:"absolute left-4 top-4 z-[99]",children:t.jsx(o,{className:"h-4 w-4"})}),t.jsx("input",{type:"text",placeholder:"Buscar amenidades...",className:R,value:na,onChange:e=>oa(e.target.value)})]}),t.jsx("div",{className:"space-y-2 max-h-[250px] overflow-y-auto custom-scrollbar",children:t.jsx(E,{children:ca.length>0?ca.map((e,a)=>t.jsxs(P.label,{className:O,...A.item,transition:{delay:.05*a},children:[t.jsx("input",{type:"checkbox",className:z,onChange:()=>We("amenity_id",e.id),checked:ve.amenity_id?.includes(e.id)}),t.jsxs("div",{className:"flex items-center gap-2",children:[e.image&&t.jsx("img",{src:`/storage/images/amenity/${e.image}`,alt:e.name,className:"w-5 h-5 object-contain",onError:e=>e.target.style.display="none"}),t.jsx("span",{className:"text-sm line-clamp-1 font-medium customtext-neutral-dark transition-colors duration-200",children:e.name})]}),ve.amenity_id?.includes(e.id)&&t.jsx(P.div,{className:"ml-auto",initial:{scale:0},animate:{scale:1},exit:{scale:0},children:t.jsx(c,{className:"h-4 w-4 customtext-primary"})})]},e.id)):t.jsxs(P.div,{className:"text-center py-6 customtext-neutral-dark",initial:{opacity:0},animate:{opacity:1},children:[t.jsx(p,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No se encontraron amenidades"})]})})})]})})]}),t.jsx(P.div,{className:"mt-6 pt-6 border-t border-gray-200/60",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:t.jsx(E,{children:(ve.brand_id?.length>0||ve.collection_id?.length>0||ve.category_id?.length>0||ve.subcategory_id?.length>0||ve.store_id?.length>0||ve.tag_id?.length>0||ve.amenity_id?.length>0||ve.price&&ve.price.length>0)&&t.jsxs(P.div,{className:"mb-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[t.jsxs("h4",{className:"text-sm font-semibold customtext-neutral-dark mb-3 flex items-center gap-2",children:[t.jsx(g,{className:"h-4 w-4 customtext-primary"}),"Filtros Activos"]}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[ve.brand_id?.map(e=>{const a=ae.find(a=>a.slug===e);return a?t.jsxs(D,{onClick:()=>We("brand_id",e),className:"group",children:[t.jsx(d,{className:"h-3 w-3"}),t.jsx("span",{children:a.name}),t.jsx(P.div,{className:"ml-1  rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:t.jsx(b,{className:"h-3 w-3"})})]},e):null}),ve.collection_id?.map(e=>{const a=ne.find(a=>a.slug===e);return a?t.jsxs(D,{onClick:()=>We("collection_id",e),className:"group",children:[t.jsx(l,{className:"h-3 w-3"}),t.jsx("span",{children:a.name}),t.jsx(P.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:t.jsx(b,{className:"h-3 w-3"})})]},e):null}),ve.category_id?.map(e=>{const a=re.find(a=>a.id===e);return a?t.jsxs(D,{onClick:()=>We("category_id",e),children:[t.jsx(u,{className:"h-3 w-3"}),t.jsx("span",{children:a.name}),t.jsx(P.div,{className:"ml-1  rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:t.jsx(b,{className:"h-3 w-3"})})]},e):null}),ve.subcategory_id?.map(e=>{const a=se.find(a=>a.id===e);return a?t.jsxs(D,{onClick:()=>We("subcategory_id",e),children:[t.jsx(x,{className:"h-3 w-3"}),t.jsx("span",{children:a.name}),t.jsx(P.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:t.jsx(b,{className:"h-3 w-3"})})]},e):null}),ve.store_id?.map(e=>{const a=ce.find(a=>a.id===e);return a?t.jsxs(D,{onClick:()=>We("store_id",e),children:[t.jsx(m,{className:"h-3 w-3"}),t.jsx("span",{children:a.name}),t.jsx(P.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:t.jsx(b,{className:"h-3 w-3"})})]},e):null}),ve.tag_id?.map(e=>{const a=xe.find(a=>a.id===e);return a?t.jsxs(D,{onClick:()=>We("tag_id",e),children:[t.jsx(y,{className:"h-3 w-3"}),t.jsx("span",{children:a.name}),t.jsx(P.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:t.jsx(b,{className:"h-3 w-3"})})]},e):null}),ve.amenity_id?.map(e=>{const a=pe.find(a=>a.id===e);return a?t.jsxs(D,{onClick:()=>We("amenity_id",e),children:[t.jsx(p,{className:"h-3 w-3"}),t.jsx("span",{children:a.name}),t.jsx(P.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:t.jsx(b,{className:"h-3 w-3"})})]},e):null}),ve.price?.map((e,a)=>{const s=da.find(a=>a.min===e.min&&a.max===e.max);return t.jsxs(D,{onClick:()=>We("price",e),children:[t.jsx(h,{className:"h-3 w-3"}),t.jsx("span",{children:s?.label||`${$()} ${e.min} - ${$()} ${e.max}`}),t.jsx(P.div,{className:"ml-1 rounded-full p-0.5 transition-colors duration-200",whileHover:{scale:1.2},whileTap:{scale:.9},children:t.jsx(b,{className:"h-3 w-3"})})]},`price-${e.min}-${e.max}`)})]})]})})}),t.jsx(P.div,{className:"mt-6 pt-6 border-t border-gray-200",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:t.jsx(P.button,{className:`w-full p-4  rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 font-semibold ${F?.class_clear_button||"bg-secondary customtext-neutral-dark hover:bg-primary hover:text-white"}`,onClick:()=>{Ne(e=>({collection_id:[],category_id:[],brand_id:[],subcategory_id:[],store_id:[],tag_id:[],amenity_id:[],price:[],name:null,sort:[{selector:"final_price",desc:!0}]})),ke([])},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx(f,{className:"h-5 w-5"}),t.jsx("span",{children:"Limpiar todos los filtros"})]})})})]})]})}),t.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-white via-white to-gray-50 border-t border-gray-200 p-4 shadow-2xl backdrop-blur-xl lg:hidden z-50",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(P.button,{className:"flex-1 bg-primary text-white py-3 px-6 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{ba(!1)},whileHover:{scale:1.02},whileTap:{scale:.98},children:t.jsxs("div",{className:"flex items-center justify-center gap-2",children:[t.jsx(j,{className:"h-5 w-5"}),t.jsxs("span",{children:["Ver ",Me.totalItems," Productos"]})]})}),t.jsx(P.button,{className:"p-3 bg-gray-100 hover:bg-gray-200 customtext-neutral-dark rounded-xl transition-colors duration-200",onClick:()=>ba(!1),whileHover:{scale:1.1},whileTap:{scale:.9},children:t.jsx(b,{className:"h-5 w-5"})})]})})]}),t.jsxs(P.div,{className:"w-full lg:w-9/12 py-4",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[t.jsx(E,{mode:"wait",children:Se&&!Le||Pe?t.jsxs(P.div,{className:"w-full",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95,transition:{duration:.3}},children:[t.jsxs(P.div,{className:"mb-8 text-center",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:[t.jsx(P.div,{animate:{rotate:[0,360],scale:[1,1.1,1]},transition:{rotate:{duration:3,repeat:1/0,ease:"linear"},scale:{duration:2,repeat:1/0,ease:"easeInOut"}},className:"inline-block mb-4",children:t.jsx(w,{className:"h-8 w-8 customtext-primary"})}),t.jsx("h3",{className:"text-xl font-bold customtext-neutral-dark mb-2",children:Pe?"Aplicando filtros...":"Cargando productos increíbles"}),t.jsx("p",{className:"customtext-neutral-dark",children:Pe?"Encontrando los mejores resultados para ti...":"Preparando la mejor selección para ti..."})]}),t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-y-6  w-full",children:Array.from({length:12},(e,a)=>t.jsx("div",{className:"h-[400px] lg:h-[460px] xl:h-[400px] 2xl:h-[430px]",children:t.jsx(q,{delay:.08*a})},a))})]},"loading"):t.jsxs(P.div,{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-4 lg:gap-6 transition-all duration-300 ease-in-out relative",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[Pe&&t.jsx(P.div,{className:"absolute inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-10 rounded-2xl",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:t.jsx(w,{className:"h-8 w-8 customtext-primary"})}),t.jsx("p",{className:"text-sm font-semibold customtext-primary",children:"Aplicando filtros..."})]})}),Array.isArray(Ce)&&Ce.length>0?Ce.map((e,a)=>t.jsx(P.div,{className:`w-full ${F?.class_product_card_container||""}`,initial:{opacity:0,y:20,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{delay:.05*a,duration:.4,type:"spring",stiffness:100},whileHover:{y:-5,transition:{duration:.2}},children:t.jsx(S,{cardType:F?.type_card_product||"CardProductBananaLab",product:e,data:F,cart:J,setCart:U,favorites:Y,setFavorites:W,onClickTracking:Z})},e.id)):Le&&!Se&&!Pe&&He?t.jsx(P.div,{className:"w-full flex items-center justify-center py-16",initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},transition:{duration:.6,type:"spring",stiffness:100},children:t.jsx("div",{className:"text-center space-y-6",children:t.jsxs(P.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[t.jsx("h3",{className:"text-xl font-bold customtext-neutral-dark",children:"¡Ups! No encontramos productos"}),t.jsx("p",{className:"customtext-neutral-dark max-w-md",children:"Intenta ajustar tus filtros o buscar términos diferentes."}),t.jsx(P.button,{className:"mt-4 px-6 py-3 bg-primary text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300",onClick:()=>{Ne(e=>({collection_id:[],category_id:[],brand_id:[],subcategory_id:[],store_id:[],tag_id:[],amenity_id:[],price:[],name:null,sort:[{selector:"final_price",desc:!0}]})),ke([])},whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(f,{className:"h-4 w-4"}),t.jsx("span",{children:"Limpiar filtros"})]})})]})})}):null]},"products")}),Array.isArray(Ce)&&Ce.length>0&&t.jsxs(P.div,{className:"flex flex-col md:flex-row justify-between items-center mb-4 w-full mt-12 gap-4 p-6 bg-gradient-to-r from-white via-gray-50/50 to-blue-50/50 rounded-2xl border border-gray-200/60 backdrop-blur-sm",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[t.jsx("div",{className:"customtext-primary font-semibold w-full md:w-auto",children:t.jsx("div",{className:"overflow-x-auto pb-2",children:t.jsxs("nav",{className:"flex items-center gap-x-2 min-w-max",children:[t.jsxs(P.button,{className:"p-3 inline-flex items-center gap-2 rounded-xl transition-all duration-300 "+(1===Me.currentPage?"opacity-50 cursor-not-allowed bg-gray-100":"bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 customtext-primary border border-blue-200"),onClick:()=>Ue(Me.currentPage-1),disabled:1===Me.currentPage,whileTap:1!==Me.currentPage?{scale:.95}:{},children:[t.jsx(v,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Anterior"})]}),(()=>{const e=[],a=Me.totalPages,t=Me.currentPage;for(let s=1;s<=a;s++)1===s||s===a||s>=t-2&&s<=t+2?e.push(s):s!==t-2-1&&s!==t+2+1||e.push("...");return e.filter((e,a,t)=>"..."!==e||"..."!==t[a-1])})().map((e,a)=>t.jsx(N.Fragment,{children:"..."===e?t.jsx("span",{className:"w-10 h-10 bg-transparent p-2 inline-flex items-center justify-center rounded-full customtext-neutral-dark",children:"..."}):t.jsx(P.button,{className:"w-10 h-10 p-2 inline-flex items-center justify-center rounded-xl transition-all duration-300 font-semibold\n                                                        "+(e===Me.currentPage?" bg-primary text-white shadow-lg shadow-blue-500/25":"bg-white hover:bg-gradient-to-r hover:from-blue-50 hover:to-indigo-50 customtext-primary border border-gray-200 hover:border-blue-300"),onClick:()=>Ue(e),whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},children:e})},a)),t.jsxs(P.button,{className:"p-3 inline-flex items-center gap-2 rounded-xl transition-all duration-300 "+(Me.currentPage===Me.totalPages?"opacity-50 cursor-not-allowed bg-gray-100":"bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 customtext-primary border border-blue-200"),onClick:()=>Ue(Me.currentPage+1),disabled:Me.currentPage===Me.totalPages,whileTap:Me.currentPage!==Me.totalPages?{scale:.95}:{},children:[t.jsx("span",{className:"hidden sm:inline",children:"Siguiente"}),t.jsx(_,{className:"h-4 w-4"})]})]})})}),t.jsx(P.div,{className:"w-full md:w-auto text-center md:text-right",whileHover:{scale:1.02},children:t.jsx("div",{className:"flex items-center justify-center md:justify-end gap-2 p-4",children:t.jsxs("p",{className:"font-semibold text-sm customtext-neutral-dark",children:[Me.from," - ",Me.to," de ",Me.totalItems," Resultados"]})})})]})]})]})]})})};if("undefined"!=typeof document){const e=document.createElement("style");e.type="text/css",e.innerText="\n    .custom-scrollbar {\n        scrollbar-width: thin;\n        scrollbar-color: #cbd5e1 #f1f5f9;\n    }\n    \n    .custom-scrollbar::-webkit-scrollbar {\n        width: 6px;\n        height: 6px;\n    }\n    \n    .custom-scrollbar::-webkit-scrollbar-track {\n        background: #f1f5f9;\n        border-radius: 10px;\n    }\n    \n    .custom-scrollbar::-webkit-scrollbar-thumb {\n        background: linear-gradient(135deg, #3b82f6, #6366f1);\n        border-radius: 10px;\n        border: 1px solid #e2e8f0;\n    }\n    \n    .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n        background: linear-gradient(135deg, #2563eb, #4f46e5);\n    }\n    \n    @keyframes shimmer {\n        0% {\n            transform: translateX(-100%) skew(-12deg);\n        }\n        100% {\n            transform: translateX(200%) skew(-12deg);\n        }\n    }\n    \n    .animate-shimmer {\n        animation: shimmer 2s infinite;\n    }\n    \n    @keyframes float {\n        0%, 100% {\n            transform: translateY(0px);\n        }\n        50% {\n            transform: translateY(-5px);\n        }\n    }\n    \n    .filter-shadow {\n        box-shadow: \n            0 4px 6px -1px rgba(0, 0, 0, 0.1),\n            0 2px 4px -1px rgba(0, 0, 0, 0.06),\n            0 0 0 1px rgba(59, 130, 246, 0.1),\n            0 0 20px rgba(59, 130, 246, 0.1);\n    }\n    \n    .gradient-border {\n        position: relative;\n        background: linear-gradient(white, white) padding-box,\n                    linear-gradient(135deg, #3b82f6, #6366f1, #8b5cf6) border-box;\n        border: 2px solid transparent;\n    }\n",document.head.appendChild(e)}const K=({children:a,text:s,position:i="top"})=>{const[r,l]=e.useState(!1);return t.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[a,t.jsx(E,{children:r&&t.jsxs(P.div,{className:`absolute z-50 px-3 py-2 text-sm font-medium text-white bg-gray-900 rounded-lg shadow-lg whitespace-nowrap ${{top:"-top-10 left-1/2 -translate-x-1/2",bottom:"-bottom-10 left-1/2 -translate-x-1/2",left:"-left-2 top-1/2 -translate-y-1/2 -translate-x-full",right:"-right-2 top-1/2 -translate-y-1/2 translate-x-full"}[i]}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.15},children:[s,t.jsx("div",{className:"absolute w-0 h-0 border-l-4 border-r-4 border-transparent "+("top"===i?"border-t-4 border-t-gray-900 top-full left-1/2 -translate-x-1/2":"bottom"===i?"border-b-4 border-b-gray-900 bottom-full left-1/2 -translate-x-1/2":"left"===i?"border-l-4 border-l-gray-900 left-full top-1/2 -translate-y-1/2":"border-r-4 border-r-gray-900 right-full top-1/2 -translate-y-1/2")})]})})]})},D=({children:e,color:a="blue",onClick:s,className:i=""})=>t.jsx(P.div,{className:`inline-flex items-center gap-2 px-3 py-1.5  ${{blue:"bg-gray-200 customtext-primary"}[a]} border rounded-full text-sm font-medium cursor-pointer select-none ${i}`,onClick:s,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},children:e});export{F as default};

import{r as e,j as t,i as s}from"./vendor-react-BX-OgZ1w.js";import"./CartKuchara-BRbOrA8K.js";import{I as r}from"./ItemsRest-DjHqxCcq.js";import"./TippyButton-DqdjTa95.js";import{C as a}from"./Number2Currency-BX4epFEo.js";import"./vendor-swiper-Cr_RrIb_.js";import"./BasicRest-qY-8D5Ep.js";import"./OpenPayCardModal-DKUbGzgl.js";import"./BooleanLimit-q2Ad9fGY.js";import"./General-ClVW7qxN.js";const l=({product:l,setCart:i,cart:o,textcolor:n="",fondo:c=""})=>{const d=new r,[m,u]=e.useState(l.variants);return e.useEffect(()=>{l?.id&&(async e=>{try{const t={slug:e?.slug,limit:999},s=await d.getVariations(t);if(!s)return void u([]);u(s.variants)}catch(t){return void u([])}})(l)},[l]),o?.find(e=>e.id==l?.id),t.jsx("div",{className:"group w-full rounded-xl lg:rounded-2xl transition-transform duration-300 group flex-shrink-0 font-paragraph customtext-primary cursor-pointer",children:t.jsxs("div",{className:`p-0 ${""!==c?c:"bg-white"} rounded-xl lg:rounded-2xl`,children:[t.jsx("a",{href:`/item/${l.slug}`,children:t.jsxs("div",{className:"relative",children:[null!=l.discount&&!isNaN(l.discount)&&t.jsxs("span",{className:"absolute top-8 right-0 bg-[#F93232] text-white text-base font-bold px-2 py-1 rounded-l-full",children:["-",Math.abs(Number(100-Number(100*l?.discount/l?.price))).toFixed(0),"%"]}),t.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden bg-white",children:t.jsx("img",{src:`/storage/images/item/${l.image}`,onError:e=>e.target.src="/assets/img/noimage/no_img.jpg",alt:l.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"})})]})}),t.jsxs("div",{className:"py-4",children:[t.jsx("p",{className:`text-sm sm:text-base font-medium mb-1 ${n?.trim()?n:"customtext-neutral-light"}`,children:l.category.name}),t.jsxs("a",{href:`/item/${l.slug}`,children:[t.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-semibold mb-1 line-clamp-2 !leading-normal",children:l.name}),m?.length>1&&t.jsxs("div",{className:"hidden md:flex gap-2 sm:gap-3 items-center justify-start w-full flex-wrap py-2",children:[m?.slice(0,4).map(e=>t.jsx(s,{content:e.color,children:t.jsx("a",{href:`/item/${e.slug}`,className:"variant-option rounded-full border shadow-gray-500 object-fit-cover bg-[#F5F5F5]",children:t.jsx("img",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 object-fit-cover",src:`/storage/images/item/${e.texture||e.image}`,alt:e.color,onError:e=>e.target.src="/api/cover/thumbnail/null"})})},e.slug)),m?.length>4&&t.jsx(s,{content:`+${m.length-4} colores más`,children:t.jsx("a",{href:`/item/${l.slug}`,className:"variant-option rounded-full border shadow-gray-500 object-fit-cover bg-primary text-white text-xs font-extrabold",children:t.jsxs("div",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 flex flex-col justify-center items-center",children:["+",m.length-4]})},l.slug)})]}),m?.length>1&&t.jsxs("div",{className:"flex md:hidden gap-2 sm:gap-3 items-center justify-start w-full flex-wrap py-2",children:[m?.slice(0,3).map(e=>t.jsx(s,{content:e.color,children:t.jsx("a",{href:`/item/${e.slug}`,className:"variant-option rounded-full border shadow-gray-500  object-fit-cover bg-[#F5F5F5]",children:t.jsx("img",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 object-fit-cover",src:`/storage/images/item/${e.texture||e.image}`,alt:e.color,onError:e=>e.target.src="/api/cover/thumbnail/null"})})},e.slug)),m?.length>3&&t.jsx(s,{content:`+${m.length-3} colores más`,children:t.jsx("a",{href:`/item/${l.slug}`,className:"variant-option rounded-full border shadow-gray-500 object-fit-cover bg-primary text-white text-xs font-extrabold",children:t.jsxs("div",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 flex flex-col justify-center items-center",children:["+",m.length-3]})},l.slug)})]}),t.jsx("div",{className:"mt-3 mb-2",children:t.jsx("a",{href:`/item/${l.slug}`,className:"inline-block bg-secondary text-white px-4 py-3 rounded-full font-medium text-sm hover:bg-accent transition-colors duration-300 w-full text-center",children:"Ver detalle"})}),l.final_price&&l.final_price>0&&t.jsxs("div",{className:"flex items-baseline gap-4 mt-2",children:[t.jsxs("span",{className:"text-lg sm:text-xl md:text-2xl font-semibold",children:[a()," ",l.final_price]}),null!=l.discount&&!isNaN(l.discount)&&t.jsxs("span",{className:"text-xs sm:text-base font-semibold line-through opacity-60",children:[a()," ",l.price]})]})]})]})]})},l.id)};export{l as default};

import{r as e,j as s,i as t}from"./vendor-react-CtPXetfm.js";import"./CartKuchara-CNLBbncw.js";import{I as r}from"./ItemsRest-ChbvlPS2.js";import"./TippyButton-Dqi9Vaf_.js";import{C as l}from"./Number2Currency-BX4epFEo.js";import"./vendor-swiper-Cr_RrIb_.js";import"./BasicRest-DtgqEuc9.js";import"./OpenPayCardModal-CbSnHq7o.js";import"./BooleanLimit-q2Ad9fGY.js";import"./General-ClVW7qxN.js";const a=({product:a,setCart:o,cart:i,textcolor:n="",fondo:c="",fondoboton:d=""})=>{const m=new r,[u,x]=e.useState([]);return e.useEffect(()=>{a?.id&&(async e=>{try{const s={slug:e?.slug,limit:999},t=await m.getVariations(s);if(!t)return;x(t.variants)}catch(s){return}})(a)},[a]),i?.find(e=>e.id==a?.id),s.jsx("div",{className:"group w-full rounded-xl lg:rounded-2xl transition-transform duration-300 hover:scale-105 flex-shrink-0 font-paragraph customtext-primary cursor-pointer relative",children:s.jsxs("div",{className:`p-0 ${""!==c?c:"bg-white"} rounded-xl lg:rounded-2xl`,children:[s.jsx("a",{href:`/item/${a.slug}`,children:s.jsxs("div",{className:"relative",children:[null!=a.discount&&!isNaN(a.discount)&&s.jsxs("span",{className:"absolute top-8 right-0 bg-[#F93232] text-white text-base font-bold px-2 py-1 rounded-l-full",children:["-",Math.abs(Number(100-Number(100*a?.discount/a?.price))).toFixed(0),"%"]}),s.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden flex items-center justify-center  bg-secondary  bg-white",children:s.jsx("img",{src:`/storage/images/item/${a.image}`,onError:e=>e.target.src="/assets/img/noimage/no_img.jpg",alt:a.name,className:"w-full h-full object-cover",loading:"lazy"})})]})}),s.jsxs("div",{className:"py-4",children:[s.jsx("p",{className:`text-sm sm:text-base font-semibold mb-1 ${n}`,children:a.category.name}),s.jsxs("a",{href:`/item/${a.slug}`,children:[s.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-semibold mb-1 line-clamp-2 !leading-normal",children:a.name}),u.length>1&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"hidden md:flex gap-2 sm:gap-3 items-center justify-start w-full flex-wrap py-2",children:[u.length>1&&u.slice(0,4).map(e=>s.jsx(t,{content:e.color,children:s.jsx("a",{href:`/item/${e.slug}`,className:"variant-option rounded-full border shadow-gray-500 object-fit-cover bg-[#F5F5F5]",children:s.jsx("img",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 object-fit-cover",src:`/storage/images/item/${e.texture||e.image}`,alt:e.color,onError:e=>e.target.src="/api/cover/thumbnail/null"})})},e.slug)),u.length>4&&s.jsx(t,{content:`+${u.length-4} colores más`,children:s.jsx("a",{href:`/item/${a.slug}`,className:"variant-option rounded-full border shadow-gray-500 object-fit-cover bg-[#310619] text-white text-xs font-extrabold",children:s.jsxs("div",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 flex flex-col justify-center items-center",children:["+",u.length-4]})},a.slug)})]}),s.jsxs("div",{className:"flex md:hidden gap-2 sm:gap-3 items-center justify-start w-full flex-wrap py-2",children:[u.slice(0,3).map(e=>s.jsx(t,{content:e.color,children:s.jsx("a",{href:`/item/${e.slug}`,className:"variant-option rounded-full border shadow-gray-500  object-fit-cover bg-[#F5F5F5]",children:s.jsx("img",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 object-fit-cover",src:`/storage/images/item/${e.texture||e.image}`,alt:e.color,onError:e=>e.target.src="/api/cover/thumbnail/null"})})},e.slug)),u.length>3&&s.jsx(t,{content:`+${u.length-3} colores más`,children:s.jsx("a",{href:`/item/${a.slug}`,className:"variant-option rounded-full border shadow-gray-500 object-fit-cover bg-[#310619] text-white text-xs font-extrabold",children:s.jsxs("div",{className:"color-box rounded-full h-7 w-7 sm:h-9 sm:w-9 flex flex-col justify-center items-center",children:["+",u.length-3]})},a.slug)})]})]}),s.jsxs("div",{className:"flex items-baseline gap-4 mt-2",children:[s.jsxs("span",{className:"text-lg sm:text-xl md:text-2xl font-semibold",children:[l()," ",a.final_price]}),null!=a.discount&&!isNaN(a.discount)&&s.jsxs("span",{className:"text-xs sm:text-base font-semibold line-through opacity-60",children:[l()," ",a.price]})]})]}),s.jsx("div",{className:"hidden lg:flex mt-3 transition-all duration-300 transform translate-y-5 opacity-0 group-hover:translate-y-0 group-hover:opacity-100",children:s.jsx("a",{href:`/item/${a.slug}`,className:`${""!==d?d:"bg-secondary"} block w-full text-center  text-white font-bold py-2.5 rounded-3xl transition-colors duration-300`,children:"Ver producto"})})]})]})},a.id)};export{a as default};

import{G as e,j as s}from"./System-Bybt2Brn.js";import{N as l}from"./Number2Currency-DExzICY3.js";import"./vendor-BiOv2i5T.js";const i=({data:i,cart:a,setCart:c})=>{const r=a.reduce(((e,s)=>e+(s.discount>0?Math.min(s.price,s.discount):s.price)*s.quantity),0),n=Number(e.igv_checkout)/100;return s.jsx("section",{className:"bg-white",children:s.jsxs("div",{className:"px-[5%] replace-max-w-here w-full mx-auto py-[2.5%] grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:a.length>0?s.jsx("div",{className:"bg-accent rounded-lg p-6",children:a.map(((e,i)=>s.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200 last:border-0 last:mb-0 last:pb-0",children:s.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[s.jsx("div",{className:"col-span-4 font-medium mb-2",children:"Producto"}),s.jsxs("div",{className:"flex items-center col-span-4 md:col-span-2 gap-4",children:[s.jsx("div",{className:"!w-20",children:s.jsx("img",{src:`/storage/images/item/${e.image}`,onError:e=>e.target.src="/assets/img/noimage/no_img.jpg",alt:e.name,className:"!w-20 h-full object-cover object-center rounded-md aspect-[4/3]"})}),s.jsxs("div",{className:"w-full",children:[s.jsx("h3",{className:"font-medium leading-tight",children:e.name||`Producto ${i+1}`}),s.jsxs("button",{onClick:()=>{const e=a.filter(((e,s)=>s!==i));c(e)},className:"text-red-500 flex items-center mt-2",children:["Eliminar",s.jsx("i",{className:"mdi mdi-close ms-1 -mb-0.5"})]})]})]}),s.jsxs("div",{className:"col-span-4 md:col-span-2 grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium mb-2",children:"Cantidad"}),s.jsx("div",{className:"border border-gray-300 rounded flex items-center w-16",children:s.jsx("input",{type:"number",min:"1",value:e.quantity,onChange:e=>{const s=[...a];s[i].quantity=Number.parseInt(e.target.value)||1,c(s)},className:"w-full text-center py-1 px-2 bg-transparent"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium mb-2",children:"Precio"}),s.jsxs("div",{children:[e.discount_percent>0&&s.jsxs("span",{className:"line-through text-xs text-gray-500",children:["S/ ",l(e.price)]}),s.jsxs("span",{className:"block",children:["S/ ",l(e.final_price)]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium mb-2",children:"Sub Total"}),s.jsxs("div",{children:["S/ ",l(e.final_price*e.quantity)]})]})]})]})},i)))}):s.jsx("div",{className:"bg-accent rounded-lg p-8 flex items-center justify-center min-h-80",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-xl font-bold mb-2",children:"Ups!"}),s.jsx("p",{className:"mb-4",children:"No hay productos en el carrito"}),s.jsxs("a",{href:null==i?void 0:i.url_catalog,className:"bg-green-600 p-2 px-4 rounded-full text-white inline-block",children:[s.jsx("i",{className:"mdi mdi-cart-plus me-1"}),"Agregar productos"]})]})})}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-accent rounded-lg p-6",children:[s.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Resumen de la compra"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{children:"Subtotal"}),s.jsxs("span",{children:["S/. ",l(n>0?r*(1-n):r)]})]}),n>0&&s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("p",{children:["IGV (",(100*n).toFixed(2),"%)"]}),s.jsxs("span",{children:["S/. ",l(r*n)]})]}),s.jsxs("div",{className:"flex justify-between items-center font-semibold text-lg pt-2 border-t border-gray-200",children:[s.jsx("p",{children:"Total"}),s.jsxs("span",{children:["S/. ",l(r)]})]}),s.jsx("a",{href:null==i?void 0:i.url_checkout,className:"text-white bg-green-600 w-full px-4 py-3 rounded-full cursor-pointer inline-block text-center font-medium mt-4",children:"Siguiente"})]})]})})]})})};export{i as default};

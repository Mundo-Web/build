import{j as t}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BOnQTV8N.js";import{C as L}from"./chevron-down-uIVDLcM-.js";import{S as z}from"./search-BQ59Robe.js";import{C as R}from"./check-D5vaIe6v.js";const V=({options:l=[],placeholder:h="Select an option",onChange:b,value:r,valueKey:v,labelKey:y,label:m,labelClass:j,className:g="customtext-neutral-dark   rounded-xl ",disabled:w=!1,generalIcon:f,classNameDropdown:N="",classNameIcon:k})=>{const[n,c]=a.useState(!1),[s,x]=a.useState(null),[p,S]=a.useState(""),o=a.useRef(null),u=l.length>0&&typeof l[0]=="object",O=u?v||Object.keys(l[0])[0]:null,C=u?y||Object.keys(l[0])[1]:null,i=l.map(e=>u?{value:e[O],label:e[C]}:{value:e,label:e}),E=i.filter(e=>e.label.toLowerCase().includes(p.toLowerCase()));a.useEffect(()=>{const e=d=>{o.current&&!o.current.contains(d.target)&&c(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const $=e=>{x(e),b(e.value),c(!1)};return a.useEffect(()=>{if(r!==void 0&&r!==(s&&s.value)){const e=i.find(d=>d.value===r);x(e||null)}},[r,i]),t.jsxs("div",{className:"relative w-full",ref:o,children:[m&&t.jsx("label",{className:`block text-sm mb-1 customtext-neutral-dark ${j}`,children:m}),t.jsxs("button",{className:`w-full relative text-start  px-4 py-3 border focus:ring-0 focus:outline-0   transition-all duration-300 customtext-primary ${g}`,onClick:()=>c(!n),"aria-haspopup":"listbox","aria-expanded":n,disabled:w,children:[t.jsxs("span",{className:"flex items-center gap-2",children:[typeof f<"u"&&f,t.jsx("span",{className:"block truncate",children:s?s.label:h})]}),t.jsx("span",{className:"absolute inset-y-0 right-0 flex items-center justify-center py-3 pr-2 pointer-events-none",children:t.jsx(L,{className:`w-5 h-5  transition-transform duration-200 ${n?"rotate-180":""} ${k||"customtext-neutral-dark"}`})})]}),n&&t.jsxs("div",{className:`absolute z-10 w-full mt-1 bg-white rounded-lg shadow-lg max-h-60 overflow-auto ${N}`,children:[t.jsx("div",{className:"sticky top-0 bg-white p-2",children:t.jsxs("div",{className:"relative",children:[t.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),t.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",placeholder:"Search options...",value:p,onChange:e=>S(e.target.value)})]})}),t.jsx("ul",{className:"py-1",role:"listbox",children:E.map(e=>t.jsxs("li",{className:`px-4 py-2 cursor-pointer flex items-center justify-between 
                                    ${s&&s.value===e.value?"bg-primary text-white":"text-gray-900 hover:bg-gray-100"}`,onClick:()=>$(e),role:"option","aria-selected":s&&s.value===e.value,children:[t.jsx("span",{className:"block truncate",children:e.label}),s&&s.value===e.value&&t.jsx(R,{className:"w-5 h-5"})]},e.value))})]})]})};export{V as S};

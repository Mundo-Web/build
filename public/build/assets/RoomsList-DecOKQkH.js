import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as i}from"./index-BOnQTV8N.js";import g from"./SearchWidget-B00hDXAi.js";import f from"./RoomCard-Dr21j8sJ.js";import{S as d}from"./CartKuchara-D9l7c7at.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index.es-6yWvxdWu.js";import"./floating-ui.react-h8x3UwNO.js";import"./floating-ui.dom-CID5cQpR.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./format-B6vr9H0z.js";import"./SearchWidget-D7iHOckK.js";import"./es-QTeD0CGG.js";import"./index.esm-C48oHfFw.js";import"./index-ngrFHoWO.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./Number2Currency-jIsa99f9.js";import"./General-apRuNwp7.js";const I=()=>{const[t,m]=i.useState([]),[s,h]=i.useState(null),[r,l]=i.useState(!1),[n,p]=i.useState(!1),x=async o=>{l(!0),p(!0);try{const a=await(await fetch("/api/hotels/rooms/search",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o)})).json();if(a.status===200)m(a.data.rooms||[]),h({check_in:a.data.check_in,check_out:a.data.check_out,nights:a.data.nights,guests:a.data.guests}),a.data.rooms.length===0&&d.fire({icon:"info",title:"Sin resultados",text:"No se encontraron habitaciones disponibles para las fechas seleccionadas. Por favor, intenta con otras fechas.",confirmButtonText:"Entendido"});else throw new Error(a.message||"Error al buscar habitaciones")}catch(c){console.error("Error:",c),d.fire({icon:"error",title:"Error",text:c.message||"Ocurrió un error al buscar habitaciones",confirmButtonText:"Cerrar"})}finally{l(!1)}};return e.jsxs("div",{className:"py-8 px-[5%] replace-max-w-here mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsx(g,{onSearch:x})}),r&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-16 w-16 border-b-4 border-primary"}),e.jsx("p",{className:"mt-4 text-gray-600 text-lg",children:"Buscando habitaciones disponibles..."})]}),!r&&n&&t.length>0&&s&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-800",children:[e.jsx("i",{className:"fas fa-check-circle mr-2"}),"Se encontraron ",e.jsx("strong",{children:t.length})," habitación(es) disponible(s)"," ","para ",e.jsx("strong",{children:s.nights})," noche(s)"," ","del ",e.jsx("strong",{children:new Date(s.check_in).toLocaleDateString("es-ES")})," ","al ",e.jsx("strong",{children:new Date(s.check_out).toLocaleDateString("es-ES")})]})}),!r&&t.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>e.jsx(f,{room:o,searchParams:s},o.id))}),!r&&!n&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("i",{className:"fas fa-bed text-6xl text-gray-400 mb-4"}),e.jsx("h4",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Busca tu habitación ideal"}),e.jsx("p",{className:"text-gray-600",children:"Selecciona tus fechas y encuentra la habitación perfecta para tu estadía"})]}),!r&&n&&t.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("i",{className:"fas fa-calendar-times text-6xl text-gray-400 mb-4"}),e.jsx("h4",{className:"text-2xl font-bold text-gray-700 mb-2",children:"No hay habitaciones disponibles"}),e.jsx("p",{className:"text-gray-600",children:"Intenta con otras fechas para encontrar disponibilidad"})]})]})};export{I as default};

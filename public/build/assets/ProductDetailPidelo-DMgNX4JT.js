import{r as e,j as t,l as s,P as a,i as r}from"./vendor-react-CtPXetfm.js";import{I as n}from"./ItemsRest-ChbvlPS2.js";import{S as i}from"./CartKuchara-Bi-J8T1O.js";import"./vendor-swiper-Cr_RrIb_.js";import"./ProductDetailB-YKQDJdz1.js";import"./OpenPayCardModal-CbSnHq7o.js";import{C as l}from"./Number2Currency-BX4epFEo.js";import{C as o}from"./CartModal-CVzP9hNx.js";import"./TippyButton-Dqi9Vaf_.js";import{G as c}from"./Footer-coriRrmf.js";import"./CartModalBananaLab-DOCeko3G.js";import d from"./ProductBananaLab-9j86eSoS.js";import"./BasicRest-DtgqEuc9.js";import"./BooleanLimit-q2Ad9fGY.js";import"./vendor-motion-CThzL09Q.js";import"./General-ClVW7qxN.js";import"./CartItemRow-DGY_lV8-.js";import"./CardProductBananaLab-Dbr8B0s-.js";import"./TextWithHighlight-Dz4C6geJ.js";function m({item:m,data:x,setCart:u,cart:p,textstatic:g,contacts:h}){const f=new n,[j,b]=e.useState(!1),[y,N]=e.useState({url:m?.image,type:"main"}),[k,w]=e.useState(1),[v,C]=e.useState(m?.slug),[B,M]=e.useState(m);g.find(e=>"detailproduct-relation-title"==e.correlative);const[L,S]=e.useState(!1),[P,_]=e.useState([]),[$,H]=e.useState([]),[E,F]=e.useState([]),[z,A]=e.useState([]);p?.find(e=>e.id==m?.id),e.useEffect(()=>{m?.id&&(R(m),T(m),I(m),O(m),q(m),C(m.slug))},[m]);const I=async e=>{try{const t={id:e?.id};if(!(await f.updateViews(t)))return}catch(t){return}},T=async e=>{try{const t={id:e?.id},s=await f.verifyCombo(t);if(!s)return;const a=s[0].associated_items;_(Object.values(a))}catch(t){return}},R=async e=>{try{const t={id:e?.id},s=await f.productsRelations(t);if(!s)return;const a=s;H(Object.values(a))}catch(t){return}},O=async e=>{try{const t={slug:e?.slug},s=await f.getColors(t);if(!s)return;F(s.variants)}catch(t){return}},q=async e=>{try{const t={slug:e?.slug},s=await f.getSizes(t);if(!s)return;A(s)}catch(t){return}};P.reduce((e,t)=>e+parseFloat(t.final_price),0);const[G,V]=e.useState(!1),[D,K]=e.useState(!1);return e.useEffect(()=>{const e="swal2-elegant-modal-style";if(!document.getElementById(e)){const t=document.createElement("style");t.id=e,t.innerHTML=`\n                .swal2-elegant-modal {\n                    border-radius: 2rem !important;\n                    box-shadow: 0 8px 32px rgba(0,0,0,0.12);\n                    padding: 2.5rem 2rem 2rem 2rem !important;\n                    background: #fff !important;\n                }\n                .swal2-confirm-primary {\n                    background: ${c.APP_COLOR_PRIMARY} !important;\n                    color: #fff !important;\n                    border-radius: 1rem !important;\n                    font-size: 1rem !important;\n                    font-weight: 600 !important;\n                    padding: 0.75rem 2rem !important;\n                    box-shadow: 0 2px 8px rgba(37,99,235,0.08);\n                    border: none !important;\n                    transition: background 0.2s;\n                }\n                \n                .swal2-cancel-secondary {\n                    background: #e5e7eb !important;\n                    color: #222 !important;\n                    border-radius: 1rem !important;\n                    font-size: 1rem !important;\n                    font-weight: 600 !important;\n                    padding: 0.75rem 2rem !important;\n                    border: none !important;\n                    margin-left: 0.5rem !important;\n                }\n            `,document.head.appendChild(t)}},[]),t.jsxs(t.Fragment,{children:[t.jsx("div",{id:x?.element_id||null,className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto py-4 md:py-6 xl:py-8 bg-white",children:t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[t.jsxs("div",{className:"flex flex-row gap-4",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{onClick:()=>N({url:m?.image,type:"main"}),className:"w-16 h-16 rounded-lg p-1 border-2 "+(y.url===m?.image?"border-primary":"border-gray-200"),children:t.jsx("img",{src:`/storage/images/item/${m?.image}`,alt:"Main Thumbnail",className:"w-full h-full object-cover rounded",onError:e=>e.target.src="/api/cover/thumbnail/null"})}),m?.images.map((e,s)=>t.jsx("button",{onClick:()=>N({url:e.url,type:"gallery"}),className:"w-16 h-16 border-2 rounded-lg p-1 "+(y.url===e.url?"border-primary":"border-gray-200"),children:t.jsx("img",{src:`/storage/images/item/${e.url}`||"/api/cover/thumbnail/null",alt:`Thumbnail ${s+1}`,className:"w-full h-full object-cover rounded",onError:e=>e.target.src="/api/cover/thumbnail/null"})},s))]}),t.jsx("div",{className:"flex-1",children:t.jsx("img",{src:`/storage/images/item/${y.url}`,alt:"Product main",className:"w-full h-auto object-contain rounded-xl",onError:e=>e.target.src="/api/cover/thumbnail/null"})})]}),t.jsxs("div",{className:"flex flex-col gap-6",children:[t.jsxs("div",{className:"font-paragraph",children:[t.jsx("span",{className:"customtext-neutral-dark text-sm",children:m?.brand?.name}),t.jsx("h1",{className:"customtext-neutral-dark text-xl  lg:text-2xl font-bold leading-[1.0] mb-6 text-wrap",children:m?.name}),t.jsx("p",{className:"customtext-neutral-dark text-sm line-clamp-5 lg:line-clamp-none lg:text-base mt-0 opacity-80",dangerouslySetInnerHTML:{__html:m?.description}})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex flex-row  items-center gap-4 ",children:[t.jsx("span",{className:"customtext-neutral-dark text-sm font-medium",children:"Cantidad"}),t.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl p-1 w-fit",children:[t.jsx("button",{type:"button",onClick:()=>w(Math.max(1,k-1)),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-white shadow-sm hover:shadow-md hover:bg-gray-100 customtext-neutral-dark transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:shadow-sm disabled:hover:bg-white",disabled:k<=1,children:t.jsx(s,{className:"w-4 h-4"})}),t.jsx("div",{className:"w-16 px-3 py-2 text-center",children:t.jsx("span",{className:"customtext-neutral-dark font-semibold text-lg",children:k})}),t.jsx("button",{type:"button",onClick:()=>w(Math.min(10,k+1)),className:"w-8 h-8 flex items-center justify-center rounded-lg bg-white shadow-sm hover:shadow-md hover:bg-gray-100 customtext-neutral-dark transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:shadow-sm disabled:hover:bg-white",disabled:k>=10,children:t.jsx(a,{className:"w-4 h-4"})})]}),t.jsx("input",{type:"number",value:k,onChange:e=>{let t=parseInt(e.target.value,10);(isNaN(t)||t<1)&&(t=1),t>10&&(t=10),w(t)},min:"1",max:"10",className:"hidden"})]}),E.length>1&&t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:"customtext-neutral-dark text-base min-w-fit",children:"Color:"}),t.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[t.jsx("div",{className:"flex gap-2",children:E.slice(0,4).map(e=>t.jsx(r,{content:e.color,children:t.jsx("a",{href:`/item/${e.slug}`,className:"rounded-full border-2 "+(e.color===m.color?"border-primary":"border-gray-200"),children:t.jsx("img",{className:"color-box rounded-full h-8 w-8 object-fit-cover",src:`/storage/images/item/${e.texture||e.image}`})})},e.slug))}),E.length>4&&t.jsx("button",{onClick:()=>K(!0),className:"flex items-center justify-center w-8 h-8 rounded-full border-2 border-gray-300 hover:border-primary bg-gray-100 hover:bg-gray-200 transition-colors duration-200",children:t.jsx(a,{className:"w-4 h-4 text-gray-600"})})]})]})]}),D&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>K(!1),children:t.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-bold customtext-neutral-dark",children:"Seleccionar Color"}),t.jsx("button",{onClick:()=>K(!1),className:"text-gray-500 hover:text-gray-700",children:t.jsx(a,{className:"w-5 h-5 rotate-45"})})]}),t.jsx("div",{className:"grid grid-cols-4 gap-3",children:E.map(e=>t.jsx(r,{content:e.color,children:t.jsx("a",{href:`/item/${e.slug}`,className:"rounded-full border-2 flex items-center justify-center "+(e.color===m.color?"border-primary":"border-gray-200"),onClick:()=>K(!1),children:t.jsx("img",{className:"color-box rounded-full h-12 w-12 object-fit-cover",src:`/storage/images/item/${e.texture||e.image}`})})},e.slug))})]})}),z.length>0&&t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:"customtext-neutral-dark text-base",children:"Tamaño:"}),t.jsx("div",{className:"flex gap-2",children:z.map(e=>t.jsx("button",{onClick:()=>(e=>{const t=z.find(t=>t.slug===e)||m;M(t),C(e),window.history.pushState({},"",`/item/${e}`)})(e.slug),className:"rounded-md min-w-9 px-2 h-8 flex items-center justify-center bg-slate-200 text-sm "+(v===e.slug?"border-primary border-2":"border-gray-200 border"),children:e.size},e.slug))})]}),t.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex gap-4 items-center justify-start ",children:[t.jsx("span",{className:"customtext-neutral-dark text-sm font-medium",children:"Disponibilidad"}),t.jsx("span",{className:"px-3  py-1 rounded-full text-xs font-semibold "+(B?.stock>0?` customtext-neutral-dark ${x?.class_badge||"bg-primary"}`:"bg-secondary customtext-neutral-dark"),children:B?.stock>0?"En stock":"Agotado"})]}),m?.brand?.name&&t.jsxs("div",{className:"flex gap-4 items-center justify-start ",children:[t.jsx("span",{className:"customtext-neutral-dark text-sm font-medium",children:"Marca"}),t.jsx("span",{className:"customtext-neutral-dark text-sm font-bold",children:m.brand.name})]}),m?.weight&&t.jsxs("div",{className:"flex gap-4 items-center justify-start ",children:[t.jsx("span",{className:"customtext-neutral-dark text-sm font-medium",children:"Peso con empaque"}),t.jsxs("span",{className:"customtext-neutral-dark text-sm font-bold",children:[m.weight," kg"]})]}),B?.stock>0&&t.jsxs("div",{className:"flex gap-4 items-center justify-start ",children:[t.jsx("span",{className:"customtext-neutral-dark text-sm font-medium",children:"Stock disponible"}),t.jsxs("span",{className:"customtext-neutral-dark text-sm font-bold",children:[B.stock," unidades"]})]}),m?.sku&&t.jsxs("div",{className:"flex gap-4 items-center justify-start ",children:[t.jsx("span",{className:"customtext-neutral-dark text-sm font-medium",children:"SKU"}),t.jsx("span",{className:"customtext-neutral-dark text-sm font-mono bg-gray-200 px-2 py-1 rounded",children:m.sku})]}),m?.category?.name&&t.jsxs("div",{className:"flex gap-4 items-center justify-start ",children:[t.jsx("span",{className:"customtext-neutral-dark text-sm font-medium",children:"Categoría"}),t.jsx("span",{className:"customtext-neutral-dark text-sm font-bold",children:m.category.name})]})]}),m?.specifications?.length>0&&t.jsx("div",{className:"grid grid-cols-2 gap-4",children:m.specifications.filter(e=>"general"===e.type).slice(0,4).map((e,s)=>t.jsxs("div",{className:"bg-[#F7F9FB] rounded-lg p-3",children:[t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:e.title}),t.jsx("div",{className:"font-bold customtext-neutral-dark text-sm",children:e.description})]},s))}),t.jsxs("div",{className:"bg-[#F7F9FB] rounded-xl p-6 flex flex-col gap-4 shadow-md",children:[B?.discount>0&&B?.price>B?.final_price&&t.jsxs("div",{className:"text-sm text-gray-600",children:["Precio: ",t.jsxs("span",{className:"line-through",children:[l()," ",B?.price]}),t.jsx("br",{}),"Ahorras: ",l()," ",B?.price-B?.final_price," (",(Z=B?.price,J=B?.final_price,!Z||Z<=J?0:Math.round((Z-J)/Z*100)),"%)"]}),t.jsxs("div",{className:"text-4xl font-bold customtext-neutral-dark",children:[l()," ",B?.final_price]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M7.66667 14.6654C4.99537 14.6654 3.65973 14.6654 2.82987 13.689C2 12.7128 2 11.1414 2 7.9987C2 4.856 2 3.28465 2.82987 2.30834C3.65973 1.33203 4.99537 1.33203 7.66667 1.33203C10.3379 1.33203 11.6736 1.33203 12.5035 2.30834C13.1715 3.09424 13.3018 4.26572 13.3272 6.33203",stroke:"#141B34","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M5.33301 5.33203H9.99967M5.33301 8.66536H7.33301",stroke:"#141B34","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M13.0725 12.0703C13.6344 11.6612 13.9997 10.9983 13.9997 10.25C13.9997 9.00733 12.9923 8 11.7497 8H11.583C10.3403 8 9.33301 9.00733 9.33301 10.25C9.33301 10.9983 9.69827 11.6612 10.2602 12.0703M13.0725 12.0703C12.7012 12.3405 12.2441 12.5 11.7497 12.5H11.583C11.0886 12.5 10.6315 12.3405 10.2602 12.0703M13.0725 12.0703L13.461 13.2936C13.6092 13.7602 13.6833 13.9935 13.6631 14.1388C13.6209 14.4411 13.3743 14.6656 13.0831 14.6667C12.9433 14.6672 12.7337 14.5572 12.3145 14.3373C12.1348 14.2429 12.0449 14.1957 11.953 14.168C11.7657 14.1115 11.567 14.1115 11.3797 14.168C11.2877 14.1957 11.1979 14.2429 11.0181 14.3373C10.599 14.5572 10.3894 14.6672 10.2495 14.6667C9.95841 14.6656 9.71181 14.4411 9.66961 14.1388C9.64934 13.9935 9.72347 13.7602 9.87167 13.2936L10.2602 12.0703",stroke:"#141B34"})]}),t.jsx("span",{children:"Este producto tiene"}),t.jsx("span",{className:` customtext-neutral-dark px-1 lg:px-2 py-1 text-[9px] lg:text-sm rounded-lg font-semibold ${x?.class_badge||"bg-primary"}`,children:"Garantía de Entrega"})]}),t.jsxs("div",{className:"text-sm flex gap-2 text-gray-600",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M8.00033 1.33203C5.05481 1.33203 2.66699 3.42137 2.66699 5.9987H13.3337C13.3337 3.42137 10.9459 1.33203 8.00033 1.33203Z",stroke:"#141B34","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M5.33301 11.5555C5.33301 10.2686 5.56323 10 6.66634 10H9.33301C10.4361 10 10.6663 10.2686 10.6663 11.5555V13.1111C10.6663 14.3981 10.4361 14.6667 9.33301 14.6667H6.66634C5.56323 14.6667 5.33301 14.3981 5.33301 13.1111V11.5555Z",stroke:"#141B34","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M8.00502 11.668H7.99902",stroke:"#141B34","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M2.66699 6L8.00033 10L13.3337 6",stroke:"#141B34","stroke-linecap":"round","stroke-linejoin":"round"})]}),t.jsx("span",{children:" Agrega el producto al carrito para conocer los costos de envío"})]}),t.jsxs("div",{className:"text-sm text-gray-600 flex gap-2",children:[t.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M6.66634 6.33333L3.51655 2.98374C3.23771 2.68298 3.28236 2.46329 3.6112 2.27308C4.22937 1.91551 4.71093 1.9058 5.36253 2.26339L8.63234 4.05781C8.86514 4.18555 9.09341 4.31504 9.33301 4.38568",stroke:"#141B34","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M8.33301 9.1101L9.73987 13.6477C9.85474 14.0183 10.057 14.0854 10.3703 13.9058C10.9594 13.568 11.1969 13.178 11.2128 12.4751L11.2927 8.94784C11.3033 8.4767 11.3014 8.01564 11.6663 7.66797",stroke:"#141B34","stroke-linecap":"round","stroke-linejoin":"round"}),t.jsx("path",{d:"M5.55198 7.3228L6.80994 6.40369L9.75814 4.25422L9.76074 4.25232L9.76574 4.24865C9.83534 4.19772 10.8726 3.44157 11.4609 3.18385C12.184 2.86709 12.8576 3.01435 13.5823 3.21675C13.9571 3.32143 14.1445 3.37377 14.2798 3.47143C14.4943 3.62637 14.6339 3.86483 14.6625 4.12566C14.6807 4.29005 14.6329 4.47637 14.5373 4.84902C14.3526 5.56951 14.1451 6.21877 13.5055 6.67833C12.9851 7.05227 11.8027 7.56067 11.7234 7.59453L11.7177 7.597L11.7147 7.59827L8.35414 9.04293L6.91848 9.65833C6.39794 9.88147 6.13768 9.99307 5.9606 10.2001C5.5459 10.685 5.48733 11.5625 5.33255 12.1662C5.24702 12.4999 4.778 13.078 4.36006 12.9912C4.10204 12.9377 4.0971 12.6147 4.06498 12.4087L3.75581 10.4259C3.68188 9.95173 3.6762 9.942 3.297 9.64173L1.71139 8.38613C1.5467 8.25573 1.2657 8.09 1.34768 7.84273C1.48047 7.4422 2.2224 7.33047 2.55799 7.4242C3.16524 7.5938 3.96466 7.98247 4.59757 7.87053C4.86781 7.82273 5.09588 7.65607 5.55198 7.3228Z",stroke:"#141B34","stroke-linecap":"round","stroke-linejoin":"round"})]}),t.jsx("span",{children:"   Recibe aproximadamente entre 18 y 23 días hábiles, seleccionando envío normal"})]}),t.jsx("div",{className:`customtext-neutral-dark px-3 py-2 rounded-xl font-semibold text-center ${x?.class_badge||"bg-primary"}`,children:"Hasta x6 cuotas sin intereses"}),t.jsxs("div",{className:"flex flex-row flex-wrap gap-2 items-center justify-center",children:[t.jsx("img",{src:"/assets/img/banks/mastercard.png",alt:"Mastercard",className:"h-6"}),t.jsx("img",{src:"/assets/img/banks/bitpay.png",alt:"Bitpay",className:"h-6"}),t.jsx("img",{src:"/assets/img/banks/visa.png",alt:"Visa",className:"h-6"}),t.jsx("img",{src:"/assets/img/banks/americanexpress.png",alt:"Amex",className:"h-6"}),t.jsx("img",{src:"/assets/img/banks/discover.png",alt:"Discover",className:"h-6"}),t.jsx("img",{src:"/assets/img/banks/sofort.png",alt:"Sofort",className:"h-6"}),t.jsx("img",{src:"/assets/img/banks/gpay.png",alt:"Google Pay",className:"h-6"}),t.jsx("img",{src:"/assets/img/banks/applepay.png",alt:"Apple Pay",className:"h-6"}),t.jsx("img",{src:"/assets/img/banks/paypal.png",alt:"Paypal",className:"h-6"}),t.jsx("img",{src:"/assets/img/banks/maestro.png",alt:"Maestro",className:"h-6"})]}),t.jsx("button",{className:"w-full bg-primary text-white font-bold py-4 rounded-xl text-lg hover:opacity-90 transition",disabled:B?.stock<=0,onClick:()=>(e=>{const t=z.find(e=>e.slug===v)||B||e,s=structuredClone(p),a=s.findIndex(e=>e.id==t.id);-1==a?s.push({...t,quantity:k}):s[a].quantity++,u(s),window.location.href="/cart"})(m),children:"Comprar"}),t.jsx("button",{className:"w-full bg-gray-200 text-gray-700 font-bold py-4 rounded-xl text-lg hover:opacity-90 transition",onClick:()=>(e=>{const t=z.find(e=>e.slug===v)||B||e,s=structuredClone(p),a=s.findIndex(e=>e.id==t.id);-1==a?s.push({...t,quantity:k}):s[a].quantity++,u(s),i.fire({title:'<span style="font-size:2rem;font-weight:700;color:#222">Producto agregado</span>',html:`<div style="font-size:1.1rem;color:#444;margin-bottom:1rem;">Se agregó <b>${B.name||e.name}</b> al carrito</div>\n                <img src='/storage/images/item/${B.image||e.image}' style='width:100px;height:100px;border-radius:16px;margin:auto;background:#fff;object-fit:cover;' />`,icon:"success",showCancelButton:!0,confirmButtonText:'<span style="font-size:1rem;font-weight:600;">Abrir mini carrito</span>',cancelButtonText:'<span style="font-size:1rem;font-weight:600;">Seguir comprando</span>',reverseButtons:!0,timer:5e3,customClass:{popup:"swal2-elegant-modal",confirmButton:"swal2-confirm-primary",cancelButton:"swal2-cancel-secondary"},buttonsStyling:!1}).then(e=>{e.isConfirmed&&b(!j)})})(m),disabled:B?.stock<=0,children:"Agregar al Carrito"})]})]})]})}),$.length>0&&t.jsx("div",{className:"-mt-10 mb-10 p-4",children:t.jsx(d,{data:{title:"Productos relacionados",text_button:"Ver todos",link_catalog:"/catalogo"},items:$,setFavorites:[],favorites:[],cart:p,setCart:u})}),t.jsx(o,{cart:p,data:x,setCart:u,modalOpen:j,setModalOpen:b})]});var Z,J}export{m as default};

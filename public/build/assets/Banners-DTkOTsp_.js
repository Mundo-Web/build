const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Banner-lo1NPYbg.js","assets/preload-helper-DAHR15QK.js","assets/vendor-react-C1oWoR6m.js","assets/vendor-swiper-Cr_RrIb_.js","vendor-swiper.css","vendor-react.css"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,a)=>((t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a)(t,"symbol"!=typeof n?n+"":n,a);import{_ as n}from"./preload-helper-DAHR15QK.js";import{r as a,c as i,j as r,s}from"./vendor-react-C1oWoR6m.js";import{B as l}from"./Base-DIIKdflX.js";import{T as o}from"./TextareaFormGroup-DY3X3EtI.js";import{C as c,F as d}from"./CreateReactScript-BJFDEtj6.js";import{S as m}from"./CartKuchara-BuGNrbqJ.js";import{B as u}from"./BasicRest-DnRFj80Z.js";import{S as p}from"./SystemRest-tVccWsoi.js";import{I as b}from"./ImageFormGroup-BuGwvrNA.js";import{S as f}from"./SwitchFormGroup-DKMokO1e.js";import{S as g}from"./SelectFormGroup-D_s9hddn.js";import{M as h}from"./Modal-CWcezBPC.js";import{T as x}from"./Table-DCfa5v9F.js";import{D as v}from"./DxButton-C6FT_beP.js";import{I as j}from"./InputFormGroup-l6evfr7v.js";import{R as y}from"./ReactAppend--Pw8l4To.js";import{S as B}from"./SortByAfterField-DzAI86wF.js";import{r as w}from"./bannerUtils-FB4i6ekV.js";import"./vendor-swiper-Cr_RrIb_.js";import"./Footer-Cr_V_wDJ.js";import"./TippyButton-BSvqLt5w.js";import"./Logout-CvUqt5iR.js";import"./MenuItemContainer-b-RC8xO_.js";import"./Menu-v3vTXHgl.js";import"./General-ClVW7qxN.js";import"./LaravelSession-ByQnaUD3.js";import"./BooleanLimit-q2Ad9fGY.js";import"./OpenPayCardModal-DoDTV5Bn.js";const k=new class extends u{constructor(){super(...arguments),t(this,"path","admin/banners"),t(this,"hasFiles",!0)}},_=new p,R=1600,S=900,C=360,N=a.lazy(()=>n(()=>import("./Banner-lo1NPYbg.js"),__vite__mapDeps([0,1,2,3,4,5]))),F=(e={})=>{const t={name:"",description:"",button_text:"",button_link:"",contenedor:"relativo",type:"BannerSimple",background:"",image:"",items:[]};return{...e,name:e?.name??t.name,description:e?.description??t.description,button_text:e?.button_text??t.button_text,button_link:e?.button_link??t.button_link,contenedor:e?.contenedor??t.contenedor,type:e?.type||t.type,background:e?.background??t.background,image:e?.image??t.image,items:Array.isArray(e?.items)?e.items:t.items}},E=({pages:e,systems:t=[]})=>{const n=a.useRef(),l=a.useRef(),c=a.useRef(),u=a.useRef(),p=a.useRef(),E=a.useRef(),P=a.useRef(),A=a.useRef(),L=a.useRef(),T=a.useRef(),D=a.useRef(),O=a.useRef(),U=a.useRef(),[M,I]=a.useState(!1),[W,z]=a.useState(t),[G,H]=a.useState([]),[q,K]=a.useState(""),[V,Y]=a.useState(null),[Q,X]=a.useState(!1),[Z,J]=a.useState(()=>({name:"",description:"",button_text:"",button_link:"",contenedor:"relativo",type:"BannerSimple",background:"",image:"",items:[]})),ee=a.useRef({background:null,image:null}),te=a.useRef(null),ne=a.useRef(null),ae=a.useRef(null),ie=a.useRef(null),re=a.useRef(null),se=a.useRef(1),[le,oe]=a.useState(1),[ce,de]=a.useState(C),[me,ue]=a.useState(!1),pe=Z.type||"BannerSimple",[be,fe]=a.useState(!1),[ge,he]=a.useState(!1),[xe,ve]=a.useState([]),je=a.useCallback(()=>{const e=te.current,t=ae.current,n=ne.current,a=re.current;if(!(e&&t&&n&&a))return;const i=e.clientWidth||R,r=a.documentElement,s=Math.max(R,n.scrollWidth||0,n.offsetWidth||0,r?.scrollWidth||0,a.body?.scrollWidth||0),l=Math.max(S,n.scrollHeight||0,n.offsetHeight||0,r?.scrollHeight||0,a.body?.scrollHeight||0),o=i/s,c=900/l,d=Math.min(o,c,1),m=l*d,u=Math.max(Math.min(m,900),C);Math.abs(se.current-d)>.001?(se.current=d,oe(d)):se.current=d,de(e=>Math.abs(e-u)<.5?e:u),t.style.height=`${l}px`},[]),ye=a.useCallback(()=>{const e=["/build/app.css"];if("undefined"!=typeof document){const t=document.querySelector("script[src*='@vite/client']");if(t?.src){const n=t.src.replace(/@vite\/client.*$/,"");e.push(`${n}resources/css/app.css`)}}return e},[]),Be=a.useCallback(e=>{if(!e)return;const t=e.head||e.getElementsByTagName("head")[0];if(!t)return;if(t.querySelector("link[data-banner-preview='tailwind']"))return;const n=ye(),a=n=>{const[i,...r]=n;if(!i)return;const s=e.createElement("link");s.rel="stylesheet",s.href=i,s.dataset.bannerPreview="tailwind",s.onload=()=>{requestAnimationFrame(()=>je())},s.onerror=()=>{s.remove(),a(r)},t.appendChild(s)};a(n)},[ye,je]),we=a.useCallback(()=>{const e=ae.current;if(!e)return;if(ue(!1),ie.current){try{ie.current.unmount()}catch(a){}ie.current=null}const t=e.contentDocument;if(!t)return void setTimeout(()=>we(),0);t.open(),t.write("<!DOCTYPE html><html><head><base target='_blank' /></head><body></body></html>"),t.close(),t.documentElement.style.fontSize="16px",t.documentElement.style.background="transparent",t.body.style.margin="0",t.body.style.padding="0",t.body.style.background="transparent",Be(t);document.querySelectorAll('script[type="module"]').forEach(e=>{if(e.src&&(e.src.includes("@vite/client")||e.src.includes("app.js"))){const n=t.createElement("script");n.type="module",n.src=e.src,t.head.appendChild(n)}});const n=t.createElement("div");n.id="banner-preview-root",n.style.width="1600px",n.style.minHeight="900px",n.style.boxSizing="border-box",n.style.margin="0 auto",t.body.appendChild(n),re.current=t,ne.current=n,ie.current=i.createRoot(n),se.current=1,oe(1),de(C),ue(!0)},[Be]),ke=a.useCallback(()=>{const e=ie.current,t=re.current;e&&t&&e.render(r.jsx("div",{style:{minHeight:"900px"},children:r.jsx(a.Suspense,{fallback:r.jsx("div",{className:"d-flex align-items-center justify-content-center text-muted small",style:{minHeight:"900px"},children:"Cargando vista previa..."}),children:r.jsx(N,{which:pe,data:Z,items:Z.items||[]},pe)})}))},[Z,pe]);a.useEffect(()=>{if(!me)return;ke();const e=requestAnimationFrame(je);return()=>cancelAnimationFrame(e)},[me,ke,je]),a.useEffect(()=>()=>{ie.current&&ie.current.unmount(),ie.current=null,re.current=null,ne.current=null},[]);const _e=a.useCallback(()=>{Object.entries(ee.current).forEach(([,e])=>{e&&"string"==typeof e&&e.startsWith("blob:")&&"undefined"!=typeof URL&&"function"==typeof URL.revokeObjectURL&&URL.revokeObjectURL(e)}),ee.current={background:null,image:null}},[]),Re=a.useCallback((e={})=>{_e(),J(F(e))},[_e]),Se=a.useCallback((e,t)=>{J(n=>({...n,[e]:t}))},[]),Ce=a.useCallback(e=>t=>{const n=t?.target?.files?.[0],a=ee.current[e];if(n){const t="undefined"!=typeof window&&window.File&&"function"==typeof window.File.toURL?window.File.toURL:"undefined"!=typeof URL&&"function"==typeof URL.createObjectURL?e=>URL.createObjectURL(e):null;if(!t)return ee.current[e]=null,void J(t=>({...t,[e]:""}));const i=t(n);return a&&a.startsWith("blob:")&&"undefined"!=typeof URL&&"function"==typeof URL.revokeObjectURL&&URL.revokeObjectURL(a),ee.current[e]=i,J(t=>({...t,[e]:i})),void requestAnimationFrame(()=>{je()})}a&&a.startsWith("blob:")&&"undefined"!=typeof URL&&"function"==typeof URL.revokeObjectURL&&URL.revokeObjectURL(a),ee.current[e]=null,J(t=>({...t,[e]:""}))},[je]),Ne=a.useCallback(e=>{const t=e?.target??U.current;if(!t)return;const n=$(t).val(),a=Array.isArray(n)?n[0]:n;Se("type",a||"BannerSimple")},[Se]),Fe=a.useCallback(e=>{const t=e&&e.target?e.target.checked:e;he(t),Se("contenedor",t?"absoluto":"relativo")},[Se]);a.useEffect(()=>{const e=l.current;if(!e)return;const t=$(e),n=()=>{if(_e(),J({name:"",description:"",button_text:"",button_link:"",contenedor:"relativo",type:"BannerSimple",background:"",image:"",items:[]}),Y(null),I(!1),ie.current){try{ie.current.unmount()}catch(e){}ie.current=null}re.current=null,ne.current=null,se.current=1,oe(1),de(C),ue(!1)};return t.on("hidden.bs.modal",n),()=>{t.off("hidden.bs.modal",n)}},[_e]),a.useEffect(()=>()=>_e(),[_e]),a.useEffect(()=>{const e=requestAnimationFrame(je);return()=>cancelAnimationFrame(e)},[pe,Z,je]),a.useEffect(()=>{const e=()=>je();return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[je]),a.useEffect(()=>{if("undefined"==typeof ResizeObserver)return;const e=new ResizeObserver(()=>je());return te.current&&e.observe(te.current),ne.current&&e.observe(ne.current),()=>e.disconnect()},[je,me]);const Ee=[{id:"BannerSimple",name:"Banner Simple",icon:"mdi mdi-image-size-select-large"},{id:"BannerAd",name:"Banner Ad",icon:"mdi mdi-google-ads"},{id:"BannerFullWidth",name:"Banner Full Width",icon:"mdi mdi-view-carousel"},{id:"BannerIbergruas",name:"Banner Ibergruas",icon:"mdi mdi-image-size-select-large"},{id:"BannerFlex",name:"Banner Flex",icon:"mdi mdi-view-split-vertical"},{id:"BannerPublicitario",name:"Banner Publicitario",icon:"mdi mdi-bullhorn"},{id:"BannerPublicitarioPaani",name:"Banner Publicitario Paani",icon:"mdi mdi-bullhorn-variant"},{id:"BannerPostSuscriptionPaani",name:"Banner Post Suscripción Paani",icon:"mdi mdi-email-newsletter"},{id:"BannerStatic",name:"Banner Static",icon:"mdi mdi-image-frame"},{id:"BannerStaticSecond",name:"Banner Static Second",icon:"mdi mdi-image-multiple"},{id:"BannerSimpleSF",name:"Banner Simple SF",icon:"mdi mdi-image-outline"},{id:"BannerSimpleD2",name:"Banner Simple D2",icon:"mdi mdi-image"},{id:"BannerBananaLab",name:"Banner Banana Lab",icon:"mdi mdi-fruit-grapes"},{id:"BannerCTAMakita",name:"Banner CTA Makita",icon:"mdi mdi-call-to-action"},{id:"BannerContactMakita",name:"Banner Contact Makita",icon:"mdi mdi-contact-mail"},{id:"BannerPidelo",name:"Banner Pidelo",icon:"mdi mdi-shopping"},{id:"BannerMultivet",name:"Banner Multivet",icon:"mdi mdi-medical-bag"},{id:"BannerPublicitarioKatya",name:"Banner Publicitario Katya",icon:"mdi mdi-account-star"},{id:"BannerBlogSectionKatya",name:"Banner Blog Section Katya",icon:"mdi mdi-post"},{id:"BannerMobileApp",name:"Banner Mobile App - FirstClass",icon:"mdi mdi-cellphone-link"},{id:"BannerAboutStats",name:"About con Estadísticas - WebQuirurgica",icon:"mdi mdi-chart-box"},{id:"BannerAboutStatsPanelPro",name:"About con Estadísticas - PanelPro",icon:"mdi mdi-chart-box"},{id:"BannerPremiumCampaign",name:"Premium Campaign Rainstar",icon:"mdi mdi-star-circle"},{id:"BannerPremiumAtelier",name:"Premium Atelier Identity",icon:"mdi mdi-palette-swatch"}],Pe=e=>null==e||""===e?null:e,Ae=({pageId:e,baseSystems:t=[],insertedSystem:n=null})=>{const a=Pe(e);let i=B(t.map(e=>({...e})));if(n){const e={...n,page_id:a},t=e.after_component??null;if(t){const n=i.findIndex(e=>e.id===t);i=-1===n?[...i,e]:[...i.slice(0,n+1),e,...i.slice(n+1)]}else i=[e,...i]}const r={};return{ordered:i.map((e,t)=>{const n=(0===t?null:i[t-1].id)??null;return(e.after_component??null)!==n&&(r[e.id]=n),{...e,page_id:a,after_component:n}}),updates:r}},Le=e=>{const t=Pe(e),n=W.filter(e=>Pe(e.page_id)===t),a=B(n);H(a)};a.useEffect(()=>{Le()},[]),a.useEffect(()=>{Le(q)},[q,W]);const Te=e=>{we(),e?.id?(I(!0),Y({id:e.id,page_id:Pe(e.page_id),after_component:e.after_component??null})):(I(!1),Y(null));const t=F(e?.data||{});Re(t),c.current.value=e?.id??"",u.current.value=t.name,c.current.value=e?.id??"",u.current.value=t.name;const n=!(!t.multi_description&&!Array.isArray(t.description));if(fe(n),n){const e=Array.isArray(t.description)?t.description:[t.description||""];ve(e),p.current&&(p.current.value="")}else ve([""]),p.current&&(p.current.value=t.description||"");Se("multi_description",n),A.current.value=t.button_text,L.current.value=t.button_link;const a=w(t.background),i=w(t.image);E.image&&(E.image.src=a||""),E.current.value=null,P.image&&(P.image.src=i||""),P.current.value=null,E.resetDeleteFlag&&E.resetDeleteFlag(),P.resetDeleteFlag&&P.resetDeleteFlag(),T.current&&(T.current.checked="absoluto"===t.contenedor,he("absoluto"===t.contenedor)),$(D.current).val(e?.page_id||"").trigger("change");const r=e?.page_id||"";K(r),Le(r),setTimeout(()=>{const t=e?.after_component||"";$(O.current).val(t).trigger("change")},100),$(U.current).val(t.type||"BannerSimple").trigger("change"),$(l.current).modal("show")};return r.jsxs(r.Fragment,{children:[r.jsx(x,{gridRef:n,title:"Banners",rest:k,toolBar:e=>{e.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(n.current).dxDataGrid("instance").refresh()}}),e.unshift({widget:"dxButton",location:"after",options:{icon:"plus",text:"Nuevo banner",hint:"Nuevo banner",onClick:()=>Te()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"name",caption:"Información",cellTemplate:(t,{data:n})=>{const a=e.find(e=>e.id==n?.page_id),i=Ee.find(e=>e.id===n?.data?.type);t.html(s.renderToString(r.jsx(r.Fragment,{children:r.jsx("div",{className:"d-flex align-items-center",children:r.jsxs("div",{children:[r.jsx("b",{className:"d-block",children:n?.name}),r.jsxs("small",{className:"text-muted d-block",children:["Tipo:"," ",i?.name||"Banner Simple"]}),r.jsxs("small",{className:"text-muted",children:["Página:"," ",a?.name||"Base Template"]})]})})})))}},{dataField:"after_component",caption:"Después de",cellTemplate:(e,{data:t})=>{if(!t.after_component)return void e.text("Al inicio");const n=W.find(e=>e.id===t.after_component);e.text(n?n.name:"Componente eliminado")}},{dataField:"background",caption:"Fondo",width:"90px",allowFiltering:!1,cellTemplate:(e,{data:t})=>{y(e,r.jsx("img",{src:`/storage/images/system/${t?.data?.background}`,style:{width:"80px",height:"48px",objectFit:"cover",objectPosition:"center",borderRadius:"4px"},onError:e=>e.target.src="/api/cover/thumbnail/null"}))}},{dataField:"image",caption:"Imagen",width:"90px",allowFiltering:!1,cellTemplate:(e,{data:t})=>{y(e,r.jsx("img",{src:`/storage/images/system/${t?.data?.image}`,style:{width:"80px",height:"48px",objectFit:"cover",objectPosition:"center",borderRadius:"4px"},onError:e=>e.target.src="/api/cover/thumbnail/null"}))}},{dataField:"visible",caption:"Visible",dataType:"boolean",cellTemplate:(e,{data:t})=>{$(e).empty(),y(e,r.jsx(f,{checked:1==t.visible,onChange:()=>(async({id:e,value:t})=>{await k.boolean({id:e,field:"visible",value:t})&&z(n=>n.map(n=>n.id===e?{...n,visible:t}:n))})({id:t.id,value:!t.visible})}))}},{caption:"Acciones",cellTemplate:(e,{data:t})=>{e.css("text-overflow","unset"),e.append(v({className:"btn btn-xs btn-soft-primary",title:"Editar",icon:"fa fa-pen",onClick:()=>Te(t)})),e.append(v({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>(async e=>{const{isConfirmed:t}=await m.fire({title:"Eliminar registro",text:"¿Estas seguro de eliminar este registro?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});if(!t)return;await k.delete(e)&&z(t=>t.filter(t=>t.id!=e))})(t.id)}))},allowFiltering:!1,allowExporting:!1}]}),r.jsxs(h,{modalRef:l,title:M?"Editar banner":"Agregar banner",onSubmit:async e=>{if(e.preventDefault(),!Q){X(!0);try{const e=c.current.value,t=$(D.current).val(),a=Pe(t),i=$(O.current).val()||null,r=Z.type||"BannerSimple",s={name:`Banner - ${u.current.value}`,component:"banner",value:r,page_id:a,after_component:i,visible:!0};e&&(s.id=e);const o=await _.save(s);if(!o)return;const d={...V?.id&&W.find(e=>e.id===V.id)?.data||{},name:u.current.value,name:u.current.value,description:be?xe.filter(e=>e&&e.trim()):p.current.value,multi_description:be,button_text:A.current.value,button_link:L.current.value,contenedor:T.current?.checked?"absoluto":"relativo",type:r},m=new FormData;m.append("id",o.id),m.append("id",o.id),Object.entries(d).forEach(([e,t])=>{"description"===e&&Array.isArray(t)?t.forEach(e=>m.append("description[]",e)):"multi_description"===e?m.append(e,t?1:0):m.append(e,t)});const b=E.current.files[0];b&&m.append("background",b);const f=P.current.files[0];f&&m.append("image",f),E.getDeleteFlag&&E.getDeleteFlag()&&m.append("background_delete","DELETE"),P.getDeleteFlag&&P.getDeleteFlag()&&m.append("image_delete","DELETE");if(!(await k.save(m)))return;E.resetDeleteFlag&&E.resetDeleteFlag(),P.resetDeleteFlag&&P.resetDeleteFlag();let g={...o,page_id:a,after_component:i??null,data:{...o.data||{},...d}};const h=Pe(V?.page_id),x=Pe(g.page_id),v=V?.id&&(h!==x||V.after_component!==(i??null)),j={};if(!V?.id||v){if(V?.id&&h!==x){const e=W.filter(e=>Pe(e.page_id)===h&&e.id!==g.id).map(e=>({...e})),t=e.find(e=>e.after_component===g.id);t&&(t.after_component=V.after_component);const{updates:n}=Ae({pageId:h,baseSystems:e});Object.assign(j,n)}const e=v?x:h,t=W.filter(t=>Pe(t.page_id)===e&&t.id!==g.id).map(e=>({...e}));if(V?.id&&h===x){const e=t.find(e=>e.after_component===g.id);e&&(e.after_component=V.after_component)}const{ordered:n,updates:a}=Ae({pageId:e,baseSystems:t,insertedSystem:g});Object.assign(j,a);const i=n.find(e=>e.id===g.id);i&&(g={...g,after_component:i.after_component??null})}else g.after_component=V.after_component;if(Object.keys(j).length>0){if(!(await _.updateOrder(j)))return}if(Object.keys(j).length>0){if(!(await _.updateOrder(j)))return}z(e=>[...e.filter(e=>e.id!==g.id).map(e=>Object.prototype.hasOwnProperty.call(j,e.id)?{...e,after_component:j[e.id]??null}:e),g]),K(x??""),(()=>{if(!n.current)return;const e=$(n.current);if("function"!=typeof e.dxDataGrid)return;const t=e.dxDataGrid("instance");t?.refresh()})(),$(l.current).modal("hide"),Y(null),I(!1)}finally{X(!1)}}},size:"xl",children:[r.jsx("input",{ref:c,type:"hidden"}),r.jsxs("div",{className:"row g-3",id:"banner-container",children:[r.jsx("div",{className:"col-12 col-lg-5 order-1 order-lg-2",children:r.jsxs("div",{className:"card shadow-sm border-0 h-100",children:[r.jsxs("div",{className:"card-header bg-white border-0 pb-0",children:[r.jsx("h6",{className:"mb-1 fw-semibold",children:"Vista previa"}),r.jsx("small",{className:"text-muted",children:"Se actualiza automáticamente con los cambios."})]}),r.jsx("div",{className:"card-body",children:r.jsx("div",{ref:te,className:"banner-preview-stage border rounded bg-light p-3",style:{minHeight:C,height:ce,maxHeight:900,overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"flex-start",transition:"height 150ms ease, min-height 150ms ease, max-height 150ms ease"},children:r.jsxs("div",{className:"banner-preview-frame position-relative",style:{width:"1600px",minWidth:"1600px",maxWidth:"1600px",transform:`scale(${le})`,transformOrigin:"top center",transition:"transform 150ms ease, width 150ms ease"},children:[r.jsx("iframe",{ref:ae,title:"Vista previa del banner",style:{width:"1600px",height:"900px",border:"0",pointerEvents:"none",backgroundColor:"transparent",display:"block"},scrolling:"no"}),!me&&r.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center text-muted small bg-white bg-opacity-75",children:"Cargando vista previa..."})]})})})]})}),r.jsxs("div",{className:"col-12 col-lg-7 order-2 order-lg-1",children:[r.jsxs("ul",{className:"nav nav-pills nav-justified mb-3",id:"bannerTabs",role:"tablist",children:[r.jsx("li",{className:"nav-item",role:"presentation",children:r.jsxs("button",{className:"nav-link active",id:"general-tab","data-bs-toggle":"pill","data-bs-target":"#general",type:"button",role:"tab","aria-controls":"general","aria-selected":"true",children:[r.jsx("i",{className:"fa fa-cog me-1"})," General"]})}),r.jsx("li",{className:"nav-item",role:"presentation",children:r.jsxs("button",{className:"nav-link",id:"content-tab","data-bs-toggle":"pill","data-bs-target":"#content",type:"button",role:"tab","aria-controls":"content","aria-selected":"false",children:[r.jsx("i",{className:"fa fa-align-left me-1"})," ","Contenido"]})}),r.jsx("li",{className:"nav-item",role:"presentation",children:r.jsxs("button",{className:"nav-link",id:"images-tab","data-bs-toggle":"pill","data-bs-target":"#images",type:"button",role:"tab","aria-controls":"images","aria-selected":"false",children:[r.jsx("i",{className:"fa fa-image me-1"})," ","Imágenes"]})})]}),r.jsxs("div",{className:"tab-content",id:"bannerTabsContent",children:[r.jsxs("div",{className:"tab-pane fade show active",id:"general",role:"tabpanel","aria-labelledby":"general-tab",children:[r.jsxs("div",{className:"row",children:[r.jsx("div",{className:"col-md-6",children:r.jsx(g,{eRef:U,label:"Tipo de Banner",dropdownParent:"#banner-container",onChange:Ne,children:Ee.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))})}),r.jsx("div",{className:"col-md-6",children:r.jsxs(g,{eRef:D,label:"Página",onChange:e=>{const t=$(e.target).val();K(t),setTimeout(()=>{$(O.current).val("").trigger("change")},100)},dropdownParent:"#banner-container",children:[r.jsx("option",{value:"",children:"Base Template"}),e.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})})]}),r.jsxs(g,{eRef:O,label:"Posición (después de)",dropdownParent:"#banner-container",changeWith:[q],children:[r.jsx("option",{value:"",children:"Al inicio"}),G.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]}),d.has("banners","contenedor")&&r.jsxs("div",{className:"form-group mt-3",children:[r.jsx(f,{eRef:T,label:"Posición Absoluta (Overlay)",checked:ge,onChange:Fe}),r.jsx("small",{className:"text-muted d-block mt-1",children:"Marca esta opción para posicionamiento absoluto de la imagen"})]})]}),r.jsxs("div",{className:"tab-pane fade",id:"content",role:"tabpanel","aria-labelledby":"content-tab",children:[r.jsx(o,{eRef:u,label:"Titulo Principal",rows:2,onChange:e=>Se("name",e.target.value)}),d.has("banners","description")&&r.jsxs("div",{className:"form-group mb-3 border rounded p-3 bg-light",children:[r.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[r.jsx("label",{className:"mb-0 fw-bold",children:"Descripción / Contenido"}),d.has("banners","multi_description")&&r.jsxs("div",{className:"d-flex align-items-center",children:[r.jsx("span",{className:"me-3 fw-bold text-muted",style:{fontSize:"0.9rem"},children:"Modo Lista"}),r.jsx(f,{id:"multiDescSwitch",label:null,col:"mb-0",checked:be,onChange:e=>{if(fe(e),Se("multi_description",e),e){const e=[p.current?.value||""];ve(e),Se("description",e)}else{const e=xe.join("\n");p.current&&(p.current.value=e),Se("description",e)}}})]})]}),be?r.jsxs("div",{className:"multi-description-container",children:[xe.map((e,t)=>r.jsxs("div",{className:"d-flex mb-2 align-items-center",children:[r.jsx("div",{className:"flex-grow-1 me-2",children:r.jsx("input",{type:"text",className:"form-control",value:e,onChange:e=>((e,t)=>{const n=[...xe];n[e]=t,ve(n),Se("description",n)})(t,e.target.value),placeholder:`Párrafo/Item ${t+1}`})}),r.jsx("button",{type:"button",className:"btn btn-danger btn-sm",onClick:()=>(e=>{const t=xe.filter((t,n)=>n!==e);ve(t),Se("description",t)})(t),disabled:1===xe.length,title:"Eliminar línea",children:r.jsx("i",{className:"fa fa-trash"})})]},t)),r.jsxs("button",{type:"button",className:"btn btn-primary btn-sm mt-1",onClick:()=>{const e=[...xe,""];ve(e),Se("description",e)},children:[r.jsx("i",{className:"fa fa-plus me-1"})," ","Agregar línea"]})]}):r.jsx(o,{eRef:p,label:"Descripción",rows:2,onChange:e=>Se("description",e.target.value)})]}),d.has("banners","button_text")&&r.jsxs("div",{className:"row",children:[r.jsx(j,{col:"col-md-6",eRef:A,label:"Texto del botón",onChange:e=>Se("button_text",e.target.value)}),d.has("banners","button_link")&&r.jsx(j,{col:"col-md-6",eRef:L,label:"Enlace del botón",onChange:e=>Se("button_link",e.target.value)})]})]}),r.jsxs("div",{className:"tab-pane fade",id:"images",role:"tabpanel","aria-labelledby":"images-tab",children:[d.has("banners","image")&&r.jsx(b,{eRef:P,label:"Imagen (Frontal / Principal)",col:"col-12",aspectRatio:4/3,onChange:Ce("image"),deleteable:!0}),d.has("banners","background")&&r.jsx(b,{eRef:E,label:"Fondo (Background)",col:"col-12",aspectRatio:16/9,onChange:Ce("background"),deleteable:!0})]})]})]})]})]})]})};c((e,t)=>{i.createRoot(e).render(r.jsx(l,{...t,title:"Banners",children:r.jsx(E,{...t})}))});

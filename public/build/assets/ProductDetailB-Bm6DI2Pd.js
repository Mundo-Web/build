import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as n}from"./index-BOnQTV8N.js";import{I as ss}from"./ItemsRest-DvgvOR-1.js";import{C as as}from"./CombosCartRest-DINBZpQF.js";import"./ProductCard-D_AgkLlk.js";import{m as ts}from"./main-B6F2O9-U.js";import rs from"./ProductInfinite-oGFNVW2Z.js";import{C as ls}from"./HeaderSearch-CLQ4L3XU.js";import{N as ns}from"./navigation-BIDIUzpb.js";import{P as is}from"./pagination-C411qpn9.js";/* empty css               */import"./BlogCarrusel-klwTVD05.js";import"./ProductMakita-CuTJk-0k.js";import{S as cs,a as os}from"./BlogCarousel-DCQ9UYu0.js";import{R as ye}from"./PolicyModal-C80IvD61.js";import{H as ds}from"./HtmlContent-ghmllTyl.js";import{C as o}from"./Number2Currency-D9Rjvh76.js";import{C as xs}from"./chevron-left-JcR9Fe4w.js";import{C as ms}from"./chevron-right-Cug7tVUE.js";import{C}from"./chevron-down-uIVDLcM-.js";import{C as G}from"./circle-check-DW_TmQ0Z.js";import{S as D}from"./shopping-cart-DLRnxGTD.js";import{P as O}from"./plus-CTIomuuF.js";import{S as V,C as hs}from"./square-check-big-V7lwGc0B.js";import{c as us}from"./createLucideIcon-DfjclApS.js";import{S as $}from"./store-DCbpAdsr.js";import{m as X}from"./proxy-B0QLMKEh.js";import{Z as ps}from"./zoom-in-DjAbuZ1Y.js";import{C as ve}from"./chevron-up-Mt3xll-e.js";import{X as we}from"./x-fof_H3Vv.js";import{H as fs}from"./house-DDB4Ooi5.js";import{P as gs}from"./phone-ZNY-sPqk.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./BasicRest-BqhZrBN0.js";import"./CardProductKatya-ncpmQ0JU.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./grid-BZ4EKnFQ.js";import"./ProductNavigation-Cc2sVw8o.js";import"./eye-ScgfreHn.js";import"./CardProductKatya-uOSswYz0.js";import"./adjustTextColor-DJKJvkxA.js";import"./tag-Dgi-uTqk.js";import"./create-element-if-not-defined-DUWlnlug.js";import"./index-Chjiymov.js";import"./CartItemRow-Lh5OenLf.js";import"./tippy-react.esm-DmkRJDEW.js";import"./package-DBFPPBi1.js";import"./trash-2-DU7LB6-f.js";import"./General-BmbBKdsB.js";import"./index-BZvh78jk.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=us("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),ga=({item:a,data:h,setCart:M,cart:j,generals:w})=>{var me,he,ue,pe,fe,ge,je,be;console.log(a);const B=new ss,Ce=new as,[S,b]=n.useState(!1),[p,J]=n.useState({url:a==null?void 0:a.image,type:"main"}),[d,Me]=n.useState(!1),[H,R]=n.useState({x:50,y:50}),[N,E]=n.useState(!1),[F,I]=n.useState({x:0,y:0}),A=n.useRef(null),[x,k]=n.useState(1),[y,Q]=n.useState(!1),[P,Se]=n.useState(!1),Y=n.useRef(null),U=n.useRef(null),[Ee,Fe]=n.useState(!1),[_e,$e]=n.useState(!1),[ee,_]=n.useState(!1),[se,q]=n.useState(!1),[v,ae]=n.useState([]),[He,te]=n.useState(!1),re=()=>{console.log("Zoom clicked, current state:",d),Me(!d),d||R({x:50,y:50}),E(!1)},Re=s=>{d&&(E(!0),I({x:s.clientX,y:s.clientY}),s.preventDefault())},Ae=s=>{if(!(!d||!A.current))if(N){const t=s.clientX-F.x,r=s.clientY-F.y;R(l=>{const c=Math.max(0,Math.min(100,l.x-t*.3)),m=Math.max(0,Math.min(100,l.y-r*.3));return{x:c,y:m}}),I({x:s.clientX,y:s.clientY})}else{const t=A.current.getBoundingClientRect(),r=(s.clientX-t.left)/t.width*100,l=(s.clientY-t.top)/t.height*100,i=Math.max(10,Math.min(90,r)),c=Math.max(10,Math.min(90,l));R(m=>({x:m.x+(i-m.x)*.1,y:m.y+(c-m.y)*.1}))}},Pe=()=>{E(!1)},qe=()=>{E(!1)},Z=w==null?void 0:w.find(s=>s.correlative==="phone_whatsapp"),ze=Z==null?void 0:Z.description,Le=encodeURIComponent(`¡Hola! Tengo dudas sobre este producto: ${a==null?void 0:a.name}`),Te=`https://wa.me/${ze}?text=${Le}`,le=()=>{window.open(Te,"_blank")},De=async()=>{te(!0);try{const t=await(await fetch("/api/stores")).json();t.status&&ae(t.data||[])}catch(s){console.error("Error loading stores:",s),ae([])}finally{te(!1)}},ne=()=>{q(!0),v.length===0&&De()},z=s=>{const t=structuredClone(j),r=t.findIndex(l=>l.id==(s==null?void 0:s.id));r==-1?t.push({...s,quantity:x}):t[r].quantity++,M(t),b(!S),setTimeout(()=>b(!1),3e3)},[g,Oe]=n.useState([]),[f,ie]=n.useState([]),[ce,Ve]=n.useState([]);j==null||j.find(s=>s.id==(a==null?void 0:a.id)),n.useEffect(()=>{a!=null&&a.id&&(Ye(a),Ie(a),Be(a),Xe(a))},[a]),n.useEffect(()=>{const s=()=>{if(Y.current){const t=Y.current.scrollHeight;Fe(t>400)}if(U.current){const t=U.current.scrollHeight;$e(t>400)}};return setTimeout(s,100),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[a]);const Xe=async s=>{try{const t={id:s==null?void 0:s.id};if(console.log(t),!await B.updateViews(t))return}catch{return}},Be=async s=>{try{const t=await Ce.getItemCombos(s.id);t&&t.data&&ie(t.data)}catch(t){console.error("Error loading combos:",t),ie([])}},Ie=async s=>{try{const t={id:s==null?void 0:s.id},r=await B.verifyCombo(t);if(!r)return;const l=r[0].associated_items;Oe(Object.values(l))}catch{return}},Ye=async s=>{try{const t={id:s==null?void 0:s.id},r=await B.productsRelations(t);if(!r)return;const l=r;Ve(Object.values(l)),console.log(l)}catch{return}},W=s=>{const t=structuredClone(j),r=t.findIndex(l=>l.id===s.id&&l.type==="combo");r===-1?t.push({...s,type:"combo",quantity:1,image:s==null?void 0:s.image,final_price:(s==null?void 0:s.final_price)||(s==null?void 0:s.price),price:s==null?void 0:s.price,discount:(s==null?void 0:s.discount)||0,discount_percent:(s==null?void 0:s.discount_percent)||0}):t[r].quantity++,M(t),b(!S),setTimeout(()=>b(!1),3e3)},Ue=g.reduce((s,t)=>s+parseFloat(t==null?void 0:t.final_price),0);f.reduce((s,t)=>s+parseFloat((t==null?void 0:t.price)||0),0);const[u,K]=n.useState(!1),Ze=()=>{M(s=>{const t=structuredClone(s);return[...g,a].forEach(r=>{const l=t.findIndex(i=>i.id===(r==null?void 0:r.id));l===-1?t.push({...r,quantity:x}):t[l].quantity++}),t}),ts.Notify.add({icon:"/assets/img/icon.svg",title:"Carrito de Compras",body:"Se agregaron con éxito los productos"})},oe=n.useRef(null);n.useRef(null);const de=n.useRef(null),xe=n.useRef(null);return n.useEffect(()=>{const s=()=>{E(!1)},t=r=>{if(N&&d&&A.current){const l=r.clientX-F.x,i=r.clientY-F.y;R(c=>{const L=Math.max(5,Math.min(95,c.x-l*.25)),T=Math.max(5,Math.min(95,c.y-i*.25));return{x:L,y:T}}),I({x:r.clientX,y:r.clientY})}};return N&&(document.addEventListener("mouseup",s),document.addEventListener("mousemove",t)),()=>{document.removeEventListener("mouseup",s),document.removeEventListener("mousemove",t)}},[N,d,F]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"md:hidden bg-gray-50 min-h-screen",children:[e.jsx("div",{className:"sticky top-0 bg-white shadow-sm z-20",children:e.jsx("div",{className:"flex items-center p-4 gap-4 border-b",children:e.jsx("h1",{className:"text-lg font-bold flex-1 line-clamp-5",children:a==null?void 0:a.name})})}),e.jsxs("div",{className:"p-4 pb-24",children:[e.jsxs("div",{className:"relative aspect-square mb-4 rounded-2xl overflow-hidden shadow-lg",children:[e.jsx(cs,{ref:oe,modules:[ns,is],navigation:{prevEl:de.current,nextEl:xe.current},pagination:{clickable:!0,renderBullet:(s,t)=>`<span class="${t} !w-2 !h-2 !bg-white/50 !mx-1"></span>`},loop:!0,onSwiper:s=>{oe.current=s},className:"h-full",children:[a==null?void 0:a.image,...a==null?void 0:a.images].filter((s,t,r)=>t===r.findIndex(l=>(l==null?void 0:l.url)===(s==null?void 0:s.url))).map((s,t)=>e.jsx(os,{children:e.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:e.jsx("img",{src:`/storage/images/item/${(s==null?void 0:s.url)||s}`,className:"w-full h-full object-cover aspect-square",loading:"lazy",onError:r=>r.target.src="/api/cover/thumbnail/null"})})},t))}),e.jsxs("div",{className:"absolute top-1/2 w-full flex justify-between px-2 transform -translate-y-1/2 z-10",children:[e.jsx("button",{ref:de,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/80 shadow-lg hover:scale-110 transition-transform",children:e.jsx(xs,{className:"text-gray-800",size:20})}),e.jsx("button",{ref:xe,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/80 shadow-lg hover:scale-110 transition-transform",children:e.jsx(ms,{className:"text-gray-800",size:20})})]})]}),e.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm mb-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold customtext-primary",children:[o()," ",a==null?void 0:a.final_price,(a==null?void 0:a.discount)>0&&(a==null?void 0:a.price)>(a==null?void 0:a.final_price)&&e.jsxs("span",{className:"ml-2 text-sm line-through text-gray-400",children:[o()," ",a==null?void 0:a.price]})]}),e.jsxs("div",{className:"text-xs customtext-neutral-light mt-1",children:["SKU: ",a==null?void 0:a.sku]})]}),(a==null?void 0:a.discount)>0&&(a==null?void 0:a.price)>(a==null?void 0:a.final_price)&&e.jsxs("div",{className:"bg-secondary customtext-primary px-3 py-1 rounded-full text-sm",children:[Number(a==null?void 0:a.discount_percent).toFixed(0),"% OFF"]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:"Cantidad"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>k(Math.max(1,x-1)),className:"w-8 h-8 rounded-full bg-secondary customtext-primary flex items-center justify-center",children:"-"}),e.jsx("span",{className:"w-8 text-center font-medium",children:x}),e.jsx("button",{onClick:()=>k(Math.min(10,x+1)),className:"w-8 h-8 rounded-full bg-secondary customtext-primary flex items-center justify-center",children:"+"})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"border-b",children:e.jsxs("button",{onClick:()=>K(!u),className:"w-full p-4 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Especificaciones técnicas"}),e.jsx(C,{className:`transform transition-transform ${u?"rotate-180":""}`})]})}),u&&e.jsx("div",{className:"p-4",children:a==null?void 0:a.specifications.map((s,t)=>e.jsxs("div",{className:"flex items-start gap-3 text-sm mb-2",children:[e.jsx(G,{className:"min-w-4 min-h-4 max-w-4 max-h-4 mt-0.5 customtext-primary"}),e.jsx("span",{children:s.description})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"border-b",children:e.jsxs("button",{onClick:()=>Q(!y),className:"w-full p-4 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Descripción del producto"}),e.jsx(C,{className:`transform transition-transform ${y?"rotate-180":""}`})]})}),y&&e.jsxs("div",{className:"p-4",children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:a==null?void 0:a.description}}),e.jsx("ul",{className:"list-disc pl-5 mt-2",children:(me=a==null?void 0:a.features)==null?void 0:me.map((s,t)=>e.jsx("li",{className:"text-sm",children:s.feature},t))})]})]})]}),(g.length>0||f.length>0)&&e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(D,{className:"w-6 h-6 customtext-primary"}),e.jsx("h2",{className:"text-base font-semibold",children:"Completa tu compra con estos productos"})]}),f.length>0&&e.jsx("div",{className:"mb-6",children:f.map((s,t)=>{var r,l;return e.jsxs("div",{className:"border rounded-lg p-4 mb-4 bg-gay-50",children:[e.jsx("div",{className:"flex gap-4 mb-4",children:e.jsx("div",{className:"w-full flex gap-2 overflow-x-auto",children:(r=s.combo_items)==null?void 0:r.map((i,c)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:`/storage/images/item/${i.image}`,className:"rounded-lg aspect-square w-16 h-16 object-cover bg-white",onError:m=>m.target.src="/api/cover/thumbnail/null",alt:i.name}),c<s.combo_items.length-1&&e.jsx("span",{className:"text-lg font-bold customtext-primary flex items-center justify-center",children:e.jsx(O,{size:16})})]},c))})}),(l=s.combo_items)==null?void 0:l.map((i,c)=>e.jsxs("div",{className:"flex mt-2 gap-4 p-3 border rounded-lg items-center bg-white",children:[e.jsx(V,{className:"w-4 h-4 customtext-primary"}),e.jsxs("div",{className:"flex-1 font-semibold",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:i.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Cantidad: ",i.quantity||1]})]}),e.jsxs("p",{className:"font-bold text-gray-700 text-sm",children:[o()," ",parseFloat(i.price).toFixed(2)]})]},c)),e.jsxs("div",{className:"w-full flex flex-col justify-start items-start bg-blue-100 p-4 rounded-lg mt-4",children:[s.discount>0&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-xs customtext-primary line-through",children:[o()," ",parseFloat(s.price).toFixed(2)]}),e.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-lg",children:["-",s.discount_percent,"%"]})]}),e.jsx("span",{className:"text-xs font-semibold customtext-primary",children:s.discount>0?"Precio con descuento":"Precio del combo"}),e.jsxs("p",{className:"font-bold mb-2 customtext-primary text-2xl ",children:[o()," ",parseFloat(s.final_price||s.price).toFixed(2)]}),e.jsx("button",{onClick:()=>W(s),className:"bg-primary text-white text-sm font-semibold w-full py-3 px-6 rounded-xl hover:bg-primary transition-all duration-300 hover:shadow-md",children:"Agregar combo completo"})]})]},`combo-mobile-${s.id}`)})})]}),e.jsxs("div",{className:"border rounded-lg overflow-hidden flex flex-col mt-8 justify-center",children:[e.jsx("button",{onClick:()=>_(!0),className:"w-full p-6 hover:bg-gray-50 transition-colors duration-200 flex items-center gap-4",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"bg-secondary min-w-12 min-h-12 rounded-full mx-auto mb-2 flex items-center justify-center",children:e.jsx(ke,{className:"w-8 h-8 customtext-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm text-start customtext-neutral-dark",children:"Envío a domicilio"}),e.jsx("p",{className:"text-start text-xs customtext-neutral-light mt-1 underline",children:"Consultar"})]})]})}),e.jsx("button",{onClick:ne,className:"w-full p-6 hover:bg-gray-50 transition-colors duration-200 flex items-center gap-4",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"bg-secondary min-w-12 min-h-12 rounded-full mx-auto mb-2 flex items-center justify-center",children:e.jsx($,{className:"w-8 h-8 customtext-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-start text-sm customtext-neutral-dark",children:"Retiro en tienda"}),e.jsx("p",{className:"text-start text-xs customtext-neutral-light mt-1 underline",children:"Consultar tiendas disponibles"})]})]})}),e.jsx(X.div,{className:"w-full p-6 cursor-pointer hover:bg-gray-50 transition-colors duration-200 flex items-center  gap-4",children:e.jsxs(X.div,{className:" flex flex-row rounded-xl gap-3",children:[e.jsx("div",{className:"bg-secondary min-w-12 max-w-12 min-h-12 max-h-12 flex items-center justify-center rounded-full flex-shrink-0",children:e.jsx("svg",{className:"w-8 h-8 customtext-primary",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.531 3.488"})})}),e.jsx("div",{className:"font-semibold text-sm customtext-neutral-dark cursor-pointer",children:e.jsxs("p",{children:["¿Tienes dudas? Haz"," ",e.jsx("a",{className:"underline",onClick:le,children:"clic aquí"})," ","y chatea con nosotros"]})})]})})]})]}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-[99]",children:e.jsxs("div",{className:"p-4 flex gap-4",children:[e.jsx("button",{onClick:()=>{z(a),window.location.href="/cart"},className:"flex-1 bg-primary text-white py-3 rounded-xl font-medium active:scale-95 transition-transform",children:"Comprar ahora"}),e.jsx("button",{onClick:()=>z(a),className:"flex-1 bg-gray-100 customtext-primary py-3 rounded-xl font-medium border border-primary active:scale-95 transition-transform",children:"Añadir al carrito"})]})})]}),e.jsxs("div",{className:"px-primary mx-auto py-12 bg-[#F7F9FB] hidden md:block ",children:[e.jsx("div",{className:"bg-white rounded-xl p-4 md:p-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-6 md:hidden",children:[e.jsx("p",{className:"customtext-neutral-light text-sm",children:(he=a==null?void 0:a.brand)!=null&&he.name?e.jsxs(e.Fragment,{children:["Marca:"," ",e.jsx("span",{className:"customtext-neutral-dark",children:(ue=a==null?void 0:a.brand)==null?void 0:ue.name})]}):(pe=a==null?void 0:a.category)==null?void 0:pe.name}),e.jsx("h1",{className:"customtext-neutral-dark text-[28px] md:text-[40px] font-bold mt-2",children:a==null?void 0:a.name})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("button",{onClick:()=>J({url:a==null?void 0:a.image,type:"main"}),className:`w-16 h-16  rounded-lg p-1 border-2 ${p.url===(a==null?void 0:a.image)?"border-primary ":"border-gray-200"}`,children:e.jsx("img",{src:`/storage/images/item/${a==null?void 0:a.image}`,alt:"Main Thumbnail",className:"w-full h-full object-cover rounded-lg aspect-square",onError:s=>s.target.src="/api/cover/thumbnail/null"})}),a==null?void 0:a.images.filter((s,t,r)=>t===r.findIndex(l=>l.url===s.url)).map((s,t)=>e.jsx("button",{onClick:()=>J({url:s==null?void 0:s.url,type:"gallery"}),className:`w-16 h-16 border-2 rounded-lg p-1 ${p.url===s.url?"border-primary":"border-gray-200"}`,children:e.jsx("img",{src:`/storage/images/item/${s==null?void 0:s.url}`,alt:`Thumbnail ${t+1}`,className:"w-full h-full object-cover rounded-lg aspect-square",onError:r=>r.target.src="/api/cover/thumbnail/null"})},t))]}),e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx("button",{onClick:re,className:`absolute top-3 right-3 z-10 p-2 rounded-full shadow-lg transition-all duration-200 ${d?"bg-primary text-white opacity-100":"bg-white/90 hover:bg-white text-gray-700 hover:text-primary group-hover:opacity-100 opacity-60"}`,title:d?"Desactivar zoom":"Activar zoom",children:e.jsx(ps,{className:"w-5 h-5"})}),e.jsxs("div",{className:`relative overflow-hidden rounded-lg select-none ${d?N?"cursor-grabbing":"cursor-grab":"cursor-pointer"}`,onMouseMove:Ae,onMouseDown:Re,onMouseUp:Pe,onMouseLeave:qe,onClick:()=>!d&&re(),style:{height:"auto",position:"relative"},children:[e.jsx("img",{ref:A,src:p.type==="main"?`/storage/images/item/${p==null?void 0:p.url}`:`/storage/images/item/${p==null?void 0:p.url}`,onError:s=>s.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full rounded-lg object-cover aspect-square",style:{...d?{transform:"scale(2.5)",transformOrigin:`${H.x}% ${H.y}%`,transition:N?"none":"transform 0.4s cubic-bezier(0.4, 0, 0.2, 1), transform-origin 0.3s cubic-bezier(0.4, 0, 0.2, 1)"}:{transform:"scale(1)",transition:"transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)"},userSelect:"none",pointerEvents:"auto"},draggable:!1}),!d&&e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors duration-300 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/75 text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg",children:"Click para activar zoom"})}),d&&e.jsx("div",{className:"absolute bottom-3 left-3 bg-primary text-white px-3 py-2 rounded-lg text-xs font-medium shadow-lg border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),e.jsx("span",{children:N?"Arrastrando vista...":"Mantén presionado y arrastra"})]})}),d&&e.jsx("div",{className:"absolute top-4 left-4 bg-black/20 text-white p-2 rounded-lg shadow-lg",children:e.jsx("div",{className:"flex flex-col items-center gap-2",children:e.jsx("div",{className:"relative w-12 h-12 bg-white/20 border border-white/40 rounded",children:e.jsx("div",{className:"absolute w-3 h-3 bg-primary border border-white rounded-sm shadow-sm transition-all duration-200",style:{left:`${H.x/100*36}px`,top:`${H.y/100*36}px`}})})})})]})]})]}),e.jsxs("div",{className:"flex lg:hidden flex-col customtext-neutral-light justify-start items-start gap-2 text-sm mb-6",children:[e.jsxs("span",{className:"customtext-neutral-light text-sm",children:["SKU:"," ",e.jsx("span",{className:"customtext-neutral-dark",children:a==null?void 0:a.sku})]}),e.jsxs("span",{className:"ustomtext-neutral-light text-sm",children:["Disponibilidad:"," ",e.jsx("span",{className:"customtext-neutral-dark",children:(a==null?void 0:a.stock)>0?"En stock":"Agotado"})]})]}),e.jsx("div",{className:"flex lg:hidden gap-8 border-b-2 pb-8",children:e.jsxs("div",{className:" w-full ",children:[e.jsxs("p",{className:"text-sm customtext-neutral-light mb-1",children:["Precio:"," ",e.jsxs("span",{className:"line-through line-clamp-1",children:[o()," ",a==null?void 0:a.price]})]}),e.jsxs("div",{className:"flex items-center gap-4 ",children:[e.jsxs("span",{className:"text-[40px] font-bold line-clamp-1",children:[o()," ",a==null?void 0:a.final_price]}),e.jsxs("span",{className:"bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl",children:["-",Number(a==null?void 0:a.discount_percent).toFixed(1),"%"]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("span",{className:"customtext-neutral-dark text-sm font-medium",children:"Cantidad"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden bg-white",children:[e.jsx("button",{onClick:()=>k(Math.max(1,x-1)),className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 active:bg-gray-200 transition-colors duration-200 customtext-neutral-dark font-semibold text-lg",disabled:x<=1,children:"−"}),e.jsx("div",{className:"w-12 h-10 flex items-center justify-center border-x border-gray-300 bg-gray-50",children:e.jsx("span",{className:"customtext-neutral-dark font-medium text-sm",children:x})}),e.jsx("button",{onClick:()=>k(Math.min(10,x+1)),className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 active:bg-gray-200 transition-colors duration-200 customtext-neutral-dark font-semibold text-lg",disabled:x>=10,children:"+"})]}),e.jsx("span",{className:"customtext-neutral-light text-xs",children:"Máximo 10 unidades"})]})]})}),e.jsx("button",{onClick:()=>{z(a),b(!S)},className:`w-full bg-primary  py-3 font-bold shadow-lg rounded-xl hover:opacity-90 transition-all duration-300 mt-4 ${(h==null?void 0:h.class_button)||"text-white"}`,children:"Agregar al carrito"})]})}),e.jsx("div",{className:"block lg:hidden flex-1 w-full ",children:e.jsxs("div",{className:"bg-[#F7F9FB] rounded-lg p-6",children:[e.jsx("h3",{className:"font-medium text-sm mb-4",children:"Especificaciones principales"}),e.jsx("ul",{className:`space-y-2  customtext-neutral-light mb-4 transition-all duration-300 ${u?"max-h-full":"max-h-24 overflow-hidden"}`,style:{listStyleType:"disc"},children:a==null?void 0:a.specifications.map((s,t)=>s.type==="principal"&&e.jsxs("li",{className:"flex gap-2",children:[e.jsx(G,{className:"customtext-primary"}),s.description]},t))}),e.jsxs("button",{className:"customtext-primary text-sm font-semibold hover:underline flex items-center gap-1 transition-all duration-300",onClick:()=>K(!u),children:[u?"Ver menos":"Ver más especificaciones",u?e.jsx(ve,{className:"w-4 h-4"}):e.jsx(C,{className:"w-4 h-4"})]})]})}),e.jsxs("div",{className:"block lg:hidden mt-8 ",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(D,{className:"w-6 h-6 customtext-primary"}),e.jsx("h2",{className:"text-base font-semibold",children:"Completa tu compra con estos productos"})]}),f.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"Combos recomendados"}),f.map((s,t)=>{var r,l;return e.jsxs("div",{className:"border rounded-lg p-4 mb-4 bg-blue-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"bg-primary text-white rounded-full p-1",children:e.jsx(D,{size:14})}),e.jsxs("span",{className:"text-sm font-semibold customtext-primary",children:["COMBO: ",s.name]})]}),e.jsx("div",{className:"flex gap-4 mb-4",children:e.jsx("div",{className:"w-2/3 flex gap-2",children:(r=s.combo_items)==null?void 0:r.map((i,c)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:`/storage/images/item/${i.image}`,className:"rounded-lg aspect-square w-16 h-16 object-cover bg-white",onError:m=>m.target.src="/api/cover/thumbnail/null",alt:i.name}),c<s.combo_items.length-1&&e.jsx("span",{className:"text-lg font-bold customtext-primary",children:e.jsx(O,{size:16})})]},c))})}),(l=s.combo_items)==null?void 0:l.map((i,c)=>e.jsxs("div",{className:"flex mt-2 gap-4 p-3 border rounded-lg items-center bg-white",children:[e.jsx(V,{className:"w-4 h-4 customtext-primary"}),e.jsxs("div",{className:"flex-1 font-semibold",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:i.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Cantidad: ",i.quantity||1]})]}),e.jsxs("p",{className:"font-bold text-gray-700 text-sm",children:[o()," ",parseFloat(i.price).toFixed(2)]})]},c)),e.jsxs("div",{className:"w-full flex flex-col justify-start items-start bg-blue-100 p-4 rounded-lg mt-4",children:[s.discount>0&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-xs customtext-primary line-through",children:[o()," ",parseFloat(s.price).toFixed(2)]}),e.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded",children:["-",s.discount_percent,"%"]})]}),e.jsx("span",{className:"text-xs font-semibold customtext-primary",children:s.discount>0?"Precio con descuento":"Precio del combo"}),e.jsxs("p",{className:"font-bold mb-2 customtext-primary text-lg",children:[o()," ",parseFloat(s.final_price||s.price).toFixed(2)]}),e.jsx("button",{onClick:()=>W(s),className:"bg-primary text-white text-sm font-semibold w-full py-3 px-6 rounded-xl hover:bg-primary transition-all duration-300 hover:shadow-md",children:"Agregar combo completo"})]})]},`combo-${s.id}`)})]}),g.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:" flex gap-4",children:e.jsx("div",{className:"w-2/3 flex gap-2",children:g.map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:`/storage/images/item/${s==null?void 0:s.image}`,className:" rounded-lg aspect-square w-24 h-24 object-cover bg-[#F7F9FB]",onError:r=>r.target.src="/api/cover/thumbnail/null"}),t<g.length-1&&e.jsx("span",{className:"text-2xl font-bold",children:e.jsx(O,{})})]},t))})}),g.map((s,t)=>{var r;return e.jsxs("div",{className:"flex mt-4 gap-4 p-4 border rounded-lg items-center",children:[e.jsx(V,{className:"w-5 h-5 customtext-primary"}),e.jsxs("div",{className:"flex-1 font-semibold",children:[e.jsx("span",{className:"text-[10px] customtext-neutral-dark block",children:(r=s==null?void 0:s.brand)==null?void 0:r.name}),e.jsx("p",{className:"text-sm customtext-neutral-light font-medium",children:s==null?void 0:s.name})]}),e.jsxs("p",{className:"font-bold customtext-neutral-dark",children:[o()," ",parseFloat(s==null?void 0:s.final_price).toFixed(2)]})]},t)}),e.jsxs("div",{className:" w-full flex flex-col justify-start items-start bg-gray-50 p-4 rounded-lg mt-4",children:[e.jsx("span",{className:"text-xs font-semibold customtext-neutral-light",children:"Total"}),e.jsxs("p",{className:"font-bold mb-2 customtext-neutral-dark",children:[o()," ",Ue.toFixed(2)]}),e.jsx("button",{onClick:()=>Ze(),className:`bg-primary text-xs font-semibold  w-max py-3 px-6 rounded-xl hover:opacity-90 transition-all duration-300 hover:shadow-md ${(h==null?void 0:h.class_button)||"text-white"}`,children:"Agregar al carrito"})]})]})]}),e.jsxs("div",{className:"border rounded-lg overflow-hidden flex justify-center",children:[e.jsx("button",{onClick:()=>_(!0),className:"w-full p-6 hover:bg-gray-50 transition-colors duration-200 flex items-center  gap-4",children:e.jsxs("div",{className:" flex gap-2 items-center",children:[e.jsx("div",{className:"bg-secondary min-w-10 min-h-10 rounded-full mx-auto  flex items-center justify-center",children:e.jsx(ke,{className:"w-6 h-6 customtext-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-start text-sm customtext-neutral-dark",children:"Envío a domicilio"}),e.jsx("p",{className:"text-start text-xs customtext-neutral-light mt-1 underline",children:"Consultar "})]})]})}),e.jsx("button",{onClick:ne,className:"w-full p-6 hover:bg-gray-50 transition-colors duration-200 flex items-center gap-4",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("div",{className:"bg-secondary min-w-10 min-h-10 rounded-full mx-auto flex items-center justify-center",children:e.jsx($,{className:"w-6 h-6 customtext-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-start text-sm customtext-neutral-dark",children:"Retiro en tienda"}),e.jsx("p",{className:"text-start text-xs customtext-neutral-light mt-1 underline",children:"Consultar"})]})]})}),e.jsx(X.div,{className:"w-full p-6 cursor-pointer hover:bg-gray-50 transition-colors duration-200 flex items-center  gap-4",children:e.jsxs(X.div,{className:" flex flex-row rounded-xl gap-3",children:[e.jsx("div",{className:"bg-secondary min-w-10 max-w-10 min-h-10 max-h-10 flex items-center justify-center rounded-full flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 customtext-primary",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.531 3.488"})})}),e.jsx("div",{className:"font-semibold text-sm customtext-neutral-dark cursor-pointer",children:e.jsxs("p",{children:["¿Tienes dudas? Haz"," ",e.jsx("a",{className:"underline",onClick:le,children:"clic aquí"})," "]})})]})})]})]}),e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"customtext-neutral-light text-sm",children:(fe=a==null?void 0:a.brand)!=null&&fe.name?e.jsxs(e.Fragment,{children:["Marca:"," ",e.jsx("span",{className:"customtext-neutral-dark",children:(ge=a==null?void 0:a.brand)==null?void 0:ge.name})]}):(je=a==null?void 0:a.category)==null?void 0:je.name}),e.jsx("h1",{className:"customtext-neutral-dark text-[40px] font-bold mt-2",children:a==null?void 0:a.name})]}),e.jsxs("div",{className:"flex customtext-neutral-light items-center gap-8 text-sm mb-6",children:[e.jsxs("span",{className:"customtext-neutral-light text-sm",children:["SKU:"," ",e.jsx("span",{className:"customtext-neutral-dark",children:a==null?void 0:a.sku})]}),e.jsxs("span",{className:"ustomtext-neutral-light text-sm",children:["Disponibilidad:"," ",e.jsx("span",{className:"customtext-neutral-dark",children:(a==null?void 0:a.stock)>0?"En stock":"Agotado"})]})]}),e.jsxs("div",{className:"flex gap-8 border-b-2 pb-8",children:[e.jsx("div",{className:"flex-1 w-7/12 ",children:e.jsxs("div",{className:"bg-[#F7F9FB] rounded-lg p-6",children:[e.jsx("h3",{className:"font-medium text-sm mb-4",children:"Especificaciones principales"}),e.jsx("ul",{className:`space-y-2  customtext-neutral-light mb-4 transition-all duration-300 ${u?"max-h-full":"max-h-28 overflow-hidden"}`,style:{listStyleType:"disc"},children:a==null?void 0:a.specifications.map((s,t)=>s.type==="principal"&&e.jsxs("li",{className:"flex gap-2 items-start",children:[e.jsx(G,{className:"customtext-primary min-w-5 min-h-5 max-w-5 max-h-5 mt-1"}),s.description]},t))}),e.jsxs("button",{className:"customtext-primary text-sm font-semibold hover:underline flex items-center gap-1 transition-all duration-300",onClick:()=>K(!u),children:[u?"Ver menos":"Ver más especificaciones",u?e.jsx(ve,{className:"w-4 h-4"}):e.jsx(C,{className:"w-4 h-4"})]})]})}),e.jsxs("div",{className:" w-5/12 ",children:[(a==null?void 0:a.discount)>0&&(a==null?void 0:a.price)>(a==null?void 0:a.final_price)&&e.jsxs("p",{className:"text-sm customtext-neutral-light mb-1",children:["Precio:"," ",e.jsxs("span",{className:"line-through",children:[o()," ",a==null?void 0:a.price]})]}),e.jsxs("div",{className:"flex items-center gap-4 relative ",children:[e.jsxs("span",{className:"text-[36px] font-bold ",children:[o()," ",a==null?void 0:a.final_price]}),(a==null?void 0:a.discount)>0&&(a==null?void 0:a.price)>(a==null?void 0:a.final_price)&&e.jsxs("span",{className:" absolute text-sm -top-8 right-0 bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl",children:["-",Number(a==null?void 0:a.discount_percent).toFixed(1),"%"]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("span",{className:"customtext-neutral-dark text-sm font-medium",children:"Cantidad"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden bg-white",children:[e.jsx("button",{onClick:()=>k(Math.max(1,x-1)),className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 active:bg-gray-200 transition-colors duration-200 customtext-neutral-dark font-semibold text-lg",disabled:x<=1,children:"−"}),e.jsx("div",{className:"w-12 h-10 flex items-center justify-center border-x border-gray-300 bg-gray-50",children:e.jsx("span",{className:"customtext-neutral-dark font-medium text-sm",children:x})}),e.jsx("button",{onClick:()=>k(Math.min(10,x+1)),className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 active:bg-gray-200 transition-colors duration-200 customtext-neutral-dark font-semibold text-lg",disabled:x>=10,children:"+"})]}),e.jsx("span",{className:"customtext-neutral-light text-xs",children:"Máximo 10 unidades"})]})]})}),e.jsx("button",{onClick:()=>{z(a),b(!S)},className:`w-full bg-primary py-3 font-bold shadow-lg rounded-xl hover:opacity-90 transition-all duration-300 mt-4 ${(h==null?void 0:h.class_button)||"text-white"}`,children:"Agregar al carrito"})]})]}),(g.length>0||f.length>0)&&e.jsxs("div",{className:"mt-8 ",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(D,{className:"w-6 h-6 customtext-primary"}),e.jsx("h2",{className:"text-base font-semibold",children:"Completa tu compra con estos productos"})]}),f.length>0&&e.jsx("div",{className:"mb-6",children:f.map(s=>{var t,r;return e.jsxs("div",{className:"border rounded-lg p-6 mb-4 bg-gray-50",children:[e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("div",{className:"w-2/3 flex gap-2",children:(t=s.combo_items)==null?void 0:t.map((l,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:`/storage/images/item/${l.image}`,className:"rounded-lg aspect-square w-24 h-24 object-cover bg-white",onError:c=>c.target.src="/api/cover/thumbnail/null",alt:l.name}),i<s.combo_items.length-1&&e.jsx("span",{className:"text-2xl font-bold customtext-primary",children:e.jsx(O,{})})]},i))}),e.jsxs("div",{className:"w-1/3 flex flex-col justify-between items-end bg-blue-100 p-4 rounded-lg",children:[s.discount>0&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-sm customtext-primary line-through",children:[o()," ",parseFloat(s.price).toFixed(2)]}),e.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-lg",children:["-",s.discount_percent,"%"]})]}),e.jsx("span",{className:"text-xs font-semibold customtext-primary",children:s.discount>0?"Precio con descuento":"Precio del combo"}),e.jsxs("p",{className:"font-bold mb-2 customtext-primary text-xl",children:[o()," ",parseFloat(s.final_price||s.price).toFixed(2)]}),e.jsx("button",{onClick:()=>W(s),className:"bg-primary text-white text-sm font-semibold w-full py-3 rounded-xl hover:bg-accent transition-all duration-300 hover:shadow-md",children:"Agregar combo"})]})]}),(r=s.combo_items)==null?void 0:r.map((l,i)=>e.jsxs("div",{className:"flex mt-2 gap-4 p-4 border rounded-lg items-center bg-white",children:[e.jsx(V,{className:"w-5 h-5 customtext-primary"}),e.jsxs("div",{className:"flex-1 font-semibold",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium",children:l.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Cantidad: ",l.quantity||1]})]}),e.jsxs("p",{className:"font-bold text-gray-700",children:[o()," ",parseFloat(l.price).toFixed(2)]})]},i))]},`combo-desktop-${s.id}`)})})]})]})]})}),e.jsxs("div",{className:" grid gap-32 md:grid-cols-2 bg-white rounded-xl p-8 mt-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-4",children:"Especificaciones"}),e.jsx("div",{ref:U,className:`space-y-1 transition-all duration-300 ${P?"":"max-h-[400px] overflow-hidden"}`,children:a==null?void 0:a.specifications.map((s,t)=>s.type==="general"&&e.jsxs("div",{className:`flex gap-4 px-4 py-1 ${t%2===0?"bg-[#F7F9FB]":"bg-white"}`,children:[e.jsx("div",{className:"customtext-neutral-light min-w-56 max-w-56",children:s.title}),e.jsx("div",{className:"customtext-neutral-dark",children:s.description})]},t))}),_e&&e.jsxs("button",{className:"border-2 border-primary w-max px-5 py-3 my-8 rounded-xl flex items-center gap-2 customtext-primary font-semibold cursor-pointer hover:bg-primary hover:text-white transition-all duration-300",onClick:()=>Se(!P),children:[P?"Ver menos":"Ver más especificaciones",e.jsx(C,{className:`transform transition-transform ${P?"rotate-180":""}`})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-4",children:"Información adicional"}),e.jsxs("div",{ref:Y,className:`space-y-2 transition-all duration-300 ${y?"":"max-h-[400px] overflow-hidden"}`,children:[e.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este artículo"}),e.jsx("div",{className:"customtext-neutral-dark prose prose-base",dangerouslySetInnerHTML:{__html:a==null?void 0:a.description}}),e.jsx("div",{className:"pl-10",children:e.jsx("ul",{className:"list-disc pl-5 space-y-2",children:a==null?void 0:a.features.map((s,t)=>e.jsx("li",{className:"customtext-neutral-dark",children:s.feature},t))})})]}),Ee&&e.jsxs("button",{className:"border-2 border-primary w-max px-5 py-3 my-8 rounded-xl flex items-center gap-2 customtext-primary font-semibold cursor-pointer hover:bg-primary hover:text-white transition-all duration-300",onClick:()=>Q(!y),children:[y?"Ver menos":"Ver más",e.jsx(C,{className:`transform transition-transform ${y?"rotate-180":""}`})]})]})]})]}),ce.length>0&&e.jsx(rs,{data:{...h,title:"Productos relacionados"},items:ce,cart:j,setCart:M}),ee&&e.jsx(ye,{isOpen:ee,onRequestClose:()=>_(!1),contentLabel:"Políticas de Envío",className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center p-4 z-50",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-[999]",ariaHideApp:!1,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 pr-4",children:"Políticas de Envío"}),e.jsx("button",{onClick:()=>_(!1),className:"flex-shrink-0 text-gray-400 hover:text-red-500 transition-colors duration-200 p-1 hover:bg-gray-100 rounded-full","aria-label":"Cerrar modal",children:e.jsx(we,{size:24,strokeWidth:2})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsx("div",{className:"prose prose-gray max-w-none",children:e.jsx(ds,{html:(be=w==null?void 0:w.find(s=>s.correlative==="delivery_policy"))==null?void 0:be.description})})}),e.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:e.jsx("button",{onClick:()=>_(!1),className:"px-6 py-2 bg-primary text-white rounded-lg  transition-colors duration-200 font-medium",children:"Cerrar"})})]})}),se&&e.jsx(ye,{isOpen:se,onRequestClose:()=>q(!1),contentLabel:"Tiendas Disponibles",className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center p-4 z-50",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-[999]",ariaHideApp:!1,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"w-8 h-8 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Nuestras Tiendas"})]}),e.jsx("button",{onClick:()=>q(!1),className:"flex-shrink-0 text-gray-400 hover:text-red-500 transition-colors duration-200 p-1 hover:bg-gray-100 rounded-full","aria-label":"Cerrar modal",children:e.jsx(we,{size:24,strokeWidth:2})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:He?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-600",children:"Cargando tiendas..."})]})}):v.length===0?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx($,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No hay tiendas disponibles"}),e.jsx("p",{className:"text-gray-500",children:"Por el momento no tenemos tiendas registradas."})]})}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:v.map(s=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"mb-4",children:[s.image?e.jsx("img",{src:`/storage/images/stores/${s.image}`,alt:s.name,className:"w-full h-32 object-cover rounded-lg",onError:t=>{t.target.style.display="none",t.target.nextElementSibling.style.display="flex"}}):null,e.jsx("div",{className:`w-full h-32 bg-gray-200 rounded-lg flex items-center justify-center ${s.image?"hidden":"flex"}`,children:e.jsx($,{className:"w-12 h-12 text-gray-400"})})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900 flex-1",children:s.name}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.type==="tienda"?"bg-green-100 text-green-800":s.type==="oficina"?"bg-blue-100 customtext-primary":s.type==="almacen"?"bg-yellow-100 text-yellow-800":s.type==="showroom"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:s.type==="tienda"?"Tienda":s.type==="oficina"?"Oficina":s.type==="almacen"?"Almacén":s.type==="showroom"?"Showroom":s.type||"Otro"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(fs,{className:"w-4 h-4 text-gray-500 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:s.address})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-gray-700",children:s.phone})]}),s.manager&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hs,{className:"w-4 h-4 text-gray-500 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-gray-700",children:["Encargado: ",s.manager]})]}),s.business_hours&&e.jsxs("div",{className:"bg-white rounded-md p-3 mt-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Horarios de atención:"}),e.jsx("div",{className:"text-xs text-gray-600",children:(()=>{try{const t=typeof s.business_hours=="string"?JSON.parse(s.business_hours):s.business_hours,r=new Date().toLocaleDateString("es-PE",{weekday:"long"}),i={lunes:"Lunes",martes:"Martes",miércoles:"Miércoles",jueves:"Jueves",viernes:"Viernes",sábado:"Sábado",domingo:"Domingo"}[r.toLowerCase()]||r,c=t.find(m=>m.day.toLowerCase()===i.toLowerCase());if(c){const m=c.closed?"Hoy: Cerrado":`Hoy: ${c.open} - ${c.close}`,L=!c.closed&&(()=>{const T=new Date,Ne=T.getHours()*60+T.getMinutes(),[We,Ke]=c.open.split(":").map(Number),[Ge,Je]=c.close.split(":").map(Number),Qe=We*60+Ke,es=Ge*60+Je;return Ne>=Qe&&Ne<=es})();return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:m}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${L?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L?"Abierto":"Cerrado"})]})}return"Horarios disponibles"}catch{return"Horarios disponibles"}})()})]}),s.description&&e.jsx("div",{className:"pt-2 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:s.description})})]})]},s.id))})}),e.jsxs("div",{className:"flex justify-between items-center p-6 border-t border-gray-200 bg-gray-50",children:[e.jsx("p",{className:"text-sm text-gray-600",children:v.length>0&&`${v.length} tienda${v.length!==1?"s":""} disponible${v.length!==1?"s":""}`}),e.jsx("button",{onClick:()=>q(!1),className:"px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors duration-200 font-medium",children:"Cerrar"})]})]})}),e.jsx(ls,{data:h,cart:j,setCart:M,modalOpen:S,setModalOpen:b})]})};export{ga as default};

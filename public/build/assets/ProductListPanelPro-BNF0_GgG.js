import{r as e,j as t,ag as a,ah as l,ac as s}from"./vendor-react-DD0uBW7s.js";import{N as r}from"./vendor-swiper-BQwfPLwm.js";import{G as i}from"./General-ClVW7qxN.js";import{A as n,m as o}from"./vendor-motion-B85mKBc-.js";const c=({items:c,data:d,onClickTracking:u})=>{const[m,h]=e.useState(null),[x,p]=e.useState(null),[g,f]=e.useState(!1),[b,v]=e.useState(0),[j,w]=e.useState(null),[y,N]=e.useState(null),[k,C]=e.useState({}),[A,E]=e.useState(!1),L=i.whatsapp_advisors||[],$=e.useMemo(()=>{if(!c||0===c.length)return[];const e={};return c.forEach(t=>{const a=t.name?.trim().toLowerCase()||t.id;e[a]?e[a].variants.push(t):e[a]={main:t,variants:[t],allAttributes:{},allApplications:[]},t.attributes&&t.attributes.length>0&&t.attributes.forEach(l=>{const s=l.name||l.slug;e[a].allAttributes[s]||(e[a].allAttributes[s]={attribute:l,values:[]});const r=l.pivot?.value||l.value;r&&!e[a].allAttributes[s].values.find(e=>e.value===r)&&e[a].allAttributes[s].values.push({value:r,itemId:t.id,item:t})}),t.applications&&t.applications.length>0&&t.applications.forEach(t=>{e[a].allApplications.find(e=>e.id===t.id)||e[a].allApplications.push(t)})}),Object.values(e).map(e=>e.main)},[c]),M=e=>{if(!c||!e)return null;const t=e.name?.trim().toLowerCase()||e.id,a=c.filter(e=>(e.name?.trim().toLowerCase()||e.id)===t),l={},s=[];return a.forEach(e=>{e.attributes&&e.attributes.length>0&&e.attributes.forEach(t=>{const a=t.name||t.slug;l[a]||(l[a]={attribute:t,values:[]});const s=t.pivot?.value||t.value;s&&!l[a].values.find(e=>e.value===s)&&l[a].values.push({value:s,itemId:e.id,item:e})}),e.applications&&e.applications.length>0&&e.applications.forEach(e=>{s.find(t=>t.id===e.id)||s.push(e)})}),{variants:a,allAttributes:l,allApplications:s}};e.useEffect(()=>{if(m){document.body.style.overflow="hidden",v(0),N(m),E(!1);const e={};m.attributes&&m.attributes.length>0&&m.attributes.forEach(t=>{const a=t.name||t.slug,l=t.pivot?.value||t.value;l&&(e[a]={value:l,itemId:m.id,item:m})}),C(e)}else document.body.style.overflow="unset",p(null),w(null),v(0),N(null),C({});return()=>{document.body.style.overflow="unset"}},[m]);const S=y||m;if(e.useMemo(()=>S&&S.applications||[],[S]),!c||0===c.length)return null;const z=(e,t)=>{const a=y||t,l=M(t);let s="ðŸŒŸ Â¡Hola! Me interesa solicitar informaciÃ³n sobre:\n\n";s+=`ðŸ“¦ *Producto:* ${a.name}\n`,Object.keys(k).length>0?(s+="\nðŸ“ *Especificaciones seleccionadas:*\n",Object.entries(k).forEach(([e,t])=>{const a=l?.allAttributes[e]?.attribute,r=a?.unit||"";s+=`  â€¢ ${e}: ${t.value}${r}\n`})):a.attributes&&a.attributes.length>0&&(s+="\nðŸ“ *Especificaciones:*\n",a.attributes.slice(0,5).forEach(e=>{const t=e.pivot?.value||e.value||"",a=e.unit||"";s+=`  â€¢ ${e.name}: ${t}${a}\n`})),a.features&&a.features.length>0&&(s+="\nâœ… *CaracterÃ­sticas:*\n",a.features.slice(0,3).forEach(e=>{s+=`  â€¢ ${e.feature}\n`}),a.features.length>3&&(s+=`  â€¢ Y ${a.features.length-3} caracterÃ­sticas mÃ¡s...\n`));const r=a.applications||[];r.length>0&&(s+="\nðŸ­ *Aplicaciones de interÃ©s:*\n",r.slice(0,3).forEach(e=>{s+=`  â€¢ ${e.name}\n`})),s+="\nðŸ’¬ Me gustarÃ­a recibir mÃ¡s informaciÃ³n y cotizaciÃ³n.\nÂ¡Gracias!";const i=`https://api.whatsapp.com/send?phone=${e.phone}&text=${encodeURIComponent(s)}`;window.open(i,"_blank"),f(!1)};return t.jsxs(t.Fragment,{children:[t.jsxs("section",{id:"productListPanelPro",className:"py-20 sm:py-24 bg-white relative overflow-hidden",children:[t.jsx("div",{className:"absolute top-1/2 left-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20 -translate-y-1/2 -ml-48"}),t.jsx("div",{className:"absolute top-1/2 right-0 w-96 h-96 bg-primary/10 rounded-full blur-3xl opacity-20 -translate-y-1/2 -mr-48"}),t.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[t.jsxs("div",{className:"text-center mb-16",children:[t.jsx("h2",{className:"text-3xl sm:text-4xl md:text-6xl lg:text-7xl font-bold text-primary font-title mb-4",children:d?.title||"Nuestros Productos"}),t.jsx("p",{className:"text-lg sm:text-xl text-neutral-dark max-w-3xl mx-auto",children:d?.subtitle||"Descubre nuestra selecciÃ³n de productos de alta calidad"})]}),t.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-6xl mx-auto",children:$.map((e,a)=>{const l=e.image?`/storage/images/item/${e.image}`:"/api/cover/thumbnail/null",s=M(e);return s&&s.variants.length,s&&Object.keys(s.allAttributes).length,t.jsxs("div",{className:"group relative bg-white rounded-2xl shadow-md hover:shadow-2xl transition-all duration-500 hover:-translate-y-3 border border-gray-100 overflow-hidden",children:[t.jsx("div",{className:"absolute top-4 right-4 w-32 h-32 bg-primary/10 rounded-full -mr-16 -mt-16 opacity-50 group-hover:scale-150 transition-transform duration-500 z-0"}),e.image&&t.jsxs("div",{className:"relative w-full h-64 sm:h-72 overflow-hidden bg-gray-50",children:[t.jsx("img",{src:l,alt:e.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:e=>e.target.src="/api/cover/thumbnail/null"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),t.jsxs("div",{className:"relative p-6 sm:p-8",children:[t.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-primary mb-3 line-clamp-2 group-hover:text-primary/80 transition-colors",children:e.name}),e.description&&t.jsx("div",{className:"text-gray-600 leading-relaxed text-base mb-6 line-clamp-3",dangerouslySetInnerHTML:{__html:e.description}}),t.jsxs("button",{onClick:t=>{t.stopPropagation(),(e=>{u&&u(e),h(e),N(e)})(e)},className:"inline-flex items-center gap-2 bg-primary text-white px-6 py-3 rounded-full font-semibold hover:bg-primary/90 hover:gap-3 transition-all duration-300 shadow-md hover:shadow-lg group/btn",children:[t.jsx("span",{children:"Ver detalles"}),t.jsx("svg",{className:"w-5 h-5 group-hover/btn:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-primary transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"})]},e.id||a)})})]})]}),t.jsx(n,{children:m&&t.jsxs(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-[99999] flex items-center justify-center p-4 backdrop-blur-md",onClick:()=>{h(null),f(!1)},children:[t.jsx("button",{onClick:()=>{h(null),f(!1)},className:"fixed top-6 right-6 z-[60] w-12 h-12 bg-white hover:bg-gray-50 text-neutral-dark hover:text-primary transition-all duration-300 rounded-full flex items-center justify-center group shadow-lg hover:shadow-xl",children:t.jsx("svg",{className:"w-6 h-6 group-hover:rotate-90 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),t.jsx(o.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2},className:"w-full h-full lg:w-[90vw] lg:h-[90vh] lg:max-w-6xl lg:max-h-[90vh] rounded-2xl shadow-2xl overflow-hidden relative bg-white lg:border-2 lg:border-gray-200",onClick:e=>e.stopPropagation(),children:t.jsxs("div",{className:"flex flex-col lg:flex-row h-full",children:[t.jsx("div",{className:"lg:w-1/2 h-[40vh] lg:h-full bg-gray-50 flex flex-col overflow-hidden",children:t.jsxs("div",{className:"flex-1 min-h-0 relative flex items-center justify-center ",children:[t.jsx(a,{modules:[r],navigation:{prevEl:".custom-main-prev",nextEl:".custom-main-next"},loop:!0,spaceBetween:0,slidesPerView:1,onSwiper:w,onSlideChange:e=>v(e.activeIndex),style:{width:"100%",height:"100%"},children:(e=>{const t=y||e,a=[{url:t?.image,type:"main",alt:"Imagen principal"}];return t?.images&&t.images.length>0&&t.images.forEach((e,t)=>{a.push({url:e.url,type:"gallery",index:t,alt:`Imagen ${t+1}`})}),a})(m).map((e,a)=>t.jsx(l,{children:t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx("img",{src:e.url?`/storage/images/item/${e.url}`:"/api/cover/thumbnail/null",alt:e.alt,className:"max-w-full h-full object-cover ",onError:e=>e.target.src="/api/cover/thumbnail/null"})})},a))},`main-swiper-${S?.id||m.id}`),t.jsx("button",{className:"custom-main-prev absolute left-2 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/90 rounded-full shadow-lg flex items-center justify-center hover:bg-primary hover:text-white transition-all",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),t.jsx("button",{className:"custom-main-next absolute right-2 top-1/2 -translate-y-1/2 z-20 w-12 h-12 bg-white/90 rounded-full shadow-lg flex items-center justify-center hover:bg-primary hover:text-white transition-all",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})}),t.jsxs("div",{className:"lg:w-1/2 flex flex-col h-[65vh] lg:h-full bg-white",children:[t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 lg:p-8",children:[t.jsx("h3",{className:"text-3xl lg:text-6xl text-primary font-title font-bold leading-tight mb-4",children:S?.name||m.name}),(S?.description||m.description)&&t.jsx("div",{className:"text-neutral-dark text-base lg:text-lg leading-relaxed mb-8 prose prose-lg max-w-none",dangerouslySetInnerHTML:{__html:S?.description||m.description}}),(()=>{const e=M(m);return e&&Object.keys(e.allAttributes).length>0?t.jsx("div",{className:"mb-8",children:Object.entries(e.allAttributes).map(([e,a])=>{const l=a.attribute,s=a.values,r=k[e];return t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:"text-base font-bold text-neutral-dark mb-3 block",children:[e," ",l.unit&&t.jsxs("span",{className:"text-neutral-light font-normal",children:["(",l.unit,")"]})]}),t.jsx("div",{className:"flex flex-wrap gap-3",children:s.map((a,l)=>{const s=r?.value===a.value;return t.jsx("button",{onClick:()=>((e,t)=>{C(a=>({...a,[e]:t})),t.item&&N(t.item)})(e,a),className:"min-w-[70px] px-5 py-3 rounded-full font-bold text-base transition-all duration-200 "+(s?"bg-primary text-white shadow-lg shadow-primary/30":"bg-gray-100 text-neutral-dark hover:bg-primary/10 hover:text-primary"),children:a.value},l)})})]},e)})}):null})(),(S?.features||m.features)?.length>0&&t.jsxs("div",{className:"mb-8",children:[t.jsx("h4",{className:"text-base font-bold text-neutral-dark mb-3 block",children:"CaracterÃ­sticas"}),t.jsx("ul",{className:"space-y-2",children:(S?.features||m.features).slice(0,6).map((e,a)=>t.jsxs("li",{className:"flex items-start gap-3 text-neutral-dark",children:[t.jsx(s,{className:"w-5 h-5 text-primary"}),t.jsx("span",{children:e.feature})]},e.id||a))})]}),(()=>{const e=M(m),a=S?.applications||e?.allApplications||[];return 0===a.length?null:t.jsxs("div",{className:"mb-6",children:[t.jsx("h4",{className:"text-base font-bold text-neutral-dark mb-3 block",children:"Aplicaciones"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:a.map((e,a)=>t.jsx("span",{className:"text-base cursor-pointer  bg-gray-100 text-neutral-dark hover:bg-primary/10 hover:text-primary  px-4 py-2 rounded-full  font-medium",children:e.name},e.id||a))})]})})()]}),t.jsx("div",{className:"p-5 lg:p-6 border-t border-gray-100 bg-white",children:t.jsx("div",{className:"relative",children:L.length<=1?t.jsxs("button",{onClick:()=>{const e=L[0]||{phone:"+51958973943"};z(e,m)},className:"w-full bg-success  text-white font-bold py-4 px-5 rounded-full transition-all flex items-center justify-center gap-2 shadow-lg",children:[t.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),"Solicitar CotizaciÃ³n"]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>f(!g),className:"w-full bg-success  text-white font-bold py-4 px-5 rounded-full transition-all flex items-center justify-center gap-2 shadow-lg",children:[t.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),"Solicitar CotizaciÃ³n",t.jsx("svg",{className:"w-4 h-4 transition-transform "+(g?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 15l7-7 7 7"})})]}),t.jsx(n,{children:g&&t.jsxs(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full right-0 right-0 mb-2 bg-white  max-w-max rounded-xl shadow-2xl border border-gray-200 overflow-hidden z-30",children:[t.jsx("div",{className:"bg-primary px-4 py-4",children:t.jsx("p",{className:"text-white  text-md",children:"Elige un asesor"})}),t.jsx("div",{className:"max-h-[180px] overflow-y-auto",children:L.map((e,a)=>t.jsxs("button",{onClick:()=>z(e,m),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-all text-left border-b border-gray-100 last:border-b-0",children:[t.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-primary/20 flex-shrink-0",children:e.photo?t.jsx("img",{src:`/assets/resources/${e.photo}`,alt:e.name,className:"w-full h-full object-cover",onError:e=>{e.target.src="/api/cover/thumbnail/null"}}):t.jsx("div",{className:"w-full h-full bg-primary  flex items-center justify-center text-white text-lg font-bold",children:e.name?.charAt(0).toUpperCase()})}),t.jsxs("div",{className:"flex-1 min-w-36",children:[t.jsx("p",{className:"font-semibold text-neutral-dark text-sm truncate",children:e.name}),t.jsx("p",{className:"text-xs text-neutral-light truncate",children:e.position||"Asesor"})]}),t.jsx("svg",{className:"w-5 h-5 text-success",fill:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})]},a))})]})})]})})})]})]})})]})})]})};export{c as default};

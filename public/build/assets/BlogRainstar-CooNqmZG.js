import{j as e,an as t,r as a,C as s}from"./vendor-react-CtPXetfm.js";import{b as r,m as l,A as i}from"./vendor-motion-CThzL09Q.js";import{L as n}from"./Loading-Cn0aHsiY.js";import"./vendor-swiper-Cr_RrIb_.js";function o({data:a,flex:s=!1,post:r,featured:l=!1}){const i=e=>{if(!e)return"";return new Date(e).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})},n=(e,t=150)=>{if(!e)return"";const a=document.createElement("div");a.innerHTML=e;const s=a.textContent||a.innerText||"";return s.length>t?s.substring(0,t)+"...":s};return s?e.jsx("article",{className:"group relative h-full bg-white border-4 border-black hover:border-black transition-all duration-300",children:e.jsx("a",{href:`/post/${r?.slug}`,className:"flex h-full flex-col",children:e.jsxs("div",{className:"flex flex-col md:flex-row h-full",children:[e.jsxs("div",{className:"md:w-2/5 relative overflow-hidden border-b-4 md:border-b-0 md:border-r-4 border-black",children:[e.jsx("img",{src:r?.image?`/storage/images/post/${r?.image}`:"/assets/img/noimage/no_img.jpg",alt:r?.title||r?.name,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500 scale-100 group-hover:scale-110",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}}),e.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors duration-300"})]}),e.jsxs("div",{className:"p-6 md:w-3/5 flex flex-col justify-between group-hover:bg-black group-hover:text-white transition-colors duration-300",children:[e.jsxs("div",{children:[r?.category&&e.jsx("div",{className:"mb-3",children:e.jsx("span",{className:"inline-block px-3 py-1 bg-black text-white text-[10px] font-black uppercase tracking-widest group-hover:bg-white group-hover:text-black transition-colors duration-300",children:r.category?.name})}),e.jsx("h3",{className:"text-xl md:text-2xl font-black uppercase tracking-tight mb-3 leading-none",children:r?.title||r?.name}),e.jsx("p",{className:"text-sm font-medium opacity-80 line-clamp-3 mb-4 uppercase tracking-wide",children:n(r?.extract||r?.description,120)})]}),e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t-2 border-black/10 group-hover:border-white/20",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60",children:i(r?.created_at)}),e.jsxs("span",{className:"flex items-center gap-2 text-xs font-black uppercase tracking-widest group-hover:translate-x-2 transition-transform duration-300",children:["Leer Artículo",e.jsx(t,{className:"w-4 h-4 ml-1"})]})]})]})]})})}):e.jsx("article",{className:"group relative bg-white border-4 border-black transition-all duration-300 hover:-translate-y-2 hover:shadow-[10px_10px_0px_0px_rgba(0,0,0,1)] "+(l?"h-full":""),children:e.jsxs("a",{href:`/post/${r?.slug}`,className:"flex h-full flex-col",children:[e.jsxs("div",{className:"relative overflow-hidden border-b-4 border-black aspect-[4/3]",children:[e.jsx("img",{src:r?.image?`/storage/images/post/${r?.image}`:"/assets/img/noimage/no_img.jpg",alt:r?.title||r?.name,className:"w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-700 scale-100 group-hover:scale-110",onError:e=>{e.target.src="/assets/img/noimage/no_img.jpg"}}),e.jsx("div",{className:"absolute top-4 left-4",children:r?.category&&e.jsx("span",{className:"px-3 py-1 bg-black text-white text-[10px] font-black uppercase tracking-widest shadow-[4px_4px_0px_0px_rgba(255,255,255,1)]",children:r.category?.name})})]}),e.jsxs("div",{className:"p-6 flex-1 flex flex-col justify-between group-hover:bg-black group-hover:text-white transition-colors duration-300",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black uppercase tracking-tight mb-4 leading-none line-clamp-3",children:r?.title||r?.name}),e.jsx("p",{className:"text-xs font-bold opacity-70 mb-6 uppercase tracking-wide line-clamp-3 leading-relaxed",children:n(r?.extract||r?.description,100)})]}),e.jsxs("div",{className:"flex items-center justify-between border-t-2 border-black/10 group-hover:border-white/20 pt-4 mt-auto",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest opacity-60",children:i(r?.created_at)}),e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black uppercase tracking-[0.2em] group-hover:translate-x-1 transition-transform duration-300",children:[e.jsx("span",{children:"Leer Más"}),e.jsx(t,{className:"w-3 h-3"})]})]})]})]})})}const c=({data:t,headerPosts:s,filteredData:i})=>{const n=a.useRef(null),c=r(n,{once:!0});return e.jsxs("main",{className:"bg-white min-h-[50vh] pt-16 md:pt-24 pb-12 w-full px-4 md:px-6 2xl:px-0 2xl:max-w-7xl mx-auto",children:[e.jsxs(l.section,{ref:n,initial:"hidden",animate:c?"visible":"hidden",variants:{hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.8,ease:"circOut"}}},className:"mb-20 text-center",children:[e.jsx("h1",{className:"text-5xl md:text-8xl font-black uppercase tracking-tighter leading-none text-black mb-8",children:t?.title||"Noticias Destacadas"}),e.jsx("div",{className:"w-32 h-2 bg-black mx-auto mb-12"}),e.jsx("p",{className:"max-w-4xl mx-auto text-lg md:text-2xl font-bold uppercase tracking-widest opacity-80 leading-relaxed",children:t?.description||"Mantente informado con las últimas novedades y actualizaciones. Información clara y directa."})]}),s&&s.length>0&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 mb-20",children:[e.jsx(l.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"h-full",children:e.jsx(o,{data:t,featured:!0,post:s[0]})}),e.jsx(l.div,{initial:{opacity:0,x:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.4},className:"flex flex-col gap-8 h-full",children:s.slice(1,3).map((a,s)=>e.jsx("div",{className:"flex-1",children:e.jsx(o,{data:t,flex:!0,post:a})},a.id))})]})]})},d=({data:t,postsLatest:c,posts:d,loading:x,setLoading:p,isFilter:h,setIsFilter:m,filteredData:b})=>{const{categories:g}=b,[u,f]=a.useState("all"),[w,v]=a.useState("newest"),[j,k]=a.useState(1),[y,N]=a.useState(!1),[_,C]=a.useState([]),D=a.useRef(null),L=r(D,{once:!0}),S=[{value:"newest",label:"Más Recientes"},{value:"oldest",label:"Más Antiguos"},{value:"title-asc",label:"Título A-Z"},{value:"title-desc",label:"Título Z-A"}];a.useEffect(()=>{let e=h&&d.length>0?d:c||[];"all"!==u&&(e=e.filter(e=>e.category&&e.category.name===u)),e=[...e].sort((e,t)=>{switch(w){case"newest":return new Date(t.created_at)-new Date(e.created_at);case"oldest":return new Date(e.created_at)-new Date(t.created_at);case"title-asc":return(e.title||e.name||"").localeCompare(t.title||t.name||"");case"title-desc":return(t.title||t.name||"").localeCompare(e.title||e.name||"");default:return 0}}),C(e),k(1)},[u,w,d,c,h]);const I=Math.ceil(_.length/9),M=_.slice(9*(j-1),9*j);return e.jsx(l.section,{ref:D,className:"bg-white min-h-screen "+(h?"py-16":"py-24"),variants:{hidden:{opacity:0},visible:{opacity:1,transition:{duration:.6,staggerChildren:.1}}},initial:"hidden",animate:L?"visible":"hidden",children:e.jsxs("div",{className:"px-4 md:px-6 2xl:px-0 2xl:max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 items-start justify-between mb-20 border-b-4 border-black pb-12",children:[e.jsxs("div",{className:"flex flex-wrap gap-4 flex-1",children:[e.jsx("button",{className:"px-6 py-3 font-black uppercase tracking-widest text-sm transition-all duration-300 border-4 border-black hover:-translate-y-1 "+("all"===u?"bg-black text-white shadow-[8px_8px_0px_0px_rgba(0,0,0,0.2)]":"bg-white text-black hover:bg-black hover:text-white"),onClick:()=>f("all"),children:"Todas"}),g?.map(t=>e.jsx("button",{className:"px-6 py-3 font-black uppercase tracking-widest text-sm transition-all duration-300 border-4 border-black hover:-translate-y-1 "+(u===t.name?"bg-black text-white shadow-[8px_8px_0px_0px_rgba(0,0,0,0.2)]":"bg-white text-black hover:bg-black hover:text-white"),onClick:()=>f(t.name),children:t.name},t.id))]}),e.jsxs("div",{className:"relative z-20",children:[e.jsxs("button",{className:"flex items-center gap-4 px-8 py-3 bg-white border-4 border-black font-black uppercase tracking-widest text-sm hover:bg-black hover:text-white transition-all duration-300 min-w-[240px] justify-between group",onClick:()=>N(!y),children:[e.jsx("span",{children:S.find(e=>e.value===w)?.label}),e.jsx(s,{className:"w-5 h-5 transition-transform duration-300 "+(y?"rotate-180":"")})]}),e.jsx(i,{children:y&&e.jsx(l.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full right-0 mt-4 w-full bg-white border-4 border-black shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",children:S.map(t=>e.jsx("button",{className:"w-full px-6 py-4 text-left text-xs font-black uppercase tracking-widest hover:bg-black hover:text-white transition-colors duration-200 border-b-2 border-black/10 last:border-0 "+(w===t.value?"bg-black text-white":""),onClick:()=>{v(t.value),N(!1)},children:t.label},t.value))})})]})]}),e.jsx(l.div,{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-12",initial:"hidden",whileInView:"visible",viewport:{once:!0},children:x?e.jsx("div",{className:"col-span-full py-20 text-center",children:e.jsx(n,{})}):M.length>0?M.map((a,s)=>e.jsx(l.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1*s},className:"h-full",children:e.jsx(o,{data:t,post:a})},s)):e.jsxs("div",{className:"col-span-full py-20 text-center border-4 border-black p-12",children:[e.jsx("h3",{className:"text-2xl font-black uppercase tracking-widest mb-4",children:"No hay resultados"}),e.jsx("p",{className:"font-bold uppercase tracking-wide opacity-60",children:"Intenta con otra búsqueda o categoría."})]})}),I>1&&e.jsxs("div",{className:"flex flex-wrap justify-center mt-24 gap-4",children:[e.jsx("button",{className:"w-12 h-12 border-4 border-black flex items-center justify-center font-black transition-all duration-300 "+(1===j?"opacity-20 cursor-not-allowed":"hover:bg-black hover:text-white hover:-translate-y-1"),onClick:()=>k(e=>Math.max(e-1,1)),disabled:1===j,children:"<"}),Array.from({length:I},(e,t)=>t+1).map(t=>e.jsx("button",{className:"w-12 h-12 border-4 border-black flex items-center justify-center font-black transition-all duration-300 hover:-translate-y-1 "+(j===t?"bg-black text-white shadow-[4px_4px_0px_0px_rgba(0,0,0,0.2)]":"bg-white hover:bg-black hover:text-white"),onClick:()=>k(t),children:t},t)),e.jsx("button",{className:"w-12 h-12 border-4 border-black flex items-center justify-center font-black transition-all duration-300 "+(j===I?"opacity-20 cursor-not-allowed":"hover:bg-black hover:text-white hover:-translate-y-1"),onClick:()=>k(e=>Math.min(e+1,I)),disabled:j===I,children:">"})]})]})})},x=({data:t,headerPosts:s,filteredData:r,postsLatest:l})=>{const[i,n]=a.useState([]),[o,x]=a.useState(!1),[p,h]=a.useState(!1);return e.jsxs("div",{id:t?.element_id||null,children:[e.jsx(c,{data:t,headerPosts:s,filteredData:r}),e.jsx(d,{data:t,postsLatest:l,posts:i,loading:o,setLoading:x,isFilter:p,setIsFilter:h,filteredData:r})]})};export{x as default};

import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as o}from"./index-BOnQTV8N.js";import{R as I}from"./PolicyModal-B0WwLYks.js";import{t as l}from"./CardProductKatya-BPLqIfPk.js";import{J as L}from"./JobApplicationRest-C9xyFpiF.js";import{X as F}from"./x-fof_H3Vv.js";import{U as O}from"./upload-GO9GDST_.js";import{C as S}from"./circle-check-big-CYWUGR3Z.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-BLHw34Di.js";import"./index-Chjiymov.js";import"./index-B8-haksW.js";import"./BasicRest-tjV1jpAY.js";import"./main-iQpBVKTZ.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./BooleanLimit-D-OsQsek.js";import"./createLucideIcon-DfjclApS.js";const W=new L,pe=({isOpen:z,onClose:A})=>{const[x,u]=o.useState(!1),[p,n]=o.useState(null),[M,h]=o.useState(!1),f=o.useRef(),b=o.useRef(),g=o.useRef(),v=o.useRef(),y=o.useRef(),a=o.useRef(),c=()=>{A(),n(null),h(!1)},P=r=>{const t=r.target.files[0];if(t){if(t.size>5*1024*1024){l.error("Archivo muy grande",{description:"El archivo no debe superar los 5MB"}),r.target.value=null;return}n(t)}},T=r=>{r.preventDefault();const t=r.dataTransfer.files[0];if(t){const d=[".pdf",".doc",".docx"],m="."+t.name.split(".").pop().toLowerCase();if(!d.includes(m)){l.error("Formato no válido",{description:"Solo se permiten archivos PDF, DOC o DOCX"});return}if(t.size>5*1024*1024){l.error("Archivo muy grande",{description:"El archivo no debe superar los 5MB"});return}const i=new DataTransfer;i.items.add(t),a.current.files=i.files,n(t)}},q=r=>{r.preventDefault()},B=()=>{n(null),a.current.value=null},J=async r=>{var t,d,m,i,j,N,w,C,k,D,R,E;if(r.preventDefault(),!x){u(!0);try{const s=new FormData,U=((d=(t=f.current)==null?void 0:t.value)==null?void 0:d.trim())||"",V=((i=(m=b.current)==null?void 0:m.value)==null?void 0:i.trim())||"",X=((N=(j=g.current)==null?void 0:j.value)==null?void 0:N.trim())||"",G=((C=(w=v.current)==null?void 0:w.value)==null?void 0:C.trim())||"",H=((D=(k=y.current)==null?void 0:k.value)==null?void 0:D.trim())||"";s.append("name",U),s.append("email",V),s.append("phone",X),s.append("position",G),s.append("message",H),(E=(R=a.current)==null?void 0:R.files)!=null&&E[0]&&s.append("cv",a.current.files[0]),await W.save(s)?(h(!0),l.success("¡Solicitud enviada!",{description:"Gracias por tu interés. Pronto nos pondremos en contacto contigo.",icon:e.jsx(S,{className:"h-5 w-5 text-green-500"}),duration:4e3,position:"top-center"}),r.target.reset(),n(null)):l.error("Error al enviar solicitud",{description:"Por favor, intenta nuevamente."})}catch(s){console.error("Error:",s),l.error("Error al enviar solicitud",{description:"Por favor, intenta nuevamente."})}finally{u(!1)}}};return e.jsx(I,{isOpen:z,onRequestClose:c,contentLabel:"Trabaja con nosotros",className:"absolute left-1/2 -translate-x-1/2 bg-white z-[99999999] rounded-2xl shadow-lg w-[95%] max-w-5xl top-1/2 -translate-y-1/2 overflow-hidden",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-[99999999]",ariaHideApp:!1,shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!0,bodyOpenClassName:"overflow-hidden",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 max-h-[90vh] min-h-[70vh]",children:[e.jsx("div",{className:"hidden md:block bg-[#f8f5f2] min-h-[70vh]",children:e.jsx("img",{src:`/assets/resources/job-application.png?v=${crypto.randomUUID()}`,alt:"Trabaja con nosotros",className:"h-full w-full object-cover",onError:r=>{r.target.onerror=null,r.target.src="/assets/img/logo-bk.svg"}})}),e.jsxs("div",{className:"flex flex-col max-h-[90vh] relative",children:[e.jsx("button",{onClick:c,className:"absolute top-4 right-4 z-10 text-gray-400 hover:text-gray-600 transition-colors duration-200 p-2 hover:bg-gray-100 rounded-full","aria-label":"Cerrar modal",children:e.jsx(F,{size:24,strokeWidth:2})}),M?e.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-12 h-full",children:[e.jsx("div",{className:"bg-green-100 rounded-full p-6 mb-6",children:e.jsx(S,{className:"w-16 h-16 text-green-600"})}),e.jsx("h2",{className:"text-2xl 2xl:text-3xl font-bold customtext-primary mb-3",children:"¡Gracias por tu interés!"}),e.jsx("p",{className:"text-gray-600 text-base 2xl:text-lg mb-6 max-w-md",children:"Hemos recibido tu solicitud correctamente. Revisaremos tu perfil y nos pondremos en contacto contigo pronto."}),e.jsx("button",{onClick:c,className:"bg-primary text-white px-8 py-3 rounded-3xl font-medium hover:bg-opacity-90 transition-all text-sm 2xl:text-base",children:"Cerrar"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 mt-4 pb-0 flex-shrink-0 text-center md:text-left",children:[e.jsx("h2",{className:"text-2xl md:text-3xl lg:text-3xl 2xl:text-4xl font-bold customtext-neutral-dark mb-3",children:"Únete a nuestro equipo"}),e.jsx("p",{className:"text-base md:text-lg 2xl:text-xl text-gray-600 leading-relaxed",children:"Completa el formulario y envíanos tu CV. Estamos buscando talento como tú."})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6",children:e.jsx("div",{className:"space-y-6 py-6",children:e.jsx("form",{onSubmit:J,id:"job-application-form",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:["Nombre completo ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{ref:f,type:"text",required:!0,className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"Ingresa tu nombre completo"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:["Correo electrónico ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{ref:b,type:"email",required:!0,className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"tu@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Teléfono"}),e.jsx("input",{ref:g,type:"tel",className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"+51 999 999 999"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Posición de interés"}),e.jsx("input",{ref:v,type:"text",className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 shadow-sm hover:shadow-md",placeholder:"Ej: Desarrollador, Diseñador, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Mensaje"}),e.jsx("textarea",{ref:y,rows:"4",className:"w-full px-5 py-4 rounded-xl border-2 border-gray-200 bg-white text-gray-800 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300 resize-none shadow-sm hover:shadow-md",placeholder:"Cuéntanos brevemente sobre ti..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:"Adjunta tu CV"}),e.jsxs("div",{onDrop:T,onDragOver:q,className:"relative border-2 border-dashed border-gray-300 rounded-xl p-8 text-center hover:border-primary hover:bg-primary/5 transition-all duration-300 cursor-pointer shadow-sm hover:shadow-md",onClick:()=>{var r;return(r=a.current)==null?void 0:r.click()},children:[e.jsx("input",{ref:a,type:"file",accept:".pdf,.doc,.docx",className:"hidden",onChange:P}),p?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-primary bg-opacity-10 p-2 rounded-lg",children:e.jsx(O,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:p.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(p.size/1024/1024).toFixed(2)," MB"]})]})]}),e.jsx("button",{type:"button",onClick:r=>{r.stopPropagation(),B()},className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(F,{className:"w-5 h-5"})})]}):e.jsxs("div",{className:"py-3",children:[e.jsx(O,{className:"w-8 h-8 mx-auto text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-600 font-medium text-sm mb-1",children:"Arrastra tu CV o haz clic aquí"}),e.jsx("p",{className:"text-xs text-gray-400",children:"PDF, DOC, DOCX (máx. 5MB)"})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-8",children:[e.jsx("button",{type:"button",onClick:c,className:"flex-1 border-2 border-primary text-primary hover:bg-primary hover:text-white py-4 rounded-2xl font-bold transition-all duration-300 text-base 2xl:text-lg shadow-sm hover:shadow-lg transform hover:-translate-y-0.5",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:x,className:"flex-1 bg-primary text-white py-4 rounded-2xl font-bold transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed text-base 2xl:text-lg shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 disabled:transform-none",children:x?"Enviando...":"Enviar solicitud"})]}),e.jsx("div",{className:"pb-4"})]})})})})]})]})]})})};export{pe as J};

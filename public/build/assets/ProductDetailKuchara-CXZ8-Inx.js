import{r as e,j as s,ak as a,al as r}from"./vendor-react-CtPXetfm.js";import{S as t}from"./CartKuchara-CLqHnhL7.js";import{h as l}from"./html2string-Xrf4P-xU.js";import{H as i}from"./HtmlContent-CjqdSt4A.js";import{C as n,N as c}from"./Number2Currency-BX4epFEo.js";import"./vendor-swiper-Cr_RrIb_.js";import"./General-ClVW7qxN.js";const d=({item:d,data:o,cart:m,setCart:x})=>{const[u,g]=e.useState(d?.image),p=e.useRef(),[h,j]=e.useState(1);return s.jsxs("section",{id:o?.element_id||null,className:"w-full px-[5%] py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx("div",{className:"w-full aspect-square rounded-lg overflow-hidden",children:s.jsx("img",{src:`/storage/images/item/${u}`,alt:d?.name,className:"w-full h-full object-cover object-center","data-aos":"fade-up","data-aos-offset":"150",onError:e=>e.target.src="/api/cover/thumbnail/null"})}),s.jsxs(a,{slidesPerView:"auto",spaceBetween:12,className:"w-full",children:[s.jsx(r,{className:"!w-[80px]",children:s.jsx("button",{onClick:()=>g(d?.image),className:"w-[80px] h-[80px] rounded-lg overflow-hidden border-2 "+(u===d?.image?"border-green-600":"border-gray-200"),children:s.jsx("img",{src:`/storage/images/item/${d?.image}`,alt:d?.name,className:"w-full h-full object-cover object-center",onError:e=>e.target.src="/api/cover/thumbnail/null"})})}),d?.gallery?.map((e,a)=>s.jsx(r,{className:"!w-[80px]",children:s.jsx("button",{onClick:()=>g(e),className:"w-[80px] h-[80px] rounded-lg overflow-hidden border-2 "+(u===e?"border-green-600":"border-gray-200"),children:s.jsx("img",{src:`/storage/images/item/${e}`,alt:`imagen-${a}`,className:"w-full h-full object-cover object-center",onError:e=>e.target.src="/api/cover/thumbnail/null"})})},a))]})]}),s.jsxs("div",{className:"flex flex-col gap-5",children:[s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[s.jsxs("span",{children:["SKU: ",d?.sku||"N/A"]}),s.jsxs("span",{className:"text-green-600 font-medium",children:["Disponibilidad: ",d?.stock>0?"En stock":"Agotado"]})]}),s.jsx("h1",{className:"font-bold font-title text-3xl text-green-700 leading-none my-4",children:d?.name||"Sin nombre"}),s.jsxs("div",{className:"flex items-baseline gap-3 mt-2",children:[d?.discount&&s.jsxs("span",{className:"text-gray-500 line-through text-lg",children:[n()," ",c(d.price)]}),s.jsxs("span",{className:"font-bold text-3xl",children:[n()," ",c(d?.final_price)]}),d?.discount&&s.jsxs("span",{className:"bg-red-500 text-white text-sm px-2 py-1 rounded-md",children:["-",Math.round((d.price-d.final_price)/d.price*100),"%"]})]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("h3",{className:"font-medium text-lg mb-2",children:"Descripción:"}),s.jsx("p",{className:"text-gray-700",children:d?.summary||l(d?.description).trim()||"Sin descripción"})]}),(d?.category||d?.subcategory||d?.brand)&&s.jsxs("div",{className:"mt-2",children:[s.jsx("h3",{className:"font-medium text-lg mb-2",children:"Contenido:"}),s.jsxs("ul",{className:"list-disc pl-5 text-gray-700 space-y-1",children:[d?.category&&s.jsx("li",{children:s.jsx("span",{className:"font-medium",children:d.category.name})}),d?.subcategory&&s.jsx("li",{children:s.jsx("span",{className:"font-medium",children:d.subcategory.name})}),d?.brand&&s.jsx("li",{children:s.jsx("span",{className:"font-medium",children:d.brand.name})})]})]}),s.jsx("div",{className:"mt-4",children:s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{htmlFor:"quantity",className:"font-medium",children:"Cantidad"}),s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex border border-gray-300 rounded-md",children:[s.jsx("button",{type:"button",onClick:()=>{j(e=>e>1?e-1:1)},className:"px-3 py-2 border-r border-gray-300",children:s.jsx("i",{className:"mdi mdi-minus",size:16})}),s.jsx("input",{id:"quantity",ref:p,type:"number",className:"w-16 text-center focus:outline-none",value:h,onChange:e=>{const s=Number.parseInt(e.target.value);!isNaN(s)&&s>0&&j(s)},min:"1"}),s.jsx("button",{type:"button",onClick:()=>{j(e=>e+1)},className:"px-3 py-2 border-l border-gray-300",children:s.jsx("i",{className:"mdi mdi-plus",size:16})})]}),s.jsx("span",{className:"ml-3 text-gray-600",children:"Máximo 10 unidades."})]})]})}),s.jsx("div",{className:"mt-4 flex flex-col gap-3",children:s.jsxs("button",{onClick:()=>{const e=structuredClone(m),s=e.findIndex(e=>e.id==d.id);-1==s?e.push({...d,quantity:Number(h||1)}):e[s].quantity++,x(e),t.fire({title:"Producto agregado",text:`Se agregó ${d.name} al carrito`,icon:"success",timer:1500})},className:"w-full py-3 bg-green-700 hover:bg-green-800 text-white rounded-md flex items-center justify-center gap-2 transition-colors",children:[s.jsx("i",{className:"mdi mdi-cart-plus",size:20}),s.jsx("span",{children:"Agregar a mi carrito"})]})})]})]}),l(d?.description).trim()&&s.jsxs("div",{className:"mt-12 border-t pt-8",children:[s.jsx("h2",{className:"font-bold text-2xl text-green-700 mb-4",children:"Descripción completa"}),s.jsx("div",{className:"text-gray-700 prose ql-editor",children:s.jsx(i,{html:d?.description})})]})]})};export{d as default};

import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as o}from"./index-BOnQTV8N.js";import{S as Ve,a as Xe}from"./BlogCarousel-CSSJauGD.js";import{N as Ye}from"./navigation-MWoTpsXy.js";import{f as He}from"./free-mode-Dn1BkxeO.js";/* empty css               */import"./BlogCarrusel-yPzlLR5S.js";import"./thumbs-l0sNRNKZ.js";/* empty css                  */import{t as L}from"./CardProductKatya-ncpmQ0JU.js";import{I as Qe}from"./ItemsRest-Dp5IKigO.js";import"./ProductMakita-DQap4p_y.js";import"./ProductNavigation-D1ZAMyMb.js";import{C as Ge}from"./Number2Currency-jIsa99f9.js";import Je from"./ProductIbergruasSwiper-CyMq-hOd.js";import{G as Ke}from"./General-apRuNwp7.js";import{u as te,o as re,f as ae,s as oe,a as ne,b as le,c as ce,d as ie,F as de}from"./floating-ui.react-h8x3UwNO.js";import{a as xe}from"./floating-ui.dom-CID5cQpR.js";import{Z as es}from"./zoom-out-DUAqyJbD.js";import{Z as ss}from"./zoom-in-DjAbuZ1Y.js";import{S as ts}from"./share-2-DAFE7yVK.js";import{C as rs}from"./chevron-left-JcR9Fe4w.js";import{C as pe}from"./chevron-right-Cug7tVUE.js";import{F as T}from"./file-text-BGNfKLm5.js";import{C as he}from"./chevron-down-uIVDLcM-.js";import{D as me}from"./download-CbXRWltS.js";import{C as as}from"./circle-check-big-CYWUGR3Z.js";import{S as ue}from"./shopping-cart-DLRnxGTD.js";import{Q as fe}from"./quote-Dsy8RbQK.js";import{A as os}from"./index-DBRilyZQ.js";import{m as ge}from"./proxy-8H4LMZAz.js";import{X as ns}from"./x-fof_H3Vv.js";import{S as ls}from"./star-DU-S9B50.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./create-element-if-not-defined-CLdVNY0a.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./BasicRest-BML1C-ua.js";import"./BooleanLimit-D-OsQsek.js";import"./CartKuchara-D9l7c7at.js";import"./HeaderSearch-BMd_A99o.js";import"./PolicyModal-C80IvD61.js";import"./index-Chjiymov.js";import"./CartItemRow-Yf_Y9Mh_.js";import"./tippy-react.esm-DmkRJDEW.js";import"./bed-D_dyLoh5.js";import"./createLucideIcon-DfjclApS.js";import"./trash-2-DU7LB6-f.js";import"./calendar-BSC6xbA7.js";import"./moon-BU5XInRR.js";import"./users-w-WaEtvX.js";import"./package-DBFPPBi1.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./eye-ScgfreHn.js";import"./pagination-pES01fIc.js";import"./autoplay-E5bqrXsF.js";import"./Strengths-B42DHEXW.js";import"./ProductCardIbergruas-r6PfYHLP.js";import"./ProductCardIbergruas-DwW0pLVF.js";import"./resolve-elements-WL2ErOKm.js";const Ct=({item:s,data:i,setCart:M,cart:p,generals:E,favorites:$,setFavorites:cs})=>{const B=new Qe,[h,W]=o.useState({url:s==null?void 0:s.image,type:"main"}),[d,Z]=o.useState(!1),[U,F]=o.useState({x:50,y:50}),[j,P]=o.useState(!1),[D,V]=o.useState({x:0,y:0}),X=o.useRef(null),[c,w]=o.useState(1),[A,I]=o.useState([]),[is,ds]=o.useState(!1),[y,be]=o.useState(!1),[xs,je]=o.useState(!1),R=o.useRef(null),_=o.useRef(null),[ps,we]=o.useState(!1),[ye,ve]=o.useState(!1),[Ne,Y]=o.useState(!1);o.useRef(null),o.useRef(null);const[hs,ms]=o.useState(null),[m,b]=o.useState(!1),[u,H]=o.useState("consult"),[f,Q]=o.useState(!1),{refs:G,floatingStyles:ke,context:v}=te({open:m&&u==="quote",onOpenChange:t=>{(!t||u==="quote")&&b(t)},placement:"bottom-start",middleware:[re(10),ae({fallbackPlacements:["top-start","bottom-end","top-end"]}),oe({padding:8})],whileElementsMounted:xe}),{refs:J,floatingStyles:Ce,context:N}=te({open:m&&u==="quote-mobile",onOpenChange:t=>{(!t||u==="quote-mobile")&&b(t)},placement:"top-end",middleware:[re(10),ae({fallbackPlacements:["top-start","bottom-end","bottom-start"]}),oe({padding:8})],whileElementsMounted:xe}),Se=ne(v),Me=le(v),Ee=ce(v),$e=ne(N),Fe=le(N),Pe=ce(N),{getReferenceProps:De,getFloatingProps:Ae}=ie([Se,Me,Ee]),{getReferenceProps:Ie,getFloatingProps:Re}=ie([$e,Fe,Pe]),l=Ke.whatsapp_advisors||[],q=E==null?void 0:E.find(t=>t.correlative==="phone_whatsapp"),z=q==null?void 0:q.description;o.useEffect(()=>{$&&s&&je($.some(t=>t.id===s.id))},[$,s]),o.useEffect(()=>{s!=null&&s.id&&(Oe(s),Le(s))},[s]),o.useEffect(()=>{const r=setTimeout(()=>{if(R.current){const a=R.current.scrollHeight>150;we(a)}if(_.current){const a=_.current.scrollHeight>150;ve(a)}},100);return()=>clearTimeout(r)},[s,s==null?void 0:s.specifications]);const _e=()=>{d?(Z(!1),F({x:50,y:50})):Z(!0)},qe=t=>{d&&(P(!0),V({x:t.clientX,y:t.clientY}))},O=t=>{if(d&&!j){const r=X.current.getBoundingClientRect(),a=(t.clientX-r.left)/r.width*100,n=(t.clientY-r.top)/r.height*100;F({x:Math.max(0,Math.min(100,a)),y:Math.max(0,Math.min(100,n))})}else if(j&&d){const r=t.clientX-D.x,a=t.clientY-D.y;F(n=>({x:Math.max(0,Math.min(100,n.x-r/3)),y:Math.max(0,Math.min(100,n.y-a/3))})),V({x:t.clientX,y:t.clientY})}},K=()=>{P(!1)},ze=()=>{P(!1)};o.useEffect(()=>{if(j)return document.addEventListener("mousemove",O),document.addEventListener("mouseup",K),()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",K)}},[j,d,D]);const Oe=async t=>{try{await B.viewUpdate(t.id)}catch(r){console.error("Error updating view:",r)}},Le=async t=>{try{const r={id:t==null?void 0:t.id},a=await B.productsRelations(r);if(!a){I([]);return}const Ue=Object.values(a);I(Ue)}catch(r){console.error("Error fetching related products:",r),I([])}},Te=t=>{t.preventDefault(),t.stopPropagation(),l&&l.length>1?(H("quote"),b(!m)):k((l==null?void 0:l[0])||{phone:z})},Be=t=>{t.preventDefault(),t.stopPropagation(),l&&l.length>1?(H("quote-mobile"),b(!m)):k((l==null?void 0:l[0])||{phone:z})},k=t=>{const r=(t==null?void 0:t.phone)||z,a=encodeURIComponent(`¡Hola! Me gustaría cotizar este producto para mi mascota: ${s==null?void 0:s.name}

Cantidad: ${c} unidades

¿Podrían enviarme más información y precios?`),n=`https://wa.me/${r}?text=${a}`;window.open(n,"_blank"),b(!1)},ee=t=>{if(!p||!M){L.error("Error al agregar al carrito");return}const r=structuredClone(p),a=r.findIndex(n=>n.id==(t==null?void 0:t.id));a==-1?r.push({...t,quantity:c}):r[a].quantity+=c,M(r),L.success("Producto agregado al carrito",{description:`${t==null?void 0:t.name} (${c} ${c===1?"unidad":"unidades"})`,duration:2e3})},g=t=>t?`${Ge()} ${parseFloat(t).toFixed(2)}`:"Consultar precio",We=t=>{const r=parseFloat(t)||0;return Array.from({length:5},(a,n)=>e.jsx(ls,{className:`w-4 h-4 ${n<Math.floor(r)?"text-yellow-400 fill-current":"text-gray-300"}`},n))},C=(s==null?void 0:s.price)&&(s==null?void 0:s.final_price)&&parseFloat(s.price)>parseFloat(s.final_price),Ze=C?Math.round((parseFloat(s.price)-parseFloat(s.final_price))/parseFloat(s.price)*100):0,x=p==null?void 0:p.find(t=>t.id==(s==null?void 0:s.id)),se=(x==null?void 0:x.quantity)||0,S=[{url:s==null?void 0:s.image,type:"main",alt:"Imagen principal"},...((s==null?void 0:s.images)||[]).filter((t,r,a)=>r===a.findIndex(n=>n.url===t.url)).map((t,r)=>({url:t.url,type:"gallery",index:r,alt:`Imagen ${r+1}`}))];return console.log("ITEMS DETIAL:",s),e.jsxs("div",{className:"bg-secondary min-h-screen overflow-x-hidden",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 lg:py-8",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-12",children:[e.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[e.jsxs("div",{className:"relative   overflow-hidden",children:[e.jsxs("div",{className:`aspect-square flex items-center justify-center  relative ${d?"cursor-zoom-out":"cursor-zoom-in"}`,onClick:_e,onMouseDown:qe,onMouseMove:O,onMouseLeave:ze,children:[e.jsx("img",{ref:X,src:h.url?`/storage/images/item/${h.url}`:"/api/cover/thumbnail/null",alt:(s==null?void 0:s.name)||"Producto",className:`w-full h-full object-contain transition-transform duration-300 ${d?"scale-150":"scale-100"}`,style:d?{transformOrigin:`${U.x}% ${U.y}%`}:{},onError:t=>{t.target.src="/api/cover/thumbnail/null"}}),e.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white px-2 py-2 rounded text-sm",children:d?e.jsx(es,{className:"w-4 h-4"}):e.jsx(ss,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"absolute top-4 right-4 space-y-2",children:[C&&e.jsxs("div",{className:"bg-red-500 text-white px-3 py-2 rounded-full text-sm font-bold",children:["-",Ze,"% OFF"]}),(s==null?void 0:s.is_new)&&e.jsx("div",{className:"bg-accent customtext-primary px-3 py-2 rounded-full text-sm font-bold",children:"¡Nuevo!"})]}),e.jsx("div",{className:"absolute bottom-4 right-4 flex space-x-2",children:e.jsx("button",{onClick:()=>{var t;(t=navigator.share)!=null&&t.call(navigator,{title:s==null?void 0:s.name,text:s==null?void 0:s.description,url:window.location.href})||navigator.clipboard.writeText(window.location.href),L.success("Enlace copiado al portapapeles")},className:"w-10 h-10 bg-secondary  backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-lg",children:e.jsx(ts,{className:"w-5 h-5 text-white"})})})]}),S.length>1&&e.jsx(e.Fragment,{children:S.length<=5?e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2",children:S.map((t,r)=>e.jsx("button",{onClick:()=>W(t),className:`aspect-square bg-white rounded-none overflow-hidden border-2 transition-all hover:border-primary ${h.url===t.url?"border-primary":"border-gray-200"}`,children:e.jsx("img",{src:`/storage/images/item/${t.url}`,alt:t.alt,className:"w-full h-full object-contain",onError:a=>{a.target.src="/api/cover/thumbnail/null"}})},r))}):e.jsxs("div",{className:"relative",children:[e.jsx(Ve,{modules:[Ye,He],spaceBetween:8,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,navigation:{nextEl:".thumb-swiper-next",prevEl:".thumb-swiper-prev"},breakpoints:{640:{slidesPerView:5},768:{slidesPerView:5}},className:"thumbs-swiper",children:S.map((t,r)=>e.jsx(Xe,{children:e.jsx("button",{onClick:()=>W(t),className:`w-full aspect-square bg-white rounded-none overflow-hidden border-2 transition-all hover:border-primary ${h.url===t.url?"border-primary":"border-gray-200"}`,children:e.jsx("img",{src:`/storage/images/item/${t.url}`,alt:t.alt,className:"w-full h-full object-contain",onError:a=>{a.target.src="/api/cover/thumbnail/null"}})})},r))}),e.jsx("button",{className:"thumb-swiper-prev absolute left-0 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-white shadow-lg rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors disabled:opacity-50 -ml-2",children:e.jsx(rs,{className:"w-4 h-4 text-gray-700"})}),e.jsx("button",{className:"thumb-swiper-next absolute right-0 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-white shadow-lg rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors disabled:opacity-50 -mr-2",children:e.jsx(pe,{className:"w-4 h-4 text-gray-700"})})]})}),(s==null?void 0:s.pdf)&&Array.isArray(s.pdf)&&s.pdf.length>0&&e.jsxs("div",{className:"relative mt-4 hidden lg:block",children:[e.jsxs("button",{onClick:()=>Q(!f),className:"w-full sm:w-auto bg-white border-2 border-primary text-primary py-4 px-6 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-primary hover:text-white transition-all shadow-md hover:shadow-lg group",children:[e.jsx(T,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm",children:"Fichas Técnicas"}),e.jsx(he,{className:`w-4 h-4 transition-transform duration-300 ${f?"rotate-180":""}`})]}),f&&e.jsxs("div",{className:"absolute top-full left-0 right-0 sm:right-auto sm:min-w-[320px] mt-2 bg-white rounded-xl shadow-2xl border border-gray-100 overflow-hidden z-20",children:[e.jsxs("div",{className:"bg-primary p-3 text-white",children:[e.jsx("h4",{className:"font-bold text-sm",children:"Documentos disponibles"}),e.jsxs("p",{className:"text-xs text-white opacity-90 mt-0.5",children:[s.pdf.length," ",s.pdf.length===1?"archivo":"archivos"]})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:s.pdf.map((t,r)=>e.jsxs("a",{href:`/storage/images/item/${t.url||t}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 transition-colors border-b  last:border-b-0 group",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10  rounded-lg flex items-center justify-center transition-colors",children:e.jsx(T,{className:"w-5 h-5 customtext-secondary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold max-w-36 customtext-neutral-dark text-sm truncate",children:t.name||(typeof t=="string"?t.split("/").pop().replace(".pdf",""):"Documento")}),e.jsx("p",{className:"text-xs cusomtext-neutral-light",children:"Documento PDF"})]}),e.jsx(me,{className:"w-4 h-4 customtext-neutral-light group-hover:text-primary transition-colors"})]},r))})]})]})]}),e.jsx("div",{className:"lg:hidden ",children:e.jsxs("div",{className:"text-start",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold font-title text-white",children:g((s==null?void 0:s.final_price)||(s==null?void 0:s.price))}),C&&e.jsxs("div",{className:"flex items-center justify-start space-x-2 mt-2",children:[e.jsx("span",{className:"text-base text-white line-through",children:g(s.price)}),e.jsxs("span",{className:"bg-red-100 customtext-secondary px-2 py-1 rounded-full text-xs font-bold",children:["Ahorras ",g(parseFloat(s.price)-parseFloat(s.final_price))]})]})]})}),e.jsxs("div",{className:"space-y-4 lg:space-y-6 pb-20 lg:pb-0 overflow-x-hidden",children:[e.jsxs("div",{className:"flex flex-row  items-center justify-between gap-3",children:[(s==null?void 0:s.category)&&e.jsx("span",{className:"bg-accent bg-opacity-10 customtext-neutral-dark font-bold px-3 py-1 sm:px-4 sm:py-2 rounded-none text-xs sm:text-sm",children:s.category.name}),(s==null?void 0:s.brand)&&e.jsx("img",{src:s.brand.image?`/api/brands/media/${s.brand.image}`:"/assets/img/noimage/no_img.jpg",alt:s.brand.name||"Marca",className:"max-h-12 sm:max-h-16 lg:max-h-20 max-w-24 lg:max-w-40 object-contain",onError:t=>{t.target.src="/assets/img/noimage/no_img.jpg"}})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-4xl font-title font-bold customtext-primary  mb-3",children:s==null?void 0:s.name}),e.jsx("div",{className:"flex items-center space-x-4 mb-4",children:(s==null?void 0:s.rating)&&e.jsxs("div",{className:"flex items-center space-x-1",children:[We(s.rating),e.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",parseFloat(s.rating).toFixed(1),")"]})]})})]}),e.jsx("div",{className:" ",children:e.jsx("div",{ref:R,className:"prose max-w-none customtext-neutral-light transition-all duration-300 ",dangerouslySetInnerHTML:{__html:(s==null?void 0:s.description)||"<p>Sin descripción disponible.</p>"}})}),(s==null?void 0:s.specifications)&&Array.isArray(s.specifications)&&s.specifications.length>0&&e.jsxs("div",{className:"",children:[e.jsx("div",{ref:_,className:`space-y-3 transition-all duration-300 ${y?"":"max-h-40 overflow-hidden"}`,children:s.specifications.map((t,r)=>t.type==="principal"&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(as,{className:"customtext-primary w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"font-bold customtext-primary",children:[t.title||"Especificación",":"]}),e.jsx("span",{className:"customtext-neutral-light",children:t.description||t.value||"No especificado"})]},r))}),ye&&e.jsxs("button",{onClick:()=>be(!y),className:"mt-4 customtext-secondary hover:customtext-neutral-dark font-medium transition-colors flex items-center gap-2 text-sm",children:[y?"Ver menos":"Ver más características",e.jsx(pe,{className:`w-4 h-4 transform transition-transform ${y?"rotate-90":""}`})]})]}),(s==null?void 0:s.pdf)&&Array.isArray(s.pdf)&&s.pdf.length>0&&e.jsxs("div",{className:"lg:hidden bg-white rounded-2xl shadow-sm overflow-hidden mt-6 max-w-full",children:[e.jsx("div",{className:"border-b",children:e.jsxs("button",{onClick:()=>Q(!f),className:"w-full p-4 flex justify-between items-center",children:[e.jsxs("span",{className:"font-medium",children:["Fichas Técnicas (",s.pdf.length,")"]}),e.jsx(he,{className:`transform transition-transform ${f?"rotate-180":""}`})]})}),f&&e.jsx("div",{className:"p-4 space-y-2 max-w-full",children:s.pdf.map((t,r)=>e.jsxs("a",{href:`/storage/images/item/${t.url||t}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 w-full border border-gray-200 rounded-xl hover:border-primary hover:shadow-md transition-all group max-w-full",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-200 transition-colors",children:e.jsx(T,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1 min-w-0 overflow-hidden",children:[e.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate break-words",children:t.name||(typeof t=="string"?t.split("/").pop().replace(".pdf",""):"Documento")}),e.jsx("p",{className:"text-xs cusomtext-neutral-light",children:"Documento PDF"})]}),e.jsx(me,{className:"w-4 h-4 flex-shrink-0 text-gray-400 group-hover:text-primary transition-colors"})]},r))})]}),e.jsxs("div",{className:"hidden lg:block  p-6 ",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[(s==null?void 0:s.price)>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-4xl font-bold font-title text-white",children:g((s==null?void 0:s.final_price)||(s==null?void 0:s.price))}),C&&e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:"text-lg text-white line-through",children:g(s.price)}),e.jsxs("span",{className:"bg-red-100 customtext-primary px-2 py-1 rounded-full text-sm font-bold",children:["Ahorras ",g(parseFloat(s.price)-parseFloat(s.final_price))]})]})]}),(s==null?void 0:s.price)>0&&e.jsx("div",{className:"space-y-4 mt-4",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex items-center rounded-none border border-primary p-1",children:[e.jsx("button",{onClick:()=>w(Math.max(1,c-1)),className:"w-10 h-10 flex items-center justify-center rounded-none hover:bg-primary hover:shadow-sm active:scale-95 transition-all duration-200 text-white font-bold text-xl",disabled:c<=1,children:"−"}),e.jsx("div",{className:"w-16 h-10 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:c})}),e.jsx("button",{onClick:()=>w(Math.min(10,c+1)),className:"w-10 h-10 flex items-center justify-center rounded-none hover:bg-primary hover:shadow-sm active:scale-95 transition-all duration-200 text-white font-bold text-xl",disabled:c>=10,children:"+"})]})})})]}),e.jsxs("div",{className:`mt-6 grid ${(s==null?void 0:s.price)>0?"grid-cols-2":"grid-cols-1"} gap-4`,children:[(s==null?void 0:s.price)>0&&(i==null?void 0:i.buyButton)&&e.jsxs("button",{onClick:()=>ee(s),className:`w-full py-4 px-6 rounded-none font-bold flex items-center justify-center space-x-2 hover:scale-105 transition-all shadow-lg hover:shadow-xl transform duration-500 ${x?"bg-accent text-white":"bg-primary text-white"}`,children:[e.jsx(ue,{className:"w-5 h-5"}),e.jsx("span",{children:x?`En carrito (${se})`:"Comprar ahora"})]}),e.jsxs("button",{ref:G.setReference,...De(),onClick:Te,className:"w-full bg-primary text-white py-4 !h-full px-6 rounded-none font-bold flex items-center justify-center space-x-2 hover:bg-accent hover:customtext-secondary transition-all shadow-lg hover:shadow-xl transform duration-500",children:[e.jsx(fe,{className:"w-5 h-5"}),e.jsx("span",{children:"Solicitar Cotización"})]}),m&&u==="quote"&&l&&l.length>1&&e.jsx(de,{context:v,modal:!1,children:e.jsxs("div",{ref:G.setFloating,style:ke,...Ae(),className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100 z-[1000]",children:[e.jsxs("div",{className:"bg-primary p-4 text-white",children:[e.jsx("h3",{className:"font-bold text-base",children:"Elige un asesor"}),e.jsx("p",{className:"text-xs text-white mt-1",children:"¿Con quién quieres cotizar?"})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",style:{minWidth:"280px",maxWidth:"320px"},children:l.map((t,r)=>{var a;return e.jsxs("button",{onClick:()=>k(t),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 text-left",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-primary",children:t.photo?e.jsx("img",{src:`/assets/resources/${t.photo}`,alt:t.name,className:"w-full h-full object-cover",onError:n=>{n.target.src="/assets/img/placeholder-user.png"}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-lg font-bold",children:(a=t.name)==null?void 0:a.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs cusomtext-neutral-light truncate",children:t.position||"Asesor"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]},r)})})]})})]})]})]})]}),A&&A.length>0&&e.jsx(Je,{items:A,data:{title:`${(s==null?void 0:s.category.name)||"Productos"} relacionados`,description:`${(s==null?void 0:s.category.name)||"Productos"} originales: Calidad, fiabilidad y durabilidad.`,link_catalog:"/catalogo",class_button:"bg-primary text-white hover:bg-primary/90",class_content_header:"text-start"},setCart:M,cart:p})]}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-40 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border border-gray-200 p-1",children:[e.jsx("button",{onClick:()=>w(Math.max(1,c-1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:c<=1,children:"−"}),e.jsx("div",{className:"w-12 h-8 flex items-center justify-center",children:e.jsx("span",{className:"customtext-neutral-dark font-bold text-sm",children:c})}),e.jsx("button",{onClick:()=>w(Math.min(10,c+1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:c>=10,children:"+"})]}),(s==null?void 0:s.price)>0&&(i==null?void 0:i.buyButton)&&e.jsxs("button",{onClick:()=>ee(s),className:`flex-1 py-3 px-4 rounded-none font-bold flex items-center justify-center space-x-2 transition-all shadow-lg active:scale-95 ${x?"bg-secondary text-white":"bg-primary customtext-neutral-dark hover:bg-accent"}`,children:[e.jsx(ue,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:x?`En carrito (${se})`:"Comprar"})]}),e.jsxs("button",{ref:J.setReference,...Ie(),onClick:Be,className:`${i!=null&&i.buyButton?"w-auto":"flex-1"} bg-secondary text-white py-3 px-4 !rounded-none font-bold flex items-center justify-center space-x-2 hover:bg-accent hover:customtext-primary transition-all shadow-lg active:scale-95`,children:[e.jsx(fe,{className:"w-4 h-4"}),!(i!=null&&i.buyButton)&&e.jsx("span",{className:"text-sm",children:"Solicitar Cotización"})]}),m&&u==="quote-mobile"&&l&&l.length>1&&e.jsx(de,{context:N,modal:!1,children:e.jsxs("div",{ref:J.setFloating,style:Ce,...Re(),className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100 z-[1000]",children:[e.jsxs("div",{className:"bg-primary p-4 text-white",children:[e.jsx("h3",{className:"font-bold text-base",children:"Elige un asesor"}),e.jsx("p",{className:"text-xs text-white mt-1",children:"¿Con quién quieres cotizar?"})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",style:{minWidth:"280px",maxWidth:"320px"},children:l.map((t,r)=>{var a;return e.jsxs("button",{onClick:()=>k(t),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 text-left",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-primary",children:t.photo?e.jsx("img",{src:`/assets/resources/${t.photo}`,alt:t.name,className:"w-full h-full object-cover",onError:n=>{n.target.src="/assets/img/placeholder-user.png"}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-lg font-bold",children:(a=t.name)==null?void 0:a.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold customtext-neutral-dark text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs cusomtext-neutral-light truncate",children:t.position||"Asesor"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]},r)})})]})})]})}),e.jsx(os,{children:Ne&&e.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>Y(!1),children:e.jsxs(ge.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},className:"relative max-w-4xl max-h-full",onClick:t=>t.stopPropagation(),children:[e.jsx("button",{onClick:()=>Y(!1),className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition-all z-10",children:e.jsx(ns,{className:"w-6 h-6"})}),e.jsx("img",{src:h.url?`/storage/images/item/${h.url}`:"/api/cover/thumbnail/null",alt:s==null?void 0:s.name,className:"max-w-full max-h-full object-contain rounded-lg",onError:t=>{t.target.src="/api/cover/thumbnail/null"}})]})})})]})};export{Ct as default};

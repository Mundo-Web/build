var b=Object.defineProperty;var f=(n,c,s)=>c in n?b(n,c,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[c]=s;var x=(n,c,s)=>f(n,typeof c!="symbol"?c+"":c,s);import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BOnQTV8N.js";import{c as N}from"./ReactAppend-QR5TrZfj.js";import{B as C}from"./Base-DoUyxCo1.js";import{C as _}from"./CreateReactScript-CbeMJ7WI.js";import{T as R}from"./Table-B2eaY_1c.js";import{D as h}from"./DxButton-DV0H-ZcL.js";import{R as o}from"./ReactAppend-Vm5G2nof.js";import{B as g}from"./BasicRest-BML1C-ua.js";import{M as T}from"./Modal-BYL-UsqM.js";import{S as y}from"./ProductCard-D9l7c7at.js";import{C as D,N as w}from"./Number2Currency-jIsa99f9.js";import{s as F}from"./server.browser-Bf4gQIc7.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-B6ujFmsw.js";import"./Global-CazroCzF.js";import"./tippy-react.esm-DmkRJDEW.js";import"./index-pSueRYGM.js";/* empty css              */import"./Logout-BpuTJ_83.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./MenuItemContainer-DcxtOi47.js";import"./index.esm-C48oHfFw.js";import"./index-ngrFHoWO.js";import"./CanAccess-DgL4m2bH.js";/* empty css               */import"./General-apRuNwp7.js";import"./LaravelSession-Dz9cpV3l.js";import"./BooleanLimit-D-OsQsek.js";import"./CardProductKatya-ncpmQ0JU.js";class B extends g{constructor(){super(...arguments);x(this,"path","admin/complaints")}}const d=new B,S=()=>{const n=l.useRef(),c=l.useRef(),[s,j]=l.useState(null),u=async r=>{const{isConfirmed:i}=await y.fire({title:"Eliminar reclamo",text:"¿Estas seguro de eliminar este reclamo?",icon:"warning",showCancelButton:!0,confirmButtonText:"Si, eliminar",cancelButtonText:"Cancelar"});!i||!await d.delete(r)||$(n.current).dxDataGrid("instance").refresh()},t=r=>{j(r),$(c.current).modal("show")},m=r=>({dni:"DNI",ce:"Carné de Extranjería",pasaporte:"Pasaporte",ruc:"RUC"})[r]||r,a=r=>({reclamo:"Reclamo",queja:"Queja"})[r]||r;return e.jsxs(e.Fragment,{children:[e.jsx(R,{gridRef:n,title:"Reclamos y Quejas",rest:d,toolBar:r=>{r.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(n.current).dxDataGrid("instance").refresh()}})},columns:[{dataField:"id",caption:"ID",visible:!1},{dataField:"nombre",caption:"Nombre",cellTemplate:(r,{data:i})=>{o(r,e.jsx("span",{style:{width:"100%",cursor:"pointer"},onClick:()=>t(i),children:i.nombre}))}},{dataField:"correo_electronico",caption:"Correo"},{dataField:"tipo_documento",caption:"Tipo Doc.",cellTemplate:(r,{data:i})=>{o(r,e.jsx("span",{children:m(i.tipo_documento)}))}},{dataField:"numero_identidad",caption:"Nº Identidad"},{dataField:"tipo_reclamo",caption:"Tipo",cellTemplate:(r,{data:i})=>{const p=i.tipo_reclamo==="reclamo"?"bg-warning":"bg-info";o(r,e.jsx("span",{className:`badge ${p} rounded-pill`,children:a(i.tipo_reclamo)}))}},{dataField:"monto_reclamado",caption:"Monto",dataType:"number",cellTemplate:(r,{data:i})=>{r.html(F.renderToString(e.jsx(e.Fragment,{children:e.jsxs("small",{className:"d-block ",children:[D()," ",w(i==null?void 0:i.monto_reclamado)]})})))}},{dataField:"created_at",caption:"Fecha",dataType:"datetime",format:"yyyy-MM-dd HH:mm:ss",sortOrder:"desc"},{caption:"Acciones",cellTemplate:(r,{data:i})=>{r.append(h({className:"btn btn-xs btn-soft-dark",title:"Ver reclamo",icon:"fa fa-eye",onClick:()=>t(i)})),r.append(h({className:"btn btn-xs btn-soft-danger",title:"Eliminar",icon:"fa fa-trash",onClick:()=>u(i.id)}))},allowFiltering:!1,allowExporting:!1}]}),e.jsxs(T,{modalRef:c,title:"Detalle del Reclamo/Queja",size:"lg",hideFooter:!0,children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("h6",{className:"mb-3",children:"Datos Personales"}),e.jsxs("p",{children:[e.jsx("b",{children:"Nombre"}),":",e.jsx("span",{className:"ms-1",children:s==null?void 0:s.nombre})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Tipo de Documento"}),":",e.jsx("span",{className:"ms-1",children:m(s==null?void 0:s.tipo_documento)})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Número de Identidad"}),":",e.jsx("span",{className:"ms-1",children:s==null?void 0:s.numero_identidad})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Correo"}),":",e.jsx("span",{className:"ms-1",children:(s==null?void 0:s.correo_electronico)||e.jsx("i",{className:"text-muted",children:"- Sin correo -"})})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Celular"}),":",e.jsx("span",{className:"ms-1",children:(s==null?void 0:s.celular)||e.jsx("i",{className:"text-muted",children:"- Sin celular -"})})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Dirección"}),":",e.jsx("span",{className:"ms-1",children:s==null?void 0:s.direccion})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Ubicación"}),":",e.jsxs("span",{className:"ms-1",children:[s==null?void 0:s.distrito,", ",s==null?void 0:s.provincia,", ",s==null?void 0:s.departamento]})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("h6",{className:"mb-3",children:"Datos del Reclamo"}),e.jsxs("p",{children:[e.jsx("b",{children:"Tipo"}),":",e.jsx("span",{className:"ms-1",children:a(s==null?void 0:s.tipo_reclamo)})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Tipo de Producto"}),":",e.jsx("span",{className:"ms-1",children:s==null?void 0:s.tipo_producto})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Descripción del Producto"}),":",e.jsx("span",{className:"ms-1",children:s==null?void 0:s.descripcion_producto})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Monto Reclamado"}),":",e.jsxs("span",{className:"ms-1",children:["S/ ",s==null?void 0:s.monto_reclamado]})]}),e.jsxs("p",{children:[e.jsx("b",{children:"Fecha de Ocurrencia"}),":",e.jsx("span",{className:"ms-1",children:s==null?void 0:s.fecha_ocurrencia})]}),(s==null?void 0:s.numero_pedido)&&e.jsxs("p",{children:[e.jsx("b",{children:"Número de Pedido"}),":",e.jsx("span",{className:"ms-1",children:s==null?void 0:s.numero_pedido})]})]})]}),e.jsx("div",{className:"row mt-3",children:e.jsxs("div",{className:"col-12",children:[e.jsx("h6",{className:"mb-3",children:"Detalle del Reclamo"}),e.jsx("div",{className:"border rounded p-3 bg-light",children:s==null?void 0:s.detalle_reclamo})]})})]})]})};_((n,c)=>{N.createRoot(n).render(e.jsx(C,{...c,title:"Reclamos y Quejas",children:e.jsx(S,{...c})}))});

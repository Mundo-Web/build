var e=Object.defineProperty,a=(a,s,l)=>((a,s,l)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[s]=l)(a,"symbol"!=typeof s?s+"":s,l);import{j as s,ag as l,aZ as r,aY as t,aj as i,a6 as n,b2 as c,r as o,a_ as d,ah as m,b6 as x,a$ as u,f as p,X as h}from"./vendor-react-CtPXetfm.js";import{I as b}from"./InputForm-DnrrqDOu.js";import{u as g}from"./ubigeo-Q-ocg024.js";import{S as f}from"./SelectForm-CMhMaJUO.js";import{C as j}from"./ComplaintStech-C7p9OL3S.js";import{H as v}from"./HtmlContent-CjqdSt4A.js";import"./OpenPayCardModal-CbSnHq7o.js";import{B as N}from"./BasicRest-DtgqEuc9.js";import"./vendor-swiper-Cr_RrIb_.js";import"./BooleanLimit-q2Ad9fGY.js";function y({title:e="Â¡Denuncia Recibida!",message:a="Tu denuncia ha sido registrada exitosamente.",submittedData:o={},onBackToForm:d,data:m}){const x=o?.codigo||"N/A",u=o?.nombre||"Usuario",p=o?.ambito||"No especificado";return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50 flex items-center justify-center py-12 px-4",children:s.jsxs("div",{className:"max-w-3xl w-full",children:[s.jsx("div",{className:"flex justify-center mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-green-400 rounded-full animate-ping opacity-20"}),s.jsx("div",{className:`relative bg-green-500 rounded-full p-6 ${m?.class_icon||""}`,children:s.jsx(l,{className:"w-16 h-16 text-white",strokeWidth:2})})]})}),s.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border border-gray-100 overflow-hidden",children:[s.jsxs("div",{className:"bg-primary text-white px-8 py-12 text-center",children:[s.jsx("h1",{className:`text-4xl font-bold text-white mb-4 ${m?.class_title||""}`,children:e}),s.jsx("p",{className:"text-white text-lg max-w-2xl mx-auto",children:a})]}),s.jsxs("div",{className:"px-8 py-10 space-y-8",children:[s.jsx("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 border-l-4 border-amber-500 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`flex-shrink-0 bg-secondary rounded-full p-3 ${m?.class_icon||"customtext-primary"}`,children:s.jsx(r,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`text-lg font-semibold mb-2 ${m?.class_title||"customtext-neutral-dark"}`,children:"CÃ³digo de Seguimiento"}),s.jsx("p",{className:`text-3xl font-bold tracking-wider mb-2 ${m?.class_title||"customtext-primary"}`,children:x}),s.jsxs("p",{className:"text-sm customtext-neutral-light",children:["Guarda este cÃ³digo para hacer seguimiento de tu denuncia.",o?.email&&s.jsx(s.Fragment,{children:"Te hemos enviado una copia por correo electrÃ³nico."})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:`bg-secondary rounded-full p-2 ${m?.class_icon||"customtext-primary"}`,children:s.jsx(t,{className:"w-5 h-5"})}),s.jsx("h4",{className:`font-semibold ${m?.class_title||"customtext-neutral-dark"}`,children:"Denunciante"})]}),s.jsx("p",{className:"customtext-neutral-dark text-lg",children:u})]}),s.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:`bg-secondary rounded-full p-2 ${m?.class_icon||"customtext-primary"}`,children:s.jsx(r,{className:"w-5 h-5"})}),s.jsx("h4",{className:`font-semibold ${m?.class_title||"customtext-neutral-dark"}`,children:"Ãmbito"})]}),s.jsx("p",{className:"customtext-neutral-dark text-lg",children:p})]})]}),s.jsx("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`flex-shrink-0 bg-secondary rounded-full p-3 ${m?.class_icon||"customtext-primary"}`,children:s.jsx(i,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`text-lg font-semibold mb-3 ${m?.class_title||"customtext-neutral-dark"}`,children:"Â¿QuÃ© sigue ahora?"}),s.jsxs("ol",{className:"space-y-3 customtext-neutral-dark",children:[s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-sm font-semibold",children:"1"}),s.jsxs("span",{children:[s.jsx("strong",{children:"RevisiÃ³n inicial:"})," ","Nuestro equipo de compliance revisarÃ¡ tu denuncia en un plazo mÃ¡ximo de 48 horas hÃ¡biles."]})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-sm font-semibold",children:"2"}),s.jsxs("span",{children:[s.jsx("strong",{children:"InvestigaciÃ³n:"})," ","Si se requiere mÃ¡s informaciÃ³n, nos contactaremos contigo al email proporcionado."]})]}),s.jsxs("li",{className:"flex gap-3",children:[s.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-sm font-semibold",children:"3"}),s.jsxs("span",{children:[s.jsx("strong",{children:"ResoluciÃ³n:"})," Te notificaremos sobre las acciones tomadas respetando la confidencialidad del proceso."]})]})]})]})]})}),o?.email&&s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`flex-shrink-0 bg-secondary rounded-full p-3 ${m?.class_icon||"customtext-primary"}`,children:s.jsx(n,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`font-semibold mb-1 ${m?.class_title||"customtext-neutral-dark"}`,children:"ConfirmaciÃ³n Enviada"}),s.jsx("p",{className:"text-sm customtext-neutral-light",children:"Hemos enviado un correo de confirmaciÃ³n con todos los detalles de tu denuncia y el cÃ³digo de seguimiento."})]})]})}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`flex-shrink-0 ${m?.class_icon||"customtext-primary"}`,children:s.jsx(t,{className:"w-8 h-8"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:`font-semibold mb-2 ${m?.class_title||"customtext-neutral-dark"}`,children:"ðŸ”’ Confidencialidad Garantizada"}),s.jsx("p",{className:"text-sm customtext-neutral-light mb-3",children:"Tu denuncia serÃ¡ tratada con absoluta confidencialidad. Solo el equipo autorizado de compliance tendrÃ¡ acceso a la informaciÃ³n proporcionada."}),s.jsxs("ul",{className:"text-sm customtext-neutral-light space-y-1",children:[s.jsx("li",{children:"âœ“ Acceso restringido solo a personal autorizado"}),s.jsx("li",{children:"âœ“ Datos protegidos segÃºn normativa de protecciÃ³n de datos"}),s.jsx("li",{children:"âœ“ No se revelarÃ¡ tu identidad sin tu consentimiento"})]})]})]})})]}),s.jsx("div",{className:"bg-gray-50 px-8 py-6 border-t border-gray-200",children:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[s.jsx("p",{className:"text-sm customtext-neutral-light text-center sm:text-left",children:"Gracias por tu confianza y por ayudarnos a mantener un ambiente de trabajo Ã©tico."}),d&&s.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-6 py-3 bg-primary hover:brightness-110 text-white rounded-xl transition-all duration-300 font-medium",children:[s.jsx(c,{className:"w-5 h-5"}),"Volver"]})]})})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-sm customtext-neutral-light",children:"Si tienes alguna pregunta o necesitas agregar informaciÃ³n adicional, por favor contacta a nuestro equipo de compliance citando tu cÃ³digo de seguimiento."})})]})})}class w extends N{constructor(){super(...arguments),a(this,"path","whistleblowings"),a(this,"hasFiles",!0)}}function _({generals:e=[],data:a}){const[l,i]=o.useState(""),[n,c]=o.useState(!1),[N,_]=o.useState(null),[k,C]=o.useState(!1),[$,q]=o.useState(null),[S,D]=o.useState(null),O=o.useRef();o.useEffect(()=>{D(Math.floor(Date.now()/1e3))},[]);const[T,P]=o.useState({departamento:"",ciudad:"",direccion_exacta:"",ambito:"",relacion_compania:"",empresa:"",que_sucedio:"",quien_implicado:"",cuando_ocurrio:"",dialogo_superior:"",nombre:"",telefono:"",email:"",acepta_politica:!1}),[E,F]=o.useState(!1),z=o.useCallback(e=>{const{name:a,value:s,type:l,checked:r}=e.target;P(e=>({...e,[a]:"checkbox"===l?r:s}))},[]),A=o.useCallback((e,a)=>{P(s=>({...s,[e]:a}))},[]),I=o.useCallback(()=>{P({departamento:"",ciudad:"",direccion_exacta:"",ambito:"",relacion_compania:"",empresa:"",que_sucedio:"",quien_implicado:"",cuando_ocurrio:"",dialogo_superior:"",nombre:"",telefono:"",email:"",acepta_politica:!1}),c(!1),_(null),i(""),O.current&&O.current.reset()},[]),B=o.useCallback((e,a)=>{c(e),_(a),e&&i("")},[]),M=o.useCallback(()=>{C(!1),q(null)},[]),R=o.useCallback(e=>{const a=e.target.files[0];P(e=>({...e,file:a}))},[]),L=o.useMemo(()=>[...new Set(g.map(e=>e.departamento))].map(e=>({value:e,label:e})),[]),G=o.useMemo(()=>[{value:"Laboral",label:"Laboral"},{value:"Ã‰tico",label:"Ã‰tico"},{value:"TÃ©cnico u operativo",label:"TÃ©cnico u operativo"},{value:"Comercial o ventas",label:"Comercial o ventas"},{value:"Seguridad",label:"Seguridad"},{value:"DiscriminaciÃ³n o acoso",label:"DiscriminaciÃ³n o acoso"},{value:"Otro",label:"Otro"}],[]),H=o.useMemo(()=>[{value:"Empleado",label:"Empleado"},{value:"Proveedor",label:"Proveedor"},{value:"Cliente",label:"Cliente"},{value:"Otro",label:"Otro"}],[]),[W,Q]=o.useState(!1),V={privacy_policy:"PolÃ­tica de Privacidad"},U=()=>Q(!1);return k&&$?s.jsx(y,{title:"Â¡Denuncia Recibida!",message:"Tu denuncia ha sido registrada exitosamente y serÃ¡ revisada por nuestro equipo de compliance.",submittedData:$,onBackToForm:M,data:a}):s.jsxs("div",{id:a?.element_id||null,className:`min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 ${a?.class_base||""}`,children:[s.jsxs("div",{className:"container mx-auto max-w-5xl",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[s.jsx(d,{className:"w-10 h-10 customtext-primary"}),s.jsx("h1",{className:`text-4xl font-bold customtext-neutral-dark ${a?.class_title||""}`,children:"Canal de Denuncias"})]}),s.jsx("p",{className:"customtext-neutral-light text-lg max-w-2xl mx-auto",children:"Este es un canal confidencial para reportar conductas irregulares o situaciones que consideres inapropiadas. Tu denuncia serÃ¡ tratada con la mÃ¡xima confidencialidad."})]}),s.jsx("div",{className:"bg-white shadow-2xl rounded-3xl border border-gray-100 overflow-hidden",children:s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),F(!0),!n||!N)return i("Por favor, completa la verificaciÃ³n de seguridad."),void F(!1);i("");const a=new FormData;Object.keys(T).forEach(e=>{"file"===e&&T[e]?a.append("file",T[e]):null!==T[e]&&void 0!==T[e]&&""!==T[e]&&a.append(e,T[e])}),a.append("captcha_verified","true"),a.append("recaptcha_token",N),a.append("_form_loaded_at",S),a.append("_hp","");const s=new w;s.hasFiles=!0;const l=await s.save(a);l?(q(l),C(!0),I()):O.current&&O.current.reset(),F(!1)},className:"p-8 space-y-12",children:[s.jsx("input",{type:"text",name:"_hp",tabIndex:"-1",autoComplete:"off",style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",opacity:0,pointerEvents:"none"},"aria-hidden":"true"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:[s.jsx("div",{className:`flex items-center justify-center w-12 h-12 bg-secondary rounded-full ${a?.class_icon||"shadow-lg customtext-primary"}`,children:s.jsx(m,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-2xl font-bold customtext-neutral-dark ${a?.class_title||""}`,children:"UbicaciÃ³n del Incidente"}),s.jsx("p",{className:"customtext-neutral-light",children:"Â¿DÃ³nde ha ocurrido?"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(f,{label:"Departamento",name:"departamento",placeholder:"Selecciona departamento",value:T.departamento,onChange:e=>A("departamento",e),options:L,required:!0}),s.jsx(b,{type:"text",label:"Ciudad",name:"ciudad",value:T.ciudad,onChange:z,placeholder:"Ingresa la ciudad",required:!0})]}),s.jsx(b,{type:"text",label:"DirecciÃ³n exacta del incidente",name:"direccion_exacta",value:T.direccion_exacta,onChange:z,placeholder:"Ej: Oficina Lima, Av. Principal 123",required:!0})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:[s.jsx("div",{className:`flex items-center justify-center w-12 h-12 bg-secondary rounded-full ${a?.class_icon||"shadow-lg customtext-primary"}`,children:s.jsx(r,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-2xl font-bold customtext-neutral-dark ${a?.class_title||""}`,children:"InformaciÃ³n del Incidente"}),s.jsx("p",{className:"customtext-neutral-light",children:"Detalles de lo ocurrido"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(f,{label:"Ãmbito de la denuncia",name:"ambito",placeholder:"Selecciona Ã¡mbito",value:T.ambito,onChange:e=>A("ambito",e),options:G,required:!0}),s.jsx(f,{label:"Tu relaciÃ³n con la compaÃ±Ã­a",name:"relacion_compania",placeholder:"Selecciona relaciÃ³n",value:T.relacion_compania,onChange:e=>A("relacion_compania",e),options:H,required:!0})]}),s.jsx(b,{type:"text",label:"Â¿En quÃ© empresa ocurriÃ³?",name:"empresa",value:T.empresa,onChange:z,placeholder:"Nombre de la empresa (opcional)"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"block text-sm font-medium customtext-neutral-dark",children:["Â¿QuÃ© ha sucedido? ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{name:"que_sucedio",value:T.que_sucedio,onChange:z,rows:"5",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe detalladamente lo sucedido...",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium customtext-neutral-dark",children:"Adjuntar evidencia (Opcional)"}),s.jsx("input",{type:"file",name:"file",onChange:R,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-0 block text-sm text-slate-500\n                                        file:mr-4 file:py-2 file:px-4\n                                        file:rounded-full file:border-0\n                                        file:text-sm file:font-semibold\n                                        file:bg-primary-50 file:text-primary\n                                        hover:file:bg-primary-100"}),s.jsx("p",{className:"text-xs text-neutral-light",children:"Formatos permitidos: JPG, PNG, PDF, Word. MÃ¡x 10MB."})]}),s.jsx(b,{type:"text",label:"Â¿QuiÃ©n estÃ¡ implicado?",name:"quien_implicado",value:T.quien_implicado,onChange:z,placeholder:"Nombres, cargos o departamentos involucrados",required:!0}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.jsx(b,{type:"date",label:"Â¿CuÃ¡ndo ocurriÃ³?",name:"cuando_ocurrio",value:T.cuando_ocurrio,onChange:z,required:!0})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium customtext-neutral-dark",children:"Â¿Has dialogado con tu superior o con otra persona?"}),s.jsx("textarea",{name:"dialogo_superior",value:T.dialogo_superior,onChange:z,rows:"3",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Si/No y detalles adicionales (opcional)"})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:[s.jsx("div",{className:`flex items-center justify-center w-12 h-12 bg-secondary rounded-full ${a?.class_icon||"shadow-lg customtext-primary"}`,children:s.jsx(x,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsx("h2",{className:`text-2xl font-bold customtext-neutral-dark ${a?.class_title||""}`,children:"InformaciÃ³n de Contacto"}),s.jsx("p",{className:"customtext-neutral-light",children:"Tus datos serÃ¡n tratados confidencialmente (Opcional)"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(b,{type:"text",label:"Nombre (Opcional)",name:"nombre",value:T.nombre,onChange:z,placeholder:"Tu nombre completo"}),s.jsx(b,{type:"tel",label:"TelÃ©fono (Opcional)",name:"telefono",value:T.telefono,onChange:z,placeholder:"(Opcional)"})]}),s.jsx(b,{type:"email",label:"Email (Opcional)",name:"email",value:T.email,onChange:z,placeholder:"tu@email.com"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 pb-4 border-b border-gray-200",children:[s.jsx("div",{className:`flex items-center justify-center w-12 h-12 bg-secondary rounded-full ${a?.class_icon||"shadow-lg customtext-primary"}`,children:s.jsx(t,{className:"w-6 h-6"})}),s.jsx("div",{children:s.jsx("h2",{className:`text-2xl font-bold customtext-neutral-dark ${a?.class_title||""}`,children:"ValidaciÃ³n de Seguridad"})})]}),s.jsx(j,{ref:O,onVerify:B,error:l})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",name:"acepta_politica",checked:T.acepta_politica,onChange:z,className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500",required:!0}),s.jsxs("span",{className:"text-sm customtext-neutral-dark",children:["Acepto la"," ",s.jsx("button",{type:"button",onClick:()=>Q(0),className:"customtext-primary underline hover:no-underline",children:"PolÃ­tica de Privacidad"})," ","y autorizo el tratamiento confidencial de mis datos",s.jsx("span",{className:"text-red-500",children:" *"})]})]})}),s.jsx("div",{className:"flex justify-center pt-6",children:s.jsx("button",{type:"submit",disabled:E||!n||!T.acepta_politica,className:`\n                                    flex items-center gap-3 px-10 py-4 rounded-2xl text-white font-semibold text-lg\n                                    transition-all duration-300 transform hover:scale-105\n                                    ${!E&&n&&T.acepta_politica?"bg-primary hover:bg-primary/90 shadow-lg hover:shadow-xl":"bg-gray-400 cursor-not-allowed"}\n                                `,children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}),"Enviando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(u,{className:"w-6 h-6"}),"Enviar Denuncia"]})})})]})})]}),Object.keys(V).map((a,l)=>{const r=V[a],t=Array.isArray(e)?e.find(e=>e.correlative==a)?.description??"":"";return s.jsx(p,{isOpen:W===l,onRequestClose:U,contentLabel:r,className:"fixed top-0 left-0 right-0 bottom-0 flex items-center justify-center p-4 z-50",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-[9999999]",ariaHideApp:!1,children:s.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 pr-4",children:r}),s.jsx("button",{onClick:U,className:"flex-shrink-0 text-gray-400 hover:text-red-500 transition-colors duration-200 p-1 hover:bg-gray-100 rounded-full","aria-label":"Cerrar modal",children:s.jsx(h,{size:24,strokeWidth:2})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:s.jsx("div",{className:"prose prose-gray max-w-none",children:s.jsx(v,{html:t})})}),s.jsx("div",{className:"flex justify-end p-6 border-t border-gray-200",children:s.jsx("button",{onClick:U,className:"px-6 py-2 bg-primary text-white rounded-lg transition-colors duration-200 font-medium",children:"Cerrar"})})]})},l)})]})}export{_ as default};

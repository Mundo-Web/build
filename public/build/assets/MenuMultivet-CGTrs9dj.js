import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as i}from"./index-BOnQTV8N.js";import{t as P}from"./MobileMenu-pOsYkBXS.js";import{B as T}from"./BasicRest-BML1C-ua.js";import M from"./CardProductMultivet-XhXB2JDn.js";import{T as y}from"./tag-Dgi-uTqk.js";import{C as I}from"./chevron-up-Mt3xll-e.js";import{C as R}from"./chevron-down-uIVDLcM-.js";import{c as z}from"./createLucideIcon-DfjclApS.js";import{L}from"./list-filter-B_9H95Vt.js";import{X as F}from"./x-fof_H3Vv.js";import{C as S}from"./chevron-right-Cug7tVUE.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./CardProductKatya-ncpmQ0JU.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./BooleanLimit-D-OsQsek.js";import"./circle-chevron-right-Cragr8lM.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=z("PawPrint",[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]]),le=({pages:N=[],items:_,data:o,visible:x=!1})=>{const[c,h]=i.useState(!1),[n,k]=i.useState([]),[d,p]=i.useState(0),[f,C]=i.useState([]),[E,g]=i.useState(!1),m=i.useRef(null);i.useEffect(()=>{function r(s){m.current&&!m.current.contains(s.target)&&h(!1)}return document.addEventListener("pointerdown",r),()=>document.removeEventListener("pointerdown",r)},[]),i.useEffect(()=>{if(c&&window.innerWidth>=1024){const r=window.scrollY,s=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.body.style.position="fixed",document.body.style.top=`-${r}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%",document.body.style.overflow="hidden",s>0&&(document.body.style.paddingRight=`${s}px`),()=>{document.documentElement.style.overflow="",document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",document.body.style.overflow="",document.body.style.paddingRight="",window.scrollTo(0,r)}}},[c]),i.useEffect(()=>{(async()=>{try{const s=await P.getTags();if(s!=null&&s.data){const t=s.data.filter(l=>l.promotional_status==="permanent"||l.promotional_status==="active"&&l.menu==="1"||l.menu===1).sort((l,u)=>l.promotional_status==="active"&&u.promotional_status!=="active"?-1:u.promotional_status==="active"&&l.promotional_status!=="active"?1:l.name.localeCompare(u.name));k(t);const a=t.filter(l=>l.promotional_status==="active").length,j=t.filter(l=>l.promotional_status==="permanent").length;if(a>0){const l=t.filter(u=>u.promotional_status==="active")}}}catch(s){console.error("Error fetching tags:",s)}})()},[]),i.useEffect(()=>{if(n.length>2&&window.innerWidth<1024){const r=setInterval(()=>{p(s=>{const t=s+2;return t>=n.length?0:t})},3e3);return()=>clearInterval(r)}},[n.length]),i.useEffect(()=>{(async()=>{g(!0);try{const s=new T;s.path="items",s.is_use_notify=!1;const t=await s.paginate({take:3,skip:0,filter:[["status","=",1],"and",["featured","=",1]],sort:[{selector:"created_at",desc:!0}],requireTotalCount:!1,with:"category,brand"});(t==null?void 0:t.status)===200&&Array.isArray(t.data)?C(t.data):console.log("No featured products found or invalid response:",t)}catch(s){console.error("Error fetching featured products:",s)}finally{g(!1)}})()},[]);const b=window.innerWidth<1024,$=b?x&&n.length>0:!0,v=n.length>0&&b&&x;return $?e.jsxs(e.Fragment,{children:[c&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",style:{top:m.current?m.current.offsetTop+m.current.offsetHeight:"0"},onClick:()=>h(!1)}),e.jsx("nav",{className:`${v?" block w-full relative md:block  font-paragraph text-sm":" relative w-full md:block  font-paragraph text-sm"} ${(o==null?void 0:o.class_container)||"bg-white customtext-neutral"}`,ref:m,children:e.jsx("div",{className:"px-primary  2xl:px-0 2xl:max-w-7xl mx-auto",children:e.jsx("ul",{className:"flex items-center gap-4 lg:gap-6 text-sm justify-between",children:v?e.jsx("div",{className:"w-full py-3 px-4",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 h-10",children:[n.slice(d,d+2).map((r,s)=>{const t=d+s;return e.jsxs("a",{href:`/catalogo?tag=${r.id}`,className:"group relative border-white border-2 overflow-hidden rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02]",style:{background:`linear-gradient(135deg, ${r.background_color||"#3b82f6"}, ${r.background_color||"#3b82f6"}dd)`},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"}),e.jsx("div",{className:"relative h-full flex items-center justify-center p-3",children:e.jsxs("div",{className:"flex items-center gap-2 text-center",children:[r.icon?e.jsx("img",{src:`/storage/images/tag/${r.icon}`,alt:r.name,className:"w-6 h-6 object-contain filter brightness-0 invert",onError:a=>a.target.src="/api/cover/thumbnail/null"}):e.jsx(y,{size:20,style:{color:r.text_color||"#ffffff"}}),e.jsx("span",{className:"text-xs font-semibold leading-tight",style:{color:r.text_color||"#ffffff"},children:r.name})]})}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"})]},`${r.id}-${t}`)}),n.slice(d,d+2).length<2&&e.jsx("div",{className:"rounded-2xl bg-white/10 flex items-center justify-center",children:e.jsx("div",{className:"text-white/50 text-xs",children:"M치s pr칩ximamente"})})]}),n.length>2&&e.jsx("div",{className:"flex justify-center mt-2 gap-1",children:Array.from({length:Math.ceil(n.length/2)}).map((r,s)=>e.jsx("button",{onClick:()=>p(s*2),className:`w-2 h-2 rounded-full transition-all duration-300 ${Math.floor(d/2)===s?"bg-primary shadow-lg":"bg-neutral-light hover:bg-white/60"}`},s))})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("ul",{className:"flex items-center gap-4 lg:gap-6 text-base",children:[(o==null?void 0:o.showCategories)&&e.jsxs("li",{className:"relative py-3",children:[e.jsxs("button",{className:"font-semibold  flex items-center gap-2  pr-6 transition-colors duration-300 relative  ",onClick:()=>h(!c),children:["Categor칤as",c?e.jsx(I,{size:20}):e.jsx(R,{size:20})]}),c&&e.jsx("div",{className:"absolute z-50 top-14 left-0 bg-white shadow-2xl border border-gray-100 rounded-2xl transition-all duration-500 ease-in-out w-[90vw] max-w-6xl overflow-hidden",children:e.jsxs("div",{className:"max-h-[calc(100vh-13rem)] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:[e.jsx("div",{className:"bg-gray-50 p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary text-white rounded-full flex items-center justify-center shadow-lg",children:(o==null?void 0:o.icon)==="paw"?e.jsx(w,{}):(o==null?void 0:o.icon)==="tag"?e.jsx(y,{}):(o==null?void 0:o.icon)==="list"?e.jsx(L,{}):e.jsx(w,{})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-title font-bold customtext-primary mb-1",children:"Categor칤as"}),e.jsx("p",{className:"",children:(o==null?void 0:o.description)||"Encuentra todo lo que necesitas para el cuidado de tu mascota"})]})]}),e.jsx("button",{onClick:()=>h(!1),className:"p-2 customtext-primary hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(F,{})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"swiper-container relative ",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[..._].sort((r,s)=>(o==null?void 0:o.type_order)==="order_index"?(r.order_index||0)-(s.order_index||0):r.name.localeCompare(s.name)).map((r,s)=>e.jsxs("div",{className:"group",children:[e.jsxs("a",{href:`/catalogo?category=${r.slug}`,className:"group block relative h-48 rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105 mb-4",children:[e.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-xl",children:e.jsx("img",{src:`/storage/images/category/${r.image}`,alt:r.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:t=>t.target.src="/api/cover/thumbnail/null"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent group-hover:from-black/60 transition-all duration-300"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("h3",{className:`bg-accent rounded-full text-sm font-bold text-center px-4 py-2 transform group-hover:scale-110 transition-transform duration-300 drop-shadow-lg ${(o==null?void 0:o.class_badge_category)||""}`,children:r.name})})]}),r.subcategories&&r.subcategories.length>0&&e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[[...r.subcategories].sort((t,a)=>(o==null?void 0:o.type_order)==="order_index"?(t.order_index||0)-(a.order_index||0):t.name.localeCompare(a.name)).slice(0,3).map((t,a)=>e.jsxs("a",{href:`/catalogo?subcategory=${t.slug}`,className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 hover:border-primary hover:bg-primary/5 transition-all duration-300 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0",children:e.jsx("img",{src:`/storage/images/sub_category/${t.image}`,alt:t.name,className:"w-full h-full object-cover",onError:j=>j.target.src="/api/cover/thumbnail/null"})}),e.jsx("div",{className:"flex-1",children:e.jsx("span",{className:"text-sm font-medium  group- transition-colors duration-300",children:t.name})}),e.jsx(S,{className:"w-4 h-4 customtext-neutral opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300"})]},a)),r.subcategories.length>3&&e.jsxs("a",{href:`/catalogo?category=${r.slug}`,className:"text-center p-2 text-sm customtext-primary  font-medium border border-dashed border-primary/30 rounded-lg hover:bg-primary/5 transition-all duration-300",children:["Ver ",r.subcategories.length-3," m치s..."]})]})})]},s))})})}),f.length>0&&e.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[e.jsx("h4",{className:"text-2xl mb-8 font-title font-bold customtext-primary ",children:"Productos Destacados"}),E?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"flex items-center gap-2 ",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-pink-400 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Cargando productos destacados..."})]})}):f.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(r=>e.jsx(M,{product:r,data:o},r.id))}):e.jsxs("div",{className:"text-center py-8 ",children:[e.jsx("div",{className:"text-4xl mb-2",children:"游꾸"}),e.jsx("p",{children:"No hay productos destacados disponibles"})]})]})]})]})})]}),N.filter(r=>r.menuable).map((r,s,t)=>e.jsx("li",{className:"py-3",children:e.jsx("a",{href:r.path,className:"font-semibold   cursor-pointer transition-all duration-300",children:r.name})},s))]}),n.length>0&&e.jsx("div",{className:"flex items-center gap-4 lg:gap-4 text-sm",children:n.map((r,s)=>e.jsx("li",{className:"",children:e.jsxs("a",{href:`/catalogo?tag=${r.id}`,className:"font-medium rounded-full p-2 hover:brightness-105 cursor-pointer transition-all duration-300 relative flex items-center gap-2",style:{backgroundColor:r.background_color||"#3b82f6",color:r.text_color||"#ffffff"},title:r.description||r.name,children:[r.icon&&e.jsx("img",{src:`/storage/images/tag/${r.icon}`,alt:r.name,className:"w-4 h-4",onError:t=>t.target.src="/api/cover/thumbnail/null"}),r.name]})},r.id))})]})})})})]}):null};export{le as default};

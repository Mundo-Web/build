import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as n}from"./index-BOnQTV8N.js";import"./BlogCarousel-DCQ9UYu0.js";/* empty css               */import"./BlogCarrusel-klwTVD05.js";import"./thumbs-l0sNRNKZ.js";/* empty css                  */import{t as Le}from"./CardProductKatya-ncpmQ0JU.js";import{I as Be}from"./ItemsRest-Dp5IKigO.js";import Oe from"./ProductInfinite-BaXhm8Qy.js";import{G as Ze}from"./General-apRuNwp7.js";import{u as F,a as I,b as D,c as _,d as H,F as Ue,o as q,f as L,s as B}from"./floating-ui.react-h8x3UwNO.js";import{Z as ze}from"./zoom-out-DUAqyJbD.js";import{Z as Te}from"./zoom-in-DjAbuZ1Y.js";import{S as Ve}from"./share-2-DAFE7yVK.js";import{C as We}from"./circle-check-big-CYWUGR3Z.js";import{C as Xe}from"./chevron-right-Cug7tVUE.js";import{A as Ye}from"./index-BZvh78jk.js";import{m as oe}from"./proxy-B0QLMKEh.js";import{X as Qe}from"./x-fof_H3Vv.js";import{a as O}from"./floating-ui.dom-CID5cQpR.js";import{S as Ge}from"./star-DU-S9B50.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";import"./main-B6F2O9-U.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./BasicRest-BML1C-ua.js";import"./BooleanLimit-D-OsQsek.js";import"./navigation-BIDIUzpb.js";import"./create-element-if-not-defined-DUWlnlug.js";import"./grid-BZ4EKnFQ.js";import"./ProductMakita-CuTJk-0k.js";import"./ProductNavigation-5QhNPets.js";import"./ProductCard-D9l7c7at.js";import"./HeaderSearch-j9L8kXPt.js";import"./PolicyModal-C80IvD61.js";import"./index-Chjiymov.js";import"./CartItemRow-Dd2JdCJX.js";import"./Number2Currency-jIsa99f9.js";import"./tippy-react.esm-DmkRJDEW.js";import"./package-DBFPPBi1.js";import"./createLucideIcon-DfjclApS.js";import"./trash-2-DU7LB6-f.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./eye-ScgfreHn.js";import"./CardProductKatya-Bu9KRHqy.js";import"./adjustTextColor-DJKJvkxA.js";import"./tag-Dgi-uTqk.js";import"./chevron-left-JcR9Fe4w.js";const rt=({item:s,data:Ke,setCart:Z,cart:h,generals:Je,favorites:k,setFavorites:es})=>{const U=new Be,[m,ae]=n.useState({url:s==null?void 0:s.image,type:"main"}),[i,z]=n.useState(!1),[T,M]=n.useState({x:50,y:50}),[g,E]=n.useState(!1),[P,V]=n.useState({x:0,y:0}),W=n.useRef(null),[l,b]=n.useState(1),[w,S]=n.useState([]),[ss,ts]=n.useState(!1),[j,ne]=n.useState(!1),[os,re]=n.useState(!1),R=n.useRef(null),$=n.useRef(null),[as,le]=n.useState(!1),[ce,ie]=n.useState(!1),[de,X]=n.useState(!1);n.useRef(null),n.useRef(null);const[ns,rs]=n.useState(null),[p,x]=n.useState(!1),[r,Y]=n.useState("consult"),{refs:ue,floatingStyles:pe,context:y}=F({open:p&&r==="quote",onOpenChange:t=>{r==="quote"&&x(t)},placement:"bottom-start",middleware:[q(10),L({fallbackPlacements:["top-start","bottom-end","top-end"]}),B({padding:8})],whileElementsMounted:O}),{refs:Q,floatingStyles:xe,context:v}=F({open:p&&r==="consult",onOpenChange:t=>{r==="consult"&&x(t)},placement:"bottom-start",middleware:[q(10),L({fallbackPlacements:["top-start","bottom-end","top-end"]}),B({padding:8})],whileElementsMounted:O}),{refs:G,floatingStyles:he,context:C}=F({open:p&&r==="consult-mobile",onOpenChange:t=>{r==="consult-mobile"&&x(t)},placement:"top-end",middleware:[q(10),L({fallbackPlacements:["top-start","bottom-end","bottom-start"]}),B({padding:8})],whileElementsMounted:O}),me=I(y),fe=D(y),ge=_(y),be=I(v),we=D(v),je=_(v),ye=I(C),ve=D(C),Ce=_(C),{getReferenceProps:ls,getFloatingProps:Ne}=H([me,fe,ge]),{getReferenceProps:ke,getFloatingProps:Me}=H([be,we,je]),{getReferenceProps:Ee,getFloatingProps:Pe}=H([ye,ve,Ce]),d=Ze.whatsapp_advisors||[];n.useEffect(()=>{k&&s&&re(k.some(t=>t.id===s.id))},[k,s]),n.useEffect(()=>{s!=null&&s.id&&(Ae(s),Fe(s))},[s]),n.useEffect(()=>{const o=setTimeout(()=>{if(R.current){const a=R.current.scrollHeight>150;le(a)}if($.current){const a=$.current.scrollHeight>150;ie(a)}},100);return()=>clearTimeout(o)},[s,s==null?void 0:s.specifications]);const Se=()=>{i?(z(!1),M({x:50,y:50})):z(!0)},Re=t=>{i&&(E(!0),V({x:t.clientX,y:t.clientY}))},A=t=>{if(i&&!g){const o=W.current.getBoundingClientRect(),a=(t.clientX-o.left)/o.width*100,c=(t.clientY-o.top)/o.height*100;M({x:Math.max(0,Math.min(100,a)),y:Math.max(0,Math.min(100,c))})}else if(g&&i){const o=t.clientX-P.x,a=t.clientY-P.y;M(c=>({x:Math.max(0,Math.min(100,c.x-o/3)),y:Math.max(0,Math.min(100,c.y-a/3))})),V({x:t.clientX,y:t.clientY})}},K=()=>{E(!1)},$e=()=>{E(!1)};n.useEffect(()=>{if(g)return document.addEventListener("mousemove",A),document.addEventListener("mouseup",K),()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",K)}},[g,i,P]);const Ae=async t=>{try{await U.viewUpdate(t.id)}catch(o){console.error("Error updating view:",o)}},Fe=async t=>{try{console.log("Buscando productos relacionados para item:",t.id);const o={id:t==null?void 0:t.id},a=await U.productsRelations(o);if(console.log("Respuesta de productos relacionados:",a),!a){console.log("No se encontró respuesta de productos relacionados"),S([]);return}const te=Object.values(a);console.log("Productos relacionados encontrados:",te),S(te)}catch(o){console.error("Error fetching related products:",o),S([])}},Ie=t=>{if(t==null||t.preventDefault(),t==null||t.stopPropagation(),Y("consult"),d.length===1){const o=d[0],a=encodeURIComponent(`¡Hola! Tengo dudas sobre este producto: ${s==null?void 0:s.name}

¿Me pueden ayudar con más información?`);window.open(`https://wa.me/${o.phone}?text=${a}`,"_blank")}else d.length>1&&x(!p)},De=t=>{if(t==null||t.preventDefault(),t==null||t.stopPropagation(),Y("consult-mobile"),d.length===1){const o=d[0],a=encodeURIComponent(`¡Hola! Tengo dudas sobre este producto: ${s==null?void 0:s.name}

¿Me pueden ayudar con más información?`);window.open(`https://wa.me/${o.phone}?text=${a}`,"_blank")}else d.length>1&&x(!p)},_e=t=>{const a=encodeURIComponent(r==="quote"?`¡Hola! Me gustaría cotizar este producto: ${s==null?void 0:s.name}

Cantidad: ${l} unidades

¿Podrían enviarme más información y precios?`:`¡Hola! Tengo dudas sobre este producto: ${s==null?void 0:s.name}

¿Me pueden ayudar con más información?`);window.open(`https://wa.me/${t.phone}?text=${a}`,"_blank"),x(!1)},J=t=>{const o=structuredClone(h),a=o.findIndex(c=>c.id==(t==null?void 0:t.id));a==-1?o.push({...t,quantity:l}):o[a].quantity+=l,Z(o),console.log(`Producto ${t==null?void 0:t.name} agregado al carrito con cantidad: ${l}`)},f=t=>t?new Intl.NumberFormat("es-PE",{style:"currency",currency:"PEN",minimumFractionDigits:2}).format(t):"Consultar precio",He=t=>{const o=parseFloat(t)||0;return Array.from({length:5},(a,c)=>e.jsx(Ge,{className:`w-4 h-4 ${c<Math.floor(o)?"text-yellow-400 fill-current":"text-gray-300"}`},c))},N=(s==null?void 0:s.price)&&(s==null?void 0:s.final_price)&&parseFloat(s.price)>parseFloat(s.final_price),qe=N?Math.round((parseFloat(s.price)-parseFloat(s.final_price))/parseFloat(s.price)*100):0,u=h==null?void 0:h.find(t=>t.id==(s==null?void 0:s.id)),ee=(u==null?void 0:u.quantity)||0,se=[{url:s==null?void 0:s.image,type:"main",alt:"Imagen principal"},...((s==null?void 0:s.images)||[]).filter((t,o,a)=>o===a.findIndex(c=>c.url===t.url)).map((t,o)=>({url:t.url,type:"gallery",index:o,alt:`Imagen ${o+1}`}))];return e.jsxs("div",{className:"bg-white min-h-screen overflow-x-hidden",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 lg:py-8",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 lg:gap-12",children:[e.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[e.jsxs("div",{className:"relative bg-white rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:`aspect-square flex items-center justify-center p-4 lg:p-8 relative ${i?"cursor-zoom-out":"cursor-zoom-in"}`,onClick:Se,onMouseDown:Re,onMouseMove:A,onMouseLeave:$e,children:[e.jsx("img",{ref:W,src:m.url?`/storage/images/item/${m.url}`:"/api/cover/thumbnail/null",alt:(s==null?void 0:s.name)||"Producto",className:`w-full h-full object-contain transition-transform duration-300 ${i?"scale-150":"scale-100"}`,style:i?{transformOrigin:`${T.x}% ${T.y}%`}:{},onError:t=>{t.target.src="/api/cover/thumbnail/null"}}),e.jsx("div",{className:"absolute top-4 left-4 bg-black bg-opacity-50 text-white px-2 py-2 rounded text-sm",children:i?e.jsx(ze,{className:"w-4 h-4"}):e.jsx(Te,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"absolute top-4 right-4 space-y-2",children:(s==null?void 0:s.is_new)&&e.jsx("div",{className:"bg-accent customtext-primary px-3 py-2 rounded-full text-sm font-bold",children:"¡Nuevo!"})}),e.jsx("div",{className:"absolute bottom-4 right-4 flex space-x-2",children:e.jsx("button",{onClick:()=>{var t;(t=navigator.share)!=null&&t.call(navigator,{title:s==null?void 0:s.name,text:s==null?void 0:s.description,url:window.location.href})||navigator.clipboard.writeText(window.location.href),Le.success("Enlace copiado al portapapeles")},className:"w-10 h-10 bg-secondary  backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all shadow-lg",children:e.jsx(Ve,{className:"w-5 h-5 text-white"})})})]}),se.length>1&&e.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2",children:se.map((t,o)=>e.jsx("button",{onClick:()=>ae(t),className:`aspect-square bg-white rounded-lg overflow-hidden border-2 transition-all hover:border-primary ${m.url===t.url?"border-primary":"border-gray-200"}`,children:e.jsx("img",{src:`/storage/images/item/${t.url}`,alt:t.alt,className:"w-full h-full object-contain p-2",onError:a=>{a.target.src="/api/cover/thumbnail/null"}})},o))})]}),e.jsx("div",{className:"lg:hidden ",children:e.jsxs("div",{className:"text-start",children:[e.jsx("div",{className:"text-3xl sm:text-4xl font-bold font-title customtext-neutral-dark",children:f((s==null?void 0:s.final_price)||(s==null?void 0:s.price))}),N&&e.jsxs("div",{className:"flex items-center justify-start space-x-2 mt-2",children:[e.jsx("span",{className:"text-base customtext-neutral-light line-through",children:f(s.price)}),e.jsxs("span",{className:"bg-red-100 customtext-secondary px-2 py-1 rounded-full text-xs font-bold",children:["Ahorras ",f(parseFloat(s.price)-parseFloat(s.final_price))]})]})]})}),e.jsxs("div",{className:"space-y-4 lg:space-y-6 pb-20 lg:pb-0",children:[e.jsxs("div",{className:"flex flex-row text-sm items-center  gap-8",children:[(s==null?void 0:s.sku)&&e.jsxs("span",{children:[e.jsx("span",{className:"font-bold",children:"SKU:"})," ",s==null?void 0:s.sku]}),(s==null?void 0:s.stock)&&e.jsxs("span",{children:[e.jsx("span",{className:"font-bold",children:"Disponibilidad:"})," ",(s==null?void 0:s.stock)>0?"En stock":"Agotado"]})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl xl:text-5xl font-title font-semibold customtext-neutral-dark mb-3",children:s==null?void 0:s.name}),e.jsx("div",{className:"flex items-center space-x-4 mb-4",children:(s==null?void 0:s.rating)&&e.jsxs("div",{className:"flex items-center space-x-1",children:[He(s.rating),e.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["(",parseFloat(s.rating).toFixed(1),")"]})]})})]}),e.jsx("div",{className:"hidden lg:block bg-white ",children:e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[N&&e.jsxs("div",{className:"flex text-sm customtext-neutral-dark font-semibold items-center space-x-2 mt-1",children:["Precio: "," ",e.jsx("span",{className:"  line-through",children:f(s.price)})]}),e.jsxs("div",{className:"text-4xl flex items-center gap-4 font-bold font-title customtext-neutral-dark",children:[f((s==null?void 0:s.final_price)||(s==null?void 0:s.price)),N&&e.jsxs("div",{className:"bg-secondary text-white px-3 py-2 rounded-full text-base  font-medium",children:["-",qe,"%"]})]})]})})}),e.jsxs("div",{className:" customtext-neutral-dark",children:[e.jsx("p",{className:"font-bold",children:"Descripción:"}),e.jsx("div",{ref:R,className:"prose max-w-none customtext-neutral-light transition-all duration-300 ",dangerouslySetInnerHTML:{__html:(s==null?void 0:s.description)||"<p>Sin descripción disponible.</p>"}})]}),(s==null?void 0:s.specifications)&&Array.isArray(s.specifications)&&s.specifications.length>0&&e.jsxs("div",{className:"",children:[e.jsx("div",{ref:$,className:`space-y-3 transition-all duration-300 ${j?"":"max-h-40 overflow-hidden"}`,children:s.specifications.map((t,o)=>t.type==="general"&&e.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[e.jsx(We,{className:"customtext-secondary w-4 h-4 flex-shrink-0"}),e.jsxs("span",{className:"font-bold customtext-neutral-dark",children:[t.title||"Especificación",":"]}),e.jsx("span",{className:"customtext-neutral-light",children:t.description||t.value||"No especificado"})]},o))}),ce&&e.jsxs("button",{onClick:()=>ne(!j),className:"mt-4 customtext-secondary hover:customtext-neutral-dark font-medium transition-colors flex items-center gap-2 text-sm",children:[j?"Ver menos":"Ver más características",e.jsx(Xe,{className:`w-4 h-4 transform transition-transform ${j?"rotate-90":""}`})]})]}),e.jsxs("div",{className:"hidden lg:block bg-white",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"space-y-4 mt-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-bold customtext-neutral-dark",children:"Cantidad"}),e.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border border-gray-200 p-1",children:[e.jsx("button",{onClick:()=>b(Math.max(1,l-1)),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-xl",disabled:l<=1,children:"−"}),e.jsx("div",{className:"w-16 h-10 flex items-center justify-center",children:e.jsx("span",{className:"customtext-neutral-dark font-bold text-lg",children:l})}),e.jsx("button",{onClick:()=>b(Math.min(10,l+1)),className:"w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-xl",disabled:l>=10,children:"+"})]})]})})}),e.jsxs("div",{className:"space-y-3 mt-6",children:[e.jsxs("button",{onClick:()=>J(s),className:`w-full py-4 px-6 rounded-full font-bold flex items-center justify-center space-x-2 hover:scale-105 transition-all shadow-lg hover:shadow-xl transform duration-500 ${u?"bg-secondary text-white":"bg-primary customtext-neutral-dark"}`,children:[e.jsx("span",{children:u?`En carrito (${ee})`:"Agregar al carrito"}),e.jsxs("svg",{width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M8.5 16H15.7632C20.2508 16 20.9333 13.1808 21.761 9.06908C21.9998 7.88311 22.1192 7.29013 21.8321 6.89507C21.545 6.5 20.9947 6.5 19.8941 6.5H6.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M8.5 16L5.87873 3.51493C5.65615 2.62459 4.85618 2 3.93845 2H3",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M9.38 16H8.96857C7.60522 16 6.5 17.1513 6.5 18.5714C6.5 18.8081 6.6842 19 6.91143 19H18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M11 22C11.8284 22 12.5 21.3284 12.5 20.5C12.5 19.6716 11.8284 19 11 19C10.1716 19 9.5 19.6716 9.5 20.5C9.5 21.3284 10.1716 22 11 22Z",stroke:"currentColor","stroke-width":"1.5"}),e.jsx("path",{d:"M18 22C18.8284 22 19.5 21.3284 19.5 20.5C19.5 19.6716 18.8284 19 18 19C17.1716 19 16.5 19.6716 16.5 20.5C16.5 21.3284 17.1716 22 18 22Z",stroke:"currentColor","stroke-width":"1.5"})]})]}),e.jsxs("button",{ref:Q.setReference,...ke(),onClick:t=>Ie(t),className:"w-full bg-green-600 text-white py-4 px-6 rounded-full font-bold flex items-center justify-center space-x-2 hover:scale-105 transition-all shadow-lg hover:shadow-xl transform duration-500",children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})}),e.jsx("span",{children:"Consultar por WhatsApp"})]})]})]})]})]}),console.log("RelationsItems en render:",w),w&&w.length>0&&e.jsx(Oe,{items:w,data:{title:"Productos relacionados",description:"Descubre otros productos cuidadosamente seleccionados que complementan perfectamente tu compra. Nuestra selección incluye productos de alta calidad de las mejores marcas veterinarias para el cuidado integral de tu mascota.",link_catalog:"/catalogo",class_content:"",class_header:"",type_card:"katya",swiper:{slidesPerView:1,grid:{fill:"row",rows:1},breakpoints:{640:{slidesPerView:2,spaceBetween:15},768:{slidesPerView:3,spaceBetween:20},1024:{slidesPerView:4,spaceBetween:20},1280:{slidesPerView:4,spaceBetween:20}}},class_button:"bg-secondary text-white hover:bg-accent hover:customtext-primary"},setCart:Z,cart:h})]}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-40 shadow-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center bg-gray-50 rounded-xl border border-gray-200 p-1",children:[e.jsx("button",{onClick:()=>b(Math.max(1,l-1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:l<=1,children:"−"}),e.jsx("div",{className:"w-12 h-8 flex items-center justify-center",children:e.jsx("span",{className:"customtext-neutral-dark font-bold text-sm",children:l})}),e.jsx("button",{onClick:()=>b(Math.min(10,l+1)),className:"w-8 h-8 flex items-center justify-center rounded-lg hover:bg-white hover:shadow-sm active:scale-95 transition-all duration-200 customtext-neutral-dark font-bold text-lg",disabled:l>=10,children:"+"})]}),e.jsxs("button",{onClick:()=>J(s),className:`flex-1 py-3 px-4 rounded-xl font-bold flex items-center justify-center space-x-2 transition-all shadow-lg active:scale-95 ${u?"bg-primary customtext-neutral-dark":"bg-primary customtext-neutral-dark hover:bg-accent"}`,children:[e.jsxs("svg",{width:"20",height:"19",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M8.5 16H15.7632C20.2508 16 20.9333 13.1808 21.761 9.06908C21.9998 7.88311 22.1192 7.29013 21.8321 6.89507C21.545 6.5 20.9947 6.5 19.8941 6.5H6.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M8.5 16L5.87873 3.51493C5.65615 2.62459 4.85618 2 3.93845 2H3",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),e.jsx("path",{d:"M9.38 16H8.96857C7.60522 16 6.5 17.1513 6.5 18.5714C6.5 18.8081 6.6842 19 6.91143 19H18",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e.jsx("path",{d:"M11 22C11.8284 22 12.5 21.3284 12.5 20.5C12.5 19.6716 11.8284 19 11 19C10.1716 19 9.5 19.6716 9.5 20.5C9.5 21.3284 10.1716 22 11 22Z",stroke:"currentColor","stroke-width":"1.5"}),e.jsx("path",{d:"M18 22C18.8284 22 19.5 21.3284 19.5 20.5C19.5 19.6716 18.8284 19 18 19C17.1716 19 16.5 19.6716 16.5 20.5C16.5 21.3284 17.1716 22 18 22Z",stroke:"currentColor","stroke-width":"1.5"})]}),e.jsx("span",{className:"text-sm",children:u?`En carrito (${ee})`:"Agregar al Carrito"})]}),e.jsx("button",{ref:G.setReference,...Ee(),onClick:t=>De(t),className:"bg-green-600 text-white p-3 rounded-xl hover:bg-green-700 transition-all shadow-lg active:scale-95",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]})}),e.jsx(Ye,{children:de&&e.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:()=>X(!1),children:e.jsxs(oe.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},className:"relative max-w-4xl max-h-full",onClick:t=>t.stopPropagation(),children:[e.jsx("button",{onClick:()=>X(!1),className:"absolute top-4 right-4 text-white bg-black bg-opacity-50 rounded-full p-2 hover:bg-opacity-75 transition-all z-10",children:e.jsx(Qe,{className:"w-6 h-6"})}),e.jsx("img",{src:m.url?`/storage/images/item/${m.url}`:"/api/cover/thumbnail/null",alt:s==null?void 0:s.name,className:"max-w-full max-h-full object-contain rounded-lg",onError:t=>{t.target.src="/api/cover/thumbnail/null"}})]})})}),p&&d.length>1&&e.jsx(Ue,{context:r==="consult"?v:r==="consult-mobile"?C:y,modal:!1,children:e.jsxs("div",{ref:r==="consult"?Q.setFloating:r==="consult-mobile"?G.setFloating:ue.setFloating,style:r==="consult"?xe:r==="consult-mobile"?he:pe,...r==="consult"?Me():r==="consult-mobile"?Pe():Ne(),className:"bg-white rounded-2xl shadow-2xl overflow-hidden border border-gray-100 z-[1000]",children:[e.jsxs("div",{className:"bg-primary p-4 text-white",children:[e.jsx("h3",{className:"font-bold text-base",children:"Elige un asesor"}),e.jsx("p",{className:"text-xs text-white mt-1",children:r==="quote"?"¿Con quién quieres cotizar?":"¿Con quién quieres hablar?"})]}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",style:{minWidth:"280px",maxWidth:"320px"},children:d.map((t,o)=>{var a;return e.jsxs("button",{onClick:()=>_e(t),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 text-left",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden border-2 border-primary",children:t.photo?e.jsx("img",{src:`/assets/resources/${t.photo}`,alt:t.name,className:"w-full h-full object-cover",onError:c=>{c.target.src="/assets/img/placeholder-user.png"}}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center text-white text-lg font-bold",children:(a=t.name)==null?void 0:a.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.position||"Asesor"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 text-green-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.892 3.386"})})})]},o)})})]})})]})};export{rt as default};

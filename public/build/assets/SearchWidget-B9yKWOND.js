import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BOnQTV8N.js";import{D as x}from"./index.es-DmNPuacW.js";import"./SearchWidget-D7iHOckK.js";import{e as p}from"./es-BvH-nRcN.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./floating-ui.react-GLcD_k_x.js";import"./floating-ui.dom-VJ4vUqp9.js";import"./index-pSueRYGM.js";import"./index-B6ujFmsw.js";const $=({onSearch:d,className:f=""})=>{const[r,b]=l.useState(null),[c,m]=l.useState(null),[o,g]=l.useState(2),[h,j]=l.useState(""),[i,u]=l.useState(!1),[a,n]=l.useState({}),y={"":"Todos los tipos",standard:"Estándar",suite:"Suite",deluxe:"Deluxe",presidential:"Presidencial",family:"Familiar",executive:"Ejecutiva"},N=()=>{const s={},t=new Date;return t.setHours(0,0,0,0),r?r<t&&(s.checkIn="La fecha de entrada no puede ser anterior a hoy"):s.checkIn="Selecciona la fecha de entrada",c?c<=r&&(s.checkOut="La fecha de salida debe ser posterior a la entrada"):s.checkOut="Selecciona la fecha de salida",o<1&&(s.guests="Debe haber al menos 1 huésped"),n(s),Object.keys(s).length===0},k=async s=>{if(s.preventDefault(),!!N()){u(!0);try{const t={check_in:r.toISOString().split("T")[0],check_out:c.toISOString().split("T")[0],guests:o,room_type:h||void 0};d&&await d(t)}catch(t){console.error("Error al buscar habitaciones:",t)}finally{u(!1)}}},v=s=>{if(b(s),c&&c<=s){const t=new Date(s);t.setDate(t.getDate()+1),m(t)}a.checkIn&&n({...a,checkIn:null})},S=s=>{m(s),a.checkOut&&n({...a,checkOut:null})};return e.jsx("div",{className:`${f}`,children:e.jsx("div",{className:"bg-white rounded-lg shadow-lg",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-center text-2xl font-bold text-gray-900 mb-6",children:[e.jsx("i",{className:"fas fa-search mr-2 text-primary"}),"Buscar Habitaciones Disponibles"]}),e.jsx("form",{onSubmit:k,children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-calendar-check mr-2 text-green-600"}),"Fecha de Entrada"]}),e.jsx(x,{selected:r,onChange:v,selectsStart:!0,startDate:r,endDate:c,minDate:new Date,dateFormat:"dd/MM/yyyy",locale:p,placeholderText:"Selecciona fecha",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all ${a.checkIn?"border-red-500":"border-gray-300"}`}),a.checkIn&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.checkIn})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-calendar-times mr-2 text-red-600"}),"Fecha de Salida"]}),e.jsx(x,{selected:c,onChange:S,selectsEnd:!0,startDate:r,endDate:c,minDate:r||new Date,dateFormat:"dd/MM/yyyy",locale:p,placeholderText:"Selecciona fecha",className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all ${a.checkOut?"border-red-500":"border-gray-300"}`}),a.checkOut&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.checkOut})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-users mr-2 text-blue-600"}),"Número de Huéspedes"]}),e.jsx("select",{className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all ${a.guests?"border-red-500":"border-gray-300"}`,value:o,onChange:s=>{g(parseInt(s.target.value)),a.guests&&n({...a,guests:null})},children:[1,2,3,4,5,6,7,8,9,10].map(s=>e.jsxs("option",{value:s,children:[s," ",s===1?"huésped":"huéspedes"]},s))}),a.guests&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.guests})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-bed mr-2 text-indigo-600"}),"Tipo de Habitación"]}),e.jsx("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all",value:h,onChange:s=>j(s.target.value),children:Object.entries(y).map(([s,t])=>e.jsx("option",{value:s,children:t},s))})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsx("button",{type:"submit",className:`w-full py-4 px-6 rounded-lg font-semibold text-white transition-all ${i?"bg-gray-400 cursor-not-allowed":"bg-primary hover:bg-primary-dark shadow-lg hover:shadow-xl transform hover:scale-[1.02]"}`,disabled:i,children:i?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"inline-block animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Buscando..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("i",{className:"fas fa-search"}),"Buscar Habitaciones"]})})}),r&&c&&e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[e.jsx("i",{className:"fas fa-info-circle mr-2 text-blue-600"}),e.jsxs("span",{className:"text-blue-800",children:[e.jsxs("strong",{children:[Math.ceil((c-r)/(1e3*60*60*24))," noche(s)"]})," ","del ",r.toLocaleDateString("es-ES")," al ",c.toLocaleDateString("es-ES")]})]})})]})})]})})})};export{$ as default};

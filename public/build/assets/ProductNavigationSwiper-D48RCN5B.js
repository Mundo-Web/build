import{j as s}from"./AboutSimple-Cf8x2fCZ.js";import{r as o}from"./index-BH53Isel.js";import"./ProductNavigation-Bt6noQL2.js";import{a as f}from"./adjustTextColor-FzLvY4Q1.js";import"./ProductCard-C2H10lUi.js";import{I as g}from"./ItemsRest-DBSKIEqF.js";import{i as h}from"./tippy-react.esm-BWiGTO87.js";/* empty css              */import{S as d,a as b}from"./BlogCarousel-DpjB9swg.js";import{N as j}from"./navigation-CLaRFmip.js";/* empty css               */import"./InfiniteCategory-BwYXk1Kq.js";import{A as p}from"./arrow-left-DT1uGo8v.js";import{A as u}from"./arrow-right-DR00rP9v.js";import"./index-yBjzXJbu.js";import"./HeaderSearch-CxI2oPvb.js";import"./main-BSEyQEJW.js";import"./___vite-browser-external_commonjs-proxy-0zb4Agf2.js";import"./index-Bv81MoWS.js";import"./index-fNjTmf9T.js";import"./index-Chjiymov.js";import"./CartItemRow-BhtCHp_j.js";import"./Number2Currency-e57Tgsuk.js";import"./minus-jyhodMPN.js";import"./createLucideIcon-Cy5Ya80P.js";import"./plus-Bot15Khs.js";import"./BasicRest-DEv02zgs.js";import"./index-rimy3MAc.js";import"./create-element-if-not-defined-BzEE3aGu.js";const N=({product:e,setCart:t,cart:n})=>{const m=new g,[r,a]=o.useState([]),l=async i=>{try{const c={slug:i==null?void 0:i.slug,limit:5},x=await m.getVariations(c);if(!x)return;console.log(x),a(x.variants)}catch{return}};return o.useEffect(()=>{e!=null&&e.id&&l(e)},[e]),n==null||n.find(i=>i.id==(e==null?void 0:e.id)),(e==null?void 0:e.discount)>0?e==null||e.discount:e==null||e.price,s.jsxs("div",{className:"group w-full transition-transform duration-300 hover:scale-105 flex-shrink-0 font-font-general customtext-primary cursor-pointer",children:["   ",s.jsx("a",{href:`/item/${e.slug}`,children:s.jsxs("div",{className:"bg-white p-0 sm:p-4",children:[s.jsxs("div",{className:"relative",children:[e.discount!=null&&!isNaN(e.discount)&&s.jsxs("span",{className:"absolute top-8 right-0 bg-[#F93232] text-white text-base font-bold px-2 py-1 rounded-l-full",children:["-",Math.abs(Number(100-Number((e==null?void 0:e.discount)*100/(e==null?void 0:e.price)))).toFixed(0),"%"]}),s.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden flex items-center justify-center  bg-secondary",children:s.jsx("img",{src:`/storage/images/item/${e.image}`,onError:i=>i.target.src="/assets/img/noimage/no_img.jpg",alt:e.name,className:"w-full h-full object-cover",loading:"lazy"})})]}),s.jsxs("div",{className:"py-4",children:[s.jsx("p",{className:"text-sm sm:text-base font-bold mb-1",children:e.category.name}),s.jsx("div",{className:"flex gap-3 items-center justify-start w-full flex-wrap",children:r.map(i=>s.jsx(h,{content:i.color,children:s.jsx("a",{href:`/item/${i.slug}`,className:"variant-option  rounded-full object-fit-cover ",children:s.jsx("img",{className:"color-box rounded-full h-9 w-9 object-fit-cover ",src:`/storage/images/item/${i.texture||i.image}`})},i.slug)}))}),s.jsx("h3",{className:"text-base sm:text-lg lg:text-xl font-bold mb-2 line-clamp-2 leading-tight",children:e.name}),s.jsxs("div",{className:"flex items-baseline gap-4 mt-4",children:[s.jsxs("span",{className:"text-lg sm:text-xl md:text-2xl font-bold",children:["S/ ",e.final_price]}),e.discount!=null&&!isNaN(e.discount)&&s.jsxs("span",{className:"text-xs sm:text-base font-bold line-through opacity-60",children:["S/ ",e.price]})]})]})]})})]},e.id)},X=({items:e,data:t,setCart:n,cart:m})=>{const r=o.useRef(null),a=o.useRef(null);return o.useEffect(()=>{f(r.current),f(a.current)},[]),s.jsx("section",{className:"pt-10 lg:pt-16",children:s.jsxs("div",{className:"px-primary w-full font-font-general",children:[(t==null?void 0:t.title)&&s.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center pb-4",children:[s.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-[42px] 2xl:text-5xl font-semibold tracking-normal customtext-neutral-dark max-w-5xl 2xl:max-w-6xl",children:t==null?void 0:t.title}),s.jsx("a",{href:t==null?void 0:t.link_catalog,className:"bg-primary transition-all duration-300 text-white border-none items-center px-10 py-3 text-base rounded-full font-semibold cursor-pointer hover:opacity-90",children:"Ver todos"})]}),s.jsxs("div",{className:"relative pt-5",children:[s.jsx(d,{modules:[j],navigation:{prevEl:r.current,nextEl:a.current},onInit:l=>{l.params.navigation.prevEl=r.current,l.params.navigation.nextEl=a.current,l.navigation.init(),l.navigation.update()},spaceBetween:20,slidesPerView:1,breakpoints:{0:{slidesPerView:2,spaceBetween:10},768:{slidesPerView:3},1280:{slidesPerView:4},1550:{slidesPerView:5}},children:e.map((l,i)=>s.jsx(b,{children:s.jsx(N,{product:l,setCart:n,cart:m})},i))}),s.jsx("button",{ref:r,className:"absolute top-1/2 -left-4 z-10 w-10 h-10 sm:w-16 sm:h-16 flex items-center justify-center bg-secondary rounded-full disabled:opacity-50 disabled:cursor-not-allowed -translate-y-1/2","aria-label":"Productos anteriores",children:s.jsx(p,{width:"2rem",className:"customtext-primary"})}),s.jsx("button",{ref:a,className:"absolute top-1/2 -right-4 z-10 w-10 h-10 sm:w-16 sm:h-16 flex items-center justify-center bg-secondary rounded-full disabled:opacity-50 disabled:cursor-not-allowed -translate-y-1/2","aria-label":"Siguientes productos",children:s.jsx(u,{width:"2rem",className:"customtext-primary"})})]})]})})};export{X as default};

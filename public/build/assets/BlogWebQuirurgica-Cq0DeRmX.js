import{j as r}from"./AboutSimple-Cf8x2fCZ.js";import{r as c}from"./index-BOnQTV8N.js";import{C as k}from"./calendar-BSC6xbA7.js";import{C as E}from"./clock-BLXQcN-l.js";import{A as S}from"./arrow-right-MB8dWH_Y.js";import{T as O}from"./TextWithHighlight-de4cdOrr.js";import{L as F}from"./Loading-B-FwDSWi.js";import{N as H}from"./NoResult-DlL_OOrq.js";import{u as Q}from"./use-in-view-BRQ0f5QP.js";import{G}from"./grid-3x3-BmM0xOzs.js";import{c as Z}from"./createLucideIcon-DfjclApS.js";import{C as q}from"./chevron-down-uIVDLcM-.js";import{C as J}from"./check-D5vaIe6v.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./resolve-elements-WL2ErOKm.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=Z("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);function M({data:n,featured:d=!1,compact:x=!1,listView:u=!1,post:e}){var b,m,y,g;const f=l=>l?new Date(l).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"",j=(l,t=150)=>{if(!l)return"";const o=document.createElement("div");o.innerHTML=l;const h=o.textContent||o.innerText||"";return h.length>t?h.substring(0,t)+"...":h},v=l=>{if(!l)return"5 min";const t=200,h=j(l,1e4).split(" ").length;return`${Math.ceil(h/t)} min`};return d?r.jsx("article",{className:"group h-full",children:r.jsx("a",{href:`/post/${e==null?void 0:e.slug}`,className:"block h-full",children:r.jsxs("div",{className:"bg-white shadow-lg rounded-3xl overflow-hidden hover:shadow-2xl hover:-translate-y-1 transform transition-all duration-300 h-full flex flex-col",children:[r.jsxs("div",{className:"relative overflow-hidden aspect-[16/10] bg-gray-200",children:[r.jsx("img",{src:e!=null&&e.image?`/storage/images/post/${e==null?void 0:e.image}`:"/assets/img/noimage/no_img.jpg",alt:(e==null?void 0:e.title)||(e==null?void 0:e.name),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:l=>{l.target.src="/assets/img/noimage/no_img.jpg"}}),(e==null?void 0:e.category)&&r.jsx("div",{className:"absolute top-6 left-6 z-10",children:r.jsx("span",{className:"px-4 py-2 bg-primary text-white text-sm font-medium rounded-full shadow-lg",children:(b=e.category)==null?void 0:b.name})})]}),r.jsxs("div",{className:"p-8 flex flex-col flex-grow bg-white",children:[r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(k,{size:16}),r.jsx("span",{children:f(e==null?void 0:e.created_at)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(E,{size:16}),r.jsx("span",{children:v(e==null?void 0:e.description)})]})]}),r.jsx("h3",{className:"text-2xl md:text-3xl font-semibold text-gray-900 mb-4 group-hover:text-primary transition-colors line-clamp-2",children:(e==null?void 0:e.title)||(e==null?void 0:e.name)}),r.jsx("p",{className:"text-gray-700 font-normal leading-relaxed mb-6 line-clamp-3 flex-grow",children:j((e==null?void 0:e.extract)||(e==null?void 0:e.description),180)}),r.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium group-hover:gap-4 transition-all duration-300",children:[r.jsx("span",{children:"Leer más"}),r.jsx(S,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})}):x?r.jsx("article",{className:"group h-full",children:r.jsx("a",{href:`/post/${e==null?void 0:e.slug}`,className:"block h-full",children:r.jsxs("div",{className:"bg-white shadow-lg rounded-3xl overflow-hidden hover:shadow-2xl hover:-translate-y-1 transform transition-all duration-300 h-full flex",children:[r.jsx("div",{className:"relative overflow-hidden w-2/5 bg-gray-200",children:r.jsx("img",{src:e!=null&&e.image?`/storage/images/post/${e==null?void 0:e.image}`:"/assets/img/noimage/no_img.jpg",alt:(e==null?void 0:e.title)||(e==null?void 0:e.name),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:l=>{l.target.src="/assets/img/noimage/no_img.jpg"}})}),r.jsxs("div",{className:"p-6 w-3/5 flex flex-col justify-between bg-white",children:[(e==null?void 0:e.category)&&r.jsx("span",{className:"text-primary text-sm font-medium mb-2 inline-block",children:(m=e.category)==null?void 0:m.name}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3 group-hover:text-primary transition-colors line-clamp-2",children:(e==null?void 0:e.title)||(e==null?void 0:e.name)}),r.jsx("p",{className:"text-gray-700 text-sm leading-relaxed line-clamp-2 mb-4",children:j((e==null?void 0:e.extract)||(e==null?void 0:e.description),100)}),r.jsx("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(k,{size:14}),r.jsx("span",{children:f(e==null?void 0:e.created_at)})]})})]})]})})}):u?(console.log("Rendering list view for post:",e==null?void 0:e.title),r.jsx("article",{className:"group h-full min-h-[300px]",children:r.jsx("a",{href:`/post/${e==null?void 0:e.slug}`,className:"block h-full",children:r.jsxs("div",{className:"bg-white shadow-lg rounded-3xl overflow-hidden hover:shadow-2xl hover:-translate-y-1 transform transition-all duration-300 flex flex-row h-full",children:[r.jsxs("div",{className:"relative w-2/5 flex-shrink-0 bg-gray-200",children:[r.jsx("img",{src:e!=null&&e.image?`/storage/images/post/${e==null?void 0:e.image}`:"/assets/img/noimage/no_img.jpg",alt:(e==null?void 0:e.title)||(e==null?void 0:e.name),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:l=>{l.target.src="/assets/img/noimage/no_img.jpg"}}),(e==null?void 0:e.category)&&r.jsx("div",{className:"absolute top-4 left-4 z-10",children:r.jsx("span",{className:"px-4 py-2 bg-primary text-white text-xs font-medium rounded-full shadow-lg",children:(y=e.category)==null?void 0:y.name})})]}),r.jsxs("div",{className:"p-6 md:p-8 w-3/5 flex flex-col justify-between bg-white",children:[r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(k,{size:16}),r.jsx("span",{children:f(e==null?void 0:e.created_at)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(E,{size:16}),r.jsx("span",{children:v(e==null?void 0:e.description)})]})]}),r.jsx("h3",{className:"text-xl md:text-2xl font-semibold text-gray-900 group-hover:text-primary transition-colors line-clamp-2 mb-3",children:(e==null?void 0:e.title)||(e==null?void 0:e.name)}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed line-clamp-2 mb-4 flex-grow",children:j((e==null?void 0:e.extract)||(e==null?void 0:e.description),150)}),r.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium group-hover:gap-4 transition-all duration-300",children:[r.jsx("span",{children:"Leer más"}),r.jsx(S,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})})):(console.log("Rendering grid view for post:",e==null?void 0:e.title),r.jsx("article",{className:"group h-full",children:r.jsx("a",{href:`/post/${e==null?void 0:e.slug}`,className:"block h-full",children:r.jsxs("div",{className:"bg-white shadow-lg rounded-3xl overflow-hidden hover:shadow-2xl hover:-translate-y-1 transform transition-all duration-300 h-full flex flex-col min-h-[450px]",children:[r.jsxs("div",{className:"relative overflow-hidden aspect-[16/10] bg-gray-200",children:[r.jsx("img",{src:e!=null&&e.image?`/storage/images/post/${e==null?void 0:e.image}`:"/assets/img/noimage/no_img.jpg",alt:(e==null?void 0:e.title)||(e==null?void 0:e.name),className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:l=>{l.target.src="/assets/img/noimage/no_img.jpg"}}),(e==null?void 0:e.category)&&r.jsx("div",{className:"absolute top-4 left-4 z-10",children:r.jsx("span",{className:"px-4 py-2 bg-primary text-white text-xs font-medium rounded-full shadow-lg",children:(g=e.category)==null?void 0:g.name})})]}),r.jsxs("div",{className:"p-6 flex flex-col flex-grow bg-white",children:[r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(k,{size:14}),r.jsx("span",{children:f(e==null?void 0:e.created_at)})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(E,{size:14}),r.jsx("span",{children:v(e==null?void 0:e.description)})]})]}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3 group-hover:text-primary transition-colors line-clamp-2 flex-grow",children:(e==null?void 0:e.title)||(e==null?void 0:e.name)}),r.jsx("p",{className:"text-base text-gray-600 leading-relaxed mb-4 line-clamp-3",children:j((e==null?void 0:e.extract)||(e==null?void 0:e.description),120)}),r.jsxs("div",{className:"flex items-center gap-2 text-primary font-medium group-hover:gap-4 transition-all duration-300",children:[r.jsx("span",{children:"Leer más"}),r.jsx(S,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]})]})})}))}const U=({data:n,headerPosts:d,filteredData:x})=>r.jsx("main",{className:"bg-sections-color",children:r.jsx("section",{className:"px-4 py-24",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-16",children:[r.jsxs("div",{className:"text-center space-y-6 max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-extralight text-primary leading-tight whitespace-pre-line",children:r.jsx(O,{text:(n==null?void 0:n.name)||"Nuestro *Blog*",color:"bg-primary font-light"})}),(n==null?void 0:n.description)&&r.jsx("p",{className:"text-lg text-neutral-dark font-light leading-relaxed whitespace-pre-line max-w-3xl mx-auto",children:r.jsx(O,{text:n.description,color:"bg-accent"})})]}),d&&d.length>0&&r.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[r.jsx("div",{className:"md:col-span-1",children:r.jsx(M,{data:n,featured:!0,post:d[0]})}),r.jsx("div",{className:"grid gap-8",children:d.slice(1,3).map(u=>r.jsx(M,{data:n,compact:!0,post:u},u.id))})]})]})})}),X=({data:n,postsLatest:d,posts:x,loading:u,setLoading:e,isFilter:f,setIsFilter:j,filteredData:v})=>{var B,P;const{categories:b}=v,[m,y]=c.useState("all"),[g,l]=c.useState("newest"),[t,o]=c.useState(1),[h,R]=c.useState([]),[N,T]=c.useState("grid"),[C,z]=c.useState(!1),L=c.useRef(null),_=9,A=c.useRef(null);Q(A,{once:!0});const $=[{value:"newest",label:"Más Recientes",icon:""},{value:"oldest",label:"Más Antiguos",icon:""},{value:"title-asc",label:"Título A-Z",icon:""},{value:"title-desc",label:"Título Z-A",icon:""}];c.useEffect(()=>{const a=s=>{L.current&&!L.current.contains(s.target)&&z(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),c.useEffect(()=>{let a=f&&x.length>0?x:d||[];m!=="all"&&(a=a.filter(s=>s.category&&s.category.name===m)),a=[...a].sort((s,i)=>{switch(g){case"newest":return new Date(i.created_at)-new Date(s.created_at);case"oldest":return new Date(s.created_at)-new Date(i.created_at);case"title-asc":const I=(s.title||s.name||"").toLowerCase(),V=(i.title||i.name||"").toLowerCase();return I.localeCompare(V);case"title-desc":const W=(s.title||s.name||"").toLowerCase();return(i.title||i.name||"").toLowerCase().localeCompare(W);default:return 0}}),R(a),o(1)},[m,g,x,d,f]);const w=Math.ceil(h.length/_),D=h.slice((t-1)*_,t*_);return r.jsx("section",{className:"bg-white py-24 px-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-12",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start md:items-center justify-between",children:[r.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.jsx("button",{onClick:()=>y("all"),className:`px-6 py-2 rounded-full text-sm font-light transition-all duration-300 border ${m==="all"?"bg-primary text-white border-primary":"bg-white text-neutral-dark border-gray-200 hover:border-primary hover:text-primary"}`,children:"Todas"}),b==null?void 0:b.map(a=>r.jsx("button",{onClick:()=>y(a.name),className:`px-6 py-2 rounded-full text-sm font-light transition-all duration-300 border whitespace-nowrap ${m===a.name?"bg-primary text-white border-primary":"bg-white text-neutral-dark border-gray-200 hover:border-primary hover:text-primary"}`,children:a.name},a.id))]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"flex border border-gray-200 rounded-full p-1 bg-white",children:[r.jsx("button",{onClick:()=>T("grid"),className:`p-2 rounded-full transition-all duration-300 ${N==="grid"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,title:"Vista en cuadrícula",children:r.jsx(G,{size:18})}),r.jsx("button",{onClick:()=>T("list"),className:`p-2 rounded-full transition-all duration-300 ${N==="list"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100"}`,title:"Vista en lista",children:r.jsx(K,{size:18})})]}),r.jsxs("div",{className:"relative",ref:L,children:[r.jsxs("button",{onClick:()=>z(!C),className:"flex items-center gap-2 px-4 py-2 rounded-full border-2 border-gray-300 bg-white text-gray-900 font-medium text-sm hover:border-blue-600 hover:text-blue-600 transition-all duration-300",children:[r.jsx("span",{children:(B=$.find(a=>a.value===g))==null?void 0:B.icon}),r.jsx("span",{children:(P=$.find(a=>a.value===g))==null?void 0:P.label}),r.jsx(q,{size:16,className:`transition-transform duration-300 ${C?"rotate-180":""}`})]}),C&&r.jsx("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white border-2 border-gray-300 rounded-2xl shadow-2xl z-50 overflow-hidden",children:$.map(a=>r.jsxs("button",{onClick:()=>{l(a.value),z(!1)},className:`w-full flex items-center justify-between px-4 py-3 text-sm font-medium transition-all duration-200 ${g===a.value?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-lg",children:a.icon}),r.jsx("span",{children:a.label})]}),g===a.value&&r.jsx(J,{size:18,className:"text-blue-600"})]},a.value))})]})]})]}),r.jsxs("div",{className:"text-gray-700 font-medium",children:["Mostrando ",r.jsx("span",{className:"font-bold text-gray-900",children:D.length})," de"," ",r.jsx("span",{className:"font-bold text-gray-900",children:h.length})," artículos"]}),u?r.jsx("div",{className:"flex justify-center py-20",children:r.jsx(F,{})}):D.length===0?r.jsx("div",{className:"py-20",children:r.jsx(H,{})}):r.jsx("div",{ref:A,className:N==="grid"?"grid md:grid-cols-2 lg:grid-cols-3 gap-8":"grid md:grid-cols-2 gap-8",children:D.map(a=>r.jsx("div",{style:{backgroundColor:"#fff",minHeight:"300px"},children:r.jsx(M,{data:n,post:a,listView:N==="list"})},a.id))}),w>1&&r.jsxs("div",{className:"flex justify-center items-center gap-2 pt-8",children:[r.jsx("button",{onClick:()=>o(a=>Math.max(a-1,1)),disabled:t===1,className:"px-4 py-2 rounded-full border border-gray-200 text-sm font-light text-neutral-dark disabled:opacity-50 disabled:cursor-not-allowed hover:border-primary hover:text-primary transition-all duration-300",children:"Anterior"}),r.jsx("div",{className:"flex gap-2",children:[...Array(w)].map((a,s)=>{const i=s+1;return i===1||i===w||i>=t-1&&i<=t+1?r.jsx("button",{onClick:()=>o(i),className:`w-10 h-10 rounded-full text-sm font-light transition-all duration-300 ${t===i?"bg-primary text-white":"border border-gray-200 text-neutral-dark hover:border-primary hover:text-primary"}`,children:i},i):i===t-2||i===t+2?r.jsx("span",{className:"px-2",children:"..."},i):null})}),r.jsx("button",{onClick:()=>o(a=>Math.min(a+1,w)),disabled:t===w,className:"px-4 py-2 rounded-full border border-gray-200 text-sm font-light text-neutral-dark disabled:opacity-50 disabled:cursor-not-allowed hover:border-primary hover:text-primary transition-all duration-300",children:"Siguiente"})]})]})})},ue=({data:n,headerPosts:d,filteredData:x,postsLatest:u})=>{const[e,f]=c.useState([]),[j,v]=c.useState(!1),[b,m]=c.useState(!1);return r.jsxs(r.Fragment,{children:[r.jsx(U,{data:n,headerPosts:d,filteredData:x}),r.jsx(X,{data:n,postsLatest:u,posts:e,loading:j,setLoading:v,isFilter:b,setIsFilter:m,filteredData:x})]})};export{ue as default};

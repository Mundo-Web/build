import{r as e,j as t,aj as a,E as i,J as l,bV as r,bl as s}from"./vendor-react-DD0uBW7s.js";import{T as n}from"./TextWithHighlight-BrOVA5V2.js";import{A as o,m as c}from"./vendor-motion-B85mKBc-.js";import"./vendor-swiper-BQwfPLwm.js";const d=({items:d,data:h,generals:m=[]})=>{const[u,x]=e.useState(0),[g,p]=e.useState(!0),[b,f]=e.useState(!1);e.useRef(null);const y=e.useRef(!1),v=e.useRef(0),w=e.useRef(0),j=(m?.find(e=>"phone_whatsapp"===e.correlative),m?.find(e=>"message_whatsapp"===e.correlative),d?.sort((e,t)=>(e.order_index||0)-(t.order_index||0))||[]),_=["center","left","right"].includes(h?.paginationAlignment),N=["yes","true","si"].includes(h?.showNavigation);e.useEffect(()=>{if(!g||j.length<=1)return;const e=setInterval(()=>{x(e=>(e+1)%j.length)},5e3);return()=>clearInterval(e)},[g,j.length]);const k=()=>{x(e=>(e+1)%j.length)},$=()=>{x(e=>(e-1+j.length)%j.length)};e.useEffect(()=>{if(j[u]){(e=>{const t=new Image;t.crossOrigin="anonymous",t.onload=function(){const e=document.createElement("canvas"),a=e.getContext("2d");e.width=t.width,e.height=t.height,a.drawImage(t,0,0);const i=a.getImageData(0,0,e.width,e.height).data;let l,r,s,n,o=0;for(let t=0,d=i.length;t<d;t+=4)l=i[t],r=i[t+1],s=i[t+2],n=Math.floor((l+r+s)/3),o+=n;const c=Math.floor(o/(e.width*e.height));f(c<128)},t.src=e})(`/storage/images/slider/${j[u].bg_image||"undefined"}`)}},[u,j]);const F={initial:{scale:1,opacity:1},animate:{scale:[1,1.05,1],opacity:1,transition:{duration:20,repeat:1/0,repeatType:"loop"}},exit:{scale:1,opacity:.8,transition:{duration:.3}}},S={initial:{opacity:0,y:60,scale:.8},animate:{opacity:1,y:0,scale:1,transition:{duration:.8,delay:.3,ease:"easeOut"}},exit:{opacity:0,y:-30,scale:.9,transition:{duration:.4}}},z={initial:{opacity:0,y:40,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)",transition:{duration:.7,delay:.6,ease:"easeOut"}},exit:{opacity:0,y:-20,filter:"blur(8px)",transition:{duration:.3}}},T={initial:{opacity:0,y:40,scale:.9},animate:{opacity:1,y:0,scale:1,transition:{duration:.6,delay:.9,ease:"easeOut"}},exit:{opacity:0,y:20,scale:.8,transition:{duration:.2}}};return j&&0!==j.length?t.jsxs("section",{id:h?.element_id||null,className:"relative h-[calc(100dvh-12dvh)] lg:h-[700px] overflow-hidden",children:[t.jsx("div",{className:"relative w-full h-full",onTouchStart:e=>{(e=>{let t=e.target;for(;t;){if("A"===t.tagName||"BUTTON"===t.tagName)return!0;t=t.parentElement}return!1})(e)||(y.current=!0,v.current=e.touches[0].pageX)},onTouchMove:e=>{if(!y.current)return;const t=e.touches[0].pageX-v.current;w.current=t},onTouchEnd:e=>{if(!y.current)return;y.current=!1;w.current>50?$():w.current<-50&&k(),w.current=0},children:j.map((e,i)=>t.jsxs("div",{className:"absolute inset-0 transition-all duration-1000 ease-in-out "+(i===u?"opacity-100 scale-100 pointer-events-auto":"opacity-0 scale-105 pointer-events-none"),children:[t.jsx(o,{children:u===i&&t.jsxs(t.Fragment,{children:[t.jsx(c.img,{src:`/storage/images/slider/${e?.bg_image||"undefined"}`,alt:e?.name,loading:"lazy",className:`hidden md:block absolute top-0 left-0 h-full w-full object-cover ${h?.imageBgPosition||"object-center"} z-0`,variants:F,initial:"initial",animate:"animate",exit:"exit"},`image-desktop-${i}`),t.jsx(c.img,{src:`/storage/images/slider/${e?.bg_image_mobile||e?.bg_image||"undefined"}`,alt:e?.name,loading:"lazy",className:`block md:hidden absolute top-0 left-0 h-full w-full object-cover ${h?.imageBgPosition||"object-center"} z-0`,variants:F,initial:"initial",animate:"animate",exit:"exit"},`image-mobile-${i}`)]})}),!1!==e?.show_overlay&&0!==e?.show_overlay&&t.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(${"to-r"===e?.overlay_direction?"to right":"to-l"===e?.overlay_direction?"to left":"to-t"===e?.overlay_direction?"to top":"to-b"===e?.overlay_direction?"to bottom":"to-tr"===e?.overlay_direction?"to top right":"to-tl"===e?.overlay_direction?"to top left":"to-br"===e?.overlay_direction?"to bottom right":"to-bl"===e?.overlay_direction?"to bottom left":"to bottom"}, ${e?.overlay_color||"#000000"}${Math.round(2.55*(e?.overlay_opacity??50)).toString(16).padStart(2,"0")}, transparent)`}}),(!1===e?.show_overlay||0===e?.show_overlay)&&h?.class_overlay&&t.jsx("div",{className:`absolute inset-0 ${h?.class_overlay}`}),i===u&&t.jsx("div",{className:`relative text-shadow-none z-10 h-full flex items-center ${h?.class_content_slider}`,children:t.jsx("div",{className:"w-full px-primary 2xl:px-0 2xl:max-w-7xl mx-auto",children:t.jsx("div",{className:"grid lg:grid-cols-1 gap-12 items-center h-full",children:t.jsx(o,{mode:"wait",children:t.jsxs(c.div,{className:"space-y-6 "+(b?"text-white":"customtext-neutral-dark"),initial:"initial",animate:"animate",exit:"exit",children:[t.jsx(c.h1,{variants:S,className:`text-4xl lg:text-7xl lg:max-w-2xl font-bold font-title ${h?.class_title}`,style:{color:e?.title_color||(b?"#FFFFFF":"#000000")},children:t.jsx(n,{text:e?.name,color:""})}),t.jsx(c.p,{variants:z,className:`text-base lg:text-2xl leading-relaxed max-w-2xl font-paragraph ${h?.class_description}`,style:{color:e?.description_color||(b?"#FFFFFF":"#000000"),textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:e?.description}),e?.button_text&&e?.button_link&&t.jsx(c.div,{variants:T,className:"flex flex-col md:flex-row gap-4 pt-4",children:t.jsxs("a",{href:e?.button_link,target:e?.button_new_tab?"_blank":"_self",rel:e?.button_new_tab?"noopener noreferrer":void 0,className:`bg-primary border-none flex items-center justify-center gap-2 py-3 lg:gap-3 lg:px-8 lg:py-4 text-base rounded-md tracking-wide font-bold text-white ${h?.class_button_primary||""} transform hover:scale-105 transition-all duration-300`,children:[t.jsx("span",{children:e?.button_text}),t.jsx(a,{className:"w-5 h-5"})]})})]},`content-${u}-${e?.name}`)})})})})]},e?.id||i))}),N&&j.length>1&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:$,className:"hidden lg:flex absolute top-1/2 left-4 lg:left-8 transform -translate-y-1/2 z-20 w-16 h-16 bg-white/20 backdrop-blur-sm border border-white/30 rounded-full  items-center justify-center text-white hover:bg-white/30 transition-all duration-300 hover:scale-110",children:t.jsx(i,{className:"w-8 h-8"})}),t.jsx("button",{onClick:k,className:"hidden lg:flex absolute top-1/2 right-4 lg:right-8 transform -translate-y-1/2 z-20 w-16 h-16 bg-white/20 backdrop-blur-sm border border-white/30 rounded-full  items-center justify-center text-white hover:bg-white/30 transition-all duration-300 hover:scale-110",children:t.jsx(l,{className:"w-8 h-8"})})]}),_&&j.length>1&&t.jsx("div",{className:"absolute bottom-4 lg:bottom-8 left-1/2 transform -translate-x-1/2 z-20",children:t.jsxs("div",{className:"flex items-center space-x-6 bg-black/30 backdrop-blur-sm rounded-full px-6 py-3 border border-white/20",children:[t.jsx("div",{className:"flex space-x-3",children:j.map((e,a)=>t.jsx("button",{onClick:()=>(e=>{x(e)})(a),className:"transition-all duration-300 "+(a===u?"w-8 h-3 bg-accent rounded-full":"w-3 h-3 bg-white/50 rounded-full hover:bg-white/70")},a))}),t.jsx("div",{className:"w-px h-6 bg-white/30"}),t.jsx("button",{onClick:()=>{p(!g)},className:"text-white hover:text-primary transition-colors duration-300",title:g?"Pausar":"Reproducir",children:g?t.jsx(r,{className:"w-5 h-5"}):t.jsx(s,{className:"w-5 h-5"})}),t.jsx("div",{className:"w-24 h-2 bg-white/20 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-accent transition-all duration-300 rounded-full",style:{width:(u+1)/j.length*100+"%"}})})]})}),j.length>1&&t.jsx("div",{className:"absolute top-8 right-8 z-20",children:t.jsx("div",{className:"bg-black/30 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/20",children:t.jsxs("span",{className:"text-white font-title",children:[t.jsx("span",{className:"text-primary font-bold text-lg",children:String(u+1).padStart(2,"0")}),t.jsx("span",{className:"text-white/60 mx-2",children:"/"}),t.jsx("span",{className:"text-white/80",children:String(j.length).padStart(2,"0")})]})})})]}):t.jsx("div",{className:"w-full px-primary p-4 mx-auto",children:"- No hay slides disponibles -"})};export{d as default};

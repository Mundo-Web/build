import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import"./index-BOnQTV8N.js";import{N as n}from"./Number2Currency-B5ZenVq9.js";import{i as p}from"./tippy-react.esm-Ce0cOK54.js";import{m as h}from"./proxy-BXHfTAg0.js";import{P as u}from"./package-DBFPPBi1.js";import{T as g}from"./trash-2-DU7LB6-f.js";import{c as y}from"./createLucideIcon-DfjclApS.js";import{P as j}from"./plus-CTIomuuF.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=y("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),P=({setCart:i,index:m,...s})=>{var d;const r=s.type==="combo",c=()=>i(a=>a.filter(t=>t.id!==s.id||t.type!==s.type)),l=a=>{if(a<1)return c();i(t=>t.map(o=>o.id===s.id&&o.type===s.type?{...o,quantity:a}:o))},x=r?s.final_price||s.price:s.discount>0?Math.min(s.price,s.discount):s.price;return e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:50},transition:{delay:m*.05},className:"flex gap-4 p-4 bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex-shrink-0 relative",children:[e.jsx("img",{src:r?s.image?`/storage/images/combo/${s.image}`:`/storage/images/item/${s.image}`:`/storage/images/item/${s.image}`,onError:a=>a.target.src="/assets/img/noimage/no_img.jpg",className:"w-20 h-20 rounded-lg object-cover border border-gray-100",alt:s.name}),r&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-primary text-white rounded-full p-1",children:e.jsx(u,{size:12})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between gap-2 mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:s.name}),r&&e.jsxs("span",{className:"text-xs customtext-primary font-medium",children:["Combo (",((d=s.combo_items)==null?void 0:d.length)||0," productos)"]})]}),e.jsx(p,{content:"Eliminar",children:e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(g,{size:18})})})]}),!r&&(s==null?void 0:s.discount)>0&&e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[e.jsx("span",{className:"line-through mr-2",children:n(s.price)}),e.jsxs("span",{className:"text-red-500",children:["-",Number(s.discount_percent).toFixed(0),"%"]})]}),r&&(s==null?void 0:s.discount)>0&&e.jsxs("div",{className:"text-sm text-gray-500 mb-2",children:[e.jsxs("span",{className:"line-through mr-2",children:["S/ ",n(s.price)]}),e.jsxs("span",{className:"text-red-500",children:["-",Number(s.discount_percent).toFixed(0),"%"]})]}),r&&s.combo_items&&e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:["Incluye: ",s.combo_items.map(a=>a.name).join(", ")]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center border border-gray-200 rounded-lg",children:[e.jsx("button",{onClick:()=>l(s.quantity-1),className:"p-2 hover:bg-gray-50 transition-colors",children:e.jsx(b,{size:16,className:"text-gray-600"})}),e.jsx("span",{className:"w-8 text-center font-medium",children:s.quantity}),e.jsx("button",{onClick:()=>l(s.quantity+1),className:"p-2 hover:bg-gray-50 transition-colors",children:e.jsx(j,{size:16,className:"text-gray-600"})})]}),e.jsxs("span",{className:"font-semibold text-gray-900",children:["S/. ",n(x*s.quantity)]})]})]})]})};export{P as C,b as M};

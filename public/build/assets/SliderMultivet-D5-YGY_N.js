import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{r as a}from"./index-BOnQTV8N.js";import{A}from"./index-BZvh78jk.js";import{m as c}from"./proxy-B0QLMKEh.js";import{A as ee}from"./arrow-right-MB8dWH_Y.js";import{M as te}from"./message-circle-t1YvztHi.js";import{C as ie}from"./chevron-left-JcR9Fe4w.js";import{C as se}from"./chevron-right-Cug7tVUE.js";import{c as M}from"./createLucideIcon-DfjclApS.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=M("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=M("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),fe=({items:f,data:s,generals:l=[]})=>{const[o,m]=a.useState(0),[h,E]=a.useState(!0),[b,R]=a.useState(!1);a.useRef(null);const g=a.useRef(!1),v=a.useRef(0),x=a.useRef(0),w=l==null?void 0:l.find(t=>t.correlative==="phone_whatsapp"),y=l==null?void 0:l.find(t=>t.correlative==="message_whatsapp"),j=(w==null?void 0:w.description)??null,D=(y==null?void 0:y.description)??null,n=(f==null?void 0:f.sort((t,i)=>(t.order_index||0)-(i.order_index||0)))||[];console.log("SliderMultivet items:",n),console.log("SliderMultivet data:",s);const B=["center","left","right"],O=["yes","true","si"],N=B.includes(s==null?void 0:s.paginationAlignment);N&&(s==null||s.paginationAlignment);const V=O.includes(s==null?void 0:s.showNavigation);a.useEffect(()=>{if(!h||n.length<=1)return;const t=setInterval(()=>{m(i=>(i+1)%n.length)},5e3);return()=>clearInterval(t)},[h,n.length]);const k=()=>{m(t=>(t+1)%n.length)},_=()=>{m(t=>(t-1+n.length)%n.length)},X=t=>{m(t)},L=()=>{E(!h)},W=t=>t?t.split(/(\*[^*]+\*)/g).map((r,d)=>{if(r.startsWith("*")&&r.endsWith("*")){const S=r.slice(1,-1);return e.jsx("span",{className:"customtext-accent",children:S},d)}return r}):"",F=t=>{let i=t.target;for(;i;){if(i.tagName==="A"||i.tagName==="BUTTON")return!0;i=i.parentElement}return!1},H=t=>{F(t)||(g.current=!0,v.current=t.touches[0].pageX)},U=t=>{if(!g.current)return;const i=t.touches[0].pageX-v.current;x.current=i},q=t=>{if(!g.current)return;g.current=!1;const i=50;x.current>i?_():x.current<-i&&k(),x.current=0},G=t=>{const i=new Image;i.crossOrigin="anonymous",i.onload=function(){const r=document.createElement("canvas"),d=r.getContext("2d");r.width=i.width,r.height=i.height,d.drawImage(i,0,0);const p=d.getImageData(0,0,r.width,r.height).data;let I,C,P,T,z=0;for(let u=0,Z=p.length;u<Z;u+=4)I=p[u],C=p[u+1],P=p[u+2],T=Math.floor((I+C+P)/3),z+=T;const Y=Math.floor(z/(r.width*r.height));R(Y<128)},i.src=t};a.useEffect(()=>{if(n[o]){const i=`/storage/images/slider/${n[o].bg_image||"undefined"}`;G(i)}},[o,n]);const $={initial:{scale:1,opacity:1},animate:{scale:[1,1.05,1],opacity:1,transition:{duration:20,repeat:1/0,repeatType:"loop"}},exit:{scale:1,opacity:.8,transition:{duration:.3}}},J={initial:{opacity:0,y:60,scale:.8},animate:{opacity:1,y:0,scale:1,transition:{duration:.8,delay:.3,ease:"easeOut"}},exit:{opacity:0,y:-30,scale:.9,transition:{duration:.4}}},K={initial:{opacity:0,y:40,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)",transition:{duration:.7,delay:.6,ease:"easeOut"}},exit:{opacity:0,y:-20,filter:"blur(8px)",transition:{duration:.3}}},Q={initial:{opacity:0,y:40,scale:.9},animate:{opacity:1,y:0,scale:1,transition:{duration:.6,delay:.9,ease:"easeOut"}},exit:{opacity:0,y:20,scale:.8,transition:{duration:.2}}};return!n||n.length===0?e.jsx("div",{className:"w-full px-primary p-4 mx-auto",children:"- No hay slides disponibles -"}):e.jsxs("section",{className:"relative h-[calc(100dvh-20dvh)] lg:h-[700px] overflow-hidden",children:[e.jsx("div",{className:"relative w-full h-full",onTouchStart:H,onTouchMove:U,onTouchEnd:q,children:n.map((t,i)=>e.jsxs("div",{className:`absolute inset-0 transition-all duration-1000 ease-in-out ${i===o?"opacity-100 scale-100":"opacity-0 scale-105"}`,children:[e.jsx(A,{children:o===i&&e.jsxs(e.Fragment,{children:[e.jsx(c.img,{src:`/storage/images/slider/${t.bg_image||"undefined"}`,alt:t.name,loading:"lazy",className:`hidden md:block absolute top-0 left-0 h-full w-full object-cover ${(s==null?void 0:s.imageBgPosition)||"object-center"} z-0`,variants:$,initial:"initial",animate:"animate",exit:"exit"},`image-desktop-${i}`),e.jsx(c.img,{src:`/storage/images/slider/${t.bg_image_mobile||t.bg_image||"undefined"}`,alt:t.name,loading:"lazy",className:`block md:hidden absolute top-0 left-0 h-full w-full object-cover ${(s==null?void 0:s.imageBgPosition)||"object-center"} z-0`,variants:$,initial:"initial",animate:"animate",exit:"exit"},`image-mobile-${i}`)]})}),e.jsx("div",{className:`absolute inset-0 ${(s==null?void 0:s.class_overlay)||"bg-gradient-to-b from-transparent to-white"}`}),e.jsx("div",{className:"relative z-10 h-full flex items-center",children:e.jsx("div",{className:"w-full px-primary 2xl:px-0 2xl:max-w-7xl mx-auto",children:e.jsx("div",{className:"grid lg:grid-cols-1 gap-12 items-center h-full",children:e.jsx(A,{mode:"wait",children:e.jsxs(c.div,{className:`space-y-6 ${b?"text-white":"customtext-neutral-dark"} ${i===o?"opacity-100":"opacity-0"}`,initial:"initial",animate:"animate",exit:"exit",children:[e.jsx(c.h1,{variants:J,className:`text-4xl lg:text-7xl lg:max-w-2xl font-bold leading-tight font-title ${b?"text-white":"customtext-neutral-dark"} ${s==null?void 0:s.class_title}`,style:{textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:W(t.name)}),e.jsx(c.p,{variants:K,className:`text-lg lg:text-2xl leading-relaxed max-w-2xl font-paragraph ${b?"text-gray-200":"customtext-neutral-dark"} ${s==null?void 0:s.class_description}`,style:{textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:t.description}),t.button_text&&t.button_link&&e.jsxs(c.div,{variants:Q,className:"flex flex-col sm:flex-row gap-4 pt-4",children:[e.jsxs("a",{href:t.button_link,className:`bg-primary border-none flex items-center justify-center gap-3 px-8 py-4 text-base rounded-md tracking-wide font-bold text-white ${(s==null?void 0:s.class_button_primary)||""} transform hover:scale-105 transition-all duration-300`,children:[e.jsx("span",{children:t.button_text}),e.jsx(ee,{className:"w-5 h-5"})]}),(s==null?void 0:s.whatsapp_info)&&j&&e.jsxs("a",{href:`https://wa.me/${j.replace(/\D/g,"")}?text=${encodeURIComponent(D||"¡Hola! Me interesa obtener más información sobre sus productos.")}`,target:"_blank",rel:"noopener noreferrer",className:`bg-white/20 backdrop-blur-sm border-2 border-white/30 text-white flex items-center justify-center gap-3 px-6 py-4 text-base rounded-xl tracking-wide font-bold hover:bg-white/30 transition-all duration-300 ${(s==null?void 0:s.class_button_primary)||""}`,children:[e.jsx(te,{className:"w-5 h-5"}),e.jsx("span",{children:"Contactar ahora"})]})]})]},`content-${o}-${t.name}`)})})})})]},t.id||i))}),V&&n.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:_,className:"absolute top-1/2 left-4 lg:left-8 transform -translate-y-1/2 z-20 w-16 h-16 bg-white/20 backdrop-blur-sm border border-white/30 rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 hover:scale-110",children:e.jsx(ie,{className:"w-8 h-8"})}),e.jsx("button",{onClick:k,className:"absolute top-1/2 right-4 lg:right-8 transform -translate-y-1/2 z-20 w-16 h-16 bg-white/20 backdrop-blur-sm border border-white/30 rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 hover:scale-110",children:e.jsx(se,{className:"w-8 h-8"})})]}),N&&n.length>1&&e.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20",children:e.jsxs("div",{className:"flex items-center space-x-6 bg-black/30 backdrop-blur-sm rounded-full px-6 py-3 border border-white/20",children:[e.jsx("div",{className:"flex space-x-3",children:n.map((t,i)=>e.jsx("button",{onClick:()=>X(i),className:`transition-all duration-300 ${i===o?"w-8 h-3 bg-accent rounded-full":"w-3 h-3 bg-white/50 rounded-full hover:bg-white/70"}`},i))}),e.jsx("div",{className:"w-px h-6 bg-white/30"}),e.jsx("button",{onClick:L,className:"text-white hover:text-primary transition-colors duration-300",title:h?"Pausar":"Reproducir",children:h?e.jsx(ne,{className:"w-5 h-5"}):e.jsx(re,{className:"w-5 h-5"})}),e.jsx("div",{className:"w-24 h-2 bg-white/20 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-accent transition-all duration-300 rounded-full",style:{width:`${(o+1)/n.length*100}%`}})})]})}),n.length>1&&e.jsx("div",{className:"absolute top-8 right-8 z-20",children:e.jsx("div",{className:"bg-black/30 backdrop-blur-sm rounded-lg px-4 py-2 border border-white/20",children:e.jsxs("span",{className:"text-white font-title",children:[e.jsx("span",{className:"text-primary font-bold text-lg",children:String(o+1).padStart(2,"0")}),e.jsx("span",{className:"text-white/60 mx-2",children:"/"}),e.jsx("span",{className:"text-white/80",children:String(n.length).padStart(2,"0")})]})})})]})};export{fe as default};

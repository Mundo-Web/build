import{j as n}from"./AboutSimple-Cf8x2fCZ.js";import{r as l}from"./index-BOnQTV8N.js";import{a as J}from"./adjustTextColor-DJKJvkxA.js";import{G as E}from"./Global-ErywZRdd.js";import{T as K}from"./tag-Dgi-uTqk.js";import{M as Q}from"./message-circle-t1YvztHi.js";import{C as Y}from"./chevron-left-JcR9Fe4w.js";import{C as Z}from"./chevron-right-Cug7tVUE.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./createLucideIcon-DfjclApS.js";const fe=({items:f,data:t,generals:h=[]})=>{const I=(e=>{const r=["true","si"],s=["false","no"];return r.includes(e==null?void 0:e.toLowerCase())?!0:(s.includes(e==null?void 0:e.toLowerCase()),!1)})(t==null?void 0:t.infiniteLoop),w=h==null?void 0:h.find(e=>e.correlative==="phone_whatsapp"),b=h==null?void 0:h.find(e=>e.correlative==="message_whatsapp"),j=(w==null?void 0:w.description)??null,P=(b==null?void 0:b.description)??null,[o,m]=l.useState(1),i=l.useRef(null),a=l.useRef(!1),x=l.useRef(0),c=l.useRef(0),u=[f[f.length-1],...f,f[0]],R=["center","left","right"],A=["yes","true","si"],N=R.includes(t==null?void 0:t.paginationAlignment),k=N?t==null?void 0:t.paginationAlignment:"center",$=A.includes(t==null?void 0:t.showNavigation);$&&(t==null||t.navigationAlignment);const p=()=>{m(e=>(e+1)%u.length)},y=()=>{m(e=>e===0?u.length-1:e-1)},T=e=>{let r=e.target;for(;r;){if(r.tagName==="A"||r.tagName==="BUTTON")return!0;r=r.parentElement}return!1},L=e=>{T(e)||(a.current=!0,x.current=e.touches[0].pageX,i.current.style.transition="none")},S=e=>{if(!a.current)return;const r=e.touches[0].pageX-x.current;c.current=-o*100+r/window.innerWidth*100,i.current.style.transform=`translateX(${c.current}%)`},D=e=>{if(!a.current)return;a.current=!1,i.current.style.transition="transform 0.5s ease-in-out",Math.abs((c.current+o*100)*(window.innerWidth/100))>20?c.current>-o*100?y():p():m(o),i.current.style.transform=`translateX(-${o*100}%)`},B=e=>{T(e)||(a.current=!0,x.current=e.pageX,i.current.style.transition="none")},F=e=>{if(!a.current)return;const r=e.pageX-x.current;c.current=-o*100+r/window.innerWidth*100,i.current.style.transform=`translateX(${c.current}%)`},M=e=>{if(!a.current)return;a.current=!1,i.current.style.transition="transform 0.5s ease-in-out",Math.abs((c.current+o*100)*(window.innerWidth/100))>20?c.current>-o*100?y():p():m(o),i.current.style.transform=`translateX(-${o*100}%)`},O=()=>{a.current&&M()};I&&l.useEffect(()=>{const e=setInterval(()=>{p()},5e3);return()=>clearInterval(e)},[o]),l.useEffect(()=>{o===0?setTimeout(()=>{i.current.style.transition="none",m(u.length-2),requestAnimationFrame(()=>{i.current.style.transform=`translateX(-${(u.length-2)*100}%)`,setTimeout(()=>{i.current.style.transition="transform 0.5s ease-in-out"},50)})},500):o===u.length-1&&setTimeout(()=>{i.current.style.transition="none",m(1),requestAnimationFrame(()=>{i.current.style.transform="translateX(-100%)",setTimeout(()=>{i.current.style.transition="transform 0.5s ease-in-out"},50)})},500)},[o]);const C=l.useRef([]);l.useEffect(()=>{C.current.forEach(e=>{e&&J(e)})},[f]);const[v,U]=l.useState(!1),V=e=>{const r=new window.Image;r.crossOrigin="Anonymous",r.src=e,r.onload=function(){const s=document.createElement("canvas");s.width=r.width,s.height=r.height;const X=s.getContext("2d");X.drawImage(r,0,0,r.width,r.height);const d=X.getImageData(0,0,s.width,s.height);let _=0;for(let g=0;g<d.data.length;g+=4){const q=d.data[g],z=d.data[g+1],G=d.data[g+2],H=(q*299+z*587+G*114)/1e3;_+=H}const W=_/(d.data.length/4);U(W<128)}};return l.useEffect(()=>{const e=u[o];e!=null&&e.bg_image&&V(`/storage/images/slider/${e.bg_image}`)},[o,u]),n.jsxs("div",{className:"relative w-full mx-auto",children:[n.jsx("div",{className:"overflow-hidden relative cursor-grab ease",onMouseDown:B,onMouseMove:F,onMouseUp:M,onMouseLeave:O,onTouchStart:L,onTouchMove:S,onTouchEnd:D,children:n.jsx("div",{ref:i,className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${o*100}%)`},children:u.map((e,r)=>n.jsxs("div",{className:"w-full h-[589px] lg:h-auto  flex-shrink-0 relative",children:[n.jsx("img",{src:`/storage/images/slider/${e.bg_image||"undefined"}`,alt:e.name,loading:"lazy",className:`absolute top-0  left-0 h-full md:h-full  w-screen md:w-full object-cover ${(t==null?void 0:t.imageBgPosition)||"object-right-25 "} md:object-center  z-0  md:mr-20 lg:mr-0`}),(t==null?void 0:t.overlayMobile)&&n.jsx("div",{className:"md:hidden absolute inset-0 bg-gradient-to-b from-transparent to-white"}),n.jsx("div",{className:`relative w-full px-primary 2xl:px-0 2xl:max-w-7xl  mx-auto  h-[530px] md:h-[600px] flex flex-col items-start justify-end md:justify-center ${v?"text-white":"customtext-neutral-dark"}`,children:n.jsxs("div",{className:"flex flex-col gap-5 lg:gap-10 items-start",children:[n.jsx("h2",{className:`${E.APP_CORRELATIVE==="stechperu"?"w-9/12  md:w-full md:max-w-md ":"w-full  md:w-full md:max-w-lg "} font-title text-[40px] leading-tight sm:text-5xl md:text-6xl tracking-normal font-bold ${v?"text-white":"customtext-neutral-dark"}`,style:{textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:e.name}),n.jsx("p",{className:`${E.APP_CORRELATIVE==="stechperu"?"w-8/12":"w-full"} md:w-full md:max-w-md text-lg leading-tight font-paragraph ${v?"text-white":"customtext-neutral-dark"}`,style:{textShadow:"0 0 20px rgba(0, 0, 0, .25)"},children:e.description}),e.button_text&&e.button_link&&n.jsxs("div",{className:"flex flex-row gap-5 md:gap-10 justify-center items-start",children:[n.jsxs("a",{href:e.button_link,ref:s=>C.current[r]=s,className:`bg-primary border-none flex flex-row items-center gap-3 px-10 py-4 text-base rounded-xl tracking-wide font-bold hover:opacity-90 transition-all duration-300 ${(t==null?void 0:t.class_button_primary)||""}`,onClick:s=>{s.stopPropagation()},onMouseDown:s=>s.stopPropagation(),onTouchStart:s=>s.stopPropagation(),children:[e.button_text,n.jsx(K,{width:"1.25rem",className:`transform rotate-90 ${(t==null?void 0:t.class_icon_primary)||""}`})]}),(t==null?void 0:t.whatsapp_info)&&j&&n.jsxs("a",{href:`https://wa.me/${j.replace(/\D/g,"")}?text=${encodeURIComponent(P||"¡Hola! Me interesa obtener más información sobre sus productos.")}`,target:"_blank",rel:"noopener noreferrer",className:"bg-white border-2 border-neutral-dark backdrop-blur-sm text-gray-800 flex flex-row items-center gap-3 px-6 lg:px-8 py-3 lg:py-4 text-sm lg:text-base rounded-xl tracking-wide font-bold hover:bg-white hover:shadow-lg transition-all duration-300",onClick:s=>{s.stopPropagation()},onMouseDown:s=>s.stopPropagation(),onTouchStart:s=>s.stopPropagation(),children:[n.jsx(Q,{width:"1.25rem",className:"customtext-neutral-dark"}),"Hablar con un asesor"]})]})]})})]},`slide-${r}`))})}),$&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute top-1/2 left-0 transform -translate-y-1/2 ",children:n.jsx("button",{onClick:y,className:"bg-secondary rounded-r-lg text-white w-12 h-12 flex items-center justify-center transition-colors duration-300",children:n.jsx(Y,{width:"1rem"})})}),n.jsx("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/2 ",children:n.jsx("button",{onClick:p,className:"bg-secondary rounded-l-lg text-white w-12 h-12 flex items-center justify-center transition-colors duration-300",children:n.jsx(Z,{width:"1rem"})})})]}),N&&n.jsx("div",{className:"px-primary 2xl:px-0 2xl:max-w-7xl mx-auto ",children:n.jsx("div",{className:"relative",children:n.jsx("div",{className:`absolute bottom-4 ${k==="left"?"inset-x-0 left-0":k==="right"?"right-0":"left-1/2 transform -translate-x-1/2"}`,children:f.map((e,r)=>n.jsx("div",{className:`inline-flex mx-1 w-3 h-3 rounded-full ${o===r+1?"bg-white h-5 w-5 lg:w-6 lg:h-6 items-center justify-center border-2 border-primary":"bg-secondary"}`,onClick:()=>m(r+1),children:o===r+1&&n.jsx("div",{className:"w-3 h-3 bg-primary rounded-full items-center justify-center"})},`dot-${r}`))})})})]})};export{fe as default};
